(this["webpackJsonprm-tools-cms"]=this["webpackJsonprm-tools-cms"]||[]).push([[0],[,,,,,,,,function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n="UNAUTHORIZED"},,,function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return s})),a.d(t,"d",(function(){return r})),a.d(t,"a",(function(){return l}));var n="http://159.65.5.8:9092/api",s="https://atwork.cimbniaga.co.id/app/api",r="https://atwork.cimbniaga.co.id/app",l="http://digitalsales.cimbniaga.co.id/app-devxreport/api"},,,,,,function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(7),c=a.n(o),u=a(11),d=function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,[{key:"findStatusByParam",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",token:t.token},n=JSON.stringify({type:t.typeFind,code:t.codeFind,name:t.nameFind,description:t.descFind}),e.prev=2,e.next=5,c.a.post(u.b+"/restricted/admin/status/search",n,{headers:a});case 5:return r=e.sent,e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"findStatusLeadsByParam",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",token:t.token},n=JSON.stringify({type:t.typeFind,code:t.codeFind,name:t.nameFind,description:t.descFind}),e.prev=2,e.next=5,c.a.post(u.b+"/restricted/admin/statusdetail/search",n,{headers:a});case 5:return r=e.sent,e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateStatus",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",token:t.token},n=JSON.stringify({id:t.id,type:t.type,code:t.code,name:t.name,state:t.state,priority:t.priority,shortName:t.shortName,description:t.description}),e.prev=2,e.next=5,c.a.post(u.b+"/restricted/admin/status/update",n,{headers:a});case 5:return r=e.sent,e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"addStatus",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",token:t.token},n=JSON.stringify({code:t.code,name:t.name,description:t.description,priority:t.priority,shortName:t.shortName,state:t.state,type:t.type}),e.prev=2,e.next=5,c.a.post(u.b+"/restricted/admin/status/create",n,{headers:a});case 5:return r=e.sent,e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteStatus",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={"Content-Type":"application/json",token:a},r=JSON.stringify({id:t.id,code:t.code,name:t.name,description:t.description,priority:t.priority,shortName:t.shortName,state:t.state,type:t.type}),e.prev=2,e.next=5,c.a.post(u.b+"/restricted/admin/status/delete",r,{headers:n});case 5:return l=e.sent,e.abrupt("return",l);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getListStatus",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",token:t.token},e.prev=1,e.next=4,c.a.get(u.b+"/restricted/admin/statusprivilege/list/status",{headers:a});case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getListStatusDetailByStatusId",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={"Content-Type":"application/json",token:t.token},e.prev=1,e.next=4,c.a.get(u.b+"/restricted/admin/statusdetail/list/bystatusid/?id="+a,{headers:n},{params:{id:a}});case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"StatusDetailByParam",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",token:t.token},n=JSON.stringify({code:t.codeFind,name:t.nameFind,description:t.descFind,type:t.typeFind}),e.prev=2,e.next=5,c.a.post(u.b+"/restricted/admin/statusdetail/search",n,{headers:a});case 5:return r=e.sent,e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateStatusDetail",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",token:t.token},(n=new FormData).append("id",t.id),n.append("listChild",JSON.stringify(t.listSelectedStatusDetail)),e.prev=4,e.next=7,c.a.post(u.b+"/restricted/admin/statusdetail/update",n,{headers:a});case 7:return r=e.sent,e.abrupt("return",r);case 11:return e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()}]),e}()},function(e,t,a){"use strict";var n=a(0),s=a.n(n);a(994);t.a=function(){return s.a.createElement("div",{className:"splash-screen"},s.a.createElement("h5",null,"Please wait a moment"),s.a.createElement("div",{className:"loading-dot"},"....."))}},,,function(e,t,a){},,function(e,t,a){"use strict";var n=a(4),s=a(3),r=a(6),l=a(5),i=a(0),o=a.n(i),c=a(201),u=a(1679),d=(a(993),Math.floor(3.5)),m=function(e){Object(r.a)(a,e);var t=Object(l.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"onChange",value:function(e){e<0||e>this.props.totalPage-1||this.props.onValueChange&&this.props.onValueChange(e)}},{key:"getPageLinks",value:function(){var e=this,t=this.props,a=t.page,n=t.totalPage;if(n<=7)var s=0,r=n-1;else r=a+d,(s=a-d)<0?(r-=s,s=0):r>n&&(s-=r-n,r=n-1);for(var l=[],i=function(t){u=a===t?"current ":"",l.push(o.a.createElement("button",{key:t,className:u+"page-num",onClick:function(){return e.onChange(t)}},t+1))},c=s;c<=r;c++){var u;i(c)}return l}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{id:"paging"},o.a.createElement("div",{id:"pagination"},o.a.createElement("button",{onClick:function(){return e.onChange(0)}},"FIRST"),o.a.createElement("button",{onClick:function(){return e.onChange(e.props.page-1)}},"PREV"),this.getPageLinks(),o.a.createElement("button",{onClick:function(){return e.onChange(e.props.page+1)}},"NEXT"),o.a.createElement("button",{onClick:function(){return e.onChange(e.props.totalPage-1)}},"LAST")))}}]),a}(i.Component),p=function(e){Object(r.a)(a,e);var t=Object(l.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"onFilterChange",value:function(e){var t=e.target.value.toLowerCase();this.updateHistory(0,t)}},{key:"onPageChange",value:function(e){this.updateHistory(e)}},{key:"updateHistory",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props.filter,a=this.props.history.location.pathname,n=t?"&filter=".concat(t):"";this.props.history.push("".concat(a,"?page=").concat(e).concat(n))}},{key:"render",value:function(){return o.a.createElement("div",{id:"TableList"},o.a.createElement(u.a,{striped:!0,responsive:!0},this.props.children),this.props.totalPage>0?o.a.createElement(m,{page:this.props.page,totalPage:this.props.totalPage,onValueChange:this.onPageChange.bind(this)}):o.a.createElement("label",{style:{display:"flex",justifyContent:"center"}},"No data"))}}]),a}(i.Component);t.a=Object(c.f)(p)},,function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(7),c=a.n(o),u=a(33).a,d=function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,[{key:"findAllAttachmentByParam",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r,l,i){var o,d,m,p,h,f,g,v,b,y;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=localStorage.getItem("userNip"),d={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:o,"Workstation-Id":null},m=l||10,p=a?a-1:0,h=n||"desc",f=r||"id",g=i.searchKeyTitle?i.searchKeyTitle:"",v=i.searchKeyDescription?i.searchKeyDescription:"",b=i.searchKeyStatus?i.searchKeyStatus:"",e.prev=9,e.next=12,c.a.get(u+"/api/cms/attachment?page="+p+"&size="+m+"&sort="+f+","+h+"&flagging="+t+"&title="+g+"&description="+v+"&status="+b,{headers:d});case 12:return y=e.sent,e.abrupt("return",y);case 16:return e.prev=16,e.t0=e.catch(9),console.log(e.t0),e.abrupt("return",e.t0.response);case 20:case"end":return e.stop()}}),e,null,[[9,16]])})));return function(t,a,n,s,r,l){return e.apply(this,arguments)}}()},{key:"getAttachtment",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},e.prev=2,e.next=5,c.a.get(u+"/api/cms/attachment/file-attachment/"+t,{headers:n});case 5:return r=e.sent,e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(2),console.log(e.t0),e.abrupt("return",e.t0.urlDownload);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"uploadAttachment",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("userNip"),r={"Access-Control-Allow-Origin":"*","Content-Type":"application/x-www-form-urlencoded",Username:n,"Workstation-Id":null},e.prev=2,e.next=5,c.a.post(u+"/api/cms/attachment/upload-file",t,{headers:r});case 5:return l=e.sent,e.abrupt("return",l);case 9:return e.prev=9,e.t0=e.catch(2),console.log(e.t0),e.abrupt("return",e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"uploadThumbnail",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/x-www-form-urlencoded",Username:a,"Workstation-Id":null},e.prev=2,e.next=5,c.a.post(u+"/api/cms/attachment/upload-thumbnail",t,{headers:n});case 5:return r=e.sent,e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(2),console.log(e.t0),e.abrupt("return",e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getThumbnail",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},e.prev=2,e.next=5,c.a.get(u+"/api/cms/attachment/file-thumbnail/"+t,{headers:n});case 5:return r=e.sent,e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(2),console.log(e.t0),e.abrupt("return",e.t0.urlDownload);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"addAttachment",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("userNip"),r={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:n,"Workstation-Id":null},l={},l="dpd_guide"===t||"tat_guide"===t||"funding_analytics"===t||"lending_analytic_guide"===t||"product_holding_guide"===t?{title_draft:a.title_draft,fileName:a.uploadedPdf.file_name,action_by:n,description_draft:a.description_draft,status:a.status}:{title_draft:a.title_draft,fileName:a.uploadedPdf.file_name,thumbnailName:a.uploadedThumb.file_name,action_by:n,description_draft:a.description_draft,status:a.status},e.prev=4,e.next=7,c.a.post(u+"/api/cms/attachment?flagging="+t,l,{headers:r});case 7:return i=e.sent,e.abrupt("return",i);case 11:return e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"rejectAttachment",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("userNip"),r={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:n,"Workstation-Id":null},l={action_by:n,status:"rejected",remark:a.remarks},l=JSON.stringify(l),e.prev=4,e.next=7,c.a.put(u+"/api/cms/attachment/"+a.id+"/reject?flagging="+t,l,{headers:r});case 7:return i=e.sent,e.abrupt("return",i);case 11:return e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"updateAttachment",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("userNip"),r={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:n,"Workstation-Id":null},l={},l="dpd_guide"===t||"tat_guide"===t||"funding_analytics"===t||"lending_analytic_guide"===t||"product_holding_guide"===t?{title_draft:a.title_draft,fileName:a.file_name_draft,action_by:n,description_draft:a.description_draft,status:a.status}:{title_draft:a.title_draft,fileName:a.file_name_draft,thumbnailName:a.thumbnail_draft,action_by:n,description_draft:a.description_draft,status:a.status},l=JSON.stringify(l),e.prev=5,e.next=8,c.a.put(u+"/api/cms/attachment/"+a.id+"/update?flagging="+t,l,{headers:r});case 8:return i=e.sent,e.abrupt("return",i);case 12:return e.prev=12,e.t0=e.catch(5),console.log(e.t0),e.abrupt("return",e.t0.response);case 16:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"approveAttachment",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("userNip"),r={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:n,"Workstation-Id":null},l={action_by:n,status:"approved",approved_by:n},l=JSON.stringify(l),e.prev=4,e.next=7,c.a.put(u+"/api/cms/attachment/"+a.id+"/approve?flagging="+t,l,{headers:r});case 7:return i=e.sent,e.abrupt("return",i);case 11:return e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"deleteAttachment",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var r,l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=localStorage.getItem("userNip"),l={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:r,"Workstation-Id":null},i={status:"requestDelete",action_by:r},i=JSON.stringify(i),e.prev=4,e.next=7,c.a.put(u+"/api/cms/attachment/"+n.id+"/delete?flagging="+t,i,{headers:l});case 7:return o=e.sent,e.abrupt("return",o);case 11:return e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t,a,n){return e.apply(this,arguments)}}()}]),e}()},,,function(e,t,a){},,,,function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(7),c=a.n(o),u=a(11),d=function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,[{key:"login",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var n,r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a(428),r={"Content-Type":"application/json"},l=JSON.stringify({nipOrEmail:"adm::"+t.nipOrEmail,password:n.encrypt(t.password,"C1mbdevx1!").toString()}),e.prev=3,e.next=6,c.a.post(u.b+"/auth/adminSigninEnc",l,{headers:r});case 6:return i=e.sent,e.abrupt("return",i);case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"bulkUploadUser",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/x-www-form-urlencoded",token:t.token},(n=new FormData).append("file",t.file),r=t.channelFind,e.prev=4,e.next=7,c.a.post(u.b+"/restricted/admin/bulkUploadNew/user?cmsChannelCode=".concat(r),n,{headers:a});case 7:return l=e.sent,e.abrupt("return",l);case 11:return e.prev=11,e.t0=e.catch(4),e.abrupt("return",e.t0.response);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"bulkUploadLeads",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/x-www-form-urlencoded",token:t.token},(n=new FormData).append("file",t.file),e.prev=3,e.next=6,c.a.post(u.b+"/restricted/admin/bulkUpload/leads",n,{headers:a});case 6:return r=e.sent,e.abrupt("return",r);case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getListUser",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",token:t.token},e.prev=1,e.next=4,c.a.get(u.b+"/restricted/admin/user",{headers:a},{params:{}});case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"findListUser",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0!==a&&""!==a||(a=0),void 0!==n&&""!==n||(n=10),r={"Content-Type":"application/json",token:t.token},l=JSON.stringify({nip:t.nipFind,name:t.nameFind,emailAddress:t.emailFind,salesCode:t.salesCodeFind,cmsChannelCode:t.channelFind}),e.prev=4,e.next=7,c.a.post(u.b+"/restricted/admin/user?page="+a+"&size="+n,l,{headers:r});case 7:return i=e.sent,e.abrupt("return",i);case 11:return e.prev=11,e.t0=e.catch(4),e.abrupt("return",e.t0.response);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"updateUser",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",token:t.token},n=JSON.stringify({id:t.id,nip:t.nip,name:t.name,emailAddress:t.email,typeCode:t.typeCode,levelCode:t.levelCode,branchCode:t.branchCode,areaCode:t.divisionCode,divisionCode:t.divisionCode,roleCode:t.roleCode,phoneNumber:t.phoneNumber,regionCode:t.regionCode,salesCode:t.sales_code,cmsChannelCode:t.channelFind}),e.prev=2,e.next=5,c.a.post(u.b+"/restricted/admin/user/edit",n,{headers:a});case 5:return r=e.sent,e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"addUser",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",token:t.token},n=JSON.stringify({nip:t.nip,name:t.name,emailAddress:t.email,typeCode:t.typeCode,levelCode:t.levelCode,branchCode:t.branchCode,areaCode:t.areaCode,divisionCode:t.divisionCode,roleCode:t.roleCode,phoneNumber:t.phoneNumber,regionCode:t.regionCode,salesCode:t.sales_code}),e.prev=2,e.next=5,c.a.post(u.b+"/restricted/admin/user/save",n,{headers:a});case 5:return r=e.sent,e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteUser",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={"Content-Type":"application/json",token:a},r=JSON.stringify({id:t.id,nip:t.nip,emailAddress:t.email,salesCode:t.sales_code}),e.prev=2,e.next=5,c.a.post(u.b+"/restricted/admin/user/delete",r,{headers:n});case 5:return l=e.sent,e.abrupt("return",l);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"updateLead",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",token:t.token},n=JSON.stringify({id:t.id,phoneNumber:t.phoneNumber,fullName:t.fullName,title:t.title,address:t.address,postalCode:t.postalCode,city:t.city,defaultBranchCode:t.defaultBranchCode,preferredContactCode:t.preferredContactCode,priority:t.priority,sourceCode:t.sourceCode,customerToBank:t.customerToBank,cif:t.cif,campaignCode:t.campaignCode,targetAmount:t.targetAmount,customerTypeCode:t.customerTypeCode,statusCode:t.statusCode,productTypeCode:t.productTypeCode,nip:t.nip,email:t.email,salesCode:t.salesCode,createdBy:t.createdBy}),e.prev=2,e.next=5,c.a.post(u.b+"/restricted/admin/lead/edit",n,{headers:a});case 5:return r=e.sent,e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"addLead",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",token:t.token},n=JSON.stringify({phoneNumber:t.phoneNumber,fullName:t.fullName,title:t.title,address:t.address,postalCode:t.postalCode,city:t.city,defaultBranchCode:t.defaultBranchCode,preferredContactCode:t.preferredContactCode,priority:t.priority,sourceCode:t.sourceCode,customerToBank:t.customerToBank,cif:t.cif,campaignCode:t.campaignCode,targetAmount:t.targetAmount,customerTypeCode:t.customerTypeCode,statusCode:t.statusCode,productTypeCode:t.productTypeCode,nip:t.nip,email:t.email,salesCode:t.salesCode,createdBy:t.createdBy}),e.prev=2,e.next=5,c.a.post(u.b+"/restricted/admin/lead/save",n,{headers:a});case 5:return r=e.sent,e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteLead",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={"Content-Type":"application/json",token:a},r=JSON.stringify({id:t.id,phoneNumber:t.phoneNumber,fullName:t.fullName,nip:t.nip,email:t.email,salesCode:t.salesCode}),e.prev=2,e.next=5,c.a.post(u.b+"/restricted/admin/lead/delete",r,{headers:n});case 5:return l=e.sent,e.abrupt("return",l);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"changePassword",value:function(){var e=Object(r.a)(s.a.mark((function e(t,n){var r,l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a(428),l={"Content-Type":"application/json",token:n},i=JSON.stringify({currentPass:r.encrypt(t.currentPassword,"C1mbdevx1!").toString(),newPass:r.encrypt(t.newPassword,"C1mbdevx1!").toString()}),e.prev=3,e.next=6,c.a.post(u.b+"/restricted/admin/user/changepassEnc",i,{headers:l});case 6:return o=e.sent,e.abrupt("return",o);case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getListUserLevel",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={token:t.token},e.prev=1,e.next=4,c.a.get(u.b+"/restricted/admin/master/getdataLookupByType/userLevel",{headers:a});case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getListUserType",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={token:t.token},e.prev=1,e.next=4,c.a.get(u.b+"/restricted/admin/master/getdataLookupByType/userType",{headers:a});case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getListUserRole",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={token:t.token},e.prev=1,e.next=4,c.a.get(u.b+"/restricted/admin/master/getdataRoleByType/user",{headers:a});case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getListUserBranch",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={token:t.token},e.prev=1,e.next=4,c.a.get(u.b+"/restricted/admin/master/getdataBranchUser",{headers:a});case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getListPreferredContact",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={token:t.token},e.prev=1,e.next=4,c.a.get(u.b+"/restricted/admin/master/getdataLookupByType/preferredContact",{headers:a});case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getListCustomerType",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={token:t.token},e.prev=1,e.next=4,c.a.get(u.b+"/restricted/admin/master/getdataLookupByType/customerType",{headers:a});case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getListLeadSource",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={token:t.token},e.prev=1,e.next=4,c.a.get(u.b+"/restricted/admin/master/getdataLookupByType/leadSource",{headers:a});case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getListLeadStatus",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={token:t.token},e.prev=1,e.next=4,c.a.get(u.b+"/restricted/admin/master/getdataStatusByType/lead",{headers:a});case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getListTaskUpload",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",token:t.token},n=t.channelFind,e.prev=2,e.next=5,c.a.get(u.b+"/restricted/admin/event_log/tasks?cmsChannelCode=".concat(n),{headers:a},{params:{}});case 5:return r=e.sent,e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getListUserRegion",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",token:t.token},e.prev=1,e.next=4,c.a.get(u.b+"/restricted/admin/master/getdataRegion",{headers:a});case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getApproveData",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={"Content-Type":"application/json",token:t.token,id:t.list.id,outcome:a},r=JSON.stringify({}),e.prev=2,e.next=5,c.a.post(u.b+"/restricted/admin/event_log/respond_task",r,{headers:n});case 5:return l=e.sent,e.abrupt("return",l);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getSingleEventLog",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={token:t,id:a},e.prev=1,e.next=4,c.a.get(u.b+"/restricted/admin/event_log/getSingleEventLog",{headers:n});case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getListLeadCustomerToBank",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={token:t.token},e.prev=1,e.next=4,c.a.get(u.b+"/restricted/admin/master/getdataLookupByType/customerToBank",{headers:a});case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getRoleData",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",token:t.token},e.prev=1,e.next=4,c.a.get(u.b+"/restricted/admin/role/list",{headers:a});case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getAllProduct",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",token:t.token},e.prev=1,e.next=4,c.a.get(u.b+"/restricted/admin/productAll/list",{headers:a});case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"RoleProductByParam",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",token:t.token},(n=new FormData).append("listLookup",JSON.stringify(t.listParamSubCategory)),n.append("code",t.codeFind),n.append("name",t.nameFind),e.prev=5,e.next=8,c.a.post(u.b+"/restricted/admin/roleProduct/search",n,{headers:a});case 8:return r=e.sent,e.abrupt("return",r);case 12:return e.prev=12,e.t0=e.catch(5),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getRoleProduct",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={"Content-Type":"application/json",token:t.token},e.prev=1,e.next=4,c.a.get(u.b+"/restricted/admin/roleProduct/list?roleid="+a,{headers:n});case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getOuterRoleProduct",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={"Content-Type":"application/json",token:t.token},e.prev=1,e.next=4,c.a.get(u.b+"/restricted/admin/outerRoleProduct/list?roleid="+a,{headers:n});case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"updateRoleProduct",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",token:t.token},(n=new FormData).append("listProduct",JSON.stringify(t.listSelectedProduct)),n.append("roleId",t.id),n.append("roleCode",t.code),e.prev=5,e.next=8,c.a.post(u.b+"/restricted/admin/roleProduct/update",n,{headers:a});case 8:return r=e.sent,e.abrupt("return",r);case 12:return e.prev=12,e.t0=e.catch(5),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteRoleProduct",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={"Content-Type":"application/json",token:t.token},(r=new FormData).append("productid",a),r.append("roleid",t.id),r.append("roleCode",t.code),e.prev=5,e.next=8,c.a.post(u.b+"/restricted/admin/roleProduct/delete",r,{headers:n});case 8:return l=e.sent,e.abrupt("return",l);case 12:return e.prev=12,e.t0=e.catch(5),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"addImageCkEditor",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={default:""},r={"Content-Type":"application/x-www-form-urlencoded"},(l=new FormData).append("ckImages",t),l.append("source",a),e.prev=5,e.next=8,c.a.post(u.b+"/util/uploadCkeditor",l,{headers:r});case 8:if(!(i=e.sent).data||"false"!==i.data.success){e.next=13;break}return e.abrupt("return",n);case 13:return n={default:u.b+i.data},e.abrupt("return",n);case 15:e.next=20;break;case 17:return e.prev=17,e.t0=e.catch(5),e.abrupt("return",n);case 20:case"end":return e.stop()}}),e,null,[[5,17]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"addAtworkImageCkEditor",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r,l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={default:""},r=localStorage.getItem("jwtAtwork"),l={"Content-Type":"application/x-www-form-urlencoded",token:r},(i=new FormData).append("ckImages",t),i.append("source","promoContentImage"),e.prev=6,e.next=9,c.a.post(u.c+"/interop/promotion/image_content",i,{headers:l});case 9:if(!1!==(o=e.sent).data.success){e.next=14;break}return e.abrupt("return",n);case 14:return n={default:u.d+o.data},e.abrupt("return",n);case 16:e.next=21;break;case 18:return e.prev=18,e.t0=e.catch(6),e.abrupt("return",n);case 21:case"end":return e.stop()}}),e,null,[[6,18]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getLookupSubCategory",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",token:t.token},e.prev=1,e.next=4,c.a.get(u.b+"/restricted/admin/lookup/listSubCategory",{headers:a});case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"downloadReport",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",token:t},e.prev=1,e.next=4,c.a.get(u.b+"/restricted/admin/user/downloadReportUser",{headers:a});case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"doGetUserPhoto",value:function(e){return u.b+"/util/getImg?sales_code="+e.sales_code}},{key:"doCheckIsImageAvailable",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/x-www-form-urlencoded",token:t.token},(n=new FormData).append("sales_code",t.sales_code),e.prev=3,e.next=6,c.a.post(u.b+"/util/isImageAvailable",n,{headers:a});case 6:return r=e.sent,e.abrupt("return",r);case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"bulkUploadUserPhoto",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/x-www-form-urlencoded",token:t.token},(n=new FormData).append("file",t.file),e.prev=3,e.next=6,c.a.post(u.b+"/restricted/admin/bulkUpload/userPhoto",n,{headers:a});case 6:return r=e.sent,e.abrupt("return",r);case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"deletePhoto",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/x-www-form-urlencoded",token:t.token},(n=new FormData).append("sales_code",t.sales_code),e.prev=3,e.next=6,c.a.post(u.b+"/restricted/admin/bulkUpload/deleteUserPhoto",n,{headers:a});case 6:return r=e.sent,e.abrupt("return",r);case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"doFindEmployerCode",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0!==a&&""!==a||(a=0),void 0!==n&&""!==n||(n=10),r={"Content-Type":"application/json",token:t.token},l=JSON.stringify({code:t.codeFind,companyName:t.nameFind}),e.prev=4,e.next=7,c.a.post(u.b+"/restricted/admin/employerCode/list?page="+a+"&size="+n,l,{headers:r});case 7:return i=e.sent,e.abrupt("return",i);case 11:return e.prev=11,e.t0=e.catch(4),e.abrupt("return",e.t0.response);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"doGetStatusList",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={token:t.token},e.prev=1,e.next=4,c.a.get(u.b+"/restricted/admin/getStatusData?status="+a,{headers:n});case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"doAddEmployerCode",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-type":"application/json",token:t.token},(n=new FormData).append("code",t.code.replace(/\s/g,"")),n.append("companyName",t.companyName),n.append("statusId",t.statusId),e.prev=5,e.next=8,c.a.post(u.b+"/restricted/admin/employerCode/create",n,{headers:a});case 8:return r=e.sent,e.abrupt("return",r);case 12:return e.prev=12,e.t0=e.catch(5),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"doEditEmployerCode",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-type":"application/json",token:t.token},(n=new FormData).append("id",t.id),n.append("code",t.code.replace(/\s/g,"")),n.append("companyName",t.companyName),n.append("statusId",t.statusId),e.prev=6,e.next=9,c.a.post(u.b+"/restricted/admin/employerCode/update",n,{headers:a});case 9:return r=e.sent,e.abrupt("return",r);case 13:return e.prev=13,e.t0=e.catch(6),e.abrupt("return",e.t0.response);case 16:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"bulkDeleteLeads",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/x-www-form-urlencoded",token:t.token},(n=new FormData).append("file",t.file),e.prev=3,e.next=6,c.a.post(u.b+"/restricted/admin/bulkUpload/deleteLeads",n,{headers:a});case 6:return r=e.sent,e.abrupt("return",r);case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()}]),e}()},function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n="http://octormbench.cimbniaga.co.id"},,,,,,,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAAAXNSR0IArs4c6QAAAW5JREFUOBHNlN0qRFEUx88QhjyHRxClMRc+nsErEGFcK29AiJQLuXcpXwnJAwg1HsVXfn9ZzXLO3oc9c2PVb87ea639a8+e2SfLOosVll/DVGean6tXmTa/eeI57csVP0kYD9F7BD1uzTvjRThTrksfCTFA7wg8wxy8gkU3gzWbpIj7WbQH+zAJOtu8/JJcUkh6CHamj4wlV4zDAxxAL/w5qnRqkUnt6eXD1Ae9seIngbGkuzAaqCn1BjNwr4mPsjPuo3EHYlJ5TkE7L0RsxzorSccKK1qJY4a6IPqbFSIklnQbaoXuVuKE4TIEpWrLH4WkW1Am1ddvQFRKLfM7lnQT6hCLcwq6XfrRSsN2rKu5AfWS7gtqS/CrVA7tWNJ1mIBY6EYtgL/Csd6vvMQ6U7tFoeYrkvPwEirGchI3Y0XyN6D3QZJUPjtjjfPRtlSimPiWWls7td2FxHcUZyH565tUT52xXjQ+JPzwiX81/gT0cD/Mjscl7wAAAABJRU5ErkJggg=="},,function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(7),c=a.n(o),u=a(11),d=a(10),m=a.n(d),p=function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,[{key:"findCompanyByParam",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var r,l,i,o,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=localStorage.getItem("jwtAtwork"),void 0!==a&&""!==a||(a=0),void 0!==n&&""!==n||(n=10),l={"Content-Type":"application/json",token:r},i=m()(t,"branchCodeFind",""),o=m()(t,"branchNameFind",""),"asc","name",e.prev=8,e.next=11,c.a.get(u.c+"/interop/backoffice/pageCompany/"+a+"?name="+o+"&code="+i+"&sort_dir=asc&size="+n+"&sort_by=name",{headers:l},{params:{}});case 11:return d=e.sent,e.abrupt("return",d);case 15:return e.prev=15,e.t0=e.catch(8),e.abrupt("return",e.t0.response);case 18:case"end":return e.stop()}}),e,null,[[8,15]])})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"updateCompany",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("jwtAtwork"),n={"Content-Type":"application/json",token:a},r={code:m()(t,"code",""),name:m()(t,"name",""),sectorCode:m()(t,"sectorCode",""),address:m()(t,"address",""),provinceCode:m()(t,"provinceCode",""),regencyCode:m()(t,"regencyCode",""),districtCode:m()(t,"districtCode",""),villageCode:m()(t,"villageCode",""),rt:m()(t,"rt",""),rw:m()(t,"rw",""),postalCode:m()(t,"postalCode",""),branchCode:JSON.stringify(m()(t,"branchCode","")),salesCode:m()(t,"salesCode",""),mrCode:m()(t,"mrCode",""),marketingProgramCode:m()(t,"marketingProgramCode",""),eventId:m()(t,"eventId",""),cardDelivery:m()(t,"cardDelivery","")},e.prev=3,e.next=6,c.a.post(u.c+"/interop/backoffice/updateCompany/EDIT_DATA",r,{headers:n});case 6:return l=e.sent,e.abrupt("return",l);case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"addCompany",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("jwtAtwork"),n={"Content-Type":"application/json",token:a},r={code:m()(t,"code",""),name:m()(t,"name",""),sectorCode:m()(t,"sectorCode",""),address:m()(t,"address",""),provinceCode:m()(t,"provinceCode",""),regencyCode:m()(t,"regencyCode",""),districtCode:m()(t,"districtCode",""),villageCode:m()(t,"villageCode",""),rt:m()(t,"rt",""),rw:m()(t,"rw",""),postalCode:m()(t,"postalCode",""),branchCode:JSON.stringify(m()(t,"branchCode","")),salesCode:m()(t,"salesCode",""),mrCode:m()(t,"mrCode",""),marketingProgramCode:m()(t,"marketingProgramCode",""),eventId:m()(t,"eventId",""),cardDelivery:m()(t,"cardDelivery","")},e.prev=3,e.next=6,c.a.post(u.c+"/interop/backoffice/addCompany",r,{headers:n});case 6:return l=e.sent,e.abrupt("return",l);case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteCompany",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("jwtAtwork"),n={"Content-Type":"application/json",token:a},r={code:m()(t,"code",""),name:m()(t,"name",""),sectorCode:m()(t,"sectorCode",""),address:m()(t,"address",""),provinceCode:m()(t,"provinceCode",""),regencyCode:m()(t,"regencyCode",""),districtCode:m()(t,"districtCode",""),villageCode:m()(t,"villageCode",""),rt:m()(t,"rt",""),rw:m()(t,"rw",""),postalCode:m()(t,"postalCode",""),branchCode:JSON.stringify(m()(t,"branchCode","")),salesCode:m()(t,"salesCode",""),mrCode:m()(t,"mrCode",""),marketingProgramCode:m()(t,"marketingProgramCode",""),eventId:m()(t,"eventId",""),cardDelivery:m()(t,"cardDelivery",""),statusAkun:"INACTIVE",statusCode:"INACTIVE"},e.prev=3,e.next=6,c.a.post(u.c+"/interop/backoffice/updateCompany/EDIT_STATUS",r,{headers:n});case 6:return l=e.sent,e.abrupt("return",l);case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getCompanyDetail",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("jwtAtwork"),n={"Content-Type":"application/json",token:a},r=m()(t,"id",""),e.prev=3,e.next=6,c.a.get(u.c+"/interop/backoffice/getUpdateCompany/"+r,{headers:n},{params:{}});case 6:return l=e.sent,e.abrupt("return",l);case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getListCompany",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("jwtAtwork"),a={"Content-Type":"application/json",token:t},"ACTIVE","",e.prev=4,e.next=7,c.a.get(u.c+"/interop/backoffice/list-company?status=ACTIVE&branch=",{headers:a},{params:{}});case 7:return n=e.sent,e.abrupt("return",n);case 11:return e.prev=11,e.t0=e.catch(4),e.abrupt("return",e.t0.response);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"getListSector",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("jwtAtwork"),a={token:t},"INDUSTRY_TYPE","",e.prev=4,e.next=7,c.a.get(u.c+"/interop/ref/lookup?type=INDUSTRY_TYPE&keyword=",{headers:a},{params:{}});case 7:return n=e.sent,e.abrupt("return",n);case 11:return e.prev=11,e.t0=e.catch(4),e.abrupt("return",e.t0.response);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"getListProvince",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("jwtAtwork"),a={token:t},e.prev=2,e.next=5,c.a.get(u.c+"/interop/ref/location/province",{headers:a},{params:{}});case 5:return n=e.sent,e.abrupt("return",n);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"getListRegency",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("jwtAtwork"),n={token:a},r=m()(t,"id",""),e.prev=3,e.next=6,c.a.get(u.c+"/interop/ref/location/regency?provinceId="+r,{headers:n},{params:{}});case 6:return l=e.sent,e.abrupt("return",l);case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getListDistrict",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("jwtAtwork"),n={token:a},r=m()(t,"id",""),e.prev=3,e.next=6,c.a.get(u.c+"/interop/ref/location/district?regencyId="+r,{headers:n},{params:{}});case 6:return l=e.sent,e.abrupt("return",l);case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getListVillage",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("jwtAtwork"),n={token:a},r=m()(t,"id",""),e.prev=3,e.next=6,c.a.get(u.c+"/interop/ref/location/village?districtId="+r,{headers:n},{params:{}});case 6:return l=e.sent,e.abrupt("return",l);case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getTaskDetail",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("jwtAtwork"),n={token:a},r=m()(t,"id",""),e.prev=3,e.next=6,c.a.get(u.c+"/interop/backoffice/getTask/"+r,{headers:n},{params:{}});case 6:return l=e.sent,e.abrupt("return",l);case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"approveTask",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("jwtAtwork"),n={token:a},r=m()(t,"id",""),e.prev=3,e.next=6,c.a.post(u.c+"/interop/backoffice/approval/"+r,{},{headers:n});case 6:return l=e.sent,e.abrupt("return",l);case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"rejectTask",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("jwtAtwork"),n={token:a},r=m()(t,"id",""),e.prev=3,e.next=6,c.a.post(u.c+"/interop/backoffice/rejected/"+r,{},{headers:n});case 6:return l=e.sent,e.abrupt("return",l);case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"findTaskByParam",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=localStorage.getItem("jwtAtwork"),void 0!==a&&""!==a||(a=0),void 0!==n&&""!==n||(n=10),l={"Content-Type":"application/json",token:r},m()(t,"branchCodeFind",""),m()(t,"branchNameFind",""),"","","","asc",e.prev=10,e.next=13,c.a.get(u.c+"/interop/backoffice/taskList/"+a+"?entity=&action=&activtiy=&sort_dir=asc&size="+n,{headers:l},{params:{}});case 13:return i=e.sent,e.abrupt("return",i);case 17:return e.prev=17,e.t0=e.catch(10),e.abrupt("return",e.t0.response);case 20:case"end":return e.stop()}}),e,null,[[10,17]])})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"getStatistic",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var r,l,i,o,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=localStorage.getItem("jwtAtwork"),l={"Content-Type":"application/json",token:r},i=a,"",o=n.toUpperCase(),e.prev=5,e.next=8,c.a.get(u.c+"/interop/backoffice/statistics?company="+i+"&branch=&type="+o,{headers:l},{params:{}});case 8:return d=e.sent,e.abrupt("return",d);case 12:return e.prev=12,e.t0=e.catch(5),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"getPreferences",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("jwtAtwork"),n={"Content-Type":"application/json",token:a},e.prev=2,e.next=5,c.a.get(u.c+"/interop/company_preference/company_preference/"+t,{headers:n},{params:{}});case 5:return r=e.sent,e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"setParamCompany",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("jwtAtwork"),n={"Content-Type":"application/json",token:a},r={companyId:m()(t,"companyId",""),enableEmployeeDbApprover:m()(t,"enableEmployeeDbApprover",!1),enableInputEmployeeApprover:m()(t,"enableInputEmployeeApprover",!1),productVerifications:m()(t,"productVerifications",[])},e.prev=3,e.next=6,c.a.post(u.c+"/interop/backoffice/updateCompanyPreference/EDIT_DATA",r,{headers:n});case 6:return l=e.sent,e.abrupt("return",l);case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"dataDashboardByParam",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r,l){var i,o,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=localStorage.getItem("jwtAtwork"),void 0!==a&&""!==a||(a=0),void 0!==n&&""!==n||(n=10),o={"Content-Type":"application/json",token:i},"asc",e.prev=5,e.next=8,c.a.get(u.c+"/interop/backoffice/detailStatistics/"+a+"?company="+r+"&branch=&type="+l+"&sort_dir=asc&size="+n,{headers:o},{params:{}});case 8:return d=e.sent,e.abrupt("return",d);case 12:return e.prev=12,e.t0=e.catch(5),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,a,n,s,r){return e.apply(this,arguments)}}()},{key:"getListReport",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("jwtAtwork"),n={"Content-Type":"application/json",token:a},r=m()(t,"nameFind",""),e.prev=3,e.next=6,c.a.get(u.c+"/interop/backoffice/report/list?name="+r,{headers:n},{params:{}});case 6:return l=e.sent,e.abrupt("return",l);case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"downloadReport",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("jwtAtwork"),n={"Content-Type":"text/csv",token:a},e.prev=2,e.next=5,c.a.get(u.c+"/interop/backoffice/report/download/?fileName="+t,{headers:n},{params:{fileName:t}});case 5:return r=e.sent,e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()}]),e}()},,,function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(7),c=a.n(o),u=a(11),d=function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,[{key:"findreportByParam",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0!==a&&""!==a||(a=0),void 0!==n&&""!==n||(n=10),r={"Content-Type":"application/json",token:t.token},l=JSON.stringify({name:t.nameFind,nik:t.nikFind,referenceNumber:t.referenceNumberFind}),e.prev=4,e.next=7,c.a.post(u.b+"/restricted/admin/onboard/report?page="+a+"&size="+n,l,{headers:r});case 7:return i=e.sent,e.abrupt("return",i);case 11:return e.prev=11,e.t0=e.catch(4),e.abrupt("return",e.t0.response);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"linkDownloadZip",value:function(e){return u.b+"/restricted/admin/onboard/report/download/zip?refNumber="+e}},{key:"downloadReport",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={"Content-Type":"application/json",token:t},e.prev=1,e.next=4,c.a.get(u.b+"/restricted/admin/onboard/report/download/zip?refNumber="+a,{headers:n});case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"findreportByParamLending",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0!==a&&""!==a||(a=0),void 0!==n&&""!==n||(n=10),r={"Content-Type":"application/json",token:t.token},l=JSON.stringify({name:t.nameFind,nik:t.nikFind,referenceNumber:t.referenceNumberFind}),e.prev=4,e.next=7,c.a.post(u.b+"/restricted/admin/onboard/report/lending?page="+a+"&size="+n,l,{headers:r});case 7:return i=e.sent,e.abrupt("return",i);case 11:return e.prev=11,e.t0=e.catch(4),e.abrupt("return",e.t0.response);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"linkDownloadZipLending",value:function(e){return u.b+"/restricted/admin/onboard/report/lending/download/zip?refNumber="+e}},{key:"downloadReportLending",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={"Content-Type":"application/json",token:t},e.prev=1,e.next=4,c.a.get(u.b+"/restricted/admin/onboard/report/lending/download/zip?refNumber="+a,{headers:n});case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getListReport",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",token:t.token},e.prev=1,e.next=4,c.a.get(u.b+"/restricted/admin/onboard/listOnboardOnline?name="+t.nameFind,{headers:a},{params:{}});case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"downloadReportOnline",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={"Content-Type":"text/csv",token:a},e.prev=1,e.next=4,c.a.get(u.b+"/restricted/admin/onboard/downloadOnboardOnline?fileName="+t,{headers:n},{params:{fileName:t}});case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"allowDownloadReport",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={token:t},e.prev=1,e.next=4,c.a.get(u.b+"/restricted/admin/onboard/allowDownloadReport",{headers:a});case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"findCCListByParam",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0!==a&&""!==a||(a=0),void 0!==n&&""!==n||(n=10),r={"Content-Type":"application/json",token:t.token},l=JSON.stringify({name:t.nameFind,nik:t.nikFind,referenceNumber:t.refNumFind,fromDate:t.fromDateFind,toDate:t.toDateFind,productFlag:"CC",status:t.statusCode,fromDateBO:t.fromDateFindBO,toDateBO:t.toDateFindBO,salesCd:t.salesCdFind,branchCd:t.branchCode}),e.prev=4,e.next=7,c.a.post(u.b+"/restricted/admin/onboard/reportccpl?page="+a+"&size="+n,l,{headers:r});case 7:return i=e.sent,e.abrupt("return",i);case 11:return e.prev=11,e.t0=e.catch(4),e.abrupt("return",e.t0.response);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"linkDownloadCCPLDocuments",value:function(e,t){return u.b+"/restricted/admin/onboard/downloadCCPLDocuments?refNums="+e+"&productCd="+t}},{key:"saveDownloadDate",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={"Content-Type":"application/json",token:t},r=JSON.stringify({onboardId:a}),e.prev=2,e.next=5,c.a.post(u.b+"/restricted/admin/onboard/saveDownloadDate",r,{headers:n});case 5:return l=e.sent,e.abrupt("return",l);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"preExportCCApps",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={"Content-Type":"application/json",token:t},r=JSON.stringify({refNums:a}),e.prev=2,e.next=5,c.a.post(u.b+"/restricted/admin/onboard/preDownloadCCList",r,{headers:n});case 5:return l=e.sent,e.abrupt("return",l);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getDetailData",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={"Content-Type":"application/json",token:t},r=JSON.stringify({refNumber:a.referenceNumber,masterForm:a.masterForm,salesCd2:a.salesCode2,teamLeadId:a.teamLeadId,productCd:a.product.code}),e.prev=2,e.next=5,c.a.post(u.b+"/restricted/admin/onboard/getDataDetail",r,{headers:n});case 5:return l=e.sent,e.abrupt("return",l);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"doApproveCCPL",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={"Content-Type":"application/json",token:t.token,statusOnboard:a},l=JSON.stringify({onboardId:t.mainDataList.id,statusOnboard:a,rejectItem:t.options,remarks:t.remarks,userNipBO:t.userNip,emailSales:t.emailSales,emailTeamLead:t.emailTeamLead,appCode:n,customerName:t.customerName,boDecisionDate:t.boDecisionDate,refNum:t.mainDataList.referenceNumber}),e.prev=2,e.next=5,c.a.post(u.b+"/restricted/admin/onboard/submitBackOffice",l,{headers:r});case 5:return i=e.sent,e.abrupt("return",i);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"doRejectCCPL",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={"Content-Type":"application/json",token:t.token,statusOnboard:a},l=JSON.stringify({onboardId:t.mainDataList.id,statusOnboard:a,rejectItem:t.options,remarks:t.remarks,userNipBO:t.userNip,emailSales:t.emailSales,emailTeamLead:t.emailTeamLead,appCode:n,customerName:t.customerName,boDecisionDate:t.boDecisionDate,refNum:t.mainDataList.referenceNumber}),e.prev=2,e.next=5,c.a.post(u.b+"/restricted/admin/onboard/submitBackOffice",l,{headers:r});case 5:return i=e.sent,e.abrupt("return",i);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"getCCPLStatusDataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={token:t.token},e.prev=1,e.next=4,c.a.get(u.b+"/restricted/admin/onboard/getCCStatusLookup/statusCCPL",{headers:a});case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"findPLListByParam",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0!==a&&""!==a||(a=0),void 0!==n&&""!==n||(n=10),r={"Content-Type":"application/json",token:t.token},l=JSON.stringify({name:t.nameFind,nik:t.nikFind,referenceNumber:t.refNumFind,fromDate:t.fromDateFind,toDate:t.toDateFind,productFlag:"PL",status:t.statusCode,fromDateBO:t.fromDateFindBO,toDateBO:t.toDateFindBO,salesCd:t.salesCdFind,branchCd:t.branchCode}),e.prev=4,e.next=7,c.a.post(u.b+"/restricted/admin/onboard/reportccpl?page="+a+"&size="+n,l,{headers:r});case 7:return i=e.sent,e.abrupt("return",i);case 11:return e.prev=11,e.t0=e.catch(4),e.abrupt("return",e.t0.response);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"doGetUserPhoto",value:function(e){return u.b+"/util/getImg?sales_code="+e}},{key:"downloadReportCCPL",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={"Content-Type":"text/csv",token:a},e.prev=1,e.next=4,c.a.get(u.b+"/restricted/admin/onboard/downloadOnboardCCPL?fileName="+t,{headers:n},{params:{fileName:t}});case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getListReportCCPL",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",token:t.token},e.prev=1,e.next=4,c.a.get(u.b+"/restricted/admin/onboard/listReportOnboardCCPL?name="+t.nameFind,{headers:a},{params:{}});case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateToggle",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",token:t.token},n=JSON.stringify({refNum:t.mainDataList.referenceNumber,options2:t.dataList2.options+t.options2}),e.prev=2,e.next=5,c.a.post(u.b+"/restricted/admin/onboard/updateToggleDoc",n,{headers:a});case 5:return r=e.sent,e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getSFTBranchDataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={token:t.token},e.prev=1,e.next=4,c.a.get(u.b+"/restricted/admin/onboard/getSFTBranchDataMaster/branchSFT",{headers:a});case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()}]),e}()},,,function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n={SA:"SA",PR:"PR",CC:"CC",PL:"PL",KPR:"KPR",KPM:"KPM"}},,,function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(7),c=a.n(o),u=a(16),d=a.n(u),m=a(33).a,p=function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,[{key:"findClientManagementByParam",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r,l){var i,o,u,d,p,h,f,g,v,b;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=localStorage.getItem("userNip"),o={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:i,"Workstation-Id":null},u=r||10,d=t?t-1:0,p=a||"asc",h=n||"name",f=""!==l.filterStatus?l.filterStatus:"",g=""!==l.filterDesignation?l.filterDesignation:"",v=l.search_key?l.search_key.value:"",e.prev=9,e.next=12,c.a.get(m+"/api/cms/management?page_no="+d+"&page_size="+u+"&sort_by="+h+"&sort="+p+"&cif="+v+"&status="+f+"&designation="+g,{headers:o});case 12:return b=e.sent,e.abrupt("return",b);case 16:return e.prev=16,e.t0=e.catch(9),console.log(e.t0),e.abrupt("return",e.t0.response);case 20:case"end":return e.stop()}}),e,null,[[9,16]])})));return function(t,a,n,s,r){return e.apply(this,arguments)}}()},{key:"getDesignation",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("userNip"),a={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:t,"Workstation-Id":null},e.prev=2,e.next=5,c.a.get(m+"/api/cms/management/designation",{headers:a});case 5:return n=e.sent,e.abrupt("return",n);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"findClient",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r){var l,i,o,u,d,p,h;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=localStorage.getItem("userNip"),i={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:l,"Workstation-Id":null},o=a||10,u=t?t-1:0,d=n||"",p=r||"",e.prev=6,e.next=9,c.a.get(m+"/api/cms/client/search?name="+d+"&cif="+p+"&page_no="+u+"&page_size="+o,{headers:i});case 9:return h=e.sent,e.abrupt("return",h);case 13:return e.prev=13,e.t0=e.catch(6),console.log(e.t0),e.abrupt("return",e.t0.response);case 17:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t,a,n,s){return e.apply(this,arguments)}}()},{key:"addClientManagement",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},r={client_cif:t.client_cif,management_name:t.management_name_draft,designation:t.designation_draft,date_of_birth:t.date_of_birth_draft?d()(t.date_of_birth_draft).format("YYYY-MM-DD HH:mm:ss"):"",status:t.status,created_by:a},r=JSON.stringify(r),e.prev=4,e.next=7,c.a.post(m+"/api/cms/management",r,{headers:n});case 7:return l=e.sent,e.abrupt("return",l);case 11:return e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateClientManagement",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},null===t.is_delete_draft&&(t.is_delete_draft=!1),r={id:t.id,client_cif:t.client_cif,management_name:t.management_name_draft,designation:t.designation_draft,date_of_birth:t.date_of_birth_draft?d()(t.date_of_birth_draft).format("YYYY-MM-DD HH:mm:ss"):"",status:t.status,update_by:a,is_deleted:t.is_delete_draft},r=JSON.stringify(r),e.prev=5,e.next=8,c.a.put(m+"/api/cms/management",r,{headers:n});case 8:return l=e.sent,e.abrupt("return",l);case 12:return e.prev=12,e.t0=e.catch(5),console.log(e.t0),e.abrupt("return",e.t0.response);case 16:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"rejectClientManagement",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},r={status:t.status,approved_by:a,remarks:t.remarks},r=JSON.stringify(r),e.prev=4,e.next=7,c.a.put(m+"/api/cms/management/"+t.id+"/reject",r,{headers:n});case 7:return l=e.sent,e.abrupt("return",l);case 11:return e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"approveClientManagement",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},r={status:t.status,approved_by:a},r=JSON.stringify(r),e.prev=4,e.next=7,c.a.put(m+"/api/cms/management/"+t.id+"/approve",r,{headers:n});case 7:return l=e.sent,e.abrupt("return",l);case 11:return e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteClientManagement",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("userNip"),r={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:n,"Workstation-Id":null},l={status:"requestDelete",updated_by:n},l=JSON.stringify(l),e.prev=4,e.next=7,c.a.put(m+"/api/cms/management/"+t.id+"/delete",l,{headers:r});case 7:return i=e.sent,e.abrupt("return",i);case 11:return e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"findSelectClient",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var r,l,i,o,u,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=localStorage.getItem("userNip"),l={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:r,"Workstation-Id":null},i=a||10,o=t?t-1:0,u=n||"",e.prev=5,e.next=8,c.a.get(m+"/api/cms/client/search-v2?page_no="+o+"&page_size="+i+"&q="+u,{headers:l});case 8:return d=e.sent,e.abrupt("return",d);case 12:return e.prev=12,e.t0=e.catch(5),console.log(e.t0),e.abrupt("return",e.t0.response);case 16:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"uploadFileManagement",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=localStorage.getItem("userNip"),r={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:n,"Workstation-Id":null},!n){e.next=14;break}return e.prev=3,e.next=6,c.a.post(m+"/api/cms/management/upload/client-management?insert_by="+n+"&status=submitted",t,{headers:r});case 6:return l=e.sent,e.abrupt("return",l);case 10:return e.prev=10,e.t0=e.catch(3),console.log(e.t0),e.abrupt("return",e.t0.response);case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"findUploadManagementByParam",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r,l){var i,o,u,p,h,f,g,v,b,y;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=localStorage.getItem("userNip"),o={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:i,"Workstation-Id":null},u=l.search_status?l.search_status:"",p=r||10,h=t?t-1:0,f=a||"asc",g=n||"file_name",v=l.insert_date?d()(l.insert_date).format("YYYY-MM-DD"):"",b=l.isChecker?"":i,e.prev=9,e.next=12,c.a.get(m+"/api/cms/management/list-file/client-management?insert_by="+b+"&status="+u+"&insertAt="+v+"&page_no="+h+"&page_size="+p+"&sort_by="+g+"&sort="+f,{headers:o});case 12:return y=e.sent,e.abrupt("return",y);case 16:return e.prev=16,e.t0=e.catch(9),console.log(e.t0),e.abrupt("return",e.t0.response);case 20:case"end":return e.stop()}}),e,null,[[9,16]])})));return function(t,a,n,s,r){return e.apply(this,arguments)}}()},{key:"findUploadDetailManagementByParam",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r,l){var i,o,u,d,p,h,f,g,v;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=localStorage.getItem("userNip"),o={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:i,"Workstation-Id":null},u=r||10,d=t?t-1:0,p=a||"asc",h=n||"parent_cif",f=l.search_key?l.search_key.value:"",g=l.selectedFile&&l.selectedFile.id?l.selectedFile.id:"",e.prev=8,e.next=11,c.a.get(m+"/api/cms/management/list-management/file?page_no="+d+"&page_size="+u+"&sort_by="+h+"&sort="+p+"&parent_cif="+f+"&file_id="+g,{headers:o});case 11:return v=e.sent,e.abrupt("return",v);case 15:return e.prev=15,e.t0=e.catch(8),console.log(e.t0),e.abrupt("return",e.t0.response);case 19:case"end":return e.stop()}}),e,null,[[8,15]])})));return function(t,a,n,s,r){return e.apply(this,arguments)}}()},{key:"downloadTemplate",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/vnd.ms-excel;charset=UTF-8",Username:a,"Workstation-Id":null},e.prev=2,e.next=5,c.a.get(m+"/api/cms/management/download/management.xlsx",{responseType:"blob"},{headers:n});case 5:return r=e.sent,e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(2),console.log(e.t0),e.abrupt("return",e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"approveFileManagement",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},r={status:t.status,approved_by:a},r=JSON.stringify(r),e.prev=4,e.next=7,c.a.put(m+"/api/cms/management/file-management/"+t.selectedFile.id+"/approve",r,{headers:n});case 7:return l=e.sent,e.abrupt("return",l);case 11:return e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"rejectFileManagement",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},r={status:t.status,approved_by:a,remarks:t.remarks},r=JSON.stringify(r),e.prev=4,e.next=7,c.a.put(m+"/api/cms/management/file-management/"+t.selectedFile.id+"/reject",r,{headers:n});case 7:return l=e.sent,e.abrupt("return",l);case 11:return e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()}]),e}()},,,,,,,,function(e,t,a){},function(e,t,a){"use strict";a.d(t,"a",(function(){return k}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=(a(1485),a(30)),h=a.n(p),f=a(25),g=a(17),v=a(31),b=a.n(v),y=a(88),S=a(375),E=a.n(S),w=a(8);a(21),a(59),a(127);h.a.setAppElement("body"),y.pdfjs.GlobalWorkerOptions.workerSrc=E.a;var k=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).onDocumentLoadSuccess=function(t){var a=t.numPages;e.setState({numPages:a})},e.onDocumentLoadSuccess=function(t){var a=t.numPages;e.setState({numPages:a})},e.state={token:localStorage.getItem("accessToken"),labelButton:"Save",alertState:"alert alert-primary",isEdit:!1,error:!1,showModal:!1,typeFind:"rmwbData",modalName:"",loading:!1,idMenu:"",attachment:"",attachmentName:"",attachmentOri:"",attachmentNameOri:"",thumbnail:"",thumbnailOri:"",uploadedPdf:null,pageNumber:1,uploadedThumb:null,thumbnailName:"",flagging:"",roleName:localStorage.getItem("roleName"),isSadmin:!1},window.scrollTo(0,0),e.handleOpenModal=e.handleOpenModal.bind(Object(o.a)(e)),e.handleCloseModal=e.handleCloseModal.bind(Object(o.a)(e)),e}return Object(i.a)(n,[{key:"handleOpenModal",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"pdfReader"===t&&this.setState({urlPdfReader:a}),this.setState({showModal:!0,modalName:t});case 2:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"handleCloseModal",value:function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({showModal:!1});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillMount",value:function(){this.setState({isSadmin:"SADMINOCTOBENCH"===this.state.roleName}),this.setState(this.props.data);var e=this.props.flagging;this.setState({flagging:e}),"edit"===this.props.mode&&(this.setState({isEdit:!0}),this.props.data.file_name_draft&&this.getAttachment("draft",this.props.data.file_name_draft),this.props.data.file_name&&this.getAttachment("ori",this.props.data.file_name),this.props.data.thumbnail_draft&&this.getThumbnail("draft",this.props.data.thumbnail_draft),this.props.data.thumbnail_name&&this.getThumbnail("ori",this.props.data.thumbnail_name),this.getListDataStatus(this.props.data.status)),this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),this.setState({loggedUser:localStorage.getItem("userNip")}),this.validator=new b.a({autoForceUpdate:this,element:function(e){return m.a.createElement("div",{className:"row p-0 col-12 validator-error-message"},m.a.createElement("div",{className:"col-12"},e))}})}},{key:"getListDataStatus",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!0,n=new g.a,e.next=4,n.findStatusByParam(this.state);case 4:(r=e.sent)&&200===r.status&&r.data.length>0?(this.setState({listDataStatus:r.data}),l=r.data.filter((function(e){return e.code===t})),this.setState({currentDataStatus:l[0]})):(this.setState({listDataStatus:""}),this.setState({currentDataStatus:""}),r&&r.data&&w.a===r.data.data?a=!1:this.setState({listDataStatus:""})),a||this.clearSession();case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getThumbnail",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r,l,i,o,c,u,d,m;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("draft"!==t){e.next=10;break}return n=!0,r=new f.a,e.next=5,r.getThumbnail(a);case 5:(l=e.sent)&&l.status&&200===l.status&&l.config&&l.config.url?this.setState({thumbnail:l.config.url}):l&&l.data?(this.setState({error:!0,message:l.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1})):n=!1,n||this.errorConectionToBe(),e.next=28;break;case 10:if("ori"!==t){e.next=20;break}return i=!0,o=new f.a,e.next=15,o.getThumbnail(a);case 15:(c=e.sent)&&c.status&&200===c.status&&c.config&&c.config.url?this.setState({thumbnailOri:c.config.url}):c&&c.data?(this.setState({error:!0,message:c.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1})):i=!1,i||this.errorConectionToBe(),e.next=28;break;case 20:if(!this.state.uploadedThumb||null===this.state.uploadedThumb||!this.state.uploadedThumb.file_name){e.next=28;break}return u=!0,d=new f.a,e.next=25,d.getThumbnail(this.state.uploadedThumb.file_name);case 25:(m=e.sent)&&m.status&&200===m.status&&m.config&&m.config.url?this.setState({thumbnail:m.config.url}):m&&m.data?(this.setState({error:!0,message:m.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1})):u=!1,u||this.errorConectionToBe();case 28:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getAttachment",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r,l,i,o,c,u,d,m;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({loading:!0}),"draft"!==t){e.next=19;break}return n=!0,r=new f.a,e.next=6,r.getAttachtment(a);case 6:if(!((l=e.sent)&&l.status&&200===l.status&&l.config&&l.config.url)){e.next=15;break}return e.next=10,this.setState({attachment:l.config.url});case 10:return e.next=12,this.setState({attachmentName:a});case 12:this.setState({loading:!1}),e.next=16;break;case 15:l&&l.data?(this.setState({error:!0,message:l.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1})):n=!1;case 16:n||this.errorConectionToBe(),e.next=51;break;case 19:if("ori"!==t){e.next=37;break}return i=!0,o=new f.a,e.next=24,o.getAttachtment(a);case 24:if(!((c=e.sent)&&c.status&&200===c.status&&c.config&&c.config.url)){e.next=33;break}return e.next=28,this.setState({attachmentOri:c.config.url});case 28:return e.next=30,this.setState({attachmentNameOri:a});case 30:this.setState({loading:!1}),e.next=34;break;case 33:c&&c.data?(this.setState({error:!0,message:c.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1})):i=!1;case 34:i||this.errorConectionToBe(),e.next=51;break;case 37:if(!this.state.uploadedPdf||null===this.state.uploadedPdf||!this.state.uploadedPdf.file_name){e.next=51;break}return u=!0,d=new f.a,e.next=42,d.getAttachtment(this.state.uploadedPdf.file_name);case 42:if(!((m=e.sent)&&m.status&&200===m.status&&m.config&&m.config.url)){e.next=49;break}return e.next=46,this.setState({attachment:m.config.url});case 46:this.setState({loading:!1}),e.next=50;break;case 49:m&&m.data?(this.setState({error:!0,message:m.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1})):u=!1;case 50:u||this.errorConectionToBe();case 51:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("/login"))}},{key:"errorConectionToBe",value:function(){alert("Connection to Server Octobench interupted!\nPlease check your conection or contact administrator!")}},{key:"validateRemark",value:function(e){return this.setState({error:!0,alertState:"alert alert-danger"}),e.remarks?(this.setState({error:!1,alertState:"alert alert-primary"}),!0):(this.setState({errorMessage:"Please fill remarks!"}),!1)}},{key:"onSubmit",value:function(){if(this.props.onSubmit){var e=this.state;e.submitOnly=!0,this.validator.allValid()?this.props.onSubmit(e):this.validator.showMessages()}}},{key:"onSubmitAndSave",value:function(){if(this.props.onSubmitAndSave){var e=this.state;e.submitOnly=!1,e.submitAndSave=!0,this.validator.allValid()?this.props.onSubmitAndSave(e):this.validator.showMessages()}}},{key:"onSubmitApprove",value:function(){if(this.props.onSubmitAndSave){var e=this.state;e.submitApprove=!0,this.handleCloseModal(),this.props.onSubmitAndSave(e)}}},{key:"onSubmitReject",value:function(){if(this.props.onSubmitAndSave){var e=this.state;e.submitReject=!0,this.validator.allValid()?(this.handleCloseModal(),this.props.onSubmitAndSave(e)):this.validator.showMessages()}}},{key:"onApproveDelete",value:function(){if(this.props.onSubmitAndSave){var e=this.state;e.approveDelete=!0,this.props.onSubmitAndSave(e)}}},{key:"onRejectDelete",value:function(){if(this.props.onSubmitAndSave){var e=this.state;e.rejectDelete=!0,this.validator.allValid()?this.props.onSubmitAndSave(e):this.validator.showMessages()}}},{key:"deleteThumbnail",value:function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.confirm("Are you sure to delete this thumbnail?")&&(this.refs.deletedThumb.parentNode.remove(),this.setState({thumbnail:""}),alert("Thumbnail temporary deleted and will completed deleted when saved!"));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteAttachment",value:function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.confirm("Are you sure to delete this attachment?")&&(this.refs.deletePdf.parentNode.remove(),this.setState({attachment:"",attachmentName:""}),alert("Attachment temporary deleted and will completed deleted when saved!"));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onChangeFile",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.target.files[0].size<2e6&&"application/pdf"===t.target.files[0].type)){e.next=15;break}if(!window.confirm("Are you sure to upload this file ?")){e.next=13;break}return this.setState({loading:!0}),a=!0,n=new f.a,(r=new FormData).append("file",t.target.files[0]),e.next=9,n.uploadAttachment(r,this.state);case 9:(l=e.sent)&&200===l.status&&"Succeed"===l.data.message?(localStorage.setItem("uploaded_attachment",JSON.stringify(l.data.data)),this.setState({uploadedPdf:l.data.data}),this.setState({attachmentName:l.data.data.file_name}),this.setState({file_name_draft:l.data.data.file_name}),this.setState({loading:!1})):l&&400===l.status?(alert("ID menu not found please check it!"),this.props.history.push("/rmwb-standard-pricing"),this.setState({uploadedPdf:null})):(a=!1,this.setState({loading:!1}),this.setState({uploadedPdf:null})),a||this.errorConectionToBe(),this.getAttachment();case 13:e.next=16;break;case 15:alert("Sorry attachment file to big or invalid format type, please check again! Allowed file type is pdf file with maximal size 2Mb.");case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onChangeThumb",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.target.files[0].size<2e6)||"image/jpeg"!==t.target.files[0].type&&"image/jpg"!==t.target.files[0].type&&"image/png"!==t.target.files[0].type&&"image/svg"!==t.target.files[0].type){e.next=15;break}if(!window.confirm("Are you sure to upload this file ?")){e.next=13;break}return this.setState({loading:!0}),a=!0,n=new f.a,(r=new FormData).append("file",t.target.files[0]),e.next=9,n.uploadThumbnail(r,this.state);case 9:(l=e.sent)&&200===l.status&&"Succeed"===l.data.message?(this.setState({uploadedThumb:l.data.data}),this.setState({thumbnailName:l.data.data.file_name}),this.setState({thumbnail_draft:l.data.data.file_name}),this.setState({loading:!1})):400===l.status?(alert("ID menu not found please check it!"),this.props.history.push("/rmwb-standard-pricing"),this.setState({uploadedThumb:null})):(a=!1,this.setState({loading:!1}),this.setState({uploadedThumb:null})),a||this.errorConectionToBe(),this.getThumbnail();case 13:e.next=16;break;case 15:alert("Sorry thumbnail file to big or invalid format type, please check again! Allowed file type is png, jpg and jpeg file with maximal size 2Mb.");case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){for(var e=this,t=this.state.pageNumber,n=JSON.parse(this.state.userPrivilege)||[],s=!1,r=!1,l=!1,i=0;i<n.length;i++)"create_rmwb_standardPricing"===n[i].name+"_"+n[i].vgroup&&(s=!0),"update_rmwb_standardPricing"===n[i].name+"_"+n[i].vgroup&&(r=!0),"approval_rmwb_standardPricing"===n[i].name+"_"+n[i].vgroup&&(l=!0);var o=this.state.currentDataStatus?this.state.currentDataStatus:[],c=!1,u=!1,d=!1,p=!1,f=this.state.isEdit;o&&("rmwbData_submitted"===o.type+"_"+o.code&&(c=!0),"rmwbData_approved"===o.type+"_"+o.code&&(u=!0),"rmwbData_rejected"===o.type+"_"+o.code&&(d=!0),"rmwbData_requestDelete"===o.type+"_"+o.code&&(p=!0));var g=this.state.isSadmin,v=!1;return v=!l||!!g,m.a.createElement("div",{id:"Attachment"},this.state.error?m.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.errorMessage):null,m.a.createElement("div",{className:"form-box-area mb-4"},m.a.createElement("div",{className:"row"},f?m.a.createElement("div",{className:"mb-4 col-12"},m.a.createElement("div",{className:"row"},m.a.createElement("h4",{className:"col-6"},"Form Input"),this.state.title?m.a.createElement("h4",{className:"col-6"},"Original Data"):null)):m.a.createElement("div",{className:"row mb-4 col-12"},m.a.createElement("h4",{className:"col-6"},"Form Input")),m.a.createElement("div",{className:"mb-3 col-12 ".concat(f&&this.state.title_draft!==this.state.title?"updated":null," ")},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-6"},m.a.createElement("label",{className:"col-12 p-0 font-weight-bold"},"Title ",m.a.createElement("span",{className:"text-danger"},"*")),m.a.createElement("input",{placeholder:"Please input title",className:"col-12 form-input",readOnly:v?null:"readonly",type:"text",id:"title",maxLength:"100",value:this.state.title_draft?this.state.title_draft:"",onChange:function(t){return e.setState({title_draft:t.target.value})},onBlur:function(){return e.validator.showMessageFor("title")}}),this.validator.message("title",this.state.title_draft,"required")),f?m.a.createElement("div",{className:"col-6"},this.state.title?m.a.createElement("div",{className:"row"},m.a.createElement("label",{className:"col-12 font-weight-bold"},"Title"),m.a.createElement("div",{className:"col-12"},void 0!==this.state.title?this.state.title:null)):null):null)),m.a.createElement("div",{className:"mb-3 col-12 ".concat(f&&this.state.description!==this.state.description_draft?"updated":null," ")},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-6"},m.a.createElement("label",{className:"col-12 p-0 font-weight-bold"},"Description ",m.a.createElement("span",{className:"text-danger"})),m.a.createElement("textarea",{name:"description",className:"col-12 form-input",readOnly:v?null:"readonly",cols:"30",rows:"6",maxLength:"1000",id:"description",onChange:function(t){return e.setState({description_draft:t.target.value})},defaultValue:this.state.description_draft?this.state.description_draft:""})),f?m.a.createElement("div",{className:"col-6"},this.state.description?m.a.createElement("div",{className:"row"},m.a.createElement("label",{className:"col-12 font-weight-bold"},"Description"),m.a.createElement("div",{className:"col-12"},void 0!==this.state.description?this.state.description:null)):null):null)),m.a.createElement("div",{className:"col-12 my-4"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-12"},m.a.createElement("div",{className:"row"},m.a.createElement("h5",{className:"col-6 mb-2"},"File Pdf ",m.a.createElement("span",{className:"text-danger"},"*")),f&&this.state.attachmentOri?m.a.createElement("h5",{className:"col-6 mb-2"},"Original File Pdf"):null)),this.state.isSadmin||!l?m.a.createElement("div",{className:"col-12"},m.a.createElement("div",{className:"row"},m.a.createElement("input",{disabled:v?null:"disabled",className:"col-6 file-input",type:"file",id:"file_name",value:"",onChange:this.onChangeFile.bind(this),accept:"pdf"}),m.a.createElement("div",{className:"col-6"})),this.validator.message("attachment",this.state.attachment,"required")):null,m.a.createElement("div",{className:"col-12"},m.a.createElement("div",{className:"row"},""!==this.state.attachment?m.a.createElement("div",{className:"col-6"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"my-1 col-12"},m.a.createElement("div",{className:"row"},m.a.createElement("label",{className:"col-2"},"File Name"),": ",null!==this.state.attachmentName?this.state.attachmentName:"")),m.a.createElement("div",{className:"col-12"},m.a.createElement("div",{className:"parent-wrapper"},this.state.isSadmin||!l?m.a.createElement("div",{className:"delete-icon",ref:"deletePdf",onClick:this.deleteAttachment.bind(this)},m.a.createElement("img",{src:a(67),alt:""})):null,m.a.createElement("div",{className:"col-12 pdf-wrapper",onClick:function(){return e.handleOpenModal("pdfReader",e.state.attachment)}},m.a.createElement(y.Document,{file:this.state.attachment,onLoadSuccess:this.onDocumentLoadSuccess.bind(this)},m.a.createElement(y.Page,{pageNumber:t}))))))):m.a.createElement("div",{className:"col-6"}),f&&""!==this.state.attachmentOri?m.a.createElement("div",{className:"col-6"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"my-1 col-12"},m.a.createElement("div",{className:"row"},m.a.createElement("label",{className:"col-2"},"File Name"),": ",null!==this.state.attachmentNameOri?this.state.attachmentNameOri:"")),m.a.createElement("div",{className:"col-12"},m.a.createElement("div",{className:"parent-wrapper"},m.a.createElement("div",{className:"col-12 pdf-wrapper",onClick:function(){return e.handleOpenModal("pdfReader",e.state.attachmentOri)}},m.a.createElement(y.Document,{file:this.state.attachmentOri,onLoadSuccess:this.onDocumentLoadSuccess.bind(this)},m.a.createElement(y.Page,{pageNumber:t}))))))):m.a.createElement("div",{className:"col-6"}))))),"dpd_guide"!==this.state.flagging&&"tat_guide"!==this.state.flagging&&"funding_analytics"!==this.state.flagging&&"lending_analytic_guide"!==this.state.flagging&&"product_holding_guide"!==this.state.flagging?m.a.createElement("div",{className:"col-12 my-4"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-12"},m.a.createElement("div",{className:"row"},m.a.createElement("h5",{className:"col-6 mb-2"},"Thumbnail ",m.a.createElement("span",{className:"text-danger"},"*")),f&&this.state.thumbnailOri?m.a.createElement("h5",{className:"col-6 mb-2"},"Original Thumbnail"):null)),this.state.isSadmin||!l?m.a.createElement("div",{className:"col-12 mb-3"},m.a.createElement("div",{className:"row"},m.a.createElement("input",{disabled:this.state.isSadmin||!f&&!l?null:"disabled",className:"col-6 file-input",type:"file",id:"thumb_name",value:"",onChange:this.onChangeThumb.bind(this),accept:"pdf"}),m.a.createElement("div",{className:"col-6"})),this.validator.message("thumbnail",this.state.thumbnail,"required")):null,m.a.createElement("div",{className:"col-12"},m.a.createElement("div",{className:"row"},""!==this.state.thumbnail?m.a.createElement("div",{className:"col-6"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-12"},m.a.createElement("div",{className:"parent-wrapper img-wrapper"},this.state.isSadmin||!l?m.a.createElement("div",{className:"delete-icon",ref:"deletedThumb",onClick:this.deleteThumbnail.bind(this)},m.a.createElement("img",{src:a(67),alt:""})):null,m.a.createElement("div",{className:"col-12 p-0"},m.a.createElement("img",{src:this.state.thumbnail,alt:""})))))):m.a.createElement("div",{className:"col-6"}),f&&""!==this.state.thumbnailOri?m.a.createElement("div",{className:"col-6"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-12"},m.a.createElement("div",{className:"parent-wrapper img-srapper"},m.a.createElement("div",{className:"col-12 p-0"},m.a.createElement("img",{src:this.state.thumbnailOri,alt:""})))))):m.a.createElement("div",{className:"col-6"}))))):null,f&&this.state.status?m.a.createElement("div",{className:"row mb-3 col-12"},m.a.createElement("label",{className:"col-2"},"Current Data Status"),m.a.createElement("div",{className:"col-4 pl-0"},this.state.status)):null,f&&this.state.created_by?m.a.createElement("div",{className:"row mb-3 col-12"},m.a.createElement("label",{className:"col-2"},"Created By"),m.a.createElement("div",{className:"col-4 pl-0"},this.state.created_by)):null,f&&this.state.created_at?m.a.createElement("div",{className:"row mb-3 col-12"},m.a.createElement("label",{className:"col-2"},"Created At"),m.a.createElement("div",{className:"col-4 pl-0"},this.state.created_at)):null,f&&this.state.updated_by?m.a.createElement("div",{className:"row mb-3 col-12"},m.a.createElement("label",{className:"col-2"},"Last Updated By"),m.a.createElement("div",{className:"col-4 pl-0"},this.state.updated_by)):null,f&&this.state.updated_at?m.a.createElement("div",{className:"row mb-3 col-12"},m.a.createElement("label",{className:"col-2"},"Last Updated At"),m.a.createElement("div",{className:"col-4 pl-0"},this.state.updated_at)):null,u&&f&&this.state.status?m.a.createElement("div",{className:"row mb-3 col-12"},m.a.createElement("label",{className:"col-2"},"Approved By : "),m.a.createElement("div",{className:"col-4 pl-0"},this.state.approved_by)):null,u&&f&&this.state.status?m.a.createElement("div",{className:"row mb-3 col-12"},m.a.createElement("label",{className:"col-2"},"Approved At : "),m.a.createElement("div",{className:"col-4 pl-0"},this.state.approved_at)):null,f&&d?m.a.createElement("div",{className:"row mb-3 col-12"},m.a.createElement("label",{className:"col-2"},"Remarks"),m.a.createElement("div",{className:"col-4 pl-0"},this.state.remark)):null),m.a.createElement("div",{className:"d-flex row justify-content-end mt-5 px-3"},s&&r&&!p?m.a.createElement("div",{className:"row col-12 justify-content-end my-2"},m.a.createElement("button",{className:"button-red mr-2",onClick:this.props.history.goBack},"Cancel"),m.a.createElement("button",{className:"button-red",onClick:this.onSubmitAndSave.bind(this)},"Save And Submit")):null,l&&c?m.a.createElement("div",{className:"row col-12 justify-content-end my-2"},m.a.createElement("button",{className:"button-red mr-2",onClick:function(){return e.handleOpenModal("reject-data")}},"Reject"),m.a.createElement("button",{className:"button-green",onClick:function(){return e.handleOpenModal("approve-data")}},"Approve")):null,l&&p?m.a.createElement("div",null,m.a.createElement("button",{className:"button-red mr-2",onClick:function(){return e.handleOpenModal("reject-delete")}},"Reject Delete"),m.a.createElement("button",{className:"button-green",onClick:function(){return e.handleOpenModal("approve-delete")}},"Approve Delete")):null)),m.a.createElement(h.a,{closeTimeoutMS:300,isOpen:this.state.showModal,contentLabel:"onRequestClose Example",onRequestClose:this.handleCloseModal,className:"Modal ".concat("pdfReader"===this.state.modalName?"pdf-reader-modal attachment":null),overlayClassName:"Overlay"},"approve-delete"===this.state.modalName?m.a.createElement("div",null,m.a.createElement("div",{className:"row mx-0 justify-content-center"},m.a.createElement("h4",null,"Are You Sure To Approve Delete This Data ?")),m.a.createElement("div",{className:"d-flex justify-content-center mx-2 mt-5"},m.a.createElement("button",{className:"button-red mr-5",onClick:this.handleCloseModal},"Cancel"),m.a.createElement("button",{className:"button-red",onClick:this.onApproveDelete.bind(this)},"Approve"))):null,"reject-delete"===this.state.modalName?m.a.createElement("div",null,m.a.createElement("div",{className:"row mx-0 justify-content-center"},m.a.createElement("h4",{className:"mb-4"},"Please fill Remark to data Maker !"),m.a.createElement("textarea",{className:"col-10 form-input",type:"text",onChange:function(t){return e.setState({remarks:t.target.value})},value:this.state.remarks||"",onBlur:function(){return e.validator.showMessageFor("remarks")}}),this.validator.message("remarks",this.state.remarks,"required")),m.a.createElement("div",{className:"d-flex justify-content-center mx-2 mt-5"},m.a.createElement("button",{className:"button-red mr-5",onClick:this.handleCloseModal},"Close"),m.a.createElement("button",{className:"button-red",onClick:this.onRejectDelete.bind(this)},"Reject Delete"))):null,"approve-data"===this.state.modalName?m.a.createElement("div",null,m.a.createElement("div",{className:"row mx-0 justify-content-center"},m.a.createElement("h4",null,"Are You Sure To Approve This Data ?")),m.a.createElement("div",{className:"d-flex justify-content-center mx-2 mt-5"},m.a.createElement("button",{className:"button-red mr-5",onClick:this.handleCloseModal},"Cancel"),m.a.createElement("button",{className:"button-red",onClick:this.onSubmitApprove.bind(this)},"Approve"))):null,"reject-data"===this.state.modalName?m.a.createElement("div",null,m.a.createElement("div",{className:"row mx-0 justify-content-center"},m.a.createElement("h4",{className:"mb-4"},"Please fill Remark to data Maker !"),this.state.error?m.a.createElement("div",{className:"col-12 ".concat(this.state.alertState),role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.errorMessage):null,m.a.createElement("textarea",{className:"col-12 form-input",type:"text",onChange:function(t){return e.setState({remarks:t.target.value})},value:this.state.remarks||"",placeholder:"Remarks",onBlur:function(){return e.validator.showMessageFor("remarks")}}),this.validator.message("remarks",this.state.remarks,"required")),m.a.createElement("div",{className:"d-flex justify-content-center mx-2 mt-4"},m.a.createElement("button",{className:"button-red mr-5",onClick:this.handleCloseModal},"Cancel"),m.a.createElement("button",{className:"button-red",onClick:this.onSubmitReject.bind(this)},"Reject"))):null,"pdfReader"===this.state.modalName?m.a.createElement("div",{className:"pdfReaderWrapper"},m.a.createElement("div",{className:"close-pdf-modal",onClick:this.handleCloseModal},m.a.createElement("img",{src:a(580),alt:""})),m.a.createElement("div",{style:{overflow:"scroll",height:"100%"}},m.a.createElement(y.Document,{file:this.state.urlPdfReader,onLoadSuccess:this.onDocumentLoadSuccess.bind(this)},m.a.createElement(y.Page,{pageNumber:t})))):null),this.state.loading?m.a.createElement("div",{className:"loading-overlay"},m.a.createElement("div",{className:"loader"})):null)}}]),n}(d.Component)},,,function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(7),c=a.n(o),u=a(75),d=a(11),m=a(159),p=function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,[{key:"getListProductCategory",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={token:t.token},e.prev=1,e.next=4,c.a.get(d.b+"/restricted/admin/master/getdataLookupByType/productCategory",{headers:a});case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getListProductSubCategory",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={token:t.token},e.prev=1,e.next=4,c.a.get(d.b+"/restricted/admin/master/getdataLookupByType/productSubcategory",{headers:a});case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getListProductStatus",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={token:t.token},e.prev=1,e.next=4,c.a.get(d.b+"/restricted/admin/master/getdataStatusByType/product",{headers:a});case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getListProductSegment",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={token:t.token},e.prev=1,e.next=4,c.a.get(d.b+"/restricted/admin/master/getdataLookupByType/productSegment",{headers:a});case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getListSegmentSA",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={token:t.token},e.prev=1,e.next=4,c.a.get(d.b+"/restricted/admin/master/getdataLookupByType/categoryListSA",{headers:a});case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getListProducts",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",token:t.token},e.prev=1,e.next=4,c.a.get(d.b+"/restricted/admin/product/list",{headers:a},{params:{}});case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"findProductByParam",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0!==a&&""!==a||(a=0),void 0!==n&&""!==n||(n=10),r={"Content-Type":"application/json",token:t.token},l=JSON.stringify({code:t.codeFind,name:t.nameFind}),e.prev=4,e.next=7,c.a.post(d.b+"/restricted/admin/product/list?page="+a+"&size="+n,l,{headers:r});case 7:return i=e.sent,e.abrupt("return",i);case 11:return e.prev=11,e.t0=e.catch(4),e.abrupt("return",e.t0.response);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"getProductById",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={"Content-Type":"application/json",token:a},e.prev=1,e.next=4,c.a.get(d.b+"/restricted/admin/product/detail?id="+t.id,{headers:n},{params:{id:t.id}});case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"addProduct",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"content-type":"multipart/form-data",token:t.token},(n=new FormData).append("code",t.code.replace(/\s/g,"")),n.append("name",t.name),n.append("description",t.description),n.append("segmentId",t.segmentId),n.append("segmentId",t.segmentId),n.append("categoryId",t.categoryId),n.append("subcategoryId",t.subcategoryId),n.append("htmlContent",Object(m.htmlEncode)(t.htmlContent)),n.append("statusId",t.statusId),n.append("image",t.image),t.segmentSAId&&n.append("segmentSAId",t.segmentSAId),n.append("productBriefContent",t.productBriefContent),t.pdfSA&&n.append("pdfSA",t.pdfSA),t.aliasName?n.append("aliasName",t.aliasName):n.append("aliasName",t.name),e.prev=16,e.next=19,c.a.post(d.b+"/restricted/admin/product/create",n,{headers:a});case 19:return r=e.sent,e.abrupt("return",r);case 23:return e.prev=23,e.t0=e.catch(16),e.abrupt("return",e.t0.response);case 26:case"end":return e.stop()}}),e,null,[[16,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteProduct",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={"Content-Type":"application/json",token:a},r=JSON.stringify({id:t.id,code:t.code,name:t.name,description:t.description,segmentId:t.segment.id,categoryId:t.category.id,subcategoryId:t.subcategory.id,htmlContent:t.htmlContent,statusId:t.status.id}),e.prev=2,e.next=5,c.a.post(d.b+"/restricted/admin/product/delete",r,{headers:n});case 5:return l=e.sent,e.abrupt("return",l);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"updateProduct",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"content-type":"multipart/form-data",token:t.token},(n=new FormData).append("id",t.id),n.append("code",t.code.replace(/\s/g,"")),n.append("name",t.name),n.append("description",t.description),n.append("segmentId",t.segmentId),n.append("segmentId",t.segmentId),n.append("categoryId",t.categoryId),n.append("subcategoryId",t.subcategoryId),n.append("htmlContent",Object(m.htmlEncode)(t.htmlContent)),n.append("statusId",t.statusId),t.image&&n.append("image",t.image),t.segmentSAId&&n.append("segmentSAId",t.segmentSAId),t.productBriefContent&&n.append("productBriefContent",t.productBriefContent),t.pdfSA&&n.append("pdfSA",t.pdfSA),t.aliasName?n.append("aliasName",t.aliasName):n.append("aliasName",t.name),e.prev=17,e.next=20,c.a.post(d.b+"/restricted/admin/product/update",n,{headers:a});case 20:return r=e.sent,e.abrupt("return",r);case 24:return e.prev=24,e.t0=e.catch(17),e.abrupt("return",e.t0.response);case 27:case"end":return e.stop()}}),e,null,[[17,24]])})));return function(t){return e.apply(this,arguments)}}()},{key:"urlImagePath",value:function(e){return d.b+"/util/product?productCode="+e.code}},{key:"validateCheckImage",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={"Content-Type":"application/json"},e.prev=1,e.next=4,c.a.get(d.b+"/util/product?productCode="+t.code,{headers:n},{params:{}});case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"validateCheckPDF",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={"Content-Type":"application/json"},e.prev=1,e.next=4,c.a.get(d.b+"/util/productPdf?productCode="+t.code,{headers:n},{params:{}});case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"findProductBundlingByParam",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0!==a&&""!==a||(a=0),void 0!==n&&""!==n||(n=10),r={"Content-Type":"application/json",token:t.token},l=JSON.stringify({code:t.codeFind,name:t.nameFind}),e.prev=4,e.next=7,c.a.post(d.b+"/restricted/admin/productBundling/list?page="+a+"&size="+n,l,{headers:r});case 7:return i=e.sent,e.abrupt("return",i);case 11:return e.prev=11,e.t0=e.catch(4),e.abrupt("return",e.t0.response);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"getListCreditCard",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={token:t.token},e.prev=1,e.next=4,c.a.get(d.b+"/restricted/admin/getCreditCardDataMaster",{headers:a});case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"addCcBundling",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"content-type":"multipart/form-data",token:t.token},(n=new FormData).append("code",t.code.replace(/\s/g,"")),n.append("name",t.name),n.append("masterForm",t.masterForm),n.append("product1",t.product1),n.append("product2",t.product2),n.append("tanggalAktif",u.a.convertDate(t.tanggalAktif)),n.append("tanggalNonAktif",u.a.convertDate(t.tanggalNonAktif)),n.append("type",t.type),n.append("image",t.image),e.prev=11,e.next=14,c.a.post(d.b+"/restricted/admin/productBundling/create",n,{headers:a});case 14:return r=e.sent,e.abrupt("return",r);case 18:return e.prev=18,e.t0=e.catch(11),e.abrupt("return",e.t0.response);case 21:case"end":return e.stop()}}),e,null,[[11,18]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCcBundlingProduct",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"content-type":"multipart/form-data",token:t.token},(n=new FormData).append("id",t.id),n.append("code",t.code.replace(/\s/g,"")),n.append("name",t.name),n.append("masterForm",t.masterForm),n.append("product1",t.product1),n.append("product2",t.product2),n.append("tanggalAktif",u.a.convertDate(t.tanggalAktif)),n.append("tanggalNonAktif",u.a.convertDate(t.tanggalNonAktif)),n.append("type",t.type),t.image&&n.append("image",t.image),e.prev=12,e.next=15,c.a.post(d.b+"/restricted/admin/productBundling/update",n,{headers:a});case 15:return r=e.sent,e.abrupt("return",r);case 19:return e.prev=19,e.t0=e.catch(12),e.abrupt("return",e.t0.response);case 22:case"end":return e.stop()}}),e,null,[[12,19]])})));return function(t){return e.apply(this,arguments)}}()},{key:"urlBundlingCcImagePath",value:function(e){return d.b+"/util/productBundling?bundlingCode="+e.code}},{key:"validateCheckBundlingCcImage",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={"Content-Type":"application/json"},e.prev=1,e.next=4,c.a.get(d.b+"/util/productBundling?bundlingCode="+t.code,{headers:n},{params:{}});case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}()}]),e}()},,,function(e,t,a){"use strict";a.d(t,"e",(function(){return o})),a.d(t,"h",(function(){return c})),a.d(t,"c",(function(){return u})),a.d(t,"k",(function(){return d})),a.d(t,"m",(function(){return m})),a.d(t,"g",(function(){return p})),a.d(t,"n",(function(){return h})),a.d(t,"j",(function(){return f})),a.d(t,"i",(function(){return g})),a.d(t,"b",(function(){return v})),a.d(t,"f",(function(){return b})),a.d(t,"d",(function(){return y})),a.d(t,"l",(function(){return S})),a.d(t,"a",(function(){return E}));var n=a(1),s=a.n(n),r=a(2),l=a(11);function i(e){return e.text().then((function(e){return e&&JSON.parse(e)}))}var o=function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r){var o,c,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o="".concat(l.c,"/interop/event?employerName=").concat(a,"&eventName=").concat(n,"&pageNumber=").concat(t,"&pageSize=10"),c={token:r},e.next=4,fetch(o,{method:"GET",headers:c});case 4:return u=e.sent,e.abrupt("return",i(u));case 6:case"end":return e.stop()}}),e)})));return function(t,a,n,s){return e.apply(this,arguments)}}(),c=function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(l.c,"/interop/event/status"),n={token:t},e.next=4,fetch(a,{method:"GET",headers:n});case 4:return r=e.sent,e.abrupt("return",i(r));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(l.c,"/interop/event/employer"),n={token:t},e.next=4,fetch(a,{method:"GET",headers:n});case 4:return r=e.sent,e.abrupt("return",i(r));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var r,o,c,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(l.c,"/interop/event/save"),o={token:a,"Content-Type":"application/json"},c=n.toUpperCase(),e.next=5,fetch(r,{method:c,headers:o,body:JSON.stringify(t)});case 5:return u=e.sent,e.abrupt("return",i(u));case 7:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),m=function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(l.c,"/interop/event/memo/file/upload"),r={token:a},e.next=4,fetch(n,{method:"POST",headers:r,body:t});case 4:return o=e.sent,e.abrupt("return",i(o));case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),p=function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(l.c,"/interop/event/memo/file/").concat(t),r={token:a},e.next=4,fetch(n,{method:"GET",headers:r});case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),h=function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var r,o,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(l.c,"/interop/backoffice/").concat(t,"/").concat(a),o={token:n},e.next=4,fetch(r,{method:"POST",headers:o});case 4:return c=e.sent,e.abrupt("return",i(c));case 6:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),f=function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(l.c,"/interop/backoffice/getTask/").concat(t),r={token:a},e.next=4,fetch(n,{method:"GET",headers:r});case 4:return o=e.sent,e.abrupt("return",i(o));case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),g=function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(l.c,"/interop/applicationPool/page/0?poolId=").concat(t),r={token:a},e.next=4,fetch(n,{method:"GET",headers:r});case 4:return o=e.sent,e.abrupt("return",i(o));case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),v=function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(l.b,"/restricted/admin/master/getdataBranchUser"),n={token:t},e.next=4,fetch(a,{method:"GET",headers:n});case 4:return r=e.sent,e.abrupt("return",i(r));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r,o,c,u,d,m,p;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={employerCode:a.employerCode?a.employerCode:"",employerName:a.employerName?a.employerName:"",pageNumber:a.pageNumber,pageSize:10},r=n.employerCode,o=n.employerName,c=n.pageNumber,u=n.pageSize,d="".concat(l.c,"/interop/event/application?employerCode=").concat(r,"&employerName=").concat(o,"&pageNumber=").concat(c,"&pageSize=").concat(u),m={token:t},e.next=6,fetch(d,{method:"GET",headers:m});case 6:return p=e.sent,e.abrupt("return",i(p));case 8:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),y=function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r,o){var c,u,d,m,p;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=r,u=o||10,d="".concat(l.c,"/interop/event/application/detail").concat(n,"?companyCode=").concat(t,"&pageNumber=").concat(c,"&pageSize=").concat(u),m={token:a},e.next=6,fetch(d,{method:"GET",headers:m});case 6:return p=e.sent,e.abrupt("return",i(p));case 8:case"end":return e.stop()}}),e)})));return function(t,a,n,s,r){return e.apply(this,arguments)}}(),S=function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var r,o,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(l.c,"/interop/event/submitApplicationDetailNotManaged"),o={token:a,userPrincipal:JSON.stringify(n),"Content-Type":"application/json",welcome:"Mmaank"},e.next=4,fetch(r,{method:"POST",headers:o,body:JSON.stringify(t)});case 4:return c=e.sent,e.abrupt("return",i(c));case 6:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),E=function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var r,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(l.c,"/interop/event/application/download?type=").concat(n,"&companyCode=").concat(t),i={token:a},e.next=4,fetch(r,{method:"GET",headers:i});case 4:return o=e.sent,e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAo5JREFUSA3tVc9rE1EQnnm7CQ2JLIIk262HqhdFSo+i9d6j+gfoUfDoIUWh0AiFalew2oMgePKsFy/2bitecpHgSfHS2ARBFg3F/HjjzG52E7PZZKtXH3m78775Zibz5u0bhJTjfqm0YICxKvQe9NbvNBof0piqNCS3OHvNBGMPAM/KFFmwNLZTA9wGyIHCLUJ6Vm7sL8oUWTBfNyUKDus3i8UzCsxVQjzHilCXY2kBiGoE+FP4CFQAxPNAINt0KBjxD4k+auiurzSbnwSTETqBDcs6buby7xhrMXUHQGshBIaqDYoyHCTIGFGDxg6hzg7+iFKAtMwm+e5h6+Jdz/su9qY8ZJgz+cvs7SSX8HS50WgG6NGebqm0BWB89n153muxjmrQI2pz2kYXoHA0twO2b8s+fF99OMrAQP0WCasmmG9c29lDGmQ3cJEsEUKXt/YS16EqvkJmVAMBKsecE/k87PBWOZzNbkhK9SZa4orWWy1Yrvyof0u0ce25lw9LzvNEQoJCbMR2VB3VIFIQGZyuEa1TCr4N247S4wFGGf+4nhjgJkCGC17esO15ifOg6FyVKbJgohOOrJPGxACnLEuObMUktSgOFMINmSL7GMFanyPQ2BEd07HaAJSrwP+q+ci1h3gaMbgmhrCYODGDGPsvgP8Bpm5amiLnNAUfHl/d2dCjYLy/uXCd9B4XQPFd5J+aX57XMmcKj5HaNd8B0avQEVKnBph9IpxA59vEavrHZSfETXv2KXeOC/sH9aVH/W4VOk16S+ucs51dDfR+5eDrrWFeLAPVpm3IqCtsUHUBvnDT452ZNLjBAszzVW2pjt4eZcYyEIL0ZlSZNVZeHzUYt+Z/8IJ0595wLw55vwHcN9B9DxwlBwAAAABJRU5ErkJggg=="},function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(7),c=a.n(o),u=a(16),d=a.n(u),m=a(33).a,p=function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,[{key:"getCurrency",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("userNip"),a={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:t,"Workstation-Id":null},e.prev=2,e.next=5,c.a.get(m+"/api/cms/currency",{headers:a});case 5:return n=e.sent,e.abrupt("return",n);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"findClient",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r){var l,i,o,u,d,p,h;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=localStorage.getItem("userNip"),i={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:l,"Workstation-Id":null},o=a||10,u=t?t-1:0,d=n||"",p=r||"",e.prev=6,e.next=9,c.a.get(m+"/api/cms/client/search?name="+d+"&cif="+p+"&page_no="+u+"&page_size="+o,{headers:i});case 9:return h=e.sent,e.abrupt("return",h);case 13:return e.prev=13,e.t0=e.catch(6),console.log(e.t0),e.abrupt("return",e.t0.response);case 17:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t,a,n,s){return e.apply(this,arguments)}}()},{key:"findSelectClient",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var r,l,i,o,u,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=localStorage.getItem("userNip"),l={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:r,"Workstation-Id":null},i=a||10,o=t?t-1:0,u=n||"",e.prev=5,e.next=8,c.a.get(m+"/api/cms/client/search-v2?page_no="+o+"&page_size="+i+"&q="+u,{headers:l});case 8:return d=e.sent,e.abrupt("return",d);case 12:return e.prev=12,e.t0=e.catch(5),console.log(e.t0),e.abrupt("return",e.t0.response);case 16:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"findSupplierByParam",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r,l){var i,o,u,d,p,h,f,g;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=localStorage.getItem("userNip"),o={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:i,"Workstation-Id":null},u=r||10,d=t?t-1:0,p=a||"asc",h=n||"parent_cif",f=l.search_key?l.search_key.value:"",e.prev=7,e.next=10,c.a.get(m+"/api/cms/bf/list-supplier?page_no="+d+"&page_size="+u+"&sort_by="+h+"&sort="+p+"&parent_cif="+f,{headers:o});case 10:return g=e.sent,e.abrupt("return",g);case 14:return e.prev=14,e.t0=e.catch(7),console.log(e.t0),e.abrupt("return",e.t0.response);case 18:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(t,a,n,s,r){return e.apply(this,arguments)}}()},{key:"addSupplier",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},r={parent_cif:t.parent_cif,child_cif:t.supplier_cif,child_name:t.supplier_name,child_product:t.supplier_product_draft,sales_cogs:t.cogs_draft,year_of_relationship:t.year_of_relationship_draft,term_days:t.term_days_draft,currency:t.currency_draft,status:t.status,description:t.description_draft,created_by:a},r=JSON.stringify(r),e.prev=4,e.next=7,c.a.post(m+"/api/cms/bf/supplier",r,{headers:n});case 7:return l=e.sent,e.abrupt("return",l);case 11:return e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteSupplier",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},r={status:"requestDelete",updated_by:a},r=JSON.stringify(r),e.prev=4,e.next=7,c.a.put(m+"/api/cms/bf/supplier/parent/"+t.parent_cif+"/child/"+t.supplier_cif+"/delete",r,{headers:n});case 7:return l=e.sent,e.abrupt("return",l);case 11:return e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateSupplier",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},r={parent_cif:t.parent_cif,child_cif:t.supplier_cif,child_name:t.supplier_name,child_product:t.supplier_product_draft,sales_cogs:t.cogs_draft,year_of_relationship:t.year_of_relationship_draft,term_days:t.term_days_draft,currency:t.currency_draft,status:t.status,description:t.description_draft,created_by:a,is_deleted:t.is_deleted_draft},r=JSON.stringify(r),e.prev=4,e.next=7,c.a.put(m+"/api/cms/bf/supplier",r,{headers:n});case 7:return l=e.sent,e.abrupt("return",l);case 11:return e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"approveSupplier",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},r={status:t.status,approved_by:a},r=JSON.stringify(r),e.prev=4,e.next=7,c.a.put(m+"/api/cms/bf/supplier/parent/"+t.parent_cif+"/child/"+t.supplier_cif+"/approve",r,{headers:n});case 7:return l=e.sent,e.abrupt("return",l);case 11:return e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"rejectSupplier",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},r={status:t.status,approved_by:a,remarks:t.remarks},r=JSON.stringify(r),e.prev=4,e.next=7,c.a.put(m+"/api/cms/bf/supplier/parent/"+t.parent_cif+"/child/"+t.supplier_cif+"/reject",r,{headers:n});case 7:return l=e.sent,e.abrupt("return",l);case 11:return e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"donwloadTemplate",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=m+"/api/cms/bf/download/supplier.xlsx",e.abrupt("return",a);case 5:return e.prev=5,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",e.t0.response);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"uploadFileSupplier",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=localStorage.getItem("userNip"),r={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:n,"Workstation-Id":null},!n){e.next=14;break}return e.prev=3,e.next=6,c.a.post(m+"/api/cms/bf/upload/supplier?insert_by="+n+"&status=submitted",t,{headers:r});case 6:return l=e.sent,e.abrupt("return",l);case 10:return e.prev=10,e.t0=e.catch(3),console.log(e.t0),e.abrupt("return",e.t0.response);case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"findUploadSupplierByParam",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r,l){var i,o,u,p,h,f,g,v,b,y;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=localStorage.getItem("userNip"),o={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:i,"Workstation-Id":null},u=r||10,p=t?t-1:0,h=a||"asc",f=n||"file_name",g=l.search_status?l.search_status:"",v=l.insert_date?d()(l.insert_date).format("YYYY-MM-DD"):"",b=l.isChecker?"":i,e.prev=9,e.next=12,c.a.get(m+"/api/cms/bf/list-file/supplier?insert_by="+b+"&status="+g+"&insertAt="+v+"&page_no="+p+"&page_size="+u+"&sort_by="+f+"&sort="+h,{headers:o});case 12:return y=e.sent,e.abrupt("return",y);case 16:return e.prev=16,e.t0=e.catch(9),console.log(e.t0),e.abrupt("return",e.t0.response);case 20:case"end":return e.stop()}}),e,null,[[9,16]])})));return function(t,a,n,s,r){return e.apply(this,arguments)}}()},{key:"findUploadDetailSupplierByParam",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r,l){var i,o,u,d,p,h,f,g,v;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=localStorage.getItem("userNip"),o={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:i,"Workstation-Id":null},u=r||10,d=t?t-1:0,p=a||"asc",h=n||"parent_cif",f=l.search_key?l.search_key.value:"",g=l.selectedFile&&l.selectedFile.id?l.selectedFile.id:"",e.prev=8,e.next=11,c.a.get(m+"/api/cms/bf/list-supplier/file?page_no="+d+"&page_size="+u+"&sort_by="+h+"&sort="+p+"&parent_cif="+f+"&file_id="+g,{headers:o});case 11:return v=e.sent,e.abrupt("return",v);case 15:return e.prev=15,e.t0=e.catch(8),console.log(e.t0),e.abrupt("return",e.t0.response);case 19:case"end":return e.stop()}}),e,null,[[8,15]])})));return function(t,a,n,s,r){return e.apply(this,arguments)}}()},{key:"approveFileSupplier",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},r={status:t.status,approved_by:a},r=JSON.stringify(r),e.prev=4,e.next=7,c.a.put(m+"/api/cms/bf/file-supplier/"+t.selectedFile.id+"/approve",r,{headers:n});case 7:return l=e.sent,e.abrupt("return",l);case 11:return e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"rejectFileSupplier",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},r={status:t.status,approved_by:a,remarks:t.remarks},r=JSON.stringify(r),e.prev=4,e.next=7,c.a.put(m+"/api/cms/bf/file-supplier/"+t.selectedFile.id+"/reject",r,{headers:n});case 7:return l=e.sent,e.abrupt("return",l);case 11:return e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()}]),e}()},function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(7),c=a.n(o),u=a(16),d=a.n(u),m=a(33).a,p=function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,[{key:"getCurrency",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("userNip"),a={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:t,"Workstation-Id":null},e.prev=2,e.next=5,c.a.get(m+"/api/cms/currency",{headers:a});case 5:return n=e.sent,e.abrupt("return",n);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"findClient",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r){var l,i,o,u,d,p,h;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=localStorage.getItem("userNip"),i={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:l,"Workstation-Id":null},o=a||10,u=t?t-1:0,d=n||"",p=r||"",e.prev=6,e.next=9,c.a.get(m+"/api/cms/client/search?name="+d+"&cif="+p+"&page_no="+u+"&page_size="+o,{headers:i});case 9:return h=e.sent,e.abrupt("return",h);case 13:return e.prev=13,e.t0=e.catch(6),console.log(e.t0),e.abrupt("return",e.t0.response);case 17:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t,a,n,s){return e.apply(this,arguments)}}()},{key:"findSelectClient",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var r,l,i,o,u,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=localStorage.getItem("userNip"),l={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:r,"Workstation-Id":null},i=a||10,o=t?t-1:0,u=n||"",e.prev=5,e.next=8,c.a.get(m+"/api/cms/client/search-v2?page_no="+o+"&page_size="+i+"&q="+u,{headers:l});case 8:return d=e.sent,e.abrupt("return",d);case 12:return e.prev=12,e.t0=e.catch(5),console.log(e.t0),e.abrupt("return",e.t0.response);case 16:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"findBuyerByParam",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r,l){var i,o,u,d,p,h,f,g;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=localStorage.getItem("userNip"),o={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:i,"Workstation-Id":null},u=r||10,d=t?t-1:0,p=a||"asc",h=n||"parent_name",f=l.search_key?l.search_key.value:"",e.prev=7,e.next=10,c.a.get(m+"/api/cms/bf/list-buyer?page_no="+d+"&page_size="+u+"&sort_by="+h+"&sort="+p+"&parent_cif="+f,{headers:o});case 10:return g=e.sent,e.abrupt("return",g);case 14:return e.prev=14,e.t0=e.catch(7),console.log(e.t0),e.abrupt("return",e.t0.response);case 18:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(t,a,n,s,r){return e.apply(this,arguments)}}()},{key:"addBuyer",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},r={parent_cif:t.parent_cif,child_cif:t.buyer_cif,child_name:t.buyer_name,child_product:t.buyer_product_draft,sales_cogs:t.sales_draft,year_of_relationship:t.year_of_relationship_draft,term_days:t.term_days_draft,currency:t.currency_draft,status:t.status,description:t.description_draft,created_by:a},r=JSON.stringify(r),e.prev=4,e.next=7,c.a.post(m+"/api/cms/bf/buyer",r,{headers:n});case 7:return l=e.sent,e.abrupt("return",l);case 11:return e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteBuyer",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},r={status:"requestDelete",updated_by:a},r=JSON.stringify(r),e.prev=4,e.next=7,c.a.put(m+"/api/cms/bf/buyer/parent/"+t.parent_cif+"/child/"+t.buyer_cif+"/delete",r,{headers:n});case 7:return l=e.sent,e.abrupt("return",l);case 11:return e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateBuyer",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},r={parent_cif:t.parent_cif,child_cif:t.buyer_cif,child_name:t.buyer_name,child_product:t.buyer_product_draft,sales_cogs:t.sales_draft,year_of_relationship:t.year_of_relationship_draft,term_days:t.term_days_draft,currency:t.currency_draft,status:t.status,description:t.description_draft,created_by:a,is_deleted:t.is_deleted_draft},r=JSON.stringify(r),e.prev=4,e.next=7,c.a.put(m+"/api/cms/bf/buyer",r,{headers:n});case 7:return l=e.sent,e.abrupt("return",l);case 11:return e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"approveBuyer",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},r={status:t.status,approved_by:a},r=JSON.stringify(r),e.prev=4,e.next=7,c.a.put(m+"/api/cms/bf/buyer/parent/"+t.parent_cif+"/child/"+t.buyer_cif+"/approve",r,{headers:n});case 7:return l=e.sent,e.abrupt("return",l);case 11:return e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"rejectBuyer",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},r={status:t.status,approved_by:a,remarks:t.remarks},r=JSON.stringify(r),e.prev=4,e.next=7,c.a.put(m+"/api/cms/bf/buyer/parent/"+t.parent_cif+"/child/"+t.buyer_cif+"/reject",r,{headers:n});case 7:return l=e.sent,e.abrupt("return",l);case 11:return e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"donwloadTemplate",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=m+"/api/cms/bf/download/buyer.xlsx",e.abrupt("return",a);case 5:return e.prev=5,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",e.t0.response);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"uploadFileBuyer",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=localStorage.getItem("userNip"),r={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:n,"Workstation-Id":null},!n){e.next=14;break}return e.prev=3,e.next=6,c.a.post(m+"/api/cms/bf/upload/buyer?insert_by="+n+"&status=submitted",t,{headers:r});case 6:return l=e.sent,e.abrupt("return",l);case 10:return e.prev=10,e.t0=e.catch(3),console.log(e.t0),e.abrupt("return",e.t0.response);case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"findUploadBuyerByParam",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r,l){var i,o,u,p,h,f,g,v,b,y;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=localStorage.getItem("userNip"),o={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:i,"Workstation-Id":null},u=l.search_status?l.search_status:"",p=r||10,h=t?t-1:0,f=a||"asc",g=n||"file_name",v=l.insert_date?d()(l.insert_date).format("YYYY-MM-DD"):"",b=l.isChecker?"":i,e.prev=9,e.next=12,c.a.get(m+"/api/cms/bf/list-file/buyer?insert_by="+b+"&status="+u+"&insertAt="+v+"&page_no="+h+"&page_size="+p+"&sort_by="+g+"&sort="+f,{headers:o});case 12:return y=e.sent,e.abrupt("return",y);case 16:return e.prev=16,e.t0=e.catch(9),console.log(e.t0),e.abrupt("return",e.t0.response);case 20:case"end":return e.stop()}}),e,null,[[9,16]])})));return function(t,a,n,s,r){return e.apply(this,arguments)}}()},{key:"findUploadDetailBuyerByParam",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r,l){var i,o,u,d,p,h,f,g,v;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=localStorage.getItem("userNip"),o={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:i,"Workstation-Id":null},u=r||10,d=t?t-1:0,p=a||"asc",h=n||"parent_cif",f=l.search_key?l.search_key.value:"",g=l.selectedFile&&l.selectedFile.id?l.selectedFile.id:"",e.prev=8,e.next=11,c.a.get(m+"/api/cms/bf/list-buyer/file?page_no="+d+"&page_size="+u+"&sort_by="+h+"&sort="+p+"&parent_cif="+f+"&file_id="+g,{headers:o});case 11:return v=e.sent,e.abrupt("return",v);case 15:return e.prev=15,e.t0=e.catch(8),console.log(e.t0),e.abrupt("return",e.t0.response);case 19:case"end":return e.stop()}}),e,null,[[8,15]])})));return function(t,a,n,s,r){return e.apply(this,arguments)}}()},{key:"approveFileBuyer",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},r={status:t.status,approved_by:a},r=JSON.stringify(r),e.prev=4,e.next=7,c.a.put(m+"/api/cms/bf/file-buyer/"+t.selectedFile.id+"/approve",r,{headers:n});case 7:return l=e.sent,e.abrupt("return",l);case 11:return e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"rejectFileBuyer",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},r={status:t.status,approved_by:a,remarks:t.remarks},r=JSON.stringify(r),e.prev=4,e.next=7,c.a.put(m+"/api/cms/bf/file-buyer/"+t.selectedFile.id+"/reject",r,{headers:n});case 7:return l=e.sent,e.abrupt("return",l);case 11:return e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()}]),e}()},,,,,,function(e,t,a){"use strict";t.a={convertDate:function(e){var t=new Date(e),a=("0"+(t.getMonth()+1)).slice(-2),n=("0"+t.getDate()).slice(-2);return[t.getFullYear(),a,n].join("-")},validateEmail:function(e){return new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i).test(e)},convertBirthDate:function(e){var t=new Date(e),a=("0"+(t.getMonth()+1)).slice(-2);return[("0"+t.getDate()).slice(-2),a,t.getFullYear()].join("/")},convertBase64:function(e){return t=e,new Promise((function(e,a){var n=new FileReader;n.onerror=a,n.onload=function(){e(n.result)},n.readAsDataURL(t)}));var t},fetchAsBlob:function(e){return function(e){return fetch(e).then((function(e){return e.blob()})).catch((function(e){return e.message})).finally((function(e){return e}))}(e)},b64toBlob:function(e){return function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:512,n=atob(e),s=[],r=0;r<n.length;r+=a){for(var l=n.slice(r,r+a),i=new Array(l.length),o=0;o<l.length;o++)i[o]=l.charCodeAt(o);var c=new Uint8Array(i);s.push(c)}var u=new Blob(s,{type:t});return u}(e)}}},,function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(7),c=a.n(o),u=a(11),d=a(75),m=a(159),p=function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,[{key:"getListCampignCategory",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={token:t.token},e.prev=1,e.next=4,c.a.get(u.b+"/restricted/admin/master/getdataLookupByTypeAllStatus/campaignCategory",{headers:a});case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"findListCampignCategoryByParam",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",token:t.token},n=JSON.stringify({code:t.codeFind,name:t.nameFind}),e.prev=2,e.next=5,c.a.post(u.b+"/restricted/admin/master/getdataLookupByTypeAllStatus/campaignCategory",n,{headers:a});case 5:return r=e.sent,e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getListCampaignStatus",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={token:t.token},e.prev=1,e.next=4,c.a.get(u.b+"/restricted/admin/master/getdataStatusByType/lookup",{headers:a});case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteCampaignCategory",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={"Content-Type":"application/json",token:a},r=JSON.stringify({id:t.id,type:t.type,code:t.code,name:t.name,priority:t.priority,description:t.description,shortname:t.shortname,statusId:t.status.id}),e.prev=2,e.next=5,c.a.post(u.b+"/restricted/admin/campaignCategory/delete",r,{headers:n});case 5:return l=e.sent,e.abrupt("return",l);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"createCampaignCategory",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",token:t.token},n=JSON.stringify({id:t.id,type:t.type,code:t.code.replace(/\s/g,""),name:t.name,priority:t.priority,description:t.description,shortname:t.shortname,statusId:t.statusId}),e.prev=2,e.next=5,c.a.post(u.b+"/restricted/admin/campaignCategory/create",n,{headers:a});case 5:return r=e.sent,e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCampaignCategory",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",token:t.token},n=JSON.stringify({id:t.id,type:t.type,code:t.code.replace(/\s/g,""),name:t.name,priority:t.priority,description:t.description,shortname:t.shortname,statusId:t.statusId}),e.prev=2,e.next=5,c.a.post(u.b+"/restricted/admin/campaignCategory/update",n,{headers:a});case 5:return r=e.sent,e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getListCampignActive",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={token:t.token},e.prev=1,e.next=4,c.a.get(u.b+"/restricted/admin/campaign/list",{headers:a});case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"findCampaignByParam",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0!==a&&""!==a||(a=0),void 0!==n&&""!==n||(n=10),r={token:t.token,"Content-Type":"application/json"},l=JSON.stringify({code:t.codeFind,title:t.titleFind}),e.prev=4,e.next=7,c.a.post(u.b+"/restricted/admin/campaign/list?page="+a+"&size="+n,l,{headers:r});case 7:return i=e.sent,e.abrupt("return",i);case 11:return e.prev=11,e.t0=e.catch(4),e.abrupt("return",e.t0.response);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"getCampaignById",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={"Content-Type":"application/json",token:a},e.prev=1,e.next=4,c.a.get(u.b+"/restricted/admin/campaign/detail?id="+t.id,{headers:n},{params:{id:t.id}});case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"validateCheckImage",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={"Content-Type":"application/json"},e.prev=1,e.next=4,c.a.get(u.b+"/util/campaign?campaignCode="+t.code,{headers:n},{params:{}});case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"addCampaign",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"content-type":"multipart/form-data",token:t.token},(n=new FormData).append("code",t.code.replace(/\s/g,"")),n.append("title",t.title),n.append("description",t.description),n.append("imageUrl",t.code),n.append("categoryId",t.categoryId),n.append("startDate",d.a.convertDate(t.startDate)),n.append("endDate",d.a.convertDate(t.endDate)),n.append("htmlContent",Object(m.htmlEncode)(t.htmlContent)),n.append("image",t.image),n.append("shareToEmailId",t.shareToEmail),e.prev=12,e.next=15,c.a.post(u.b+"/restricted/admin/campaign/create",n,{headers:a});case 15:return r=e.sent,e.abrupt("return",r);case 19:return e.prev=19,e.t0=e.catch(12),e.abrupt("return",e.t0.response);case 22:case"end":return e.stop()}}),e,null,[[12,19]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCampaign",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"content-type":"multipart/form-data",token:t.token},(n=new FormData).append("id",t.id),n.append("code",t.code.replace(/\s/g,"")),n.append("title",t.title),n.append("description",t.description),n.append("imageUrl",t.imageUrl),n.append("categoryId",t.categoryId),n.append("startDate",d.a.convertDate(t.startDate)),n.append("endDate",d.a.convertDate(t.endDate)),n.append("htmlContent",Object(m.htmlEncode)(t.htmlContent)),t.image&&n.append("image",t.image),n.append("shareToEmailId",t.shareToEmail),e.prev=13,e.next=16,c.a.post(u.b+"/restricted/admin/campaign/update",n,{headers:a});case 16:return r=e.sent,e.abrupt("return",r);case 20:return e.prev=20,e.t0=e.catch(13),e.abrupt("return",e.t0.response);case 23:case"end":return e.stop()}}),e,null,[[13,20]])})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteCampaign",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={"Content-Type":"application/json",token:a},r=JSON.stringify({id:t.id,code:t.code,title:t.title,description:t.description,imageUrl:t.code}),e.prev=2,e.next=5,c.a.post(u.b+"/restricted/admin/campaign/delete",r,{headers:n});case 5:return l=e.sent,e.abrupt("return",l);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"urlImageCampaignPath",value:function(e){return u.b+"/util/campaign?campaignCode="+e.code}},{key:"doGetShareListOptions",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={token:t.token},e.prev=1,e.next=4,c.a.get(u.b+"/restricted/admin/getStatusData?status="+a,{headers:n});case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}()}]),e}()},function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(7),c=a.n(o),u=a(16),d=a.n(u),m=a(33).a,p=function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,[{key:"getIncomeParameter",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},e.prev=2,e.next=5,c.a.get(m+"/api/cms/facility-income/parameter/",{headers:n});case 5:return r=e.sent,e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(2),console.log(e.t0),e.abrupt("return",e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"submitIncomeParam",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},!t){e.next=17;break}return r=t.dataTobeSave?t.dataTobeSave:[],l={status:t.status,updated_by:a,data:r},l=JSON.stringify(l),e.prev=6,e.next=9,c.a.post(m+"/api/cms/facility-income/parameter/draft/submit/",l,{headers:n});case 9:return i=e.sent,e.abrupt("return",i);case 13:return e.prev=13,e.t0=e.catch(6),console.log(e.t0),e.abrupt("return",e.t0.response);case 17:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"rejectIncomeParam",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},r={status:t.status,approved_by:a,remarks:t.remarks},r=JSON.stringify(r),e.prev=4,e.next=7,c.a.post(m+"/api/cms/facility-income/parameter/draft/reject/",r,{headers:n});case 7:return l=e.sent,e.abrupt("return",l);case 11:return e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"approveIncomeParam",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},r={status:t.status,approved_by:a},r=JSON.stringify(r),e.prev=4,e.next=7,c.a.post(m+"/api/cms/facility-income/parameter/draft/approve/",r,{headers:n});case 7:return l=e.sent,e.abrupt("return",l);case 11:return e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"findClient",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r){var l,i,o,u,d,p,h;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=localStorage.getItem("userNip"),i={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:l,"Workstation-Id":null},o=a||10,u=t?t-1:0,d=n||"",p=r||"",e.prev=6,e.next=9,c.a.get(m+"/api/cms/client/search?name="+d+"&cif="+p+"&page_no="+u+"&page_size="+o,{headers:i});case 9:return h=e.sent,e.abrupt("return",h);case 13:return e.prev=13,e.t0=e.catch(6),console.log(e.t0),e.abrupt("return",e.t0.response);case 17:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t,a,n,s){return e.apply(this,arguments)}}()},{key:"findSelectClient",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var r,l,i,o,u,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=localStorage.getItem("userNip"),l={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:r,"Workstation-Id":null},i=a||10,o=t?t-1:0,u=n||"",e.prev=5,e.next=8,c.a.get(m+"/api/cms/client/search-v2?page_no="+o+"&page_size="+i+"&q="+u,{headers:l});case 8:return d=e.sent,e.abrupt("return",d);case 12:return e.prev=12,e.t0=e.catch(5),console.log(e.t0),e.abrupt("return",e.t0.response);case 16:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"findIncomeByParam",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r,l){var i,o,u,d,p,h,f,g;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=localStorage.getItem("userNip"),o={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:i,"Workstation-Id":null},u=r||10,d=t?t-1:0,p=a||"asc",h=n||"parent_name",f=l.search_key?l.search_key.value:"",e.prev=7,e.next=10,c.a.get(m+"/api/cms/facility-income/list-income?page_no="+d+"&page_size="+u+"&sort_by="+h+"&sort="+p+"&client_cif="+f,{headers:o});case 10:return g=e.sent,e.abrupt("return",g);case 14:return e.prev=14,e.t0=e.catch(7),console.log(e.t0),e.abrupt("return",e.t0.response);case 18:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(t,a,n,s,r){return e.apply(this,arguments)}}()},{key:"downloadTemplate",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/vnd.ms-excel;charset=UTF-8",Username:a,"Workstation-Id":null},e.prev=2,e.next=5,c.a.get(m+"/api/cms/facility-income/template-income/income.xlsx",{responseType:"blob"},{headers:n});case 5:return r=e.sent,e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(2),console.log(e.t0),e.abrupt("return",e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"uploadFileIncome",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=localStorage.getItem("userNip"),r={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:n,"Workstation-Id":null},!n){e.next=14;break}return e.prev=3,e.next=6,c.a.post(m+"/api/cms/facility-income/upload/income?insert_by="+n+"&status=submitted",t,{headers:r});case 6:return l=e.sent,e.abrupt("return",l);case 10:return e.prev=10,e.t0=e.catch(3),console.log(e.t0),e.abrupt("return",e.t0.response);case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"findUploadIncomeByParam",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r,l){var i,o,u,p,h,f,g,v,b,y;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=localStorage.getItem("userNip"),o={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:i,"Workstation-Id":null},u=l.search_status?l.search_status:"",p=r||10,h=t?t-1:0,f=a||"asc",g=n||"file_name",v=l.insert_date?d()(l.insert_date).format("YYYY-MM-DD"):"",b=l.isChecker?"":i,e.prev=9,e.next=12,c.a.get(m+"/api/cms/facility-income/list-file/income?insert_by="+b+"&status="+u+"&insertAt="+v+"&page_no="+h+"&page_size="+p+"&sort_by="+g+"&sort="+f,{headers:o});case 12:return y=e.sent,e.abrupt("return",y);case 16:return e.prev=16,e.t0=e.catch(9),console.log(e.t0),e.abrupt("return",e.t0.response);case 20:case"end":return e.stop()}}),e,null,[[9,16]])})));return function(t,a,n,s,r){return e.apply(this,arguments)}}()},{key:"findUploadDetailIncomeByParam",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r,l){var i,o,u,d,p,h,f,g,v;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=localStorage.getItem("userNip"),o={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:i,"Workstation-Id":null},u=r||10,d=t?t-1:0,p=a||"asc",h=n||"parent_cif",f=l.search_key?l.search_key.value:"",g=l.selectedFile&&l.selectedFile.id?l.selectedFile.id:"",e.prev=8,e.next=11,c.a.get(m+"/api/cms/facility-income/list-income/file?page_no="+d+"&page_size="+u+"&sort_by="+h+"&sort="+p+"&parent_cif="+f+"&file_id="+g,{headers:o});case 11:return v=e.sent,e.abrupt("return",v);case 15:return e.prev=15,e.t0=e.catch(8),console.log(e.t0),e.abrupt("return",e.t0.response);case 19:case"end":return e.stop()}}),e,null,[[8,15]])})));return function(t,a,n,s,r){return e.apply(this,arguments)}}()},{key:"approveFileIncome",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},r={status:t.status,approved_by:a},r=JSON.stringify(r),e.prev=4,e.next=7,c.a.put(m+"/api/cms/facility-income/file-income/"+t.selectedFile.id+"/approve",r,{headers:n});case 7:return l=e.sent,e.abrupt("return",l);case 11:return e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"rejectFileIncome",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},r={status:t.status,approved_by:a,remarks:t.remarks},r=JSON.stringify(r),e.prev=4,e.next=7,c.a.put(m+"/api/cms/facility-income/file-income/"+t.selectedFile.id+"/reject",r,{headers:n});case 7:return l=e.sent,e.abrupt("return",l);case 11:return e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()}]),e}()},function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(7),c=a.n(o),u=a(16),d=a.n(u),m=a(33).a,p=function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,[{key:"findClient",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r){var l,i,o,u,d,p,h;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=localStorage.getItem("userNip"),i={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:l,"Workstation-Id":null},o=a||10,u=t?t-1:0,d=n||"",p=r||"",e.prev=6,e.next=9,c.a.get(m+"/api/cms/client/search?name="+d+"&cif="+p+"&page_no="+u+"&page_size="+o,{headers:i});case 9:return h=e.sent,e.abrupt("return",h);case 13:return e.prev=13,e.t0=e.catch(6),console.log(e.t0),e.abrupt("return",e.t0.response);case 17:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t,a,n,s){return e.apply(this,arguments)}}()},{key:"findSelectClient",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var r,l,i,o,u,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=localStorage.getItem("userNip"),l={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:r,"Workstation-Id":null},i=a||10,o=t?t-1:0,u=n||"",e.prev=5,e.next=8,c.a.get(m+"/api/cms/client/search-v2?page_no="+o+"&page_size="+i+"&q="+u,{headers:l});case 8:return d=e.sent,e.abrupt("return",d);case 12:return e.prev=12,e.t0=e.catch(5),console.log(e.t0),e.abrupt("return",e.t0.response);case 16:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"findProductHoldingByParam",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r,l){var i,o,u,d,p,h,f,g;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=localStorage.getItem("userNip"),o={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:i,"Workstation-Id":null},u=r||10,d=t?t-1:0,p=a||"asc",h=n||"parent_name",f=l.search_key?l.search_key.value:"",e.prev=7,e.next=10,c.a.get(m+"/api/cms/product-holding?page_no="+d+"&page_size="+u+"&sort_by="+h+"&sort="+p+"&client_cif="+f,{headers:o});case 10:return g=e.sent,e.abrupt("return",g);case 14:return e.prev=14,e.t0=e.catch(7),console.log(e.t0),e.abrupt("return",e.t0.response);case 18:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(t,a,n,s,r){return e.apply(this,arguments)}}()},{key:"downloadTemplate",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/vnd.ms-excel;charset=UTF-8",Username:a,"Workstation-Id":null},e.prev=2,e.next=5,c.a.get(m+"/api/cms/product-holding/download/product-holding.xlsx",{responseType:"blob"},{headers:n});case 5:return r=e.sent,e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(2),console.log(e.t0),e.abrupt("return",e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"uploadFileProductHolding",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=localStorage.getItem("userNip"),r={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:n,"Workstation-Id":null},!n){e.next=14;break}return e.prev=3,e.next=6,c.a.post(m+"/api/cms/product-holding/upload/product?insert_by="+n+"&status=submitted",t,{headers:r});case 6:return l=e.sent,e.abrupt("return",l);case 10:return e.prev=10,e.t0=e.catch(3),console.log(e.t0),e.abrupt("return",e.t0.response);case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"findUploadProductHoldingByParam",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r,l){var i,o,u,p,h,f,g,v,b,y;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=localStorage.getItem("userNip"),o={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:i,"Workstation-Id":null},u=l.search_status?l.search_status:"",p=r||10,h=t?t-1:0,f=a||"asc",g=n||"file_name",v=l.insert_date?d()(l.insert_date).format("YYYY-MM-DD"):"",b=l.isChecker?"":i,e.prev=9,e.next=12,c.a.get(m+"/api/cms/product-holding/list-file/product?insert_by="+b+"&status="+u+"&insertAt="+v+"&page_no="+h+"&page_size="+p+"&sort_by="+g+"&sort="+f,{headers:o});case 12:return y=e.sent,e.abrupt("return",y);case 16:return e.prev=16,e.t0=e.catch(9),console.log(e.t0),e.abrupt("return",e.t0.response);case 20:case"end":return e.stop()}}),e,null,[[9,16]])})));return function(t,a,n,s,r){return e.apply(this,arguments)}}()},{key:"findUploadDetailProductHoldingByParam",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r,l){var i,o,u,d,p,h,f,g,v;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=localStorage.getItem("userNip"),o={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:i,"Workstation-Id":null},u=r||10,d=t?t-1:0,p=a||"asc",h=n||"parent_cif",f=l.search_key?l.search_key.value:"",g=l.selectedFile&&l.selectedFile.id?l.selectedFile.id:"",e.prev=8,e.next=11,c.a.get(m+"/api/cms/product-holding/list-product/file?page_no="+d+"&page_size="+u+"&sort_by="+h+"&sort="+p+"&client_cif="+f+"&file_id="+g,{headers:o});case 11:return v=e.sent,e.abrupt("return",v);case 15:return e.prev=15,e.t0=e.catch(8),console.log(e.t0),e.abrupt("return",e.t0.response);case 19:case"end":return e.stop()}}),e,null,[[8,15]])})));return function(t,a,n,s,r){return e.apply(this,arguments)}}()},{key:"approveFileProductHolding",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},r={status:t.status,approved_by:a},r=JSON.stringify(r),e.prev=4,e.next=7,c.a.put(m+"/api/cms/product-holding/file-product/"+t.selectedFile.id+"/approve",r,{headers:n});case 7:return l=e.sent,e.abrupt("return",l);case 11:return e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"rejectFileProductHolding",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},r={status:t.status,approved_by:a,remarks:t.remarks},r=JSON.stringify(r),e.prev=4,e.next=7,c.a.put(m+"/api/cms/product-holding/file-product/"+t.selectedFile.id+"/reject",r,{headers:n});case 7:return l=e.sent,e.abrupt("return",l);case 11:return e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getAllProductHoldingParam",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},e.prev=2,e.next=5,c.a.get(m+"/api/cms/product-holding/parameter",{headers:n});case 5:return r=e.sent,e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(2),console.log(e.t0),e.abrupt("return",e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateListProduct",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l,i,o,u,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i in a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},r=t.items,l=[],r)(o={}).id=r[i].id,o.product_name=r[i].product_draft,o.is_deleted=r[i].is_deleted_draft,l.push(o);return u={status:"submitted",user_by:a,list_data:l},u=JSON.stringify(u),e.prev=7,e.next=10,c.a.put(m+"/api/cms/product-holding/parameter/submit",u,{headers:n});case 10:return d=e.sent,e.abrupt("return",d);case 14:return e.prev=14,e.t0=e.catch(7),console.log(e.t0),e.abrupt("return",e.t0.response);case 18:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(t){return e.apply(this,arguments)}}()},{key:"rejectParamProductHolding",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},r={status:"rejected",approved_by:a,remarks:t.remarks},r=JSON.stringify(r),e.prev=4,e.next=7,c.a.put(m+"/api/cms/product-holding/parameter/reject",r,{headers:n});case 7:return l=e.sent,e.abrupt("return",l);case 11:return e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"approveParamProductHolding",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},r={status:"approved",approved_by:a},r=JSON.stringify(r),e.prev=4,e.next=7,c.a.put(m+"/api/cms/product-holding/parameter/approve",r,{headers:n});case 7:return l=e.sent,e.abrupt("return",l);case 11:return e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()}]),e}()},,function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(7),c=a.n(o),u=a(16),d=a.n(u),m=a(33).a,p=function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,[{key:"findKpiSettingByParam",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r,l){var i,o,u,d,p,h,f,g,v,b;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=localStorage.getItem("userNip"),o={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:i,"Workstation-Id":null},u=r||10,d=t?t-1:0,p=a||"asc",h=n||"key_performance",f=l.bu?l.bu:"",g=l.year?l.year:"",v=l.role?l.role:"",e.prev=9,e.next=12,c.a.get(m+"/api/cms/kpi/list-kpi-setting?page_no="+d+"&page_size="+u+"&sort_by="+h+"&sort="+p+"&year="+g+"&bu_id="+f+"&role_id="+v,{headers:o});case 12:return b=e.sent,e.abrupt("return",b);case 16:return e.prev=16,e.t0=e.catch(9),console.log(e.t0),e.abrupt("return",e.t0.response);case 20:case"end":return e.stop()}}),e,null,[[9,16]])})));return function(t,a,n,s,r){return e.apply(this,arguments)}}()},{key:"downloadTemplate",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},r=t.bu?t.bu:"1",l=t.role?t.role:"2",e.prev=4,e.next=7,c.a.get(m+"/api/cms/kpi/template-goal/role-id/"+l+"/bu-id/"+r+"/kpigoal.xlsx",{responseType:"blob"},{headers:n});case 7:return i=e.sent,e.abrupt("return",i);case 11:return e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"uploadFileKpiSetting",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=localStorage.getItem("userNip"),r={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:n,"Workstation-Id":null},!n){e.next=14;break}return e.prev=3,e.next=6,c.a.post(m+"/api/cms/kpi/upload/kpi-setting?insert_by="+n+"&status=submitted",t,{headers:r});case 6:return l=e.sent,e.abrupt("return",l);case 10:return e.prev=10,e.t0=e.catch(3),console.log(e.t0),e.abrupt("return",e.t0.response);case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"findUploadKpiSettingByParam",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r,l){var i,o,u,p,h,f,g,v,b,y;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=localStorage.getItem("userNip"),o={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:i,"Workstation-Id":null},u=l.search_status?l.search_status:"",p=r||10,h=t?t-1:0,f=a||"asc",g=n||"file_name",v=l.insert_date?d()(l.insert_date).format("YYYY-MM-DD"):"",b=l.isChecker?"":i,e.prev=9,e.next=12,c.a.get(m+"/api/cms/kpi/list-file/kpi-setting?insert_by="+b+"&status="+u+"&insertAt="+v+"&page_no="+h+"&page_size="+p+"&sort_by="+g+"&sort="+f,{headers:o});case 12:return y=e.sent,e.abrupt("return",y);case 16:return e.prev=16,e.t0=e.catch(9),console.log(e.t0),e.abrupt("return",e.t0.response);case 20:case"end":return e.stop()}}),e,null,[[9,16]])})));return function(t,a,n,s,r){return e.apply(this,arguments)}}()},{key:"findUploadDetailKpiSettingByParam",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r,l){var i,o,u,d,p,h,f,g;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=localStorage.getItem("userNip"),o={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:i,"Workstation-Id":null},u=r||10,d=t?t-1:0,p=a||"asc",h=n||"key_performance",f=l.selectedFile&&l.selectedFile.id?l.selectedFile.id:"",e.prev=7,e.next=10,c.a.get(m+"/api/cms/kpi/list-kpi-setting/file?page_no="+d+"&page_size="+u+"&sort_by="+h+"&sort="+p+"&file_id="+f,{headers:o});case 10:return g=e.sent,e.abrupt("return",g);case 14:return e.prev=14,e.t0=e.catch(7),console.log(e.t0),e.abrupt("return",e.t0.response);case 18:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(t,a,n,s,r){return e.apply(this,arguments)}}()},{key:"approveFileKpiSetting",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},r={status:t.status,approved_by:a},r=JSON.stringify(r),e.prev=4,e.next=7,c.a.put(m+"/api/cms/kpi/file-kpi-setting/"+t.selectedFile.id+"/approve",r,{headers:n});case 7:return l=e.sent,e.abrupt("return",l);case 11:return e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"rejectFileKpiSetting",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},r={status:t.status,approved_by:a,remarks:t.remarks},r=JSON.stringify(r),e.prev=4,e.next=7,c.a.put(m+"/api/cms/kpi/file-kpi-setting/"+t.selectedFile.id+"/reject",r,{headers:n});case 7:return l=e.sent,e.abrupt("return",l);case 11:return e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getRoleRmwb",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("userNip"),a={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:t,"Workstation-Id":null},e.prev=2,e.next=5,c.a.get(m+"/api/cms/role",{headers:a});case 5:return n=e.sent,e.abrupt("return",n);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"getBusinessUser",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("userNip"),a={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:t,"Workstation-Id":null},e.prev=2,e.next=5,c.a.get(m+"/api/cms/bu",{headers:a});case 5:return n=e.sent,e.abrupt("return",n);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}()}]),e}()},,,,function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(7),c=a.n(o),u=a(16),d=a.n(u),m=a(33).a,p=function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,[{key:"findKpiActualByParam",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r,l){var i,o,u,d,p,h,f,g,v,b,y,S;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=localStorage.getItem("userNip"),o={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:i,"Workstation-Id":null},u=r||10,d=t?t-1:0,p=a||"asc",h=n||"key_performance",f=l.bu?l.bu:"",g=l.year?l.year:"",v=l.month?l.month:"",b=l.selectedUser?l.selectedUser.value:"",y=l.role?l.role:"",e.prev=11,e.next=14,c.a.get(m+"/api/cms/kpi/list-kpi-actual?page_no="+d+"&page_size="+u+"&sort_by="+h+"&sort="+p+"&year="+g+"&bu_id="+f+"&role_id="+y+"&month="+v+"&user_id="+b,{headers:o});case 14:return S=e.sent,e.abrupt("return",S);case 18:return e.prev=18,e.t0=e.catch(11),console.log(e.t0),e.abrupt("return",e.t0.response);case 22:case"end":return e.stop()}}),e,null,[[11,18]])})));return function(t,a,n,s,r){return e.apply(this,arguments)}}()},{key:"downloadTemplate",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/vnd.ms-excel;charset=UTF-8",Username:a,"Workstation-Id":null},r=t.bu?t.bu:"1",l=t.role?t.role:"2",e.prev=4,e.next=7,c.a.get(m+"/api/cms/kpi/template-actual/role-id/"+l+"/bu-id/"+r+"/kpiactual.xlsx?year="+t.selectedYear,{responseType:"blob"},{headers:n});case 7:return i=e.sent,e.abrupt("return",i);case 11:return e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"uploadFileKpiActual",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=localStorage.getItem("userNip"),r={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:n,"Workstation-Id":null},!n){e.next=14;break}return e.prev=3,e.next=6,c.a.post(m+"/api/cms/kpi/upload/kpi-actual?insert_by="+n+"&status=submitted",t,{headers:r});case 6:return l=e.sent,e.abrupt("return",l);case 10:return e.prev=10,e.t0=e.catch(3),console.log(e.t0),e.abrupt("return",e.t0.response);case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"findUploadKpiActualByParam",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r,l){var i,o,u,p,h,f,g,v,b,y;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=localStorage.getItem("userNip"),o={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:i,"Workstation-Id":null},u=l.search_status?l.search_status:"",p=r||10,h=t?t-1:0,f=a||"asc",g=n||"file_name",v=l.insert_date?d()(l.insert_date).format("YYYY-MM-DD"):"",b=l.isChecker?"":i,e.prev=9,e.next=12,c.a.get(m+"/api/cms/kpi/list-file/kpi-actual?insert_by="+b+"&status="+u+"&insertAt="+v+"&page_no="+h+"&page_size="+p+"&sort_by="+g+"&sort="+f,{headers:o});case 12:return y=e.sent,e.abrupt("return",y);case 16:return e.prev=16,e.t0=e.catch(9),console.log(e.t0),e.abrupt("return",e.t0.response);case 20:case"end":return e.stop()}}),e,null,[[9,16]])})));return function(t,a,n,s,r){return e.apply(this,arguments)}}()},{key:"findUploadDetailKpiActualByParam",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r,l){var i,o,u,d,p,h,f,g;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=localStorage.getItem("userNip"),o={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:i,"Workstation-Id":null},u=r||10,d=t?t-1:0,p=a||"asc",h=n||"key_performance",f=l.selectedFile&&l.selectedFile.id?l.selectedFile.id:"",e.prev=7,e.next=10,c.a.get(m+"/api/cms/kpi/list-kpi-actual/file?page_no="+d+"&page_size="+u+"&sort_by="+h+"&sort="+p+"&file_id="+f,{headers:o});case 10:return g=e.sent,e.abrupt("return",g);case 14:return e.prev=14,e.t0=e.catch(7),console.log(e.t0),e.abrupt("return",e.t0.response);case 18:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(t,a,n,s,r){return e.apply(this,arguments)}}()},{key:"approveFileKpiActual",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},r={status:t.status,approved_by:a},r=JSON.stringify(r),e.prev=4,e.next=7,c.a.put(m+"/api/cms/kpi/file-kpi-actual/"+t.selectedFile.id+"/approve",r,{headers:n});case 7:return l=e.sent,e.abrupt("return",l);case 11:return e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"rejectFileKpiActual",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},r={status:t.status,approved_by:a,remarks:t.remarks},r=JSON.stringify(r),e.prev=4,e.next=7,c.a.put(m+"/api/cms/kpi/file-kpi-actual/"+t.selectedFile.id+"/reject",r,{headers:n});case 7:return l=e.sent,e.abrupt("return",l);case 11:return e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getRoleRmwb",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("userNip"),a={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:t,"Workstation-Id":null},e.prev=2,e.next=5,c.a.get(m+"/api/cms/role",{headers:a});case 5:return n=e.sent,e.abrupt("return",n);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"getBusinessUser",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("userNip"),a={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:t,"Workstation-Id":null},e.prev=2,e.next=5,c.a.get(m+"/api/cms/bu",{headers:a});case 5:return n=e.sent,e.abrupt("return",n);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"getAllUser",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var r,l,i,o,u,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=localStorage.getItem("userNip"),l={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:r,"Workstation-Id":null},i=a||10,o=t?t-1:0,u=n||"",e.prev=5,e.next=8,c.a.get(m+"/api/cms/user/list-all-user?page_no="+o+"&page_size="+i+"&q="+u,{headers:l});case 8:return d=e.sent,e.abrupt("return",d);case 12:return e.prev=12,e.t0=e.catch(5),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"getListYearByRoleBu",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},e.prev=2,e.next=5,c.a.get(m+"/api/cms/kpi/list-year/role-id/"+t.role+"/bu-id/"+t.bu,{headers:n});case 5:return r=e.sent,e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()}]),e}()},function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(7),c=a.n(o),u=a(33).a,d=function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,[{key:"getRoleRmwb",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("userNip"),a={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:t,"Workstation-Id":null},e.prev=2,e.next=5,c.a.get(u+"/api/cms/role",{headers:a});case 5:return n=e.sent,e.abrupt("return",n);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"findUserSelect",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},r=t.cn_draft?t.cn_draft:"",e.prev=3,e.next=6,c.a.get(u+"/api/cms/ldap/user/info?name="+r,{headers:n});case 6:return l=e.sent,e.abrupt("return",l);case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getSeniorStatus",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("userNip"),a={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:t,"Workstation-Id":null},e.prev=2,e.next=5,c.a.get(u+"/api/cms/senior-type",{headers:a});case 5:return n=e.sent,e.abrupt("return",n);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"getSupervisor",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("userNip"),r={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:n,"Workstation-Id":null},e.prev=2,e.next=5,c.a.get(u+"/api/cms/user/list-direct-spv?role_id="+t+"&bu_id="+a,{headers:r});case 5:return l=e.sent,e.abrupt("return",l);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getUserThOnly",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("userNip"),a={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:t,"Workstation-Id":null},e.prev=2,e.next=5,c.a.get(u+"/api/cms/user/list-th",{headers:a});case 5:return n=e.sent,e.abrupt("return",n);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"getBusinessUser",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},r="",r=t||"",e.prev=4,e.next=7,c.a.get(u+"/api/cms/bu?selected_role_id="+r,{headers:n});case 7:return l=e.sent,e.abrupt("return",l);case 11:return e.prev=11,e.t0=e.catch(4),e.abrupt("return",e.t0.response);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getListUsers",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},e.prev=2,e.next=5,c.a.get(u+"/getAllUsers.php",{headers:n},{params:{}});case 5:return r=e.sent,e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(2),console.log(e.t0),e.abrupt("return",e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"findUserByParam",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r,l){var i,o,d,m,p,h,f,g,v,b,y,S,E;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=localStorage.getItem("userNip"),o={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:i,"Workstation-Id":null},d=r||10,m=t?t-1:0,p=a||"asc",h=n||"id",f=l.name?l.name:null,g=l.cn_draft?l.cn_draft:null,v=l.bu_id?l.bu_id:null,b=l.role_id?l.role_id:null,y=l.status?l.status:null,S={name:f,cn:g,bu_id:v,status:y,role_id:b},e.prev=12,e.next=15,c.a.post(u+"/api/cms/user/list-user?page_no="+m+"&page_size="+d+"&sort_by="+h+"&sort="+p,S,{headers:o});case 15:return E=e.sent,e.abrupt("return",E);case 19:return e.prev=19,e.t0=e.catch(12),console.log(e.t0),e.abrupt("return",e.t0.response);case 23:case"end":return e.stop()}}),e,null,[[12,19]])})));return function(t,a,n,s,r){return e.apply(this,arguments)}}()},{key:"checkEmployeeId",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=localStorage.getItem("userNip"),r={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:n,"Workstation-Id":null},void 0===a.id){e.next=16;break}return e.prev=3,e.next=6,c.a.get(u+"/api/cms/user/check-employeeId?employeeId="+t+"&id="+a.id,{headers:r});case 6:return l=e.sent,e.abrupt("return",l);case 10:return e.prev=10,e.t0=e.catch(3),console.log(e.t0),e.abrupt("return",e.t0.response);case 14:e.next=27;break;case 16:return e.prev=16,e.next=19,c.a.get(u+"/api/cms/user/check-employeeId?employeeId="+t,{headers:r});case 19:return i=e.sent,e.abrupt("return",i);case 23:return e.prev=23,e.t1=e.catch(16),console.log(e.t1),e.abrupt("return",e.t1.response);case 27:case"end":return e.stop()}}),e,null,[[3,10],[16,23]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"checkOfficerId",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=localStorage.getItem("userNip"),r={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:n,"Workstation-Id":null},void 0===a.id){e.next=16;break}return e.prev=3,e.next=6,c.a.get(u+"/api/cms/user/check-officerId?officerId="+t+"&id="+a.id,{headers:r});case 6:return l=e.sent,e.abrupt("return",l);case 10:return e.prev=10,e.t0=e.catch(3),console.log(e.t0),e.abrupt("return",e.t0.response);case 14:e.next=27;break;case 16:return e.prev=16,e.next=19,c.a.get(u+"/api/cms/user/check-officerId?officerId="+t,{headers:r});case 19:return i=e.sent,e.abrupt("return",i);case 23:return e.prev=23,e.t1=e.catch(16),console.log(e.t1),e.abrupt("return",e.t1.response);case 27:case"end":return e.stop()}}),e,null,[[3,10],[16,23]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"addUser",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},r={cn:t.cn_draft,office_id:t.office_id_draft,name:t.name_draft,role_id:t.user_app_role_id_draft,email:t.email_draft,is_senior:parseInt(t.currentSenior),bu_id:t.user_app_bu_id_draft,status:t.status,updated_by:a,is_deleted:!1,parent_id:t.parent_id_draft,area:t.area_draft},r=JSON.stringify(r),e.prev=4,e.next=7,c.a.post(u+"/api/cms/user",r,{headers:n});case 7:return l=e.sent,e.abrupt("return",l);case 11:return e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteUser",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},r={status:"requestDelete",updated_by:a},r=JSON.stringify(r),e.prev=4,e.next=7,c.a.put(u+"/api/cms/user/"+t.id+"/delete",r,{headers:n});case 7:return l=e.sent,e.abrupt("return",l);case 11:return e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateUser",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},r={cn:t.cn_draft,office_id:t.office_id_draft,name:t.name_draft,role_id:t.user_app_role_id_draft,email:t.email_draft,is_senior:parseInt(t.currentSenior),bu_id:t.user_app_bu_id_draft,status:t.status,updated_by:a,is_deleted:t.is_delete_draft,parent_id:t.parent_id_draft,area:t.area_draft},r=JSON.stringify(r),e.prev=4,e.next=7,c.a.put(u+"/api/cms/user/"+t.id,r,{headers:n});case 7:return l=e.sent,e.abrupt("return",l);case 11:return e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"approveUser",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},r={status:t.status,approved_by:a},r=JSON.stringify(r),e.prev=4,e.next=7,c.a.put(u+"/api/cms/user/"+t.id+"/approve",r,{headers:n});case 7:return l=e.sent,e.abrupt("return",l);case 11:return e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"rejectUser",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},r={status:t.status,approved_by:a,remarks:t.remarks},r=JSON.stringify(r),e.prev=4,e.next=7,c.a.put(u+"/api/cms/user/"+t.id+"/reject",r,{headers:n});case 7:return l=e.sent,e.abrupt("return",l);case 11:return e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()}]),e}()},,,function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(7),c=a.n(o),u=a(16),d=a.n(u),m=a(33).a,p=function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,[{key:"getCurrency",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("userNip"),a={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:t,"Workstation-Id":null},e.prev=2,e.next=5,c.a.get(m+"/api/cms/currency",{headers:a});case 5:return n=e.sent,e.abrupt("return",n);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"findClient",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r){var l,i,o,u,d,p,h;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=localStorage.getItem("userNip"),i={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:l,"Workstation-Id":null},o=a||10,u=t?t-1:0,d=n||"",p=r||"",e.prev=6,e.next=9,c.a.get(m+"/api/cms/client/search?name="+d+"&cif="+p+"&page_no="+u+"&page_size="+o,{headers:i});case 9:return h=e.sent,e.abrupt("return",h);case 13:return e.prev=13,e.t0=e.catch(6),console.log(e.t0),e.abrupt("return",e.t0.response);case 17:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t,a,n,s){return e.apply(this,arguments)}}()},{key:"findSelectClient",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var r,l,i,o,u,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=localStorage.getItem("userNip"),l={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:r,"Workstation-Id":null},i=a||10,o=t?t-1:0,u=n||"",e.prev=5,e.next=8,c.a.get(m+"/api/cms/client/search-v2?page_no="+o+"&page_size="+i+"&q="+u,{headers:l});case 8:return d=e.sent,e.abrupt("return",d);case 12:return e.prev=12,e.t0=e.catch(5),console.log(e.t0),e.abrupt("return",e.t0.response);case 16:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"findClientProfileByParam",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r,l){var i,o,u,d,p,h,f,g;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=localStorage.getItem("userNip"),o={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:i,"Workstation-Id":null},u=r||10,d=t?t-1:0,p=a||"asc",h=n||"client_cif",f=l.search_key?l.search_key.value:"",e.prev=7,e.next=10,c.a.get(m+"/api/cms/client/list-client?page_no="+d+"&page_size="+u+"&sort_by="+h+"&sort="+p+"&client_cif="+f,{headers:o});case 10:return g=e.sent,e.abrupt("return",g);case 14:return e.prev=14,e.t0=e.catch(7),console.log(e.t0),e.abrupt("return",e.t0.response);case 18:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(t,a,n,s,r){return e.apply(this,arguments)}}()},{key:"downloadTemplate",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/vnd.ms-excel;charset=UTF-8",Username:a,"Workstation-Id":null},e.prev=2,e.next=5,c.a.get(m+"/api/cms/client/download/client.xlsx",{responseType:"blob"},{headers:n});case 5:return r=e.sent,e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(2),console.log(e.t0),e.abrupt("return",e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"uploadFileClientProfile",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=localStorage.getItem("userNip"),r={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:n,"Workstation-Id":null},!n){e.next=14;break}return e.prev=3,e.next=6,c.a.post(m+"/api/cms/client/upload/client-profile?insert_by="+n+"&status=submitted",t,{headers:r});case 6:return l=e.sent,e.abrupt("return",l);case 10:return e.prev=10,e.t0=e.catch(3),console.log(e.t0),e.abrupt("return",e.t0.response);case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"findUploadClientProfileByParam",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r,l){var i,o,u,p,h,f,g,v,b,y;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=localStorage.getItem("userNip"),o={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:i,"Workstation-Id":null},u=r||10,p=t?t-1:0,h=a||"asc",f=n||"",g=l.search_status?l.search_status:"",v=l.insert_date?d()(l.insert_date).format("YYYY-MM-DD"):"",b=l.isChecker?"":i,e.prev=9,e.next=12,c.a.get(m+"/api/cms/client/list-file/client-profile?insert_by="+b+"&status="+g+"&insertAt="+v+"&page_no="+p+"&page_size="+u+"&sort_by="+f+"&sort="+h,{headers:o});case 12:return y=e.sent,e.abrupt("return",y);case 16:return e.prev=16,e.t0=e.catch(9),console.log(e.t0),e.abrupt("return",e.t0.response);case 20:case"end":return e.stop()}}),e,null,[[9,16]])})));return function(t,a,n,s,r){return e.apply(this,arguments)}}()},{key:"findUploadDetailClientProfileByParam",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r,l){var i,o,u,d,p,h,f,g,v;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=localStorage.getItem("userNip"),o={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:i,"Workstation-Id":null},u=r||10,d=t?t-1:0,p=a||"asc",h=n||"client_cif",f=l.search_key?l.search_key.value:"",g=l.selectedFile&&l.selectedFile.id?l.selectedFile.id:"",e.prev=8,e.next=11,c.a.get(m+"/api/cms/client/list-client/file?page_no="+d+"&page_size="+u+"&sort_by="+h+"&sort="+p+"&client_cif="+f+"&file_id="+g,{headers:o});case 11:return v=e.sent,e.abrupt("return",v);case 15:return e.prev=15,e.t0=e.catch(8),console.log(e.t0),e.abrupt("return",e.t0.response);case 19:case"end":return e.stop()}}),e,null,[[8,15]])})));return function(t,a,n,s,r){return e.apply(this,arguments)}}()},{key:"approveFileClientProfile",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},r={status:t.status,approved_by:a},r=JSON.stringify(r),e.prev=4,e.next=7,c.a.put(m+"/api/cms/client/file-client/"+t.selectedFile.id+"/approve",r,{headers:n});case 7:return l=e.sent,e.abrupt("return",l);case 11:return e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"rejectFileClientProfile",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},r={status:t.status,approved_by:a,remarks:t.remarks},r=JSON.stringify(r),e.prev=4,e.next=7,c.a.put(m+"/api/cms/client/file-client/"+t.selectedFile.id+"/reject",r,{headers:n});case 7:return l=e.sent,e.abrupt("return",l);case 11:return e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()}]),e}()},,,,,,,,,,,function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return i}));var n=a(371),s=a.n(n),r="406494CF7E1E57198AAACA64D68AA022",l=function(t){var a=s.a.createDecipheriv("aes-128-cbc",e.from(r,"hex"),e.from("FDC673ACFB74C7AD"));return a.update(t,"hex","utf8")+a.final("utf8")},i=function(t){var a=s.a.createCipheriv("aes-128-cbc",e.from(r,"hex"),e.from("FDC673ACFB74C7AD"));return a.update(t,"utf8","hex")+a.final("hex")}}).call(this,a(52).Buffer)},,,,function(e,t,a){"use strict";a.d(t,"a",(function(){return v}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(7),c=a.n(o),u=a(11),d=a(10),m=a.n(d),p=a(75),h=a(182),f=a.n(h),g=a(100),v=function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,[{key:"findEmployerByParam",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var r,l,i,o,d,p,h;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=localStorage.getItem("jwtAtwork"),void 0!==a&&""!==a||(a=0),void 0!==n&&""!==n||(n=10),l={"Content-Type":"application/json",token:r},i=m()(t,"nipFind",""),o=m()(t,"companyFind",""),d=m()(t,"emailFind",""),m()(t,"usertypeFind",""),p=["ACTIVE"],"asc","fullName",e.prev=11,e.next=14,c.a.get(u.c+"/interop/backoffice/pageEmployer/"+a+"?nik="+i+"&companies="+o+"&email="+d+"&status="+p+"&sort_dir=asc&size="+n+"&sort_by=fullName",{headers:l},{params:{}});case 14:return h=e.sent,e.abrupt("return",h);case 18:return e.prev=18,e.t0=e.catch(11),e.abrupt("return",e.t0.response);case 21:case"end":return e.stop()}}),e,null,[[11,18]])})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"updateEmployer",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r,l,i,o,d,h,v,b;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("jwtAtwork"),r={"Content-Type":"application/json",token:n},l=m()(t,"nik",""),i=64!==l.length?Object(g.b)(l):l,o=m()(t,"dateOfBirth",""),d=f()(o,"/"),h=d?o:p.a.convertBirthDate(o),v={id:m()(a,"id",""),companyCode:m()(t,"companyCode",""),nik:i,fullName:m()(t,"fullName",""),mobilePhone:m()(t,"mobilePhone",""),dateOfBirth:h,email:m()(t,"email",""),roleCode:m()(t,"roleCode",[])},e.prev=8,e.next=11,c.a.post(u.c+"/interop/backoffice/updateEmployer/EDIT_DATA",v,{headers:r});case 11:return b=e.sent,e.abrupt("return",b);case 15:return e.prev=15,e.t0=e.catch(8),e.abrupt("return",e.t0.response);case 18:case"end":return e.stop()}}),e,null,[[8,15]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"addEmployer",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l,i,o,d,h;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("jwtAtwork"),n={"Content-Type":"application/json",token:a},r=m()(t,"dateOfBirth",""),l=f()(r,"/"),i=l?r:p.a.convertBirthDate(r),o=Object(g.b)(m()(t,"nik","")),d={companyCode:m()(t,"companyCode",""),nik:o,fullName:m()(t,"fullName",""),mobilePhone:m()(t,"mobilePhone",""),dateOfBirth:i,email:m()(t,"email",""),roleCode:m()(t,"roleCode","")},e.prev=7,e.next=10,c.a.post(u.c+"/interop/backoffice/addEmployer",d,{headers:n});case 10:return h=e.sent,e.abrupt("return",h);case 14:return e.prev=14,e.t0=e.catch(7),e.abrupt("return",e.t0.response);case 17:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteEmployer",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l,i,o,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("jwtAtwork"),n={"Content-Type":"application/json",token:a},r=m()(t,"dateOfBirth",""),l=f()(r,"/"),i=l?r:p.a.convertBirthDate(r),o={id:m()(t,"id",""),nik:m()(t,"nik",""),companyCode:m()(t,"company.code",""),fullName:m()(t,"fullName",""),mobilePhone:m()(t,"mobilePhone",""),dateOfBirth:i,roleCode:["ROLE_USER_HR_REVIEWER","ROLE_USER_HR_APPROVER"],email:m()(t,"email",""),statusEmployee:"INACTIVE",statusAkun:"INACTIVE"},e.prev=6,e.next=9,c.a.post(u.c+"/interop/backoffice/updateEmployee/NONACTIVE_EMPLOYEE",o,{headers:n});case 9:return d=e.sent,e.abrupt("return",d);case 13:return e.prev=13,e.t0=e.catch(6),e.abrupt("return",e.t0.response);case 16:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteEmployee",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l,i,o,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("jwtAtwork"),n={"Content-Type":"application/json",token:a},r=m()(t,"dateOfBirth",""),l=f()(r,"/"),i=l?r:p.a.convertBirthDate(r),o={id:m()(t,"id",""),nik:m()(t,"nik",""),companyCode:m()(t,"company.code",""),fullName:m()(t,"fullName",""),mobilePhone:m()(t,"mobilePhone",""),dateOfBirth:i,email:m()(t,"email",""),roleCode:["ROLE_USER_EMPLOYEE"],statusEmployee:"INACTIVE",statusAkun:"INACTIVE"},e.prev=6,e.next=9,c.a.post(u.c+"/interop/backoffice/updateEmployee/NONACTIVE_EMPLOYEE",o,{headers:n});case 9:return d=e.sent,e.abrupt("return",d);case 13:return e.prev=13,e.t0=e.catch(6),e.abrupt("return",e.t0.response);case 16:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"bulkUploadHr",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("jwtAtwork"),n={"Content-Type":"application/x-www-form-urlencoded",token:a},(r=new FormData).append("file",t.file),e.prev=4,e.next=7,c.a.post(u.c+"/interop/backoffice/bulkUpload",r,{headers:n});case 7:return l=e.sent,e.abrupt("return",l);case 11:return e.prev=11,e.t0=e.catch(4),e.abrupt("return",e.t0.response);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"findEmployeeDatabase",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r){var l,i,o,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=localStorage.getItem("jwtAtwork"),void 0!==a&&""!==a||(a=0),void 0!==r&&""!==r||(r=10),i={"Content-Type":"application/json",token:l},"","",o=n,"","asc",e.prev=9,e.next=12,c.a.get(u.c+"/interop/backoffice/pageEmployee/"+a+"?name=&nik=&companies="+o+"&status=&sort_dir=asc&size="+r,{headers:i},{params:{}});case 12:return d=e.sent,e.abrupt("return",d);case 16:return e.prev=16,e.t0=e.catch(9),e.abrupt("return",e.t0.response);case 19:case"end":return e.stop()}}),e,null,[[9,16]])})));return function(t,a,n,s){return e.apply(this,arguments)}}()},{key:"getDetailHr",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("jwtAtwork"),n={"Content-Type":"application/json",token:a},e.prev=2,e.next=5,c.a.get(u.c+"/interop/backoffice/getUserDetail/"+t,{headers:n},{params:{}});case 5:return r=e.sent,e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getRoleList",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("jwtAtwork"),a={"Content-Type":"application/json",token:t},e.prev=2,e.next=5,c.a.get(u.c+"/interop/backoffice/getListConsumerRole/ATWORK",{headers:a},{params:{}});case 5:return n=e.sent,e.abrupt("return",n);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"downloadTemplate",value:function(){return u.c+"/interop/backoffice/templates/bulk_upload_hr"}},{key:"downloadEmployeeData",value:function(e){return u.c+"/interop/backoffice/report/employeelist?companycode="+e}}]),e}()},,,,,function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a(709),m=a.n(d),p=a(710),h=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"ExportExcel",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r,l,i,o,c,u,d,h,f,g,v,b;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=22;break}for(n=t.data.body,null!==t.data.footer&&n.push(t.data.footer),r=t.data.header,l=a||"List-data",i=[],o=[],c=0;c<r.length;c++)i.push(r[c].key),o.push({key:r[c].key,label:r[c].name});for(f in u=new m.a.Workbook,d=u.addWorksheet(),h=[],o)h.push({header:o[f].label,key:o[f].key});for(d.columns=h,c=0;c<n.length;c++)d.addRow(n[c]);return e.next=16,u.xlsx.writeBuffer();case 16:g=e.sent,v=new Date,b=String(v.getMonth()+1).padStart(2,"0")+String(v.getDate()).padStart(2,"0")+v.getFullYear()+v.getHours()+v.getMinutes()+v.getSeconds(),Object(p.saveAs)(new Blob([g]),l+"_"+b+".xlsx"),e.next=23;break;case 22:alert("There are no data to be download please refresh!");case 23:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}]),a}(u.Component)},,function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(7),c=a.n(o),u=a(16),d=a.n(u),m=a(33).a,p=function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,[{key:"findHolidayByParam",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r,l){var i,o,u,d,p,h,f,g;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=localStorage.getItem("userNip"),o={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:i,"Workstation-Id":null},u=r||10,d=l&&l.selectedYearFilter?l.selectedYearFilter:"",p=t?t-1:0,h=a||"asc",f=n||"status",e.prev=7,e.next=10,c.a.get(m+"/api/cms/holiday?page_no="+p+"&page_size="+u+"&sort_by="+f+"&sort="+h+"&year="+d,{headers:o});case 10:return g=e.sent,e.abrupt("return",g);case 14:return e.prev=14,e.t0=e.catch(7),console.log(e.t0),e.abrupt("return",e.t0.response);case 18:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(t,a,n,s,r){return e.apply(this,arguments)}}()},{key:"downloadTemplate",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/vnd.ms-excel;charset=UTF-8",Username:a,"Workstation-Id":null},e.prev=2,e.next=5,c.a.get(m+"/api/cms/holiday/download/holiday.xlsx",{responseType:"blob"},{headers:n});case 5:return r=e.sent,e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(2),console.log(e.t0),e.abrupt("return",e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"uploadFileHoliday",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=localStorage.getItem("userNip"),r={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:n,"Workstation-Id":null},!n){e.next=14;break}return e.prev=3,e.next=6,c.a.post(m+"/api/cms/holiday/upload/holiday?insert_by="+n+"&status=submitted",t,{headers:r});case 6:return l=e.sent,e.abrupt("return",l);case 10:return e.prev=10,e.t0=e.catch(3),console.log(e.t0),e.abrupt("return",e.t0.response);case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"findUploadHolidayByParam",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r,l){var i,o,u,p,h,f,g,v,b,y;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=localStorage.getItem("userNip"),o={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:i,"Workstation-Id":null},u=r||10,p=t?t-1:0,h=a||"asc",f=n||"",g=l.search_status?l.search_status:"",v=l.insert_date?d()(l.insert_date).format("YYYY-MM-DD"):"",b=l.isChecker?"":i,e.prev=9,e.next=12,c.a.get(m+"/api/cms/holiday/list-file/holiday?insert_by="+b+"&status="+g+"&insertAt="+v+"&page_no="+p+"&page_size="+u+"&sort_by="+f+"&sort="+h,{headers:o});case 12:return y=e.sent,e.abrupt("return",y);case 16:return e.prev=16,e.t0=e.catch(9),console.log(e.t0),e.abrupt("return",e.t0.response);case 20:case"end":return e.stop()}}),e,null,[[9,16]])})));return function(t,a,n,s,r){return e.apply(this,arguments)}}()},{key:"findUploadDetailHolidayByParam",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r,l){var i,o,u,d,p,h,f,g;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=localStorage.getItem("userNip"),o={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:i,"Workstation-Id":null},u=r||10,d=t?t-1:0,p=a||"asc",h=n||"holiday",f=l.selectedFile&&l.selectedFile.id?l.selectedFile.id:"",e.prev=7,e.next=10,c.a.get(m+"/api/cms/holiday/list-holiday/file?page_no="+d+"&page_size="+u+"&sort_by="+h+"&sort="+p+"&file_id="+f,{headers:o});case 10:return g=e.sent,e.abrupt("return",g);case 14:return e.prev=14,e.t0=e.catch(7),console.log(e.t0),e.abrupt("return",e.t0.response);case 18:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(t,a,n,s,r){return e.apply(this,arguments)}}()},{key:"approveFileHoliday",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},r={status:t.status,approved_by:a},r=JSON.stringify(r),e.prev=4,e.next=7,c.a.put(m+"/api/cms/holiday/file-holiday/"+t.selectedFile.id+"/approve",r,{headers:n});case 7:return l=e.sent,e.abrupt("return",l);case 11:return e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"rejectFileHoliday",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},r={status:t.status,approved_by:a,remarks:t.remarks},r=JSON.stringify(r),e.prev=4,e.next=7,c.a.put(m+"/api/cms/holiday/file-holiday/"+t.selectedFile.id+"/reject",r,{headers:n});case 7:return l=e.sent,e.abrupt("return",l);case 11:return e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getFilterYear",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("userNip"),a={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:t,"Workstation-Id":null},e.prev=2,e.next=5,c.a.get(m+"/api/cms/holiday/filter-years",{headers:a});case 5:return n=e.sent,e.abrupt("return",n);case 9:return e.prev=9,e.t0=e.catch(2),console.log(e.t0),e.abrupt("return",e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}()}]),e}()},,,,,,,,function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(7),c=a.n(o),u=a(16),d=a.n(u),m=a(33).a,p=function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,[{key:"findFaqByParam",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r,l){var i,o,u,d,p,h,f;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=localStorage.getItem("userNip"),o={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:i,"Workstation-Id":null},u=r||10,d=t?t-1:0,p=a||"asc",h=n||"id",e.prev=6,e.next=9,c.a.get(m+"/api/cms/faq?page_no="+d+"&page_size="+u+"&sort_by="+h+"&sort="+p,{headers:o});case 9:return f=e.sent,e.abrupt("return",f);case 13:return e.prev=13,e.t0=e.catch(6),console.log(e.t0),e.abrupt("return",e.t0.response);case 17:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t,a,n,s,r){return e.apply(this,arguments)}}()},{key:"downloadTemplate",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/vnd.ms-excel;charset=UTF-8",Username:a,"Workstation-Id":null},e.prev=2,e.next=5,c.a.get(m+"/api/cms/faq/download/faq.xlsx",{responseType:"blob"},{headers:n});case 5:return r=e.sent,e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(2),console.log(e.t0),e.abrupt("return",e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"uploadFileFaq",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=localStorage.getItem("userNip"),r={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:n,"Workstation-Id":null},!n){e.next=14;break}return e.prev=3,e.next=6,c.a.post(m+"/api/cms/faq/upload/faq?insert_by="+n+"&status=submitted",t,{headers:r});case 6:return l=e.sent,e.abrupt("return",l);case 10:return e.prev=10,e.t0=e.catch(3),console.log(e.t0),e.abrupt("return",e.t0.response);case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"findUploadFaqByParam",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r,l){var i,o,u,p,h,f,g,v,b,y;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=localStorage.getItem("userNip"),o={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:i,"Workstation-Id":null},u=l.search_status?l.search_status:"",p=r||10,h=t?t-1:0,f=a||"asc",g=n||"file_name",v=l.insert_date?d()(l.insert_date).format("YYYY-MM-DD"):"",b=l.isChecker?"":i,e.prev=9,e.next=12,c.a.get(m+"/api/cms/faq/list-file/faq?insert_by="+b+"&status="+u+"&insertAt="+v+"&page_no="+h+"&page_size="+p+"&sort_by="+g+"&sort="+f,{headers:o});case 12:return y=e.sent,e.abrupt("return",y);case 16:return e.prev=16,e.t0=e.catch(9),console.log(e.t0),e.abrupt("return",e.t0.response);case 20:case"end":return e.stop()}}),e,null,[[9,16]])})));return function(t,a,n,s,r){return e.apply(this,arguments)}}()},{key:"findUploadDetailFaqByParam",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r,l){var i,o,u,d,p,h,f,g;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=localStorage.getItem("userNip"),o={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:i,"Workstation-Id":null},u=r||10,d=t?t-1:0,p=a||"asc",h=n||"id",f=l.selectedFile&&l.selectedFile.id?l.selectedFile.id:"",e.prev=7,e.next=10,c.a.get(m+"/api/cms/faq/list-faq/file?page_no="+d+"&page_size="+u+"&sort_by="+h+"&sort="+p+"&file_id="+f,{headers:o});case 10:return g=e.sent,e.abrupt("return",g);case 14:return e.prev=14,e.t0=e.catch(7),console.log(e.t0),e.abrupt("return",e.t0.response);case 18:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(t,a,n,s,r){return e.apply(this,arguments)}}()},{key:"approveFileFaq",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},r={status:t.status,approved_by:a},r=JSON.stringify(r),e.prev=4,e.next=7,c.a.put(m+"/api/cms/faq/file-faq/"+t.selectedFile.id+"/approve",r,{headers:n});case 7:return l=e.sent,e.abrupt("return",l);case 11:return e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"rejectFileFaq",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},r={status:t.status,approved_by:a,remarks:t.remarks},r=JSON.stringify(r),e.prev=4,e.next=7,c.a.put(m+"/api/cms/faq/file-faq/"+t.selectedFile.id+"/reject",r,{headers:n});case 7:return l=e.sent,e.abrupt("return",l);case 11:return e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()}]),e}()},function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(7),c=a.n(o),u=a(33).a,d=function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,[{key:"getDetail",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},!t.idMenu){e.next=15;break}return e.prev=3,e.next=6,c.a.get(u+"/api/cms/product-pricing/menu-product/"+t.idMenu+"/contact",{headers:n});case 6:return r=e.sent,e.abrupt("return",r);case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",e.t0.response);case 13:e.next=16;break;case 15:return e.abrupt("return","Id menu is null");case 16:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getTempAttachment",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("userNip"),r={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:n,"Workstation-Id":null},l="",l=null!==a&&""!==a&&a?a:t,e.prev=4,e.next=7,c.a.get(u+"/api/cms/product-pricing/file-attachment/"+l,{headers:r});case 7:return i=e.sent,e.abrupt("return",i);case 11:return e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0.urlDownload);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getTempThumb",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="",n=null!==t?t:a,e.prev=2,r=u+"/api/cms/product-pricing/file-thumbnail/"+n,e.abrupt("return",r);case 7:return e.prev=7,e.t0=e.catch(2),console.log(e.t0),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"findProductPricingByParam",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},e.prev=2,e.next=5,c.a.get(u+"/api/cms/product-pricing/menu-product",{headers:n});case 5:return r=e.sent,e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(2),console.log(e.t0),e.abrupt("return",e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateProductPricing",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},r={status:t.status,updated_by:a,person_in_charges:[{product_pricing_contact_id:t.idc_1,name:t.name_draft_1?t.name_draft_1:null,phone_number:t.phone_draft_1?t.phone_draft_1:null,ext_office:t.ext_office_draft_1?t.ext_office_draft_1:null,email:t.email_draft_1?t.email_draft_1:null,is_delete:!1},{product_pricing_contact_id:t.idc_2,name:t.name_draft_2?t.name_draft_2:null,phone_number:t.phone_draft_2?t.phone_draft_2:null,ext_office:t.ext_office_draft_2?t.ext_office_draft_2:null,email:t.email_draft_2?t.email_draft_2:null,is_delete:!1}],attachments:[{product_pricing_attachment_id:t.ida_1,file_name:t.file_name_temp_1||t.file_name_draft_1,is_delete:!1},{product_pricing_attachment_id:t.ida_2,file_name:t.file_name_temp_2||t.file_name_draft_2,is_delete:!1}]},r=JSON.stringify(r),e.prev=4,e.next=7,c.a.put(u+"/api/cms/product-pricing/menu-product/"+t.idMenu+"/contact",r,{headers:n});case 7:return l=e.sent,e.abrupt("return",l);case 11:return e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"approveProductPricing",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},r={status:t.status,approved_by:a},r=JSON.stringify(r),e.prev=4,e.next=7,c.a.put(u+"/api/cms/product-pricing/menu-product/"+t.idMenu+"/contact/approve",r,{headers:n});case 7:return l=e.sent,e.abrupt("return",l);case 11:return e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"rejectProductPricing",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},r={status:t.status,approved_by:a,remarks:t.remarks},r=JSON.stringify(r),e.prev=4,e.next=7,c.a.put(u+"/api/cms/product-pricing/menu-product/"+t.idMenu+"/contact/reject",r,{headers:n});case 7:return l=e.sent,e.abrupt("return",l);case 11:return e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"uploadAttachment",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=localStorage.getItem("userNip"),l={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:r,"Workstation-Id":null},e.prev=2,e.next=5,c.a.post(u+"/api/cms/product-pricing/menu-product/"+a.idMenu+"/file-id/"+n+"/attachment?update_by="+r+"&status="+a.status,t,{headers:l});case 5:return i=e.sent,e.abrupt("return",i);case 9:return e.prev=9,e.t0=e.catch(2),console.log(e.t0),e.abrupt("return",e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"cancelProductPricing",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},e.prev=2,e.next=5,c.a.put(u+"/api/cms/product-pricing/menu-product/"+t.idMenu+"/revert-attachment",{headers:n});case 5:return r=e.sent,e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(2),console.log(e.t0),e.abrupt("return",e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()}]),e}()},,,,,,,function(e,t,a){},,,function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(1),s=a.n(n),r=a(2),l=a(7),i=a.n(l),o=a(11),c=function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(o.b,"/restricted/admin/master/getAvailableCmsChannel"),n={token:t},e.next=4,i.a.get(a,{headers:n}).then((function(e){return e.data})).catch((function(e){return e}));case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(7),c=a.n(o),u=a(11),d=function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,[{key:"list",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.a+"/db_connection/list?"+t,n={"Content-Type":"application/json",API_KEY:"DEVX-REPORT-TOKEN"},r=c.a.get(a,{headers:n}).catch((function(e){return{status:e.response.status,message:e.message}})),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"listAll",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.a+"/db_connection/listAll",a={"Content-Type":"application/json",API_KEY:"DEVX-REPORT-TOKEN"},e.next=4,c.a.get(t,{headers:a}).catch((function(e){return{status:e.response.status,message:e.message}}));case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"save",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.a+"/db_connection/save/",n={"Content-Type":"application/json",API_KEY:"DEVX-REPORT-TOKEN"},e.next=4,c.a.post(a,JSON.stringify(t),{headers:n}).catch((function(e){return{status:e.response.status,message:e.message}}));case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.a+"/db_connection/delete/"+t,n={"Content-Type":"application/json",API_KEY:"DEVX-REPORT-TOKEN"},r=c.a.post(a,{headers:n}).catch((function(e){return{status:e.response.status,message:e.message}})),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"testConnection",value:function(e){var t=u.a+"/db_connection/test_connection/"+e,a={"Content-Type":"application/json",API_KEY:"DEVX-REPORT-TOKEN"};c.a.post(t,{headers:a}).then((function(e){alert(e.data.message)})).catch((function(e){alert(e.response.data.message)}))}}]),e}()},function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(7),c=a.n(o),u=a(16),d=a.n(u),m=a(33).a,p=function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,[{key:"findRoleByParam",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r,l){var i,o,u,d,p,h,f;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=localStorage.getItem("userNip"),o={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:i,"Workstation-Id":null},u=r||10,d=t?t-1:0,p=a||"asc",h=n||"status",e.prev=6,e.next=9,c.a.get(m+"/api/cms/role/list-role?page_no="+d+"&page_size="+u+"&sort_by="+h+"&sort="+p,{headers:o});case 9:return f=e.sent,e.abrupt("return",f);case 13:return e.prev=13,e.t0=e.catch(6),console.log(e.t0),e.abrupt("return",e.t0.response);case 17:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t,a,n,s,r){return e.apply(this,arguments)}}()},{key:"downloadTemplate",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",Username:a,"Workstation-Id":null},e.prev=2,e.next=5,c.a.get(m+"/api/cms/role/download/roles.xlsx",{responseType:"arraybuffer"},{headers:n});case 5:return r=e.sent,e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(2),console.log(e.t0),e.abrupt("return",e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"uploadFileRole",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=localStorage.getItem("userNip"),r={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:n,"Workstation-Id":null},!n){e.next=14;break}return e.prev=3,e.next=6,c.a.post(m+"/api/cms/role/upload/role?insert_by="+n+"&status=submitted",t,{headers:r});case 6:return l=e.sent,e.abrupt("return",l);case 10:return e.prev=10,e.t0=e.catch(3),console.log(e.t0),e.abrupt("return",e.t0.response);case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"findUploadRoleByParam",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r,l){var i,o,u,p,h,f,g,v,b,y;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=localStorage.getItem("userNip"),o={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:i,"Workstation-Id":null},u=r||10,p=t?t-1:0,h=a||"asc",f=n||"",g=l.search_status?l.search_status:"",v=l.insert_date?d()(l.insert_date).format("YYYY-MM-DD"):"",b=l.isChecker?"":i,e.prev=9,e.next=12,c.a.get(m+"/api/cms/role/list-file/role?insert_by="+b+"&status="+g+"&insertAt="+v+"&page_no="+p+"&page_size="+u+"&sort_by="+f+"&sort="+h,{headers:o});case 12:return y=e.sent,e.abrupt("return",y);case 16:return e.prev=16,e.t0=e.catch(9),console.log(e.t0),e.abrupt("return",e.t0.response);case 20:case"end":return e.stop()}}),e,null,[[9,16]])})));return function(t,a,n,s,r){return e.apply(this,arguments)}}()},{key:"findUploadDetailRoleByParam",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r,l){var i,o,u,d,p,h,f,g;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=localStorage.getItem("userNip"),o={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:i,"Workstation-Id":null},u=r||10,d=t?t-1:0,p=a||"asc",h=n||"role",f=l.selectedFile&&l.selectedFile.id?l.selectedFile.id:"",e.prev=7,e.next=10,c.a.get(m+"/api/cms/role/list-role/file?page_no="+d+"&page_size="+u+"&sort_by="+h+"&sort="+p+"&file_id="+f,{headers:o});case 10:return g=e.sent,e.abrupt("return",g);case 14:return e.prev=14,e.t0=e.catch(7),console.log(e.t0),e.abrupt("return",e.t0.response);case 18:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(t,a,n,s,r){return e.apply(this,arguments)}}()},{key:"approveFileRole",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},r={status:t.status,approved_by:a},r=JSON.stringify(r),e.prev=4,e.next=7,c.a.put(m+"/api/cms/role/file-role/"+t.selectedFile.id+"/approve",r,{headers:n});case 7:return l=e.sent,e.abrupt("return",l);case 11:return e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"rejectFileRole",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},r={status:t.status,approved_by:a,remarks:t.remarks},r=JSON.stringify(r),e.prev=4,e.next=7,c.a.put(m+"/api/cms/role/file-role/"+t.selectedFile.id+"/reject",r,{headers:n});case 7:return l=e.sent,e.abrupt("return",l);case 11:return e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()}]),e}()},,,,,,,,,function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(7),c=a.n(o),u=a(11),d=function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,[{key:"getListBranch",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",token:t.token},e.prev=1,e.next=4,c.a.get(u.b+"/restricted/admin/branch",{headers:a},{params:{}});case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"findBranchByParam",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0!==a&&""!==a||(a=0),void 0!==n&&""!==n||(n=10),r={"Content-Type":"application/json",token:t.token},l=JSON.stringify({branchCode:t.branchCodeFind,branchName:t.branchNameFind}),e.prev=4,e.next=7,c.a.post(u.b+"/restricted/admin/branch?page="+a+"&size="+n,l,{headers:r});case 7:return i=e.sent,e.abrupt("return",i);case 11:return e.prev=11,e.t0=e.catch(4),e.abrupt("return",e.t0.response);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"updateBranch",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",token:t.token},(n=new FormData).append("id",t.id),n.append("code",t.code),n.append("description",void 0===t.description?null:t.description),n.append("name",t.name),n.append("email",void 0===t.email?null:t.email),n.append("emailBso",void 0===t.emailBso?null:t.emailBso),n.append("emailCs",void 0===t.emailCs?null:t.emailCs),n.append("areaCode",t.areaCode),e.prev=10,e.next=13,c.a.post(u.b+"/restricted/admin/branch/update",n,{headers:a});case 13:return r=e.sent,e.abrupt("return",r);case 17:return e.prev=17,e.t0=e.catch(10),e.abrupt("return",e.t0.response);case 20:case"end":return e.stop()}}),e,null,[[10,17]])})));return function(t){return e.apply(this,arguments)}}()},{key:"addBranch",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",token:t.token},(n=new FormData).append("code",t.code),n.append("description",void 0===t.description?null:t.description),n.append("name",t.name),n.append("email",void 0===t.email?null:t.email),n.append("emailBso",void 0===t.emailBso?null:t.emailBso),n.append("emailCs",void 0===t.emailCs?null:t.emailCs),n.append("areaCode",t.areaCode),e.prev=9,e.next=12,c.a.post(u.b+"/restricted/admin/branch/create",n,{headers:a});case 12:return r=e.sent,e.abrupt("return",r);case 16:return e.prev=16,e.t0=e.catch(9),e.abrupt("return",e.t0.response);case 19:case"end":return e.stop()}}),e,null,[[9,16]])})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteBranch",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={"Content-Type":"application/json",token:a},r=JSON.stringify({id:t.id,code:t.code,description:t.description,name:t.name,email:t.email,emailBso:t.emailBso,emailCs:t.emailCs,regionCode:t.regionCode,areaCode:t.areaCode}),e.prev=2,e.next=5,c.a.post(u.b+"/restricted/admin/branch/delete",r,{headers:n});case 5:return l=e.sent,e.abrupt("return",l);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getListRegion",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",token:t.token},e.prev=1,e.next=4,c.a.get(u.b+"/restricted/admin/branch/list/region",{headers:a});case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getListArea",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",token:t.token},e.prev=1,e.next=4,c.a.get(u.b+"/restricted/admin/branch/list/area",{headers:a});case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getListDivision",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",token:t.token},e.prev=1,e.next=4,c.a.get(u.b+"/restricted/admin/branch/list/region",{headers:a});case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()}]),e}()},,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(7),c=a.n(o),u=a(11),d=a(10),m=a.n(d),p=function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,[{key:"addPromo",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("jwtAtwork"),n={"Content-Type":"application/json",token:a},r={code:m()(t,"code",""),categoryId:m()(t,"categoryId",""),categoryName:m()(t,"categoryName",""),title:m()(t,"title",""),description:m()(t,"description",""),startDate:m()(t,"startDate",""),endDate:m()(t,"endDate",""),image:m()(t,"image",""),content:m()(t,"content",""),companies:m()(t,"companies","")},e.prev=3,e.next=6,c.a.post(u.c+"/interop/backoffice/addPromotion/ADD_DATA",r,{headers:n});case 6:return l=e.sent,e.abrupt("return",l);case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updatePromo",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("jwtAtwork"),n={"Content-Type":"application/json",token:a},r={id:m()(t,"id",""),code:m()(t,"code",""),categoryId:m()(t,"categoryId",""),categoryName:m()(t,"categoryName",""),title:m()(t,"title",""),description:m()(t,"description",""),startDate:m()(t,"startDate",""),endDate:m()(t,"endDate",""),image:m()(t,"image",""),content:m()(t,"content",""),companies:m()(t,"companies","")},e.prev=3,e.next=6,c.a.post(u.c+"/interop/backoffice/updatePromotion/EDIT_DATA",r,{headers:n});case 6:return l=e.sent,e.abrupt("return",l);case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getListPromo",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r){var l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=localStorage.getItem("jwtAtwork"),void 0!==t&&""!==t||(t=0),void 0===a&&(a=""),void 0===n&&(n=""),i={"Content-Type":"application/json",token:l},e.prev=5,e.next=8,c.a.get(u.c+"/interop/promotion/page/"+t+"/?code="+a+"&title="+n+"&size="+r,{headers:i},{params:{}});case 8:return o=e.sent,e.abrupt("return",o);case 12:return e.prev=12,e.t0=e.catch(5),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,a,n,s){return e.apply(this,arguments)}}()},{key:"getPromoById",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("jwtAtwork"),n={"Content-Type":"application/json",token:a},e.prev=2,e.next=5,c.a.get(u.c+"/interop/promotion/"+t,{headers:n},{params:{}});case 5:return r=e.sent,e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"uploadPromoImage",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("jwtAtwork"),(r=new FormData).append("file",t),r.append("promotionCode",a),l={token:n},e.prev=5,e.next=8,c.a.post(u.c+"/interop/promotion/image",r,{headers:l});case 8:return i=e.sent,e.abrupt("return",i);case 12:return e.prev=12,e.t0=e.catch(5),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getPromoImage",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("jwtAtwork"),n={method:"GET",headers:{"Content-Type":"application/json",token:a}},e.next=4,fetch(u.c+"/interop/promotion/image?filename="+t,n).then((function(e){return e.blob()}));case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"imageEncode",value:function(e){return"data:image/jpeg;base64,"+e}}]),e}()},,,,,,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAYBJREFUSA3dlM0qRVEUx4/PSxRJKSkTmShD7yBTZSBdjDyAuXeQUDJQ3sETGDI1vRQTzH3E8ftnndu+1zlrn+MYWfW7a5+99vqvffdXksRtmiH7kAY80t6AfqhlM2TfQCgeto+I9dapsOuIq9AbzHsFYtWnvGRiAzDhjYkV+PSSLaZ/UmixAoWJZQP/v4C7vrZM7pjui9JHUgN6LHnQvOeGCY7YAB2KF2gXzYQsnqzQOIQP69ARHLN2kXsg8ArSeoJl87ifppmcgWZQFU1qC7onTVen6fKcQpUC+gfNThn/q0oRPReVxLPSZYpIfDNL+I33ikhcax61UUYIHdE8yysi8e28wdano97WbPEhlqDIVOQEtPExcWnsQQsWddFmQTb07XJ/3+ndgSu4hQvwbJKgdBvhTY49zTrnx55qEMsuaqrX9NkCRXsQ5JVuag9kqW7dOpzDNVyC1rmOSXwNtKwLEtIGHoBuo8T/gnt0VqHj3Zjje1ydNUwrovW/Az18yRdFIYxb603SZAAAAABJRU5ErkJggg=="},,,,,function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(7),c=a.n(o),u=a(11),d=function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,[{key:"updateSystemParameter",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",token:t.token},(n=new FormData).append("id",t.id),n.append("parameter",t.parameter),n.append("vgroup",t.vgroup),n.append("svalue",t.svalue),n.append("description",t.description),n.append("status",t.status),e.prev=8,e.next=11,c.a.post(u.b+"/restricted/admin/systemparameter/update",n,{headers:a});case 11:return r=e.sent,e.abrupt("return",r);case 15:return e.prev=15,e.t0=e.catch(8),e.abrupt("return",e.t0.response);case 18:case"end":return e.stop()}}),e,null,[[8,15]])})));return function(t){return e.apply(this,arguments)}}()},{key:"addSystemParameter",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",token:t.token},(n=new FormData).append("parameter",t.parameter),n.append("vgroup",t.vgroup),n.append("svalue",t.svalue),n.append("description",t.description),e.prev=6,e.next=9,c.a.post(u.b+"/restricted/admin/systemparameter/create",n,{headers:a});case 9:return r=e.sent,e.abrupt("return",r);case 13:return e.prev=13,e.t0=e.catch(6),e.abrupt("return",e.t0.response);case 16:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteSystemParameter",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={"Content-Type":"application/json",token:a.token},(r=new FormData).append("id",t.id),r.append("parameter",t.parameter),r.append("vgroup",t.vgroup),r.append("svalue",t.svalue),r.append("description",t.description),r.append("status",t.status.state),e.prev=8,e.next=11,c.a.post(u.b+"/restricted/admin/systemparameter/delete",r,{headers:n});case 11:return l=e.sent,e.abrupt("return",l);case 15:return e.prev=15,e.t0=e.catch(8),e.abrupt("return",e.t0.response);case 18:case"end":return e.stop()}}),e,null,[[8,15]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getListSystemParameter",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",token:t.token},e.prev=1,e.next=4,c.a.get(u.b+"/restricted/admin/systemparameter/list/",{headers:a});case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getListStatusSystemParameter",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",token:t.token},e.prev=1,e.next=4,c.a.get(u.b+"/restricted/admin/systemparameter/list/status",{headers:a});case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"findSystemParameterByParam",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",token:t.token},n=JSON.stringify({parameter:t.parameterFind,vgroup:t.vgroupFind,code:t.codeFind}),e.prev=2,e.next=5,c.a.post(u.b+"/restricted/admin/systemparameter/search",n,{headers:a});case 5:return r=e.sent,e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()}]),e}()},function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(7),c=a.n(o),u=a(11),d=function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,[{key:"updateLookup",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",token:t.token},(n=new FormData).append("id",t.id),n.append("type",t.type),n.append("code",t.code),n.append("name",t.name),n.append("status",t.status),n.append("description",t.description),n.append("priority",t.priority),n.append("shortname",t.shortname),n.append("filter",t.filter),e.prev=11,e.next=14,c.a.post(u.b+"/restricted/admin/lookup/update",n,{headers:a});case 14:return r=e.sent,e.abrupt("return",r);case 18:return e.prev=18,e.t0=e.catch(11),e.abrupt("return",e.t0.response);case 21:case"end":return e.stop()}}),e,null,[[11,18]])})));return function(t){return e.apply(this,arguments)}}()},{key:"addLookup",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",token:t.token},(n=new FormData).append("type",t.type),n.append("code",t.code),n.append("name",t.name),n.append("status",t.status),n.append("description",t.description),n.append("priority",void 0===t.priority?0:t.priority),n.append("shortname",t.shortname),n.append("filter",void 0===t.filter?"":t.filter),e.prev=10,e.next=13,c.a.post(u.b+"/restricted/admin/lookup/create",n,{headers:a});case 13:return r=e.sent,e.abrupt("return",r);case 17:return e.prev=17,e.t0=e.catch(10),e.abrupt("return",e.t0.response);case 20:case"end":return e.stop()}}),e,null,[[10,17]])})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteLookup",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={"Content-Type":"application/json",token:a.token},(r=new FormData).append("id",t.id),r.append("type",t.type),r.append("code",t.code),r.append("name",t.name),r.append("status",t.status),r.append("description",t.description),r.append("priority",t.priority),r.append("shortname",t.shortname),r.append("filter",t.filter),e.prev=11,e.next=14,c.a.post(u.b+"/restricted/admin/lookup/delete",r,{headers:n});case 14:return l=e.sent,e.abrupt("return",l);case 18:return e.prev=18,e.t0=e.catch(11),e.abrupt("return",e.t0.response);case 21:case"end":return e.stop()}}),e,null,[[11,18]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getListLookup",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",token:t.token},e.prev=1,e.next=4,c.a.get(u.b+"/restricted/admin/lookup/list/",{headers:a});case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getListStatusLookup",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",token:t.token},e.prev=1,e.next=4,c.a.get(u.b+"/restricted/admin/lookup/list/status",{headers:a});case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"findLookupByParam",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",token:t.token},n=JSON.stringify({code:t.codeFind,type:t.typeFind,name:t.nameFind,status:t.statusFind}),e.prev=2,e.next=5,c.a.post(u.b+"/restricted/admin/lookup/search",n,{headers:a});case 5:return r=e.sent,e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()}]),e}()},function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(7),c=a.n(o),u=a(11),d=function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,[{key:"getListArea",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",token:t.token},e.prev=1,e.next=4,c.a.get(u.b+"/restricted/admin/area",{headers:a},{params:{}});case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"findAreaByParam",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0!==a&&""!==a||(a=0),void 0!==n&&""!==n||(n=10),r={"Content-Type":"application/json",token:t.token},l=JSON.stringify({areaCode:t.areaCodeFind,areaName:t.areaNameFind}),e.prev=4,e.next=7,c.a.post(u.b+"/restricted/admin/area?page="+a+"&size="+n,l,{headers:r});case 7:return i=e.sent,e.abrupt("return",i);case 11:return e.prev=11,e.t0=e.catch(4),e.abrupt("return",e.t0.response);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"updateArea",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",token:t.token},(n=new FormData).append("id",t.id),n.append("code",t.code),n.append("description",t.description),n.append("name",t.name),n.append("regionCode",t.regionCode),e.prev=7,e.next=10,c.a.post(u.b+"/restricted/admin/area/update",n,{headers:a});case 10:return r=e.sent,e.abrupt("return",r);case 14:return e.prev=14,e.t0=e.catch(7),e.abrupt("return",e.t0.response);case 17:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(t){return e.apply(this,arguments)}}()},{key:"addArea",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",token:t.token},(n=new FormData).append("code",t.code),n.append("description",t.description),n.append("name",t.name),n.append("regionCode",t.regionCode),e.prev=6,e.next=9,c.a.post(u.b+"/restricted/admin/area/create",n,{headers:a});case 9:return r=e.sent,e.abrupt("return",r);case 13:return e.prev=13,e.t0=e.catch(6),e.abrupt("return",e.t0.response);case 16:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteArea",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={"Content-Type":"application/json",token:a},r=JSON.stringify({id:t.id,code:t.code,description:t.description,name:t.name,regionCode:t.regionCode}),e.prev=2,e.next=5,c.a.post(u.b+"/restricted/admin/area/delete",r,{headers:n});case 5:return l=e.sent,e.abrupt("return",l);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getListRegion",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",token:t.token},e.prev=1,e.next=4,c.a.get(u.b+"/restricted/admin/area/list/region",{headers:a});case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()}]),e}()},function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(7),c=a.n(o),u=a(11),d=function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,[{key:"updateRegion",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",token:t.token},n=JSON.stringify({id:t.id,code:t.code,name:t.name,description:t.description,divisionCode:t.divisionCode}),e.prev=2,e.next=5,c.a.post(u.b+"/restricted/admin/region/update",n,{headers:a});case 5:return r=e.sent,e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"addRegion",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",token:t.token},n=JSON.stringify({code:t.code,name:t.name,description:t.description,divisionCode:t.divisionCode}),e.prev=2,e.next=5,c.a.post(u.b+"/restricted/admin/region/create",n,{headers:a});case 5:return r=e.sent,e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteRegion",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={"Content-Type":"application/json",token:a},r=JSON.stringify({id:t.id,code:t.code,name:t.name,description:t.description}),e.prev=2,e.next=5,c.a.post(u.b+"/restricted/admin/region/delete",r,{headers:n});case 5:return l=e.sent,e.abrupt("return",l);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getListRegion",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",token:t.token},JSON.stringify({code:"",name:""}),e.prev=2,e.next=5,c.a.post(u.b+"/restricted/admin/region/list",{headers:a});case 5:return n=e.sent,e.abrupt("return",n);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"findListRegionByParam",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json;charset=UTF-8",token:t.token},n=JSON.stringify({regionCode:t.regionCodeFind,regionName:t.regionNameFind}),e.prev=2,e.next=5,c.a.post(u.b+"/restricted/admin/region/search",n,{headers:a});case 5:return r=e.sent,e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getListDivison",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",token:t.token},e.prev=1,e.next=4,c.a.get(u.b+"/restricted/admin/region/list/division",{headers:a});case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getListRegion1",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",token:t.token},e.prev=1,e.next=4,c.a.get(u.b+"/restricted/admin/area/list/region",{headers:a});case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()}]),e}()},function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(7),c=a.n(o),u=a(11),d=a(10),m=a.n(d),p=function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,[{key:"getListPromoCategory",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r){var l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=localStorage.getItem("jwtAtwork"),void 0!==t&&""!==t||(t=0),void 0===a&&(a=""),void 0===n&&(n=""),i={"Content-Type":"application/json",token:l},e.prev=5,e.next=8,c.a.get(u.c+"/interop/promotion-category/page/"+t+"?code="+a+"&name="+n+"&size="+r+"&shortName=&status=",{headers:i},{params:{}});case 8:return o=e.sent,e.abrupt("return",o);case 12:return e.prev=12,e.t0=e.catch(5),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,a,n,s){return e.apply(this,arguments)}}()},{key:"getListActivePromoCategory",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("jwtAtwork"),a={"Content-Type":"application/json",token:t},e.prev=2,e.next=5,c.a.get(u.c+"/interop/promotion-category/page/0?code=&name=&shortName=&status=ACTIVE",{headers:a},{params:{}});case 5:return n=e.sent,e.abrupt("return",n);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"addPromoCategory",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("jwtAtwork"),n={"Content-Type":"application/json",token:a},r={code:m()(t,"code",""),description:m()(t,"description",""),name:m()(t,"name",""),priority:m()(t,"priority",""),shortName:m()(t,"shortName",""),statusCode:m()(t,"statusCode",""),statusState:m()(t,"statusState","")},e.prev=3,e.next=6,c.a.post(u.c+"/interop/backoffice/addPromotionCategory/ADD_DATA",r,{headers:n});case 6:return l=e.sent,e.abrupt("return",l);case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updatePromoCategory",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("jwtAtwork"),n={"Content-Type":"application/json",token:a},r={id:m()(t,"id",""),code:m()(t,"code",""),description:m()(t,"description",""),name:m()(t,"name",""),priority:m()(t,"priority",""),shortName:m()(t,"shortName",""),statusCode:m()(t,"statusCode",""),statusState:m()(t,"statusState","")},e.prev=3,e.next=6,c.a.post(u.c+"/interop/backoffice/updatePromotionCategory/EDIT_DATA",r,{headers:n});case 6:return l=e.sent,e.abrupt("return",l);case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getPromoCategoryById",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("jwtAtwork"),n={"Content-Type":"application/json",token:a},e.prev=2,e.next=5,c.a.get(u.c+"/interop/promotion-category/"+t,{headers:n},{params:{}});case 5:return r=e.sent,e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()}]),e}()},,,,,function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(7),c=a.n(o),u=a(11),d=a(10),m=a.n(d),p=function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,[{key:"findErwlListByParam",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0!==a&&""!==a||(a=0),void 0!==n&&""!==n||(n=10),r={"Content-Type":"application/json",token:t.token},m()(t,"fromDateFind",""),m()(t,"toDateFind",""),l=JSON.stringify({dateFrom:t.fromDateFind,dateTo:t.toDateFind,masterForm:"ONBOARD_SME_LENDING_WATCHLIST-RMTOOLS-001",version:"ONBOARD_SME_LENDING_WATCHLIST-RMTOOLS-001"}),e.prev=6,e.next=9,c.a.post(u.b+"/report/erwl/consolidate",l,{headers:r});case 9:return i=e.sent,e.abrupt("return",i);case 13:return e.prev=13,e.t0=e.catch(6),e.abrupt("return",e.t0.response);case 16:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"uploadWatchlist",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={"Content-Type":"multipart/form-data",token:t.token},(r=new FormData).append("excelFile",t.selectedFile),r.append("forceUpload",a),e.prev=4,e.next=7,c.a.post(u.b+"/restricted/admin/watchlist/uploadExcelAq",r,{headers:n});case 7:return l=e.sent,e.abrupt("return",l);case 11:return e.prev=11,e.t0=e.catch(4),e.abrupt("return",e.t0.response);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"approveWL",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={token:t.token},l={watchLists:a,approve:n},e.prev=2,e.next=5,c.a.post(u.b+"/restricted/admin/watchlist/approve",l,{headers:r});case 5:return i=e.sent,e.abrupt("return",i);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"getListReport",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={"Content-Type":"application/json",token:t.token},e.prev=1,e.next=4,c.a.get(u.b+"/restricted/admin/watchlist/getWatchlist",{headers:r,params:{statusCode:"WFAQCR",isActive:!1,page:a,size:n}});case 4:return l=e.sent,e.abrupt("return",l);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"downloadReport",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={token:a},e.prev=1,e.next=4,c.a.get(u.b+"/report/erwl/download/consolidate?fileName="+t,{headers:n},{params:{fileName:t}});case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"downloadReportConsolidate",value:function(e){return u.b+"/report/erwl/download/consolidate?fileName="+e}}]),e}()},,,,,,,,function(e,t,a){},,,,,,,function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(4),s=a(3),r=a(6),l=a(5),i=a(0),o=a.n(i),c=a(200),u=(a(571),Object(i.createRef)());function d(){u.current&&u.current.open()}function m(){return o.a.createElement("div",null,o.a.createElement("p",{style:{fontSize:18,fontWeight:600}},"Drop files here"),o.a.createElement("p",null,"or"),o.a.createElement("button",{id:"select-button",onClick:d},"Select Files"))}var p=function(e){Object(r.a)(a,e);var t=Object(l.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.props.file,a=t?URL.createObjectURL(t):null;return o.a.createElement(c.a,{ref:u,noClick:!0,noKeyboard:!0,multiple:!1,accept:"image/*",onDropAccepted:function(t){e.props.onChange?e.props.onChange(t[0]):e.props.onUpload&&e.props.onUpload(t[0])}},(function(t){var n=t.getRootProps,s=t.getInputProps;return o.a.createElement("section",null,o.a.createElement("div",Object.assign({className:"Dropzone "+e.props.className},n()),o.a.createElement("input",s()),o.a.createElement("div",{id:"content"},a?o.a.createElement("img",{src:a,alt:"preview",id:"img-size"}):o.a.createElement(m,null))))}))}}]),a}(i.Component)},,,,function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(7),c=a.n(o),u=a(11),d=function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,[{key:"updateRolePrivilege",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",token:t.token},(n=new FormData).append("id",t.id),n.append("listPrivilege",JSON.stringify(t.listSelectedPrivilege)),e.prev=4,e.next=7,c.a.post(u.b+"/restricted/admin/roleprivilege/update?cmsChannelCode=".concat(t.channel),n,{headers:a});case 7:return r=e.sent,e.abrupt("return",r);case 11:return e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getListRole",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",token:t.token},e.prev=1,e.next=4,c.a.get(u.b+"/restricted/admin/roleprivilege/list/role",{headers:a});case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"RolePrivilegeByParam",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",token:t.token},n=JSON.stringify({code:t.codeFind,name:t.nameFind,description:t.descFind,cmsChannel:{code:t.channelFind}}),e.prev=2,e.next=5,c.a.post(u.b+"/restricted/admin/roleprivilege/search",n,{headers:a});case 5:return r=e.sent,e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"findRoleByParam",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",token:t.token},n=JSON.stringify({roleCode:t.roleCodeFind,roleName:t.roleNameFind,cmsChannelCode:t.channelFind}),e.prev=2,e.next=5,c.a.post(u.b+"/restricted/admin/role/search",n,{headers:a});case 5:return r=e.sent,e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getListPrivilege",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",token:t.token},e.prev=1,e.next=4,c.a.get(u.b+"/restricted/admin/roleprivilege/list/privilege",{headers:a});case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getListRolePrivilege",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",token:t.token},e.prev=1,e.next=4,c.a.get(u.b+"/restricted/admin/roleprivilege/list/",{headers:a});case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getListRolePrivilegeByRoleId",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={"Content-Type":"application/json",token:t.token},e.prev=1,e.next=4,c.a.get(u.b+"/restricted/admin/roleprivilege/list/byroleid/?id="+a,{headers:n},{params:{id:a}});case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}()}]),e}()},function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(7),c=a.n(o),u=a(11),d=function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,[{key:"list",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.a+"/report/list?"+t,n={"Content-Type":"application/json",API_KEY:"DEVX-REPORT-TOKEN"},r=c.a.get(a,{headers:n}).catch((function(e){return{status:e.response.status,message:e.message}})),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"save",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.a+"/report/save/",n={"Content-Type":"application/json",API_KEY:"DEVX-REPORT-TOKEN"},e.next=4,c.a.post(a,JSON.stringify(t),{headers:n}).catch((function(e){return{status:e.response.status,message:e.message}}));case 4:return r=e.sent,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.a+"/report/delete/"+t,n={"Content-Type":"application/json",API_KEY:"DEVX-REPORT-TOKEN"},r=c.a.post(a,{headers:n}).catch((function(e){return{status:e.response.status,message:e.message}})),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"download",value:function(e){var t=u.a+"/report/exportToByte/"+e,a={API_KEY:"DEVX-REPORT-TOKEN"};c.a.get(t,{headers:a}).then((function(t){var a=new Blob([t.data],{type:"application/octet-stream"}),n=window.URL.createObjectURL(a),s=document.createElement("a");s.href=n,s.download="report-"+e+".csv",s.click()})).catch((function(e){alert(e.message+" <> "+e.response.data.message)}))}}]),e}()},,,,,,,,,,,,function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(7),c=a.n(o),u=a(33).a,d=function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,[{key:"getAllEmailConfig",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("userNip"),a={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:t,"Workstation-Id":null},e.prev=2,e.next=5,c.a.get(u+"/api/cms/email",{headers:a});case 5:return n=e.sent,e.abrupt("return",n);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"getAllListTagByEmailType",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},!t.email_type){e.next=13;break}return e.prev=3,e.next=6,c.a.get(u+"/api/cms/email/"+t.email_type+"/tag",{headers:n});case 6:return r=e.sent,e.abrupt("return",r);case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getDetailEmailConfigByEmailType",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},!t.email_type){e.next=15;break}return e.prev=3,e.next=6,c.a.get(u+"/api/cms/email/"+t.email_type,{headers:n});case 6:return r=e.sent,e.abrupt("return",r);case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",e.t0.response);case 13:e.next=16;break;case 15:return e.abrupt("return","Id menu is null");case 16:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmailConfig",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},r={email_type:t.email_type,subject:t.subject_draft,content:t.content_draft,is_active:t.is_active_draft,updated_by:a,status:t.status,recipients:t.recipients_draft},r=JSON.stringify(r),e.prev=4,e.next=7,c.a.put(u+"/api/cms/email",r,{headers:n});case 7:return l=e.sent,e.abrupt("return",l);case 11:return e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"approveEmailConfig",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},!t||!t.email_type){e.next=16;break}return r={status:t.status,approved_by:a},r=JSON.stringify(r),e.prev=5,e.next=8,c.a.put(u+"/api/cms/email/"+t.email_type+"/approve",r,{headers:n});case 8:return l=e.sent,e.abrupt("return",l);case 12:return e.prev=12,e.t0=e.catch(5),console.log(e.t0),e.abrupt("return",e.t0.response);case 16:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"rejectEmailConfig",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},!t||!t.email_type){e.next=16;break}return r={status:t.status,approved_by:a,remarks:t.remarks},r=JSON.stringify(r),e.prev=5,e.next=8,c.a.put(u+"/api/cms/email/"+t.email_type+"/reject",r,{headers:n});case 8:return l=e.sent,e.abrupt("return",l);case 12:return e.prev=12,e.t0=e.catch(5),console.log(e.t0),e.abrupt("return",e.t0.response);case 16:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t){return e.apply(this,arguments)}}()}]),e}()},function(e,t,a){"use strict";a.d(t,"d",(function(){return c})),a.d(t,"b",(function(){return u})),a.d(t,"c",(function(){return d})),a.d(t,"e",(function(){return m})),a.d(t,"a",(function(){return p}));var n=a(1),s=a.n(n),r=a(2),l=a(7),i=a.n(l),o=a(11),c=function(){var e=Object(r.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(o.b,"/guide/getAvailableLevels"),e.next=3,i.a.post(t).then((function(e){return e.data})).catch((function(e){return e}));case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(r.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(o.b,"/guide/getAvailableFeatures"),e.next=3,i.a.post(t).then((function(e){return e.data})).catch((function(e){return e}));case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(r.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(o.b,"/guide/findAll"),e.next=3,i.a.post(t).then((function(e){return e.data})).catch((function(e){return e}));case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(o.b,"/guide/save"),e.next=3,i.a.post(a,t).then((function(e){return e.data})).catch((function(e){return e}));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(o.b,"/guide/delete/").concat(t),e.next=3,i.a.post(a).then((function(e){return e.data})).catch((function(e){return e}));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},,,,,,,,,,,,,,,,,,,function(e,t,a){},,function(e,t,a){"use strict";a.d(t,"a",(function(){return k}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=(a(21),a(59),a(8)),p=a(32),h=a(42),f=a(199),g=a.n(f),v=a(99),b=a.n(v),y=a(10),S=a.n(y),E=a(180),w=a(248),k=(a(61),function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={labelButton:"ADD NEW COMPANY",alertState:"alert alert-primary",isEdit:!1,error:!1,token:localStorage.getItem("accessToken"),branchList:[],collectedBranchList:[],sectorList:[]},e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){if("edit"===this.props.mode){var e=[];try{e=JSON.parse(this.props.data.branchCode)}catch(t){e.push({code:this.props.data.branchCode?this.props.data.branchCode:"-",name:this.props.data.branchCode?this.props.data.branchCode:"-"})}this.setState({id:this.props.data.id?this.props.data.id:"",code:this.props.data.code?this.props.data.code:"",name:this.props.data.name?this.props.data.name:"",sectorCode:this.props.data.sectorCode?this.props.data.sectorCode:"",address:this.props.data.address?this.props.data.address:"",provinceCode:this.props.data.provinceCode?this.props.data.provinceCode:"",regencyCode:this.props.data.regencyCode?this.props.data.regencyCode:"",districtCode:this.props.data.districtCode?this.props.data.districtCode:"",villageCode:this.props.data.villageCode?this.props.data.villageCode:"",rt:this.props.data.rt?this.props.data.rt:"",rw:this.props.data.rw?this.props.data.rw:"",postalCode:this.props.data.postalCode?this.props.data.postalCode:"",branchCode:e||"",collectedBranchList:e||"",salesCode:this.props.data.salesCode?this.props.data.salesCode:"",mrCode:this.props.data.mrCode?this.props.data.mrCode:"",marketingProgramCode:this.props.data.marketingProgramCode?this.props.data.marketingProgramCode:"",eventId:this.props.data.eventId?this.props.data.eventId:"",cardDelivery:this.props.data.cardDelivery?this.props.data.cardDelivery:"",labelButton:"EDIT",isEdit:!0})}else this.setState({isEdit:!1});window.scrollTo(0,0),this.getdataMaster()}},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i,o,c,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.data,a=new p.a,n=S()(t,"provinceCode",""),r=S()(t,"regencyCode",""),l=S()(t,"districtCode",""),e.next=7,a.getListUserBranch(this.state);case 7:return(i=e.sent)&&200===i.status&&i.data&&i.data.success?this.setState({branchList:i.data.data}):i&&i.data&&m.a===i.data.data?(alert("Fetch Branch Data error, please reload."),localStorage.clear(),this.props.history.push("login")):this.setState({branchList:[]}),o=new h.a,e.next=12,o.getListSector(this.state);case 12:return(c=e.sent)&&200===c.status&&c.data&&c.data.success?this.setState({sectorList:c.data.data.lookup}):c&&c.data&&m.a===c.data.data?alert("Fetch Industry Type Data error, please reload."):this.setState({sectorList:[]}),e.next=16,o.getListProvince(this.state);case 16:if(!((u=e.sent)&&200===u.status&&u.data&&u.data.success)){e.next=42;break}if(this.setState({provinceList:u.data.data}),"edit"!==this.props.mode){e.next=40;break}return e.next=22,this.setProvince("",n);case 22:if(!e.sent){e.next=29;break}return e.next=26,this.setRegency("",r);case 26:e.t0=e.sent,e.next=30;break;case 29:e.t0=null;case 30:if(!e.t0){e.next=37;break}return e.next=34,this.setDistrict("",l);case 34:e.t1=e.sent,e.next=38;break;case 37:e.t1=null;case 38:e.t1?this.setState({villageCode:this.props.data.villageCode}):this.setState({villageCode:""});case 40:e.next=43;break;case 42:u&&u.data&&m.a===u.data.data?alert("Fetch Province Data error, please reload."):this.setState({provinceList:[]});case 43:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"validate",value:function(e){return this.setState({error:!0,alertState:"alert alert-danger"}),e.code?e.name?e.sectorCode?e.salesCode?e.cardDelivery?(this.setState({error:!1,alertState:"alert alert-primary"}),!0):(this.setState({errorMessage:"Please fill Card Delivery!"}),!1):(this.setState({errorMessage:"Please fill Sales Code!"}),!1):(this.setState({errorMessage:"Please fill Industry Type Code!"}),!1):(this.setState({errorMessage:"Please fill Name!"}),!1):(this.setState({errorMessage:"Please fill Code!"}),!1)}},{key:"onSubmit",value:function(){if(this.props.onSubmit){var e=this.state;this.validate(e)?this.props.onSubmit(e):window.scrollTo(0,0)}}},{key:"setProvince",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r,l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=b()(t)?a:t.target.value,r=this.state.provinceList,l=g()(r,{id:parseInt(n)}),this.setState({provinceCode:n}),i=new h.a,e.next=7,i.getListRegency(l);case 7:if(!((o=e.sent)&&200===o.status&&o.data&&o.data.success)){e.next=13;break}return this.setState({regencyList:o.data.data}),e.abrupt("return",!0);case 13:o&&o.data&&m.a===o.data.data?alert("Fetch Regency Data error, please reload."):this.setState({regencyList:[]});case 14:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"setRegency",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r,l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=b()(t)?a:t.target.value,r=this.state.regencyList,l=g()(r,{id:parseInt(n)}),this.setState({regencyCode:n}),i=new h.a,e.next=7,i.getListDistrict(l);case 7:if(!((o=e.sent)&&200===o.status&&o.data&&o.data.success)){e.next=13;break}return this.setState({districtList:o.data.data}),e.abrupt("return",!0);case 13:o&&o.data&&m.a===o.data.data?alert("Fetch District Data error, please reload."):this.setState({districtList:[]});case 14:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"setDistrict",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r,l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=b()(t)?a:t.target.value,r=this.state.districtList,l=g()(r,{id:parseInt(n)}),this.setState({districtCode:n}),i=new h.a,e.next=7,i.getListVillage(l);case 7:if(!((o=e.sent)&&200===o.status&&o.data&&o.data.success)){e.next=13;break}return this.setState({villageList:o.data.data}),e.abrupt("return",!0);case 13:o&&o.data&&m.a===o.data.data?alert("Fetch Village Data error, please reload."):this.setState({villageList:[]});case 14:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"handleClick",value:function(e){alert(e.target.name.charAt(0).toUpperCase()+e.target.name.slice(1)+" Is Read Only!")}},{key:"handleChange",value:function(e){this.setState({collectedBranchList:e,branchCode:e})}},{key:"render",value:function(){var e=this,t=[{id:1,code:"yes",name:"Yes",description:"Yes"},{id:2,code:"no",name:"No",description:"No"}];t=t.map((function(e){var t=e.id,a=e.code,n=e.name;return d.a.createElement("option",{key:t,value:a},n)}));var a=this.state.sectorList||[];a=a.map((function(e){var t=e.id,a=e.name;return d.a.createElement("option",{key:t,value:t},a)}));var n=this.state.provinceList||[];n=n.map((function(e){var t=e.id,a=e.name;e.code;return d.a.createElement("option",{key:t,value:t},a)}));var s=this.state.regencyList||[];s=s.map((function(e){var t=e.id,a=e.name;return d.a.createElement("option",{key:t,value:t},a)}));var r=this.state.districtList||[];r=r.map((function(e){var t=e.id,a=e.name;return d.a.createElement("option",{key:t,value:t},a)}));var l=this.state.villageList||[];l=l.map((function(e){var t=e.id,a=e.name;return d.a.createElement("option",{key:t,value:t},a)}));var i=Object(w.a)();return d.a.createElement("div",{id:"LookupForm"},this.state.error?d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.errorMessage):null,d.a.createElement("div",{className:"form-box-area mb-4"},d.a.createElement("h4",null,"Company Identity"),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Company Code"),"edit"===this.props.mode?d.a.createElement("input",{className:"col-4 form-input",type:"text",name:"code",readOnly:!0,maxLength:"6",onClick:function(t){return e.handleClick(t)},defaultValue:this.state.code||""}):d.a.createElement("input",{className:"col-4 form-input",type:"text",maxLength:"6",onChange:function(t){return e.setState({code:t.target.value.trim()})},defaultValue:this.state.code||""})),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Company Name"),d.a.createElement("input",{className:"col-4 form-input",type:"text",onChange:function(t){return e.setState({name:t.target.value.trim()})},defaultValue:this.state.name||""})),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Industry Type"),d.a.createElement("select",{className:"col-4 form-input",onChange:function(t){return e.setState({sectorCode:t.target.value})},value:this.state.sectorCode},d.a.createElement("option",{value:""},"Select Industry Type"),a)),d.a.createElement("hr",null),d.a.createElement("h4",null,"Company Address & Details"),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Address"),d.a.createElement("textarea",{className:"col-7 form-input",rows:"5",value:this.state.address?this.state.address:"",onChange:function(t){return e.setState({address:t.target.value})},onBlur:function(t){return e.setState({address:t.target.value.trim()})}})),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Province"),d.a.createElement("select",{className:"col-4 form-input",onChange:function(t){return e.setProvince(t)},value:this.state.provinceCode},d.a.createElement("option",{value:""},"Select Province"),n)),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Regency"),d.a.createElement("select",{className:"col-4 form-input",onChange:function(t){return e.setRegency(t)},value:this.state.regencyCode},d.a.createElement("option",{value:""},"Select Regency"),s)),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"District"),d.a.createElement("select",{className:"col-4 form-input",onChange:function(t){return e.setDistrict(t)},value:this.state.districtCode},d.a.createElement("option",{value:""},"Select District"),r)),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Village"),d.a.createElement("select",{className:"col-4 form-input",onChange:function(t){return e.setState({villageCode:t.target.value})},value:this.state.villageCode},d.a.createElement("option",{value:""},"Select Village"),l)),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"RT"),d.a.createElement("input",{className:"col-4 form-input",type:"text",onChange:function(t){return e.setState({rt:t.target.value.trim()})},defaultValue:this.state.rt||"",maxLength:"3"})),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"RW"),d.a.createElement("input",{className:"col-4 form-input",type:"text",onChange:function(t){return e.setState({rw:t.target.value.trim()})},defaultValue:this.state.rw||"",maxLength:"3"})),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Postal Code"),d.a.createElement("input",{className:"col-4 form-input",type:"text",onChange:function(t){return e.setState({postalCode:t.target.value.trim()})},defaultValue:this.state.postalCode||"",maxLength:"5"})),d.a.createElement("hr",null),d.a.createElement("div",{style:{marginVertical:30}},d.a.createElement("h4",null,"Branch Detail"),d.a.createElement("div",{style:{marginBottom:5}},"Kode Cabang Pembuka"),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Branch Name"),d.a.createElement(E.a,{isMulti:!0,closeMenuOnSelect:!1,components:i,value:this.state.collectedBranchList,getOptionLabel:function(e){return e.code+"-"+e.name},getOptionValue:function(e){return e.code},options:this.state.branchList,className:"col-6",onChange:function(t){return e.handleChange(t)}}))),d.a.createElement("hr",null),d.a.createElement("h4",{style:{marginTop:30}},"Account Officer / Sales"),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Account Officer / Sales Code"),d.a.createElement("input",{className:"col-4 form-input",type:"text",onChange:function(t){return e.setState({salesCode:t.target.value.trim()})},defaultValue:this.state.salesCode||""})),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"MR Code"),d.a.createElement("input",{className:"col-4 form-input",type:"text",onChange:function(t){return e.setState({mrCode:t.target.value.trim()})},defaultValue:this.state.mrCode||""})),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Marketing Program Code"),d.a.createElement("input",{className:"col-4 form-input",type:"text",onChange:function(t){return e.setState({marketingProgramCode:t.target.value.trim()})},defaultValue:this.state.marketingProgramCode||""})),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Event ID"),d.a.createElement("input",{className:"col-4 form-input",type:"text",onChange:function(t){return e.setState({eventId:t.target.value.trim()})},defaultValue:this.state.eventId||""})),d.a.createElement("hr",null),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Card Delivery (Payroll Account Only)"),d.a.createElement("select",{className:"col-4 form-input",onChange:function(t){return e.setState({cardDelivery:t.target.value})},value:this.state.cardDelivery},d.a.createElement("option",{value:""},"Pilih"),t))),d.a.createElement("div",{className:"d-flex justify-content-end"},d.a.createElement("button",{className:"button-red",onClick:this.onSubmit.bind(this)},this.state.labelButton)))}}]),a}(u.Component))},,,,function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(14),p=a.n(m),h=(a(21),a(59),a(579),a(75)),f=a(32),g=a(8),v=a(130),b=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).getCMSChannel=function(){var t=e.state.token;Object(v.a)(t).then((function(t){if(console.log("AVAILABLE CHANNEL",t),t.success){var a=p.a.result(t,"data",[]);e.setState({channel:a})}else alert("Failed get Available CMS Channel")})).catch((function(e){alert("Error get Available CMS Channel")}))},e.state={labelButton:"CREATE USER",alertState:"alert alert-primary",isEdit:!1,error:!1,token:localStorage.getItem("accessToken"),userType:JSON.parse(localStorage.getItem("userType")),isSuperAdmin:JSON.parse(localStorage.getItem("isSuperAdmin")),channel:[],levelList:[],userTypeList:[],roleList:[],branchList:[],regionList:[],isImgAvailable:!1,channelFind:""},window.scrollTo(0,0),e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.getdataMaster(),this.getCMSChannel(),"edit"===this.props.mode?(this.setState(this.props.data),console.log("CMS CHANNEL",this.props.data),this.setState({salesCode:this.props.data.sales_code,typeCode:this.props.data.type?this.props.data.type.code:null,levelCode:this.props.data.level?this.props.data.level.code:null,branchCode:this.props.data.branches&&this.props.data.branches.length>0?this.props.data.branches[0].code:null,roleCode:this.props.data.roles&&this.props.data.roles.length>0?this.props.data.roles[0].code:null,regionCode:this.props.data.regionCode,labelButton:"EDIT USER",isEdit:!0,channelFind:this.props.data.cmsChannel.code})):this.setState({isEdit:!1})}},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new f.a,a=!0,e.next=4,t.getListUserLevel(this.state);case 4:return(n=e.sent)&&200===n.status&&n.data&&n.data.success?this.setState({levelList:n.data.data}):n&&n.data&&g.a===n.data.data?a=!1:this.setState({levelList:[]}),e.next=8,t.getListUserRole(this.state);case 8:return(r=e.sent)&&200===r.status&&r.data&&r.data.success?this.setState({roleList:r.data.data}):r&&r.data&&g.a===r.data.data?a=!1:this.setState({roleList:[]}),e.next=12,t.getListUserType(this.state);case 12:return(l=e.sent)&&200===l.status&&l.data&&l.data.success?this.setState({userTypeList:l.data.data}):l&&l.data&&g.a===l.data.data?a=!1:this.setState({userTypeList:[]}),e.next=16,t.getListUserBranch(this.state);case 16:return(i=e.sent)&&200===i.status&&i.data&&i.data.success?this.setState({branchList:i.data.data}):i&&i.data&&g.a===i.data.data?a=!1:this.setState({branchList:[]}),e.next=20,t.getListUserRegion(this.state);case 20:(o=e.sent)&&200===o.status&&o.data&&o.data.success?this.setState({regionList:o.data.data}):o&&o.data&&g.a===o.data.data?a=!1:this.setState({regionList:[]}),a||this.clearSession();case 23:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"clearSession",value:function(){alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")}},{key:"validate",value:function(e){return this.setState({error:!0,alertState:"alert alert-danger"}),e.nip?e.name?e.email?e.email&&!h.a.validateEmail(e.email)?(this.setState({errorMessage:"Please enter valid Email!"}),!1):e.sales_code?e.branchCode?e.roleCode?e.typeCode?e.levelCode?"nbchead"!==e.levelCode||e.regionCode?e.phoneNumber?(this.setState({error:!1,alertState:"alert alert-primary"}),!0):(this.setState({errorMessage:"Please enter phone number!"}),!1):(this.setState({errorMessage:"Please enter region code!"}),!1):(this.setState({errorMessage:"Please enter user level!"}),!1):(this.setState({errorMessage:"Please enter user type!"}),!1):(this.setState({errorMessage:"Please enter user role!"}),!1):(this.setState({errorMessage:"Please enter user branch!"}),!1):(this.setState({errorMessage:"Please enter Sales Code!"}),!1):(this.setState({errorMessage:"Please enter user Email!"}),!1):(this.setState({errorMessage:"Please enter user Name!"}),!1):(this.setState({errorMessage:"Please enter user NIP!"}),!1)}},{key:"onSubmit",value:function(){if(this.setState({error:!1}),this.props.onSubmit){var e=this.state;this.validate(e)?this.props.onSubmit(e):window.scrollTo(0,0)}}},{key:"delete",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to delete photo ".concat(this.state.sales_code,"?"))){e.next=7;break}return this.setState({loading:!0}),t=new f.a,e.next=5,t.deletePhoto(this.state);case 5:(a=e.sent)&&200===a.status&&a.data.success?(this.setState({error:a.data.message,alertState:"alert alert-primary",loading:!1}),window.location.reload(),window.scrollTo(0,0),window.confirm("".concat(this.state.sales_code," photo has been deleted."))):a&&a.data&&g.a===a.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):this.setState({error:a&&a.data.message?a.data.message:"Error delete photo, Please contact Administrator",alertState:"alert alert-danger",loading:!1});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isAvailable",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new f.a,e.next=3,t.doCheckIsImageAvailable(this.state);case 3:if(!(a=e.sent)||200!==a.status||!a.data.success){e.next=8;break}return e.abrupt("return",this.state.isImgAvailable=!0);case 8:return e.abrupt("return",this.state.isImgAvailable=!1);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.levelList||[];t=t.map((function(e){var t=e.code,a=e.name;return d.a.createElement("option",{key:t,value:t},a)}));var a=this.state.roleList||[];a=a.map((function(e){var t=e.code,a=e.name;return d.a.createElement("option",{key:t,value:t},a)}));var n=this.state.userTypeList||[];n=n.map((function(e){var t=e.code,a=e.name;return d.a.createElement("option",{key:t,value:t},a)}));var s=this.state.branchList||[];s=s.map((function(e){var t=e.code,a=e.name;return d.a.createElement("option",{key:t,value:t},a)}));var r=this.state.regionList||[];r=r.map((function(e){var t=e.code,a=e.name;return d.a.createElement("option",{key:t,value:t},a)})),this.isAvailable(this.state);var l=(new f.a).doGetUserPhoto(this.state),i=this.state,o=i.userType,c=i.channel,u=(i.channelFind,i.isSuperAdmin);return d.a.createElement("div",{id:"UserForm"},this.state.error?d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.errorMessage):null,d.a.createElement("div",{className:"form-box-area mb-4"},d.a.createElement("h4",{className:"mb-4"},"Identity"),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"NIP"),d.a.createElement("input",{className:"col-4 form-input",type:"text",onChange:function(t){return e.setState({nip:t.target.value})},defaultValue:this.state.nip,readOnly:this.state.isEdit?"readOnly":""})),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Name"),d.a.createElement("input",{className:"col-4 form-input",type:"text",maxLength:"50",onChange:function(t){return e.setState({name:t.target.value})},defaultValue:this.state.name})),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Email Address"),d.a.createElement("input",{className:"col-4 form-input",type:"text",maxLength:"40",onChange:function(t){return e.setState({email:t.target.value})},defaultValue:this.state.email,readOnly:this.state.isEdit?"readOnly":""})),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Sales Code"),d.a.createElement("input",{className:"col-4 form-input",type:"text",onChange:function(t){return e.setState({sales_code:t.target.value})},defaultValue:this.state.sales_code,readOnly:this.state.isEdit?"readOnly":""})),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Branch"),d.a.createElement("select",{className:"col-4 form-input",onChange:function(t){return e.setState({branchCode:t.target.value})},value:this.state.branchCode},d.a.createElement("option",{value:""},"Select User Branch"),s)),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Role"),d.a.createElement("select",{className:"col-4 form-input",onChange:function(t){return e.setState({roleCode:t.target.value})},value:this.state.roleCode},d.a.createElement("option",{value:""},"Select User Role"),a)),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"User Type"),d.a.createElement("select",{className:"col-4 form-input",onChange:function(t){return e.setState({typeCode:t.target.value})},value:this.state.typeCode},d.a.createElement("option",{value:""},"Select User Type"),n)),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Level"),d.a.createElement("select",{className:"col-4 form-input",onChange:function(t){return e.setState({levelCode:t.target.value})},value:this.state.levelCode},d.a.createElement("option",{value:""},"Select User Level"),t)),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Region"),d.a.createElement("select",{className:"col-4 form-input",onChange:function(t){return e.setState({regionCode:t.target.value})},value:this.state.regionCode},d.a.createElement("option",{value:""},"Select User Region"),r)),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Phone Number"),d.a.createElement("input",{className:"col-4 form-input",type:"text",onChange:function(t){return e.setState({phoneNumber:t.target.value})},defaultValue:this.state.phoneNumber})),null!==o?d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Channel"),d.a.createElement("select",{disabled:!u,onChange:function(t){return e.setState({channelFind:t.target.value})},value:this.state.channelFind,className:"col-4 form-input"},d.a.createElement("option",{value:""},"Select Channel"),c.length>0?c.map((function(e){return d.a.createElement("option",{key:e.id,value:e.code},e.name)})):null)):null,this.state.isImgAvailable?d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"User Photo"),d.a.createElement("div",{className:"portrait"},d.a.createElement("img",{src:l,alt:"No Image Available",id:"img-size"})),d.a.createElement("div",{id:"buttonDelete"},d.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.delete.bind(this)},"Delete"))):d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"User Photo"),d.a.createElement("div",{className:"portrait"},d.a.createElement("img",{src:l,alt:"No Image Available",id:"img-size"})))),d.a.createElement("div",{className:"d-flex justify-content-end"},d.a.createElement("button",{className:"button-red",onClick:this.onSubmit.bind(this)},this.state.labelButton)))}}]),a}(u.Component)},,,,,,,,function(e,t,a){"use strict";var n=a(0),s=a.n(n),r=a(201),l=a(13),i=a(4),o=a(3),c=a(6),u=a(5),d=(a(918),a(15)),m=a.n(d),p=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={},e}return Object(o.a)(n,[{key:"logout",value:function(){localStorage.clear(),m.a.render(s.a.createElement(k,null),document.getElementById("root")),this.props.history.push("login")}},{key:"render",value:function(){var e=this,t=this.state.data||{},n=localStorage.getItem("isLogin"),r=localStorage.getItem("userName"),l=null===localStorage.getItem("isForcedChangePassword")||""===localStorage.getItem("isForcedChangePassword")||"null"===localStorage.getItem("isForcedChangePassword")?"":localStorage.getItem("isForcedChangePassword");return s.a.createElement("div",{id:"Header"},s.a.createElement("div",{id:"top"},s.a.createElement("select",{id:"language"},s.a.createElement("option",null,"EN"),s.a.createElement("option",null,"IN"))),s.a.createElement("div",{id:"bottom"},s.a.createElement("div",{className:"d-inline-flex h-100  align-items-center"},s.a.createElement("img",{className:"h-50",alt:"Logo",src:a(542)})),n?s.a.createElement("div",{className:"float-right row h-100  align-items-center"},s.a.createElement("div",{className:"mx-3"},s.a.createElement("div",{id:"name"},r),s.a.createElement("button",{id:"logout",onClick:this.logout.bind(this)},"Log Out")),"yes"!==l.toLowerCase()?s.a.createElement("div",{className:"mz-3"},s.a.createElement("input",{type:"image",className:"mzx-3 mx-2",alt:"Logo",src:a(417),onClick:function(){return e.props.history.push("change-password",{data:t})}}),s.a.createElement("input",{type:"image",className:"mzx-3 mx-2",alt:"Logo",src:a(543),onClick:function(){return e.props.history.push("dashboard")}})):null):null))}}]),n}(n.Component),h=Object(r.f)(p),f=a(1),g=a.n(f),v=a(2),b=(a(925),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).getNavLinkClass=function(t){return e.props.location.pathname===t?"active":""},e.state={userPrivilege:[]},e}return Object(o.a)(a,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")})}},{key:"componentDidMount",value:function(){var e=document.getElementsByClassName("is-active");if(e){var t=!1;if(e[0]&&e[0].parentNode&&e[0].parentNode.parentNode&&e[0].parentNode.parentNode.classList){var a=e[0].parentNode.parentNode.classList;for(var n in a)"rmwb-menu"===a[n]&&(t=!0)}t&&e[0].parentNode.parentNode.classList.add("expand")}}},{key:"clickedMenu",value:function(){var e=Object(v.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.getElementById(t).classList.toggle("expand");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){for(var e=this,t=JSON.parse(this.state.userPrivilege)||[],a=!1,n=!1,r=!1,i=!1,o=!1,c=!1,u=!1,d=!1,m=!1,p=!1,h=!1,f=!1,g=!1,v=!1,b=!1,y=!1,S=!1,E=!1,w=!1,k=!1,N=!1,C=!1,A=!1,x=!1,O=!1,j=!1,P=!1,_=!1,D=!1,T=!1,I=!1,M=!1,R=!1,L=!1,F=!1,B=!1,U=!1,Y=!1,W=!1,J=!1,H=!1,V=!1,K=!1,q=!1,G=!1,Z=!1,X=!1,z=!1,Q=!1,$=!1,ee=!1,te=!1,ae=!1,ne=!1,se=!1,re=!1,le=!1,ie=!1,oe=!1,ce=0;ce<t.length;ce++)"view_pic"===t[ce].name+"_"+t[ce].vgroup&&(a=!0),"view_lg"===t[ce].name+"_"+t[ce].vgroup&&(n=!0),"view_uam"===t[ce].name+"_"+t[ce].vgroup&&(r=!0),"view_rpt"===t[ce].name+"_"+t[ce].vgroup&&(i=!0),"view_rptonboard"===t[ce].name+"_"+t[ce].vgroup&&(o=!0),"view_rptonboardOnline"===t[ce].name+"_"+t[ce].vgroup&&(c=!0),"approval"===t[ce].name&&(u=!0),"view_rol"===t[ce].name+"_"+t[ce].vgroup&&(d=!0),"view_sys"===t[ce].name+"_"+t[ce].vgroup&&(m=!0),"view_loo"===t[ce].name+"_"+t[ce].vgroup&&(p=!0),"view_sta"===t[ce].name+"_"+t[ce].vgroup&&(h=!0),"view_brc"===t[ce].name+"_"+t[ce].vgroup&&(g=!0),"view_reg"===t[ce].name+"_"+t[ce].vgroup&&(v=!0),"view_sld"===t[ce].name+"_"+t[ce].vgroup&&(b=!0),"view_lks"===t[ce].name+"_"+t[ce].vgroup&&(y=!0),"view_rmwb_user"===t[ce].name+"_"+t[ce].vgroup&&(S=!0),"download_rmwb_user"===t[ce].name+"_"+t[ce].vgroup&&!0,"view_rmwb_role"===t[ce].name+"_"+t[ce].vgroup&&(E=!0),"view_rmwb_clientProfile"===t[ce].name+"_"+t[ce].vgroup&&(w=!0),"view_rmwb_productPricing"===t[ce].name+"_"+t[ce].vgroup&&(k=!0),"view_rmwb_kpi"===t[ce].name+"_"+t[ce].vgroup&&(N=!0),"view_rmwb_rejectReason"===t[ce].name+"_"+t[ce].vgroup&&(C=!0),"view_rmwb_sourceLead"===t[ce].name+"_"+t[ce].vgroup&&(A=!0),"view_rmwb_clientManagement"===t[ce].name+"_"+t[ce].vgroup&&(x=!0),"view_rmwb_emailConfig"===t[ce].name+"_"+t[ce].vgroup&&(O=!0),"view_rptOnboardCcpl"===t[ce].name+"_"+t[ce].vgroup&&(U=!0),"view_cc_onboardReview"===t[ce].name+"_"+t[ce].vgroup&&(L=!0),"view_pl_onboardReview"===t[ce].name+"_"+t[ce].vgroup&&(F=!0),"view_rmwb_income"===t[ce].name+"_"+t[ce].vgroup&&(j=!0),"view_rmwb_productHolding"===t[ce].name+"_"+t[ce].vgroup&&(P=!0),"upload_user_photoBulk"===t[ce].name+"_"+t[ce].vgroup&&(B=!0),"view_rmwb_faq"===t[ce].name+"_"+t[ce].vgroup&&(_=!0),"view_rmwb_qrf"===t[ce].name+"_"+t[ce].vgroup&&(D=!0),"view_rmwb_standardPricing"===t[ce].name+"_"+t[ce].vgroup&&(T=!0),"create_rmwb_qrf"===t[ce].name+"_"+t[ce].vgroup&&(I=!0),"create_rmwb_standardPricing"===t[ce].name+"_"+t[ce].vgroup&&(M=!0),"view_companySetup"===t[ce].name+"_"+t[ce].vgroup&&(Y=!0),"view_companyHrAccess"===t[ce].name+"_"+t[ce].vgroup&&(W=!0),"view_hrAccessParameter"===t[ce].name+"_"+t[ce].vgroup&&(J=!0),"view_employeeDatabase"===t[ce].name+"_"+t[ce].vgroup&&(H=!0),"view_taskListApproval"===t[ce].name+"_"+t[ce].vgroup&&(V=!0),"view_creditCardBundling"===t[ce].name+"_"+t[ce].vgroup&&(X=!0),"view_devxReport"===t[ce].name+"_"+t[ce].vgroup&&($=!0),"view_dbConenction"===t[ce].name+"_"+t[ce].vgroup&&(ee=!0),"view_devxReportData"===t[ce].name+"_"+t[ce].vgroup&&(te=!0),"view_rmwb_holiday"===t[ce].name+"_"+t[ce].vgroup&&(R=!0),"view_rmwb_lending"===t[ce].name+"_"+t[ce].vgroup&&!0,"view_atwork_Promotion"===t[ce].name+"_"+t[ce].vgroup&&(q=!0),"view_atwork_PromotionCategory"===t[ce].name+"_"+t[ce].vgroup&&(K=!0),"view_erwlReport"===t[ce].name+"_"+t[ce].vgroup&&(ae=!0),"view_sales_gamification"===t[ce].name+"_"+t[ce].vgroup&&(z=!0),"view_guideline"===t[ce].name+"_"+t[ce].vgroup&&(f=!0),"approval_watchlist"===t[ce].name+"_"+t[ce].vgroup&&(ne=!0),"download_watchlist"===t[ce].name+"_"+t[ce].vgroup&&(se=!0),"upload_watchlist"===t[ce].name+"_"+t[ce].vgroup&&(re=!0),"download_dpd"===t[ce].name+"_"+t[ce].vgroup&&(le=!0),"view_event"===t[ce].name+"_"+t[ce].vgroup&&(G=!0),"view_event_application"===t[ce].name+"_"+t[ce].vgroup&&(Z=!0),"view_employerCode"===t[ce].name+"_"+t[ce].vgroup&&(Q=!0),"view_rmwb_tat"===t[ce].name+"_"+t[ce].vgroup&&!0,"view_rmwb_dpd"===t[ce].name+"_"+t[ce].vgroup&&!0,"view_rmwb_guide"===t[ce].name+"_"+t[ce].vgroup&&(oe=!0),"view_rmwb_downloadReport"===t[ce].name+"_"+t[ce].vgroup&&(ie=!0);return s.a.createElement("nav",{id:"Sidebar",className:this.props.className,style:this.props.style},s.a.createElement("ul",{className:"list-unstyled"},s.a.createElement("p",{className:"subheader"},"General"),s.a.createElement("li",{className:"menu"},s.a.createElement(l.c,{exact:!0,activeClassName:"is-active",to:"/index"},"Dashboard"))),r?s.a.createElement("ul",{className:"list-unstyled"},s.a.createElement("p",{className:"subheader"},"User Access"),s.a.createElement("li",{className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/user"},"User Access List"))):null,g||v?s.a.createElement("ul",{className:"list-unstyled"},s.a.createElement("p",{className:"subheader"},"Branch / Region"),g?s.a.createElement("li",{className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/branch"},"Branch List")):null,v?s.a.createElement("li",{className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/region"},"Region List")):null):null,n?s.a.createElement("ul",{className:"list-unstyled"},s.a.createElement("p",{className:"subheader"},"Leads"),s.a.createElement("li",{className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/lead"},"Leads List"))):null,a?s.a.createElement("ul",{className:"list-unstyled"},s.a.createElement("p",{className:"subheader"},"Products"),s.a.createElement("li",{className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/product"},"Product List")),X?s.a.createElement("li",{className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/cc-bundling"},"Bundling Kartu Kredit")):null):null,Q?s.a.createElement("ul",{className:"list-unstyled"},s.a.createElement("p",{className:"subheader"},"Employer"),s.a.createElement("li",{className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/list-emp-code"},"Employer Code"))):null,a?s.a.createElement("ul",{className:"list-unstyled"},s.a.createElement("p",{className:"subheader"},"Campaign"),s.a.createElement("li",{className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/campaign-category"},"Campaign Category")),s.a.createElement("li",{className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/campaign"},"Campaign Info"))):null,s.a.createElement("ul",{className:"list-unstyled"},s.a.createElement("p",{className:"subheader"},"User Settings"),s.a.createElement("li",{className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/change-password"},"Change Password"))),i||o||c||U||ae||ne||re||se||le?s.a.createElement("ul",{className:"list-unstyled"},s.a.createElement("p",{className:"subheader"},"Report"),i?s.a.createElement("li",{className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/report"},"Report List")):null,o?s.a.createElement("li",{className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/report-onboarding"},"Report Onboarding ",s.a.createElement("br",null)," Funding")):null,c?s.a.createElement("li",{className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/report-onboarding-online"},"Report Onboarding ",s.a.createElement("br",null)," Funding Online")):null,o?s.a.createElement("li",{className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/report-onboarding-lending"},"Report Onboarding ",s.a.createElement("br",null)," Lending")):null,U?s.a.createElement("li",{className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/report-onboarding-ccpl"},"Report Onboarding CC/PL")):null,H?s.a.createElement("li",{className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/atwork-report"},"Report Onboarding @WORK")):null,ae?s.a.createElement("li",{className:"menu"},s.a.createElement(l.c,{exact:!0,activeClassName:"is-active",to:"/erwl-report"},"Report Erwl ",s.a.createElement("br",null)," Consolidate")):null,se?s.a.createElement("li",{className:"menu"},s.a.createElement(l.c,{exact:!0,activeClassName:"is-active",to:"/watchlist-report"},"Download Watchlist")):null,re?s.a.createElement("li",{className:"menu"},s.a.createElement(l.c,{exact:!0,activeClassName:"is-active",to:"/watchlist-upload"},"Upload Watchlist")):null,le?s.a.createElement("li",{className:"menu"},s.a.createElement(l.c,{exact:!0,activeClassName:"is-active",to:"/dpd-report"},"Download Dpd")):null):null,z?s.a.createElement("ul",{className:"list-unstyled"},s.a.createElement("p",{className:"subheader"},"Sales Gamification"),s.a.createElement("li",{className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/list-incentive-dsr"},"Incentive DSR"))):null,u&&!V?s.a.createElement("ul",{className:"list-unstyled"},s.a.createElement("p",{className:"subheader"},"Task Approval"),s.a.createElement("li",{className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/task-approval"},"Task Approval")),ne?s.a.createElement("li",{className:"menu"},s.a.createElement(l.c,{exact:!0,activeClassName:"is-active",to:"/watchlist-approve"},"Approve Watchlist")):null):null,L?s.a.createElement("ul",{className:"list-unstyled"},s.a.createElement("p",{className:"subheader"},"Onboard Review"),s.a.createElement("li",{className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/onboard-review-cc-list"},"Credit Card"))):null,F?s.a.createElement("ul",{className:"list-unstyled"},s.a.createElement("li",{className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/onboard-review-pl-list"},"Personal Loan"))):null,B?s.a.createElement("ul",{className:"list-unstyled"},s.a.createElement("p",{className:"subheader"},"Photo Bulk Upload"),s.a.createElement("li",{className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/photo-bulk-upload"},"Photo Bulk Upload"))):null,d?s.a.createElement("ul",{className:"list-unstyled"},s.a.createElement("p",{className:"subheader"},"Role"),s.a.createElement("li",{className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/role"},"Role List"))):null,m?s.a.createElement("ul",{className:"list-unstyled"},s.a.createElement("p",{className:"subheader"},"System Parameter"),s.a.createElement("li",{className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/system-parameter"},"System Parameter List"))):null,h||b?s.a.createElement("ul",{className:"list-unstyled"},s.a.createElement("p",{className:"subheader"},"Status"),h?s.a.createElement("li",{className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/status"},"Status List")):null,b?s.a.createElement("li",{className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/status-leads"},"Status Leads List")):null):null,p||y?s.a.createElement("ul",{className:"list-unstyled"},s.a.createElement("p",{className:"subheader"},"Lookup"),p?s.a.createElement("li",{className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/lookup"},"Lookup List")):null,y?s.a.createElement("li",{className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/lookup-status"},"Lookup Status List")):null):null,f?s.a.createElement("ul",{className:"list-unstyled"},s.a.createElement("p",{className:"subheader"},"Help"),f?s.a.createElement("li",{className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/help-list"},"Help List")):null):null,S?s.a.createElement("ul",{className:"list-unstyled rmwb-menu",id:"menu_rmwb_user",onClick:function(){return e.clickedMenu("menu_rmwb_user")}},s.a.createElement("p",{className:"subheader"},"User",s.a.createElement("br",null),"Management"),s.a.createElement("li",{id:"sidebar-menu-rmwb-user",className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/rmwb-user",onClick:function(){return e.clickedMenu("menu_rmwb_user")}},"User List"))):null,E?s.a.createElement("ul",{className:"list-unstyled rmwb-menu",id:"menu_rmwb_role_apps",onClick:function(){return e.clickedMenu("menu_rmwb_role_apps")}},s.a.createElement("p",{className:"subheader"},"Role User",s.a.createElement("br",null),"Apps"),s.a.createElement("li",{id:"sidebar-menu-rmwb-buyer",className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/rmwb-role",onClick:function(){return e.clickedMenu("menu_rmwb_role_apps")}},"Role List")),s.a.createElement("li",{id:"sidebar-menu-rmwb-list-upload-role",className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/rmwb-list-upload-role",onClick:function(){return e.clickedMenu("menu_rmwb_role_apps")}},"Upload Role"))):null,ie?s.a.createElement("ul",{className:"list-unstyled rmwb-menu",id:"menu_rmwb_download",onClick:function(){return e.clickedMenu("menu_rmwb_download")}},s.a.createElement("p",{className:"subheader"},"Download",s.a.createElement("br",null),"Report"),s.a.createElement("li",{id:"sidebar-menu-rmwb-download-lead",className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/download-lead",onClick:function(){return e.clickedMenu("menu_rmwb_download")}},"Download Lead Info")),s.a.createElement("li",{id:"sidebar-menu-rmwb-download-lead-detail",className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/download-lead-detail",onClick:function(){return e.clickedMenu("menu_rmwb_download")}},"Download Lead Detail")),s.a.createElement("li",{id:"sidebar-menu-rmwb-download-activity",className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/download-activity",onClick:function(){return e.clickedMenu("menu_rmwb_download")}},"Download Activity Info")),s.a.createElement("li",{id:"sidebar-menu-rmwb-download-document-checker",className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/download-document-checker",onClick:function(){return e.clickedMenu("menu_rmwb_download")}},"Document Checker")),s.a.createElement("li",{id:"sidebar-menu-rmwb-download-rac",className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/download-rac",onClick:function(){return e.clickedMenu("menu_rmwb_download")}},"Download Risk Checker")),s.a.createElement("li",{id:"sidebar-menu-rmwb-download-drawdown",className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/download-drawdown",onClick:function(){return e.clickedMenu("menu_rmwb_download")}},"Download Drawdown")),s.a.createElement("li",{id:"sidebar-menu-rmwb-download-tat",className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/download-tat",onClick:function(){return e.clickedMenu("menu_rmwb_download")}},"Download TaT"))):null,A?s.a.createElement("ul",{className:"list-unstyled rmwb-menu",id:"menu_rmwb_source_lead",onClick:function(){return e.clickedMenu("menu_rmwb_source_lead")}},s.a.createElement("p",{className:"subheader"},"Source Lead"),s.a.createElement("li",{id:"sidebar-menu-rmwb-source-lead",className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/rmwb-source-lead",onClick:function(){return e.clickedMenu("menu_rmwb_source_lead")}},"Source Lead List"))):null,C?s.a.createElement("ul",{className:"list-unstyled rmwb-menu",id:"menu_rmwb_drop_reason",onClick:function(){return e.clickedMenu("menu_rmwb_drop_reason")}},s.a.createElement("p",{className:"subheader"},"Drop Reason"),s.a.createElement("li",{id:"sidebar-menu-rmwb-drop-reason",className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/rmwb-drop-reason",onClick:function(){return e.clickedMenu("menu_rmwb_drop_reason")}},"Drop Reason List"))):null,O?s.a.createElement("ul",{className:"list-unstyled rmwb-menu",id:"menu_rmwb_email_confif",onClick:function(){return e.clickedMenu("menu_rmwb_email_confif")}},s.a.createElement("p",{className:"subheader"},"Email",s.a.createElement("br",null),"Notification"),s.a.createElement("li",{id:"sidebar-menu-rmwb-email-config",className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/rmwb-email-config",onClick:function(){return e.clickedMenu("menu_rmwb_email_confif")}},"Email Notification List"))):null,w?s.a.createElement("ul",{className:"list-unstyled rmwb-menu",id:"menu_rmwb_client_profile",onClick:function(){return e.clickedMenu("menu_rmwb_client_profile")}},s.a.createElement("p",{className:"subheader"},"Client Profile"),s.a.createElement("li",{id:"sidebar-menu-rmwb-client-profile",className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/rmwb-client-profile",onClick:function(){return e.clickedMenu("menu_rmwb_client_profile")}},"Client Profile List")),s.a.createElement("li",{id:"sidebar-menu-rmwb-list-upload-client-profile",className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/rmwb-list-upload-client-profile",onClick:function(){return e.clickedMenu("menu_rmwb_client_profile")}},"Upload Client Profile"))):null,x?s.a.createElement("ul",{className:"list-unstyled rmwb-menu",id:"menu_rmwb_client_management",onClick:function(){return e.clickedMenu("menu_rmwb_client_management")}},s.a.createElement("p",{className:"subheader"},"Client Management"),s.a.createElement("li",{id:"sidebar-menu-rmwb-client-management",className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/rmwb-client-management",onClick:function(){return e.clickedMenu("menu_rmwb_client_management")}},"Client Management List")),s.a.createElement("li",{id:"sidebar-menu-rmwb-list-upload-client-management",className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/rmwb-list-upload-client-management",onClick:function(){return e.clickedMenu("menu_rmwb_client_management")}},"Upload Management"))):null,P||oe?s.a.createElement("ul",{className:"list-unstyled rmwb-menu",id:"menu_rmwb_product_holding",onClick:function(){return e.clickedMenu("menu_rmwb_product_holding")}},s.a.createElement("p",{className:"subheader"},"Product Holding"),s.a.createElement("li",{id:"sidebar-menu-rmwb-income-facilities",className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/rmwb-product-holding",onClick:function(){return e.clickedMenu("menu_rmwb_product_holding")}},"List Product")),s.a.createElement("li",{id:"sidebar-menu-param-rmwb-income-facilities",className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/rmwb-list-upload-product-holding",onClick:function(){return e.clickedMenu("menu_rmwb_product_holding")}},"Upload Product")),s.a.createElement("li",{id:"sidebar-menu-param-rmwb-product-holding",className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/rmwb-param-product-holding",onClick:function(){return e.clickedMenu("menu_rmwb_product_holding")}},"Parameter Product")),oe?s.a.createElement("li",{id:"sidebar-menu-rmwb-product-holding-guide",className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/rmwb-product-holding-guide",onClick:function(){return e.clickedMenu("menu_rmwb_product_holding")}},"Product Holding Guide")):null):null,j?s.a.createElement("ul",{className:"list-unstyled rmwb-menu",id:"menu_rmwb_income",onClick:function(){return e.clickedMenu("menu_rmwb_income")}},s.a.createElement("p",{className:"subheader"},"Income"),s.a.createElement("li",{id:"sidebar-menu-rmwb-income-facilities",className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/rmwb-income-facilities",onClick:function(){return e.clickedMenu("menu_rmwb_income")}},"List Income")),s.a.createElement("li",{id:"sidebar-menu-rmwb-list-upload-income",className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/rmwb-list-upload-income",onClick:function(){return e.clickedMenu("menu_rmwb_income")}},"Upload Income")),s.a.createElement("li",{id:"sidebar-menu-param-rmwb-income-facilities",className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/rmwb-param-income-facilities",onClick:function(){return e.clickedMenu("menu_rmwb_income")}},"Parameter Income"))):null,N?s.a.createElement("ul",{className:"list-unstyled rmwb-menu",id:"menu_rmwb_kpi",onClick:function(){return e.clickedMenu("menu_rmwb_kpi")}},s.a.createElement("p",{className:"subheader"},"KPI"),s.a.createElement("li",{id:"sidebar-menu-rmwb-kpi-setting",className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/rmwb-kpi-setting",onClick:function(){return e.clickedMenu("menu_rmwb_kpi")}},"Kpi Setting List")),s.a.createElement("li",{id:"sidebar-menu-rmwb-list-upload-kpi-setting",className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/rmwb-list-upload-kpi-setting",onClick:function(){return e.clickedMenu("menu_rmwb_kpi")}},"Upload Kpi Setting")),s.a.createElement("li",{id:"sidebar-menu-rmwb-kpi-actual",className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/rmwb-kpi-actual",onClick:function(){return e.clickedMenu("menu_rmwb_kpi")}},"Kpi Actual List")),s.a.createElement("li",{id:"sidebar-menu-rmwb-upload-kpi-actual",className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/rmwb-list-upload-kpi-actual",onClick:function(){return e.clickedMenu("menu_rmwb_kpi")}},"Upload Kpi Actual"))):null,k||T?s.a.createElement("ul",{className:"list-unstyled rmwb-menu",id:"menu_rmwb_product_pricing",onClick:function(){return e.clickedMenu("menu_rmwb_product_pricing")}},s.a.createElement("p",{className:"subheader"},"Product and Standard Pricing"),k?s.a.createElement("li",{id:"sidebar-menu-rmwb-product-pricing",className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/rmwb-product-pricing",onClick:function(){return e.clickedMenu("menu_rmwb_product_pricing")}},"Product Pricing List")):null,T?s.a.createElement("li",{id:"sidebar-menu-rmwb-standard-pricing",className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/rmwb-standard-pricing",onClick:function(){return e.clickedMenu("menu_rmwb_product_pricing")}},"Standard Pricing List")):null,M?s.a.createElement("li",{id:"sidebar-menu-rmwb-create-standard-pricing",className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/rmwb-create-standard-pricing",onClick:function(){return e.clickedMenu("menu_rmwb_product_pricing")}},"Add New Standard Pricing")):null):null,_?s.a.createElement("ul",{className:"list-unstyled rmwb-menu",id:"menu_rmwb_faq",onClick:function(){return e.clickedMenu("menu_rmwb_faq")}},s.a.createElement("p",{className:"subheader"},"FAQ"),s.a.createElement("li",{id:"sidebar-menu-rmwb-faq",className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/rmwb-faq",onClick:function(){return e.clickedMenu("menu_rmwb_faq")}},"FAQ List")),s.a.createElement("li",{id:"sidebar-menu-rmwb-list-upload-faq",className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/rmwb-list-upload-faq",onClick:function(){return e.clickedMenu("menu_rmwb_faq")}},"Upload FAQ"))):null,D?s.a.createElement("ul",{className:"list-unstyled rmwb-menu",id:"menu_rmwb_qrf",onClick:function(){return e.clickedMenu("menu_rmwb_qrf")}},s.a.createElement("p",{className:"subheader"},"Quick Reference",s.a.createElement("br",null),"Guide"),s.a.createElement("li",{id:"sidebar-menu-rmwb-qrf",className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/rmwb-qrf",onClick:function(){return e.clickedMenu("menu_rmwb_qrf")}},"QRF List")),I?s.a.createElement("li",{id:"sidebar-menu-rmwb-create-qrf",className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/rmwb-create-qrf",onClick:function(){return e.clickedMenu("menu_rmwb_qrf")}},"Add New QRF")):null):null,oe?s.a.createElement("ul",{className:"list-unstyled rmwb-menu",id:"menu_rmwb_funding_guide",onClick:function(){return e.clickedMenu("menu_rmwb_funding_guide")}},s.a.createElement("p",{className:"subheader"},"Guide"),s.a.createElement("li",{id:"sidebar-menu-rmwb-funding-guide",className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/rmwb-funding-guide",onClick:function(){return e.clickedMenu("menu_rmwb_funding_guide")}},"Funding Analytic Guide")),s.a.createElement("li",{id:"sidebar-menu-rmwb-lending-guide",className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/rmwb-lending-guide",onClick:function(){return e.clickedMenu("menu_rmwb_funding_guide")}},"Lending Analytic Guide")),s.a.createElement("li",{id:"sidebar-menu-rmwb-tat-guide",className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/rmwb-tat-guide",onClick:function(){return e.clickedMenu("menu_rmwb_funding_guide")}},"TAT Guide")),s.a.createElement("li",{id:"sidebar-menu-rmwb-dpd-guide",className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/rmwb-dpd-guide",onClick:function(){return e.clickedMenu("menu_rmwb_funding_guide")}},"DPD Guide"))):null,R?s.a.createElement("ul",{className:"list-unstyled rmwb-menu",id:"menu_rmwb_holiday",onClick:function(){return e.clickedMenu("menu_rmwb_holiday")}},s.a.createElement("p",{className:"subheader"},"Holiday"),s.a.createElement("li",{id:"sidebar-menu-rmwb-holiday",className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/rmwb-holiday",onClick:function(){return e.clickedMenu("menu_rmwb_holiday")}},"Holiday List")),s.a.createElement("li",{id:"sidebar-menu-rmwb-list-upload-holiday",className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/rmwb-list-upload-holiday",onClick:function(){return e.clickedMenu("menu_rmwb_holiday")}},"Upload Holiday"))):null,Y||W||J||H||V||q||K?s.a.createElement("ul",{className:"list-unstyled"},s.a.createElement("p",{className:"subheader"},"HR Menu"),s.a.createElement("div",null,Y?s.a.createElement("li",{className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/company-list"},"Set Up Company")):null,W?s.a.createElement("li",{className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/employer-list"},"Company HR Access")):null,J?s.a.createElement("li",{className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/parameter-company"},"HR Access Parameter")):null,H?s.a.createElement("li",{className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/employee-database"},"Employee Database")):null,V?s.a.createElement("li",{className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/list-approval"},"Task List")):null,K?s.a.createElement("li",{className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/list-promotion-category"},"Promotion Category")):null,q?s.a.createElement("li",{className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/list-promotion"},"Promotion")):null,G&&s.a.createElement("li",{className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/manage-event"},"Manage Event")),Z&&s.a.createElement("li",{className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/manage-event-application"},"Manage Event Applications")))):null,$?s.a.createElement("ul",{className:"list-unstyled rmwb-menu",id:"devxreport",onClick:function(){return e.clickedMenu("devxreport")}},s.a.createElement("p",{className:"subheader"},"Report Data"),ee?s.a.createElement("li",{id:"sidebar-menu-rmwb-user",className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/dbconnection-list",onClick:function(){return e.clickedMenu("devxreport")}},"DBConnection List")):null,te?s.a.createElement("li",{id:"sidebar-menu-rmwb-user",className:"menu"},s.a.createElement(l.c,{activeClassName:"is-active",to:"/report-list",onClick:function(){return e.clickedMenu("devxreport")}},"Report List")):null):null)}}]),a}(n.Component)),y=a(683),S=(a(926),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{id:"Footer"},s.a.createElement("div",{className:"text-center version-text"},"V",y.version))}}]),a}(n.Component));a(927);function E(){return s.a.createElement(r.b,{path:"/"},s.a.createElement("div",{className:"d-flex"},s.a.createElement(b,{style:{width:"260px"}}),s.a.createElement("div",{id:"App-content",style:{width:"calc(100% - 260px)",minHeight:"calc(100vh - 180px)"}},s.a.createElement(r.b,{path:"/",exact:!0,component:a(468).default}),s.a.createElement(r.b,{path:"/index",exact:!0,component:a(468).default}),s.a.createElement(r.b,{path:"/dashboard",exact:!0,component:a(468).default}),s.a.createElement(r.b,{path:"/campaign",exact:!0,component:a(983).default}),s.a.createElement(r.b,{path:"/campaign-category",exact:!0,component:a(997).default}),s.a.createElement(r.b,{path:"/create-campaign",exact:!0,component:a(999).default}),s.a.createElement(r.b,{path:"/create-campaign-category",exact:!0,component:a(1025).default}),s.a.createElement(r.b,{path:"/create-user",exact:!0,component:a(1027).default}),s.a.createElement(r.b,{path:"/bulk-upload-user",exact:!0,component:a(1029).default}),s.a.createElement(r.b,{path:"/bulk-upload-lead",exact:!0,component:a(1031).default}),s.a.createElement(r.b,{path:"/create-lead",exact:!0,component:a(1033).default}),s.a.createElement(r.b,{path:"/create-product",exact:!0,component:a(1035).default}),s.a.createElement(r.b,{path:"/edit-campaign",exact:!0,component:a(1045).default}),s.a.createElement(r.b,{path:"/edit-campaign-category",exact:!0,component:a(1047).default}),s.a.createElement(r.b,{path:"/edit-user",exact:!0,component:a(1049).default}),s.a.createElement(r.b,{path:"/edit-lead",exact:!0,component:a(1050).default}),s.a.createElement(r.b,{path:"/edit-profile",exact:!0,component:a(1052).default}),s.a.createElement(r.b,{path:"/edit-product",exact:!0,component:a(1054).default}),s.a.createElement(r.b,{path:"/user",exact:!0,component:a(1056).default}),s.a.createElement(r.b,{path:"/branch",exact:!0,component:a(1058).default}),s.a.createElement(r.b,{path:"/edit-branch",exact:!0,component:a(1060).default}),s.a.createElement(r.b,{path:"/create-branch",exact:!0,component:a(1062).default}),s.a.createElement(r.b,{path:"/lead",exact:!0,component:a(1660).default}),s.a.createElement(r.b,{path:"/product",exact:!0,component:a(1065).default}),s.a.createElement(r.b,{path:"/cc-bundling",exact:!0,component:a(1066).default}),s.a.createElement(r.b,{path:"/edit-cc-bundling",exact:!0,component:a(1068).default}),s.a.createElement(r.b,{path:"/create-cc-bundling",exact:!0,component:a(1070).default}),s.a.createElement(r.b,{path:"/temp",exact:!0,component:a(1661).default}),s.a.createElement(r.b,{path:"/change-password",exact:!0,component:a(583).default}),s.a.createElement(r.b,{path:"/change-password-success",exact:!0,component:a(585).default}),s.a.createElement(r.b,{path:"/report",exact:!0,component:a(1662).default}),s.a.createElement(r.b,{path:"/setPassword",exact:!0,component:a(680).default}),s.a.createElement(r.b,{path:"/task-approval",exact:!0,component:a(1075).default}),s.a.createElement(r.b,{path:"/TaskApprovalDetail",exact:!0,component:a(1076).default}),s.a.createElement(r.b,{path:"/role-product",exact:!0,component:a(1077).default}),s.a.createElement(r.b,{path:"/role-product-detail",exact:!0,component:a(1663).default}),s.a.createElement(r.b,{path:"/role-privilege-management",exact:!0,component:a(1080).default}),s.a.createElement(r.b,{path:"/role-privilege-management-edit",exact:!0,component:a(1082).default}),s.a.createElement(r.b,{path:"/role",exact:!0,component:a(1084).default}),s.a.createElement(r.b,{path:"/role-detail",exact:!0,component:a(1086).default}),s.a.createElement(r.b,{path:"/role-create",exact:!0,component:a(1087).default}),s.a.createElement(r.b,{path:"/role-edit",exact:!0,component:a(1089).default}),s.a.createElement(r.b,{path:"/system-parameter",exact:!0,component:a(1091).default}),s.a.createElement(r.b,{path:"/edit-system-parameter",exact:!0,component:a(1093).default}),s.a.createElement(r.b,{path:"/create-system-parameter",exact:!0,component:a(1095).default}),s.a.createElement(r.b,{path:"/status",exact:!0,component:a(1097).default}),s.a.createElement(r.b,{path:"/status-leads",exact:!0,component:a(1099).default}),s.a.createElement(r.b,{path:"/edit-status",exact:!0,component:a(1101).default}),s.a.createElement(r.b,{path:"/create-status",exact:!0,component:a(1103).default}),s.a.createElement(r.b,{path:"/create-status-detail",exact:!0,component:a(1105).default}),s.a.createElement(r.b,{path:"/lookup",exact:!0,component:a(1107).default}),s.a.createElement(r.b,{path:"/edit-lookup",exact:!0,component:a(1109).default}),s.a.createElement(r.b,{path:"/create-lookup",exact:!0,component:a(1111).default}),s.a.createElement(r.b,{path:"/area",exact:!0,component:a(1113).default}),s.a.createElement(r.b,{path:"/edit-area",exact:!0,component:a(1115).default}),s.a.createElement(r.b,{path:"/create-area",exact:!0,component:a(1117).default}),s.a.createElement(r.b,{path:"/region",exact:!0,component:a(1119).default}),s.a.createElement(r.b,{path:"/edit-region",exact:!0,component:a(1121).default}),s.a.createElement(r.b,{path:"/create-region",exact:!0,component:a(1123).default}),s.a.createElement(r.b,{path:"/lookup-status",exact:!0,component:a(1125).default}),s.a.createElement(r.b,{path:"/edit-lookup-status",exact:!0,component:a(1127).default}),s.a.createElement(r.b,{path:"/list-incentive-dsr",exact:!0,component:a(1129).default}),s.a.createElement(r.b,{path:"/incentive-bulk-upload",exact:!0,component:a(1131).default}),s.a.createElement(r.b,{path:"/rmwb-supplier",exact:!0,component:a(1132).default}),s.a.createElement(r.b,{path:"/rmwb-edit-supplier",exact:!0,component:a(1140).default}),s.a.createElement(r.b,{path:"/rmwb-create-supplier",exact:!0,component:a(1142).default}),s.a.createElement(r.b,{path:"/rmwb-list-upload-supplier",exact:!0,component:a(1144).default}),s.a.createElement(r.b,{path:"/rmwb-detail-upload-supplier",exact:!0,component:a(1145).default}),s.a.createElement(r.b,{path:"/rmwb-upload-supplier",exact:!0,component:a(1146).default}),s.a.createElement(r.b,{path:"/rmwb-buyer",exact:!0,component:a(1147).default}),s.a.createElement(r.b,{path:"/rmwb-edit-buyer",exact:!0,component:a(1148).default}),s.a.createElement(r.b,{path:"/rmwb-create-buyer",exact:!0,component:a(1150).default}),s.a.createElement(r.b,{path:"/rmwb-list-upload-buyer",exact:!0,component:a(1152).default}),s.a.createElement(r.b,{path:"/rmwb-detail-upload-buyer",exact:!0,component:a(1153).default}),s.a.createElement(r.b,{path:"/rmwb-upload-buyer",exact:!0,component:a(1154).default}),s.a.createElement(r.b,{path:"/download-login-history",exact:!0,component:a(1664).default}),s.a.createElement(r.b,{path:"/download-lead",exact:!0,component:a(1373).default}),s.a.createElement(r.b,{path:"/download-lead-detail",exact:!0,component:a(1374).default}),s.a.createElement(r.b,{path:"/download-activity",exact:!0,component:a(1665).default}),s.a.createElement(r.b,{path:"/download-document-checker",exact:!0,component:a(1666).default}),s.a.createElement(r.b,{path:"/download-rac",exact:!0,component:a(1667).default}),s.a.createElement(r.b,{path:"/download-account-plan",exact:!0,component:a(1668).default}),s.a.createElement(r.b,{path:"/download-drawdown",exact:!0,component:a(1669).default}),s.a.createElement(r.b,{path:"/download-tat",exact:!0,component:a(1670).default}),s.a.createElement(r.b,{path:"/rmwb-user",exact:!0,component:a(1376).default}),s.a.createElement(r.b,{path:"/edit-rmwb-user",exact:!0,component:a(1378).default}),s.a.createElement(r.b,{path:"/create-rmwb-user",exact:!0,component:a(1381).default}),s.a.createElement(r.b,{path:"/bulk-upload-rmwb-user",exact:!0,component:a(1671).default}),s.a.createElement(r.b,{path:"/rmwb-role",exact:!0,component:a(1384).default}),s.a.createElement(r.b,{path:"/rmwb-list-upload-role",exact:!0,component:a(1385).default}),s.a.createElement(r.b,{path:"/rmwb-detail-upload-role",exact:!0,component:a(1386).default}),s.a.createElement(r.b,{path:"/rmwb-upload-role",exact:!0,component:a(1387).default}),s.a.createElement(r.b,{path:"/rmwb-client-profile",exact:!0,component:a(1388).default}),s.a.createElement(r.b,{path:"/rmwb-detail-client-profile",exact:!0,component:a(1672).default}),s.a.createElement(r.b,{path:"/rmwb-list-upload-client-profile",exact:!0,component:a(1390).default}),s.a.createElement(r.b,{path:"/rmwb-detail-upload-client-profile",exact:!0,component:a(1391).default}),s.a.createElement(r.b,{path:"/rmwb-upload-client-profile",exact:!0,component:a(1392).default}),s.a.createElement(r.b,{path:"/rmwb-product-pricing",exact:!0,component:a(1393).default}),s.a.createElement(r.b,{path:"/rmwb-edit-product-pricing/:id",exact:!0,component:a(1673).default}),s.a.createElement(r.b,{path:"/rmwb-kpi-setting",exact:!0,component:a(1430).default}),s.a.createElement(r.b,{path:"/rmwb-list-upload-kpi-setting",exact:!0,component:a(1431).default}),s.a.createElement(r.b,{path:"/rmwb-detail-upload-kpi-setting",exact:!0,component:a(1432).default}),s.a.createElement(r.b,{path:"/rmwb-upload-kpi-setting",exact:!0,component:a(1433).default}),s.a.createElement(r.b,{path:"/rmwb-download-kpi-setting",exact:!0,component:a(1435).default}),s.a.createElement(r.b,{path:"/rmwb-kpi-actual",exact:!0,component:a(1437).default}),s.a.createElement(r.b,{path:"/rmwb-list-upload-kpi-actual",exact:!0,component:a(1438).default}),s.a.createElement(r.b,{path:"/rmwb-detail-upload-kpi-actual",exact:!0,component:a(1439).default}),s.a.createElement(r.b,{path:"/rmwb-upload-kpi-actual",exact:!0,component:a(1440).default}),s.a.createElement(r.b,{path:"/rmwb-download-kpi-actual",exact:!0,component:a(1441).default}),s.a.createElement(r.b,{path:"/rmwb-drop-reason",exact:!0,component:a(1674).default}),s.a.createElement(r.b,{path:"/rmwb-source-lead",exact:!0,component:a(1675).default}),s.a.createElement(r.b,{path:"/rmwb-client-management",exact:!0,component:a(1444).default}),s.a.createElement(r.b,{path:"/rmwb-edit-client-management",exact:!0,component:a(1445).default}),s.a.createElement(r.b,{path:"/rmwb-create-client-management",exact:!0,component:a(1447).default}),s.a.createElement(r.b,{path:"/rmwb-list-upload-client-management",exact:!0,component:a(1448).default}),s.a.createElement(r.b,{path:"/rmwb-detail-upload-client-management",exact:!0,component:a(1449).default}),s.a.createElement(r.b,{path:"/rmwb-upload-client-management",exact:!0,component:a(1450).default}),s.a.createElement(r.b,{path:"/rmwb-email-config",exact:!0,component:a(1451).default}),s.a.createElement(r.b,{path:"/rmwb-edit-email-config",exact:!0,component:a(1676).default}),s.a.createElement(r.b,{path:"/rmwb-income-facilities",exact:!0,component:a(1453).default}),s.a.createElement(r.b,{path:"/rmwb-list-upload-income",exact:!0,component:a(1454).default}),s.a.createElement(r.b,{path:"/rmwb-detail-upload-income",exact:!0,component:a(1455).default}),s.a.createElement(r.b,{path:"/rmwb-upload-income",exact:!0,component:a(1456).default}),s.a.createElement(r.b,{path:"/rmwb-param-income-facilities",exact:!0,component:a(1655).default}),s.a.createElement(r.b,{path:"/rmwb-product-holding",exact:!0,component:a(1461).default}),s.a.createElement(r.b,{path:"/rmwb-param-product-holding",exact:!0,component:a(1462).default}),s.a.createElement(r.b,{path:"/rmwb-list-upload-product-holding",exact:!0,component:a(1463).default}),s.a.createElement(r.b,{path:"/rmwb-detail-upload-product-holding",exact:!0,component:a(1464).default}),s.a.createElement(r.b,{path:"/rmwb-upload-product-holding",exact:!0,component:a(1465).default}),s.a.createElement(r.b,{path:"/report-onboarding",exact:!0,component:a(1466).default}),s.a.createElement(r.b,{path:"/report-onboarding-lending",exact:!0,component:a(1468).default}),s.a.createElement(r.b,{path:"/report-onboarding-online",exact:!0,component:a(1470).default}),s.a.createElement(r.b,{path:"/report-onboarding-ccpl",exact:!0,component:a(1472).default}),s.a.createElement(r.b,{path:"/onboard-review-cc-list",exact:!0,component:a(1474).default}),s.a.createElement(r.b,{path:"/onboard-review-pl-list",exact:!0,component:a(1475).default}),s.a.createElement(r.b,{path:"/photo-bulk-upload",exact:!0,component:a(1476).default}),s.a.createElement(r.b,{path:"/personalLoanDetail",exact:!0,component:a(1477).default}),s.a.createElement(r.b,{path:"/creditCardDetail",exact:!0,component:a(1478).default}),s.a.createElement(r.b,{path:"/rmwb-faq",exact:!0,component:a(1479).default}),s.a.createElement(r.b,{path:"/rmwb-list-upload-faq",exact:!0,component:a(1480).default}),s.a.createElement(r.b,{path:"/rmwb-detail-upload-faq",exact:!0,component:a(1481).default}),s.a.createElement(r.b,{path:"/rmwb-upload-faq",exact:!0,component:a(1482).default}),s.a.createElement(r.b,{path:"/rmwb-standard-pricing",exact:!0,component:a(1483).default}),s.a.createElement(r.b,{path:"/rmwb-edit-standard-pricing",exact:!0,component:a(1484).default}),s.a.createElement(r.b,{path:"/rmwb-create-standard-pricing",exact:!0,component:a(1486).default}),s.a.createElement(r.b,{path:"/rmwb-qrf",exact:!0,component:a(1487).default}),s.a.createElement(r.b,{path:"/rmwb-edit-qrf",exact:!0,component:a(1488).default}),s.a.createElement(r.b,{path:"/rmwb-create-qrf",exact:!0,component:a(1489).default}),s.a.createElement(r.b,{path:"/rmwb-funding-guide",exact:!0,component:a(1490).default}),s.a.createElement(r.b,{path:"/rmwb-edit-funding-guide",exact:!0,component:a(1491).default}),s.a.createElement(r.b,{path:"/rmwb-create-funding-guide",exact:!0,component:a(1492).default}),s.a.createElement(r.b,{path:"/company-list",exact:!0,component:a(1493).default}),s.a.createElement(r.b,{path:"/create-company",exact:!0,component:a(1494).default}),s.a.createElement(r.b,{path:"/edit-company",exact:!0,component:a(1542).default}),s.a.createElement(r.b,{path:"/list-approval",exact:!0,component:a(1544).default}),s.a.createElement(r.b,{path:"/list-approval-detail",exact:!0,component:a(1677).default}),s.a.createElement(r.b,{path:"/parameter-company",exact:!0,component:a(1547).default}),s.a.createElement(r.b,{path:"/bulk-upload-employer",exact:!0,component:a(1553).default}),s.a.createElement(r.b,{path:"/employer-list",exact:!0,component:a(1561).default}),s.a.createElement(r.b,{path:"/create-employer",exact:!0,component:a(1562).default}),s.a.createElement(r.b,{path:"/edit-employer",exact:!0,component:a(1564).default}),s.a.createElement(r.b,{path:"/employee-database",exact:!0,component:a(1566).default}),s.a.createElement(r.b,{path:"/employee-database-detail",exact:!0,component:a(1567).default}),s.a.createElement(r.b,{path:"/dashboard-detail",exact:!0,component:a(1568).default}),s.a.createElement(r.b,{path:"/atwork-report",exact:!0,component:a(1569).default}),s.a.createElement(r.b,{path:"/list-promotion-category",exact:!0,component:a(1571).default}),s.a.createElement(r.b,{path:"/create-promotion-category",exact:!0,component:a(1573).default}),s.a.createElement(r.b,{path:"/edit-promotion-category",exact:!0,component:a(1575).default}),s.a.createElement(r.b,{path:"/list-promotion",exact:!0,component:a(1577).default}),s.a.createElement(r.b,{path:"/create-promotion",exact:!0,component:a(1579).default}),s.a.createElement(r.b,{path:"/edit-promotion",exact:!0,component:a(1581).default}),s.a.createElement(r.b,{path:"/manage-event",exact:!0,component:a(1583).default}),s.a.createElement(r.b,{path:"/form-event",exact:!0,component:a(1584).default}),s.a.createElement(r.b,{path:"/view-task-detail",exact:!0,component:a(1598).default}),s.a.createElement(r.b,{path:"/view-task-detail-update",exact:!0,component:a(1599).default}),s.a.createElement(r.b,{path:"/manage-event-application",exact:!0,component:a(1600).default}),s.a.createElement(r.b,{path:"/view-event-application",exact:!0,component:a(1601).default}),s.a.createElement(r.b,{path:"/view-event-bulk",exact:!0,component:a(1602).default}),s.a.createElement(r.b,{path:"/dbconnection-list",exact:!0,component:a(1603).default}),s.a.createElement(r.b,{path:"/dbconnection-edit",exact:!0,component:a(1611).default}),s.a.createElement(r.b,{path:"/dbconnection-add",exact:!0,component:a(1612).default}),s.a.createElement(r.b,{path:"/report-list",exact:!0,component:a(1613).default}),s.a.createElement(r.b,{path:"/report-add",exact:!0,component:a(1614).default}),s.a.createElement(r.b,{path:"/report-edit",exact:!0,component:a(1615).default}),s.a.createElement(r.b,{path:"/rmwb-holiday",exact:!0,component:a(1616).default}),s.a.createElement(r.b,{path:"/rmwb-list-upload-holiday",exact:!0,component:a(1617).default}),s.a.createElement(r.b,{path:"/rmwb-detail-upload-holiday",exact:!0,component:a(1618).default}),s.a.createElement(r.b,{path:"/rmwb-upload-holiday",exact:!0,component:a(1619).default}),s.a.createElement(r.b,{path:"/rmwb-lending-guide",exact:!0,component:a(1620).default}),s.a.createElement(r.b,{path:"/rmwb-edit-lending-guide",exact:!0,component:a(1621).default}),s.a.createElement(r.b,{path:"/rmwb-create-lending-guide",exact:!0,component:a(1622).default}),s.a.createElement(r.b,{path:"/rmwb-tat-guide",exact:!0,component:a(1623).default}),s.a.createElement(r.b,{path:"/rmwb-edit-tat-guide",exact:!0,component:a(1624).default}),s.a.createElement(r.b,{path:"/rmwb-create-tat-guide",exact:!0,component:a(1625).default}),s.a.createElement(r.b,{path:"/rmwb-dpd-guide",exact:!0,component:a(1626).default}),s.a.createElement(r.b,{path:"/rmwb-edit-dpd-guide",exact:!0,component:a(1627).default}),s.a.createElement(r.b,{path:"/rmwb-create-dpd-guide",exact:!0,component:a(1628).default}),s.a.createElement(r.b,{path:"/rmwb-product-holding-guide",exact:!0,component:a(1629).default}),s.a.createElement(r.b,{path:"/rmwb-edit-product-holding-guide",exact:!0,component:a(1630).default}),s.a.createElement(r.b,{path:"/rmwb-create-product-holding-guide",exact:!0,component:a(1631).default}),s.a.createElement(r.b,{path:"/erwl-report",exact:!0,component:a(1678).default}),s.a.createElement(r.b,{path:"/bulk-delete-lead",exact:!0,component:a(1632).default}),s.a.createElement(r.b,{path:"/watchlist-report",exact:!0,component:a(1634).default}),s.a.createElement(r.b,{path:"/watchlist-upload",exact:!0,component:a(1635).default}),s.a.createElement(r.b,{path:"/watchlist-approve",exact:!0,component:a(1637).default}),s.a.createElement(r.b,{path:"/dpd-report",exact:!0,component:a(1639).default}),s.a.createElement(r.b,{path:"/help-list",exact:!0,component:a(1640).default}),s.a.createElement(r.b,{path:"/form-help",exact:!0,component:a(1657).default}),s.a.createElement(r.b,{path:"/list-emp-code",exact:!0,component:a(1645).default}),s.a.createElement(r.b,{path:"/edit-emp-code",exact:!0,component:a(1647).default}),s.a.createElement(r.b,{path:"/create-emp-code",exact:!0,component:a(1649).default}),s.a.createElement(r.b,{path:"/submissionstatus",exact:!0,component:a(1651).default}))))}function w(){return s.a.createElement(l.a,null,s.a.createElement(h,null),s.a.createElement("div",{id:"App"},s.a.createElement(r.b,{to:"/change-password",component:a(583).default}),s.a.createElement(r.b,{path:"/change-password-success",exact:!0,component:a(585).default})),s.a.createElement(S,null))}var k=t.a=function(){var e=localStorage.getItem("isLogin");return"yes"===(null===localStorage.getItem("isForcedChangePassword")||""===localStorage.getItem("isForcedChangePassword")||"null"===localStorage.getItem("isForcedChangePassword")?"":localStorage.getItem("isForcedChangePassword").toLowerCase())&&e?s.a.createElement(w,null):s.a.createElement(l.a,null,s.a.createElement("div",{id:"App"},s.a.createElement(h,null),s.a.createElement(r.d,null,s.a.createElement(r.b,{path:"/setPassword",exact:!0,component:a(680).default}),s.a.createElement(r.b,{path:"/login",exact:!0,component:a(1652).default}),e?s.a.createElement(E,null):s.a.createElement(r.a,{to:"/login"})),s.a.createElement(S,null)))}},function(e,t,a){"use strict";a.d(t,"a",(function(){return y}));var n=a(4),s=a(3),r=a(6),l=a(5),i=a(0),o=a.n(i),c=(a(73),a(1)),u=a.n(c),d=a(2),m=a(11),p=a(32),h=function(){function e(t,a){Object(n.a)(this,e),this.loader=t,this.source=a,this.url=m.b+"/util/uploadCkeditor"}return Object(s.a)(e,[{key:"dataImages",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loader.file;case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"upload",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new p.a,e.next=3,this.dataImages();case 3:if(a=e.sent,n="","atwork_promo"!==this.source){e.next=11;break}return e.next=8,t.addAtworkImageCkEditor(a,this.source);case 8:n=e.sent,e.next=14;break;case 11:return e.next=13,t.addImageCkEditor(a,this.source);case 13:n=e.sent;case 14:return""===n.default&&alert("Error upload image or image not supported (type only jpg/jpeg/png and max size 3 MB), \n Please insert again"),e.abrupt("return",n);case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"abort",value:function(){this.xhr&&this.xhr.abort()}},{key:"_initRequest",value:function(){var e=this.xhr=new XMLHttpRequest;e.open("POST",this.url,!0),e.setRequestHeader("Content-Type","multipart/form-data")}},{key:"_initListeners",value:function(e,t,a){var n=this.xhr,s=this.loader,r="Couldn't upload file: ".concat(a.name,".");console.log(r),n.addEventListener("error",(function(){return t(r)})),n.addEventListener("abort",(function(){return t()})),n.addEventListener("load",(function(){var a=n.response;if(!a||a.error)return t(a&&a.error?a.error.message:r);e({default:a.url})})),n.upload&&n.upload.addEventListener("progress",(function(e){e.lengthComputable&&(s.uploadTotal=e.total,s.uploaded=e.loaded)}))}},{key:"_sendRequest",value:function(e){var t=new FormData;t.append("ckImages",e),this.xhr.send(t)}}]),e}(),f=(a(573),a(574),a(287)),g=a.n(f),v=a(288),b=a.n(v),y=function(e){Object(r.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(n.a)(this,a);for(var s=arguments.length,r=new Array(s),l=0;l<s;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(s.a)(a,[{key:"onChange",value:function(e){if(this.props.onChange){var t=e.length;this.setState({wordCount:t});var a=e;this.props.onChange(a)}}},{key:"render",value:function(){var e=this,t=this.props.source;return o.a.createElement("div",{className:"TextEditor border-editor "+this.props.className},o.a.createElement(g.a,{editor:b.a,data:this.props.data?this.props.data:this.props.value,onInit:function(e){e.plugins.get("FileRepository").createUploadAdapter=function(e){return new h(e,t)},e.ui.getEditableElement().parentElement.insertBefore(e.ui.view.toolbar.element,e.ui.getEditableElement())},onChange:function(t,a){var n=a.getData();e.onChange(n)},onBlur:function(e){},onFocus:function(e){}}),o.a.createElement("div",{id:"description-footer",style:{display:"none"}},"Word count: ",this.state.wordCount||0))}}]),a}(i.Component)},function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(7),c=a.n(o),u=a(11),d=function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,[{key:"findLookupByParam",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",token:t.token},n=JSON.stringify({code:t.codeFind,type:t.typeFind,name:t.nameFind,status:t.statusFind}),e.prev=2,e.next=5,c.a.post(u.b+"/restricted/admin/lookupstatus/search",n,{headers:a});case 5:return r=e.sent,e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateStatusLookup",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",token:t.token},(n=new FormData).append("id",t.id),n.append("listStatus",JSON.stringify(t.listSelectedStatusDetail)),e.prev=4,e.next=7,c.a.post(u.b+"/restricted/admin/lookupstatus/update",n,{headers:a});case 7:return r=e.sent,e.abrupt("return",r);case 11:return e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getListStatusDetailByLookupId",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={"Content-Type":"application/json",token:t.token},e.prev=1,e.next=4,c.a.get(u.b+"/restricted/admin/lookupstatus/list/bylookupid/?id="+a,{headers:n},{params:{id:a}});case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}()}]),e}()},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){},,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,,,,,,function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a(470),m=a.n(d),p=(a(1372),function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"ExportPdf",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r,l,i,o,c,u,d,p,h,f,g,v,b;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){for(n=t.data.body,null!==t.data.footer&&n.push(t.data.footer),r=t.data.header,l=[],i=[],o=0;o<r.length;o++)l.push(r[o].key),i.push(r[o].name);for(a?(c=a.replace(/_/gi," "),u=a.replace(/ /gi,"_")):(c="List Data",u="list_data"),d=[],p=[],"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABUsAAADPCAYAAADMOIBmAAAABmJLR0QA/wD/AP+gvaeTAABSNUlEQVR42u2dB7hVxbmw56Ccvdc+hyIIgoJGwC5giRpbosZorFETrLElisZoIhEO5aBuSyK2aIy9XWOJRk3ssaBSxIYFFUQRFanSlV4P3m/O3hqknr1n1loza73v83yPz73/fzl7zZo15Z2Zb1Rflf2GIIhSI3OdAgAAAAAAAACAZIH0IojSo4/K/JXWAwAAAAAAAAAgYSC+CAJZCgAAAAAAAAAACllKEMhSAAAAAAAAAACoB/FFEMhSAAAAAAAAAABQyFKCQJYCAAAAAAAAAEA9iC+CQJYCAAAAAAAAAIBClhIEshQAAAAAAAAAAOpBfBEEshQAAAAAAAAAABSylCCQpQAAAAAAAAAAUA/iiyCQpQAAAAAAAAAAoJClBIEsBQAAAAAAAACAehBfBIEsBQAAAAAAAAAAhSwlCGQpAAAAAAAAAADUg/giCGQpAAAAAAAAAAAoZClBIEsBAAAAAAAAAKAexBdBIEsBAAAAAAAAAEAhSwkCWQoAAAAAAAAAAPUgvggCWQoAAAAAAAAAAApZShDIUgAAAAAAAAAAqAfxRRDIUgAAAAAAAAAAUMhSgkCWAgAAAAAAAABAPYgvgkCWAgAAAAAAAACAQpYSBLIUAAAAAAAAAADqQXwRBLIUAAAAAAAAAAAUspQgkKUAAAAAAAAAAFAP4osgkKUAAAAAAAAAAKCQpQSBLAUAAAAAAAAAgHoQXwSBLAUAAAAAAAAAAIUsJQhkKQAAAAAAAAAA1IP4IghkKQAAAAAAAAAAKGQpQSBLAQAAAAAAAACgHsQXQSBLAQAAAAAAAABAIUsJAlkK6yKvVNO8atqij8p2+DZ6qao28r/PUToAAAAAAAAACQPxRRDI0jTSXanGfVXltn1V5sh+KrhA3uutfVXwlPz3TYkJEosbUBeWSszsp7Kj5b+DJO6Xf+9qEapn9FbBPheoJhtT0gAAAAAAAAAegfgiCGRpCqjorSo7i8j8g7y/u+W/7zRQhtqI8SJTH9ZCtlYFe+WV2pDXAQAAAAAAAOAoiC+CQJYms22rbiWS8jR5Xw9KTHWo/syTnaf/1fJU6lEn3hQAAAAAAACAU0IB8UUQyNJkIDs328tR+hqRka/Ke1ruR30KPhCpm9cpAXwv/36qaqc+KrdrFJFXqjrOZ9W5a+W9DYgi5Hl35uuOui5nfxrV+5Vd7zvENwbMbB3VNxt19FeZbeQ7/UEf1WwjaS+y1OrY5hmXrKXu/6WPCnqvObLd5Z01ovTKbb8yfyyvr8l2cOUZdB3wrT0FAABkadlx5RZbT3mg24nvEH7FrXvt9xGCFFnqKlqaFXeQvixR53ndelPq1rl9VZOWfvYnma8iLKt9Y57I7Rfds2ZGIA6io6dSVVLuk6N7v7mjYhwDvpSivnuexKcSr0ncoxfW5Ns6VF/YR60PtY7NLW+clf1HN6U2oATL6otHlFnm+zlUbwb51p66XSeCPWWsfJu9qOxCqSZ+flWp+0e9ALHmRcn6S29/kGcxMontxd422wupL7shSxsQ+Sat5i9fvPizb8A3lt17+DHvIUmRpS6h83/qXKDyPhYlsI4t15dNySDkQHnUCmRp2mVp9htJ23AiX31k77Y22u8dWepAjJf26xHZkfd72ZHaka8gfllaXCi6khJEliJLrdSJf9sdk2RvoVT9Ri9GFU6XBN3knV4m3/998t+hEp8VFxdLqRPTZd7yXuGi3My1Mk8+W5/QkbnaZpS0l7L0CctjrHuRpQ2Mm3bb5xORbwvxj36xoq5u+oBNt5zGhApZGje9VfbH8g5eTE9dy75eqzJH+CBNkaWhxrjzlMrQAoSLpJLYxEzuIEsTEmP1kd4kpEfxW5Zm64qLhoAsRZaWXZZNWkrZLLHcRs7Ky85DStcf5H016q0adxURdn5BhkUzZpe+dIb8d6DMna+Rv3tMT1XdmrfhcntR3Ure11LL9WCu1L8csrSBMfTKa4egH/1j/vQZI2o3qFrOJApZGo8kDfZJkyRd01FsWf092mVpiiwNfXfpBbQEYdfh4Ibov21kqeOhj+2f3F2pxnwhkcvS+h1LehGDkkSWIkvLrg+/C2lcejil67wgbSrv6lQ5NfEf+e9MV/pVEaijZUx7k/yuQ/Ic43cKeSfnheNOguOQpSXEtFEfDkM/+scHDz0yiIkTsjQGSTqMevddjNJHZpCl6ZOlhfL1M5+tD8jx661CWE1HliYnJohM/1Pe190R/spSfRHiE5QkshRZWnZZvhZSm/gApeukIK2UPKO/kPfzL4mFHvSt87XMlfbnpHzMl7dCfXsxPKQNH48jS8lfmgbqHjj2pHeQpcjSsKlRQTud4yQBlzaFFMETLt1ciyyNTJheS+sQWv19JJ53iiz1KfSRQn3bOJcPRSlL68v9NEoTWYosLQ1ZBNwmxPZwAXLLtXcd3KxTJHjcxy4s3EeRO4rTHNGjL/MK8d0u8XLDR5wfRDF/6QL8o3f5S2cMaN9xKrIUwkDnZZSOMu/JamjcIbvggr/VKNUEWZoWWZpdwgU0YdTdYO/4vmNkqacxTO9G5uuJRpZqMVOjKrejRJGlyNKGI+PpS7l8MtnIJUq7Fy/wStrmEnENmavJHR5pu/vnkN/pmcjSEmPQn68cin70MH/pjBnvpTl/KbI0rEFdbhfpGN9lEl7yBOcTna4AWZoKWarjn7QWVqnQF6khS4kyYpGkRemdl4sz+IxCl6U6RvZQKqBUkaXI0vWj2yUpky9CPuX0FCUd15wpc7C8g5dT0M+ukLbpv/Lfn/DWw0OflpEynhTyu3wZWVpGTH1/JPlLPWT0Y08OQpaCDfRRi8LNw9llTL7LH0xIGd4W5y5TZGmUA8fcbrQctupt7qh4v11kqf9H84PHRUw05WsKXZZqOXMjpYosRZaun94q++NoTjiRSz3ib+MnEm+nNAXZ+zLXOUX62w2pCbble3b/CN5hnU6zhywtNX9p1cbzly5aRP5SD/OXPnTiqW8hS8EEOT7SXhroIUy47d0wqXPOIEsTLUv1ex5C62FnoUbKcwyylLAQH+r+jK8qbFmKEEOWUjcaKD/uiCiX+lmUdvjoFEx6Jy99bX2M07nD81y4aLPNvTuixeULkKVlxI277jWW/KU+JjBdMfvqjttNQpZCee1PcIyU5xw6feuxWA8ikKXJlaU6alXmCFoR4zr7u/i/V2RpgmKyLFZ15ssKW5ZmZ9eq7BaULrIUWbpmtESKcHw9mBIP9V1WSxlfxl0Oa4wJEqfmSYVjo47Ni+idvY0sLTNezF/+CvbRPxZ//fXI/o2bLEWWQglUSDn2k1hORx/qcZUb8hEeVUGWRp6r9uM8R5FMBodNpRynIUtpK20LU3aYfq+OhSVshuoca5QwshRZujqye+v4CNu8Otq8sN5j5jAp3y/pV9c/Hpb84d30/JJaU9ac5qQo35fskt4GWVpmfPn+SISph3z83+cHI0uhIfRWqpmU4bN07tHd2NxXVbdCliZPlnL8zXj8c4kb7xBZmsR0KH1Us434ykKVpXqCfDEljCxFlq6x/J6JOG9zL0rd6mJutb6HQOeop08tqQ17Pe75gaftxXMRj5HyyFKz/KWfoh/9O5D/WPdz3kCWwrrQSZ1lEP8OHXrkQu0xZGlSZWl2WpyXevm7WyPXVspuPrIUWRpiPJtn53eoslTvaJO2+ABaNGQpsvR/9FJVbaK/MDXzLl+erfFlbmcp05H0oeX3CxL36nEetWn9yK7wzYplFuU7+lT5sgvYxUp+4y576vyl8/GP3uUv/eqarXacgCyFNaEvHZKym0InHvkq6ye6I0SWJlaW+rVC64wsrd+x8Q2yFFka8rd5OeIu9LyJE7mNG1mKLF25fwt6xNHexXW5aLK+3eB8Kcsl9J92cltLH3wKtWq9da5nPPPT3G7IUoMYeNElHMf3kCVz547qX9l0CbIUVmmI94hYpBGFGNlTVbeOcIKGLI0n5rOCXvLCzXJkKbI0glim+z9kadhjsuBpRa46ZCmy9Nv3/25Mi0OX8vWVx3lKZeT7+z8H+qypEs9Lv/V3fVGs1KXDZcPFXn1V5bb9VNUmOr3Mt1H4n7Md9E5Yefc/1TlDC7I3uLF4rHuiI/3wM/pkI7VsrXP093EpHspSHVPeex9h6iGfvjxkMLIU/rfCndtFymwmk+bk7ihFljoRt9PaNPTdBU+69e6QpUm/eKKHUgGyNPRx2Tm0bsjStMvSfqqyS4ztnT9Ha92aJ7Ut5tqM+n0tlb/7qrQXV2opGsai+wWqycbSNh+kT1kUnzGmherga/nvb6mf36e3atw1xvZiiheXNLo8wLwwu9GiJfPnj0E/+ncg/4lz/vA6shRqVe6HUU2UiPh2lCJLnYjlMknakVZnve/tAPe+V2RpCoRpX2Rp6LFYdjrtRCuHLE33u89eYZbr0WxXquwy3JUvsJQxSW43KbdJEeaW/aqwgzX4lb5wN+rnzSvVXO9ALe6inRpTLvFKat53fcWVpgskhmOj/XxoVJ0eYF6/wy7jVqxYMQ//6Fv60hVfX7t15wnI0jSvVlXuICuJM5gop0OUIktdiOApWp51UiHlNBxZiiyNIebF1S6nSJbq+FAmwjkmwMjSNKJ3aUkZTDb4fgbJuP3XhjLuOoYaDf5OD5UyWxhBu7hCH60XSXmctI9Zl8ZkWq5Lu3NhcddpFJcMXUbN+05cb2gmrIMPpL04zfB93IkstRDP/KnmVfSjh/lLZVfwRUGLhcjS9FG49T47ngly8o/eI0udu1Dmp7RAa3tnwXFufrvI0pRcDHkVsjSSNvAOJAyyNJ19XOYgwzbq7BqlmhgKvC+9OFob/3jklxFc5KT//Xt8OXUk85f2cjlZr3LbrwbuKm1E7fuuvfi5YXn2k/Jsrk91mOx01vl6kaUWYvI77w5FP/rH+FdfG4IsTd1KVXOZrIxmcpyeHaXIUpciM4LB4OrowZiUz+fIUmRpnBex6fxtyNIohGlwIrIUWZo++ZG9zyR/5bftk1zs8x/DhfsDGXWss26fHHLuziUyD7ultwo297cu53aWenSXPMsiS2XyWV41bUHt+149fMBkt7K+3Kvw7wRPGF7QeDSy1F7+0o/Qj/7xbE2/YcjS1IjSDYs3IDIxTpkoRZa6tLs03aJgzXVT39Dq6veLLE3P7tKgN7I0mss8+qvslshSZGlaKO4IXWAgOP/77b8lY4jjDWXpXYw61vptnhXmcXORpA/7LElXRQt8eaa8PNtcg3JZoC8yovb9D52v1nAH+ZsrtRcnmtZZZKmluG77nXX+0rnoR+/yl87/W5fdPkOWpmFVO3NVQt6xHnCO0jkg5b8PSkN+27ch//PdumGX/w6UeEtiZpqP3iNLnYxxebfyUsW8iNO0hZTJbGQpstSBkN0t6dr5XbyFOI6yHt5dqcbIUmRpGrCQO/DU//WZKqd3whv8W3N6KBUw+litTv+2mD80jPZujL7AMqllpzeESF/y93JSF0i5nETtW60unm64IPmnldqLakPxuiiOy8YSKUt1PH1+z9fQj/6xdOHCTy7KtVyALE3yQC04NsRBQJihG/gXpDOtlaNHh+mcOaXLGNVU/u9+pFeMdb40+fe+SJsoRZY6d9lTT1ql7yaRA9x+V8jSNIX0MwcjSyPLX/oXZCmyNCXyw6QtX6jHsav0mw8bjkGOYfSxcnlmDgvp6H2dHuM4n/fR3ti7gzzvkBLm61dR+9bYXrxsUudqVG7TVer3o7YWa5ClFmLCm8PJX+ohE4e/PRRZmtRBQOWO+rZfjy5C+lgmE9fqvEr5kHbg9VWV2xaP/j4Xxm2XrolSZKlzuUvlXTRpmfa2SR9Hs5jzCllqeAutnuiEFb1V5Q66XZD//kLvmpD/XV99MkBirGPv/M40fYMGsnSQhbJe3ltlf4wsRZYmGb3Ib3K0W+coXX2MU38BkckY5BFmR9+WZaZTSKfQ5ur+Lm3lqU8MFI/mL1tP+QxN6+mCdaFT1JhsbtKyeg3tRTfDuvwcspT8pSA83++iYcjSZKGP2nhyodMcnfC8n8rtEnUZ6RV7+ftnykTk9aSKUmSpk8L0WlbPs/e4/57SIkuD8+N6zhoVtJPTDxfI7/jUgXc+RX5SBbJ0fVG5vaWxxdReqqoNshRZmlwZV78wZJLn/Ng1jFuzhvmG3T5aG+EcSd8rEEI/8oVsVOmS5rIt7tZdW7qISWlr90toW/sZzi1+t4b2Ime4aWp5P1W1CbLUYvx1u52+IH+pl8y/YecffYosTdRE6O+Ov6/xMhDsIQ15tRuD2txu8pseasCKqFeiFFnqZCzprzId0zuQzu0S5kUKyFJ/ZOm3dFNqA/l2u8vvmRbvGCK3K7J0vX3dD4qnVmyczHg2XYIaWZquvs5oUWGeFh1reQcPGH53p6qUI2Vwewh9yMvc7P5t3a/vI8avmlZCxNtOlM5a6+QYg7q3TF+6tZZ/95+GKYrOQ5Zajqf+eAH5S33MX7po0dh81cbzkaWJWNU72OE8pVNk4H+Gq0cw9LFRfRxTYmkSRCmy1Nl4MMUDwuf9eEfI0qgpXBaRfSHG994fWbp+WVocZ5xnJ39p0ANZiixNGsUFeJNv44G1/dvFlCbJPFobAbUqc0QIc6QH81zguSZhOnddOx/h2zoZ7B7WN22hvXgNWRpG/tLX3hiCfvSP6R99/Cqy1G/k9piqqC4yKnU3nc6Nl3dkJ2lDpKnkennSd1GKLHU2ZKAe7Jm29kna6IP86VOQpXEgfUSjuNI06DYfWdowWSpUiOh83EK5y8JksAeyFFmasO/rBsMjtUeu7d/WlwYZXtDm7tHakNG77+T5p1vuO+7V/RbKb03fQe6o4kmiuymNdbYXpqdBT193e2E0D1yh58TIUtv5SzPNFi+ZN4/8pR7yYv7yV5ClXsuIqxx8N2/pFUY/V0brc+9M9FWUIktdvn179WTsSaYgwYL3kaXI0gbWlSfiSA+DLG2wLJX2ttlGazhqWU58ml/l1m9kKbLU476u0vDioFn631jPWOcfiTxaG/4Y8T7LfcYDOo0Mum9d86jsr/Psul1fezHLJA/x+vpP0wVo+W5qkaVh5C/dtst4yV86B/3oHYtu2fMnHyNL/UO22ncu5fh4BFEnneSl0ohv6HlH1lyvHPsoSpGlboc+DpaiAfMpfvUpyNI40TuApM7MiPq9ry3vF7J0dVlaGHdkf6x3qtnYnYUsRZYm5D0fafgt3NmAv3FoIo/Whvpe6nc52uwv7smzoxTM5+6Gx+Qzj61//J05xHBzx2hkaUjxxLl/fB336B91S5aMu6TZJnP9q3PpvmVaymCgQ+9jmjTOP0tY+Z4qscAnUYosdX2BJ/ux74sJDVxw0DdyTkKWIktL+54z58bw7vdVKcCWLC3W18sslf3JyFJkaQLe8yOGuz7XO3bWef8Nd6O5ebQ2JCQxcmA3RVnwRBrGbhA+8r0/apj3+/gGthcmu92/6a0ad0WWhhQTh789FP3oH1++P/IVZKlXje0hDr2LkbUqu0Uyy7myi0+iFFnqRbt1VtLbJ8kF2du/94IsdWSCOyvK9y4Tj2ORpaXJUi0N5P9tmIXyn9dfZbZBliJL/X3HTVoWc/SX+w1MbeixbqkXdyXuaG149fYim6nFdN+E5gMH2ot50v/mGvgN3G44V7kSWRpi/tLFc+eORj/6x9Arrx2CLHUfPbCS5x/lyHt4Pp+C3GPIUmSpzV3YNUo1SfZgMNI6iCxNiCwtSr2/RZzO51z6hdJkqUYWEdtbEttv59eTrxFZiix1FWk/zjZsj28s4W8dZLYw5ODR2hDop3JttVSyNV7rrYLNmVmAG+1F9sGGfwfZnxr+rQl5l9JOJEmW6rhqy20nf7NixSz0o3csvnXv/T9Cljq/YnqqI0eK7yPRObIUWVrWpCWf4Pp3nZ9jF2SpG5OJ7IF8i+7L0sK7Cn7JWA5Zmm5Zmn3V7KhrsE9D/1a+sKN7mll7V9kl+W1dcLOl/mGZvN8DmFWAK+1FKe1qcWPVVLP2KftjZGmI8ehpZw4X+bYC/+gXy5csGX9J8zZzkKVuohs/vTrsQNk/onOi0PUhS5GlZcV8vfsheQPBTCfDI0bI0pTLUhECTS1dINTQvuw6+oXyZGmx7t5u4T2sSOLld8jSxH9TWxvW+y/kn6ko8X3cavg3r0jyO9G7QO2NQYI/MaMAW+iUM4Zjla/OUypT4sLBjYaLybcgS0OOsQNfHox+9I+vxk94s19FsAJZ6qKMCE5w4eg9ohRZiiw1jtuTV/eyD/r7PpClDtWjDyM8hn8N/UL5slTkds7SAu70GpXbNGFl/i6yNLnoXemGc5iry/ib+xt+Z+NLFbSevZM7LPUNzyW5nCCWtvQSwzp5dxl/c1/Dvzkr70qanKTK0toNq5ctmD37A/Sjf7x2w82DkaVODr7fibncdX6xaro9ZCmy1DiWy5G4HZNT74I99Q4xZCmy1EJ5RDb+kMn1APqF8mVpQVBU7ij/fxdaeB+Dk5TaB1maaCrkOccZzZFV7oel/lEZfzeS/9spUR3994kaFbST51ts4+SP7ALsyGwCXGov5GLng8tsLyYZupbDkaVh5y/9wTaTV9TVkb/UP5be9bPDRiJLnVox3T/mMp/UU1W3ps9DliJLrYmrpxLUPg3x+10gS11BTlA8GaEsvZx+wUyWFt5Z5lxL9bMPshRZ6sGCzr5mO9qzn5T/t02P1gY3JfGd6FMCluaWZzGTAJfaC52rWMTnhmV+F381/NsPIEsjiId+ffpbIt/q8I9+Ubds2eTLN95sFrLUFRmReTTG8l7m0gAekKXJkKX1suanvtc5nW/Q/7EKstSdNix4KsLyqKFfMJelhTFK8LiNsUatCvZCliJLHZcfprl6L4tLvMiYY0bSUmn1UCqQZ5tpY3d73qUbwIH2ojBOudlgPLWH4TexIO/CidKky1IdHz/97CD0o398PWHicHfzl6ZHlurLYPQkIsby7k93hyxFlobSjo3weXCeL9zQ+xGyFFlqUZa+F91iRXAs/YIdWdpHNdtI50S08F4m5FXTFshSZKnDYs7wItzKbQ36XBtHaw9NmIw600K7s1RfwsMsAuy3F8HXMd5KbyEFQHAisjSq/KWzZr2HfvSPN2+7YzCyNPY2on+MZT2UlVZkKbI0zEtmgm7+LuRkT0vGOAVZ6lB/F+GJlmBP+gU7slSjJ3U6H7OF8d0jyFJkqZt9XnCsYZvzgYW6dZ1hGoD7EjZHetPCKZ/bmEGAe+1FdqLpHFzaiyu9TxmWBlmq4y9tfzBd8pdOQz96x7J7DvnF+8jS2KjQ+Y1iKuclsgK+Pd0dshRZGmqMk8FQ1re61lOpKtPLJpClyNLvl0Xl9pEu5KtgM/oFe7K0uIByqZ1FpOwZyFJkqXvv1SxNiLzfWgu/YU/D72uujDlySXgfvVVlZwv9ouz8q27FDAJcay9suA45nbqL6a7rC1STjZGlEcV9R3UbIfJtOf7Rs/yly5dPubx1u1nI0uiRydyPYsynOICuDlnqqiyVv/+T5PSPQU//6lr2ouSUP7LUkYlFzwjf+xT6BfuyNF9IzTHMwvtZUKMqt0OWIktdoZeqamOYEmuFvN8OFn6K8dFaOdFyXBLeiZ6nWFiY6cvsAezXzapNTFPoiQPY3VJbPsbsG8mcjSyNMEY+8h/yl3rInMlT3urXKFeHLI18wH1tTGX8hc61QneHLEWWRtKeyXtr0tKzSeM8ZKmVevwysrSATFpfj/Cbeyw9/UJ2dlSyVCMTvPaW0imM9HUckhBZ+jKy9HuLOecb1ufhFuvX1YZ5CB9PwCvR0vgLw3cyNZ+QXbbgmizN/NGwbo612JZfZrh5agiyNMrdaiLc5n057R30o3+MuPf+QcjSyNuHz2Iq4zPp6pClISYdR5Z63Kbp2zmTVfbIUgcmFodEvJv7T8jScGRpsY04xtJ7uhFZiix15J2+40qbU6tyPzRPs+XPAu1aFmX2stC+9GHmACG1n28b1s8/2xtfVe5o+FtWmIwHkKVlxJ/bbD5DjnZPRT96x/IHfnn8u4iFqCaPlV3i2lXaXanGdHXIUmRptDmC5TbWju7Xsfq8ksuRpchSW+QLNzy/FnG+0t3T0y9EL0sLY5jsbb5/n8hSZKnGQm7MuhqV29Ty+xmb5k0R5hfXZOf1Uc02YuYAIczfdzSfY1V2ttxejDIcP9YgSyOOe4/45Xv68iD8o1/IJV3Tr9isw1RkaRRtQ6T521Yu27Po6pClyNJY4kH3B4GZ/ySv3JGlMX/Ll0T8zsekq1+IR5aKBJdkgIGNC0Jn16rsFshSZGl8/Z5ZbswwjrHKv/kXw+/qZZ/fifnlt8HfmTVASG3nFYbf5qgQvpcLDd3ACGRpDPHe/Q+Sv9RD5k+fMaJ2g6rlyNLQ24aBMZTtzLyHN3MDsjQhsULfdOtq/eqtgn2SOR5BlsYoIfY3vQShDHFxObI0fFlaaDMqd5B/a6GF9za0m1IbIEuRpVGj650812TDC1LOsd92Vu1kvts1aOfjO9GncEyfXb7RrZk1QEjtxSTDS8cuDKFP2trCbtcdkKUx5C/VFwehH/1j5MOPDkKWhsd5SmUsTTBKLdfr6OqQpcjSGPvFuBOprx19mcIbyFJkqb3JfnB8HP2cz7es+yZLC+8583sb701+z8XIUmRp9O1U5meGdVcWg6pbhbTYNDqNuZvlO+lu+E6eZcYAIdXN/cz7u8ptw2nTzU56SHuTR5bGEJe13Gx23bJlk9CP3lH3wLEnvYMsDQc7icuZRCJLkaWeXvZ0pHt1K/hVcssbWRolMtpuLr/n7pje96D09QvxytJi3/SYhXdXJ7/pAGQpsjTicrjXsN4+F57IzV5q+Nve8vSd/MtM+gQnMmOAkOrmPYbf5Nshity+hr/tM/lnKpClMcSdB/x8lMi3JfhH7/KXzhjQvuNUZGkoYiKGfKWZd+nmkKXI0vhDBjQfu3TJmsitSj1IQpYiS00oHp28Isp2ag3f1gHp6xfil6X6IhX5N8dbeIcTfbjFG1maDKTvq5Znmm9YZ08P6/cV01wYfVPSLm/j2WvRp1ymmVzsJO81x4wBXGwvROT3ClGWdiik+zK6HPNHyNKYYvjtdw1GP3qYv3TGjPdqN6xehiy1ixz7eTT6Mg360NUhS5GlrgjTzNmu1Cv5LecmewyCLA2p3nTSO3h0ehf5+2+aDtItxLB09gvxy9Li79hXYrl52xg8reLY3YIsTZ0slZ2bpxjW18UiUJqH/J5GmcmZmI7WGvQrhu/kX8wWIKRv8WTTewtERrYP+Te+ZTiO/BuyNK48bRXBilmfj3sD/egfox9/ahCy1Hq7EPkuLlmh7kxXhyxFljoTk3sqVRV3ncoXVsq/jOeyK2Sp5Zigj3iFHB9JTC9coOHcju0D0tkvuCFLi7/lEju5nTO/R5YiSyMog4GGu8Qej+A3XmT4PY31S5ZmTzLbGZc5gtkChPQtvmD4Lb4W/m8Magx/4zSZF2yILI0pLt2ozdd1S5dOQD/6l7/0oRNPfQtZak1ONI1hB86XyvGdGoAsjVGWTtcXL8XQL14Sd53SN4fHccmV/PdzZClhsU7dluIJnDOyVMY3jXTeWAvvdLG+DRxZiiwNC73Dy3TRR19iF/bv1MfoTb+nWpX7oUfj3GsNnnW+vkCX2QLYpkYF7czbi8wfw/6dvVWwualjkN3dByFLY4zbf/KzD0W+LcY/+pbAdMXsqztuNwlZamWAtnsM3x7HUpClyNJ1rKT2UbmdY9gtt1APwGKeLEZ9W3ldsaw/Q5YStnbU6kXIFMvSWa7I0pUmlTMtvNcP847mHkSWJuG7CfoY1s/IcmPKb30vLXMqw4XrZ5kpQEjfoOmOzeW9VFWbiNr2NwxP6fwfsjTmeO2Gm8lf6iGL58wZ1b+y6RJkqfFA4LQY0hr8ga4OWYosXbssLf7NO2PYEXdHXGUsA6K7YjgqfVexrJGlhKV0Dpkj090vuCVLC21LcIKd9jG4CVmKLA1pLD7asH4+GGFfbXrL9ZRuSm2Q9HGutBcXMFOAkNrLDw2/wUHRtW3BBYa/dU4PpQJkacwxc+ynr6Mf/eOTZ18YjCw1HqDlo/7e9G5WujpkKbJ03bK0p6puLavHX0f8fS7vpyp3jLp8dQ5jG5exlJg4/mtdxshSwt5iA5NjF2Vp8Xfdaukdn4gsRZbalY+5XX3qV2zccu1DTmdJvbGJWVvhbuoO8Lq92NmnS12Lp8YM0/0Fv0KWxhz5pq3nLV+8+HP0o38H8h/rfs4byFKjNuHuiL+3JeTwQZYiS9cvSwt/1/ioTTnxTAzl+0z0zxnUrPT3kaWE6a3p19MruCtL80q2w6ngfRuLLP1VdktkKbLUnvwIrjeco3wV9bja9JbrOE+xlCCF9zPJPa+4mwFCqZeZvxr2Y0svUE02jvhbetWwjfs3stSBuGn3fceIfFuIf/Quf+lX12y14wRkadltwosRf2sf0tUhS5GlDZOlMsGvlEHGJzEcTz8wwkHUgTH0+WN02SJLCUvi/Yl81De2IktLRnaw72ApL/LwldsPZCmytFy6K9VYizXD+nh31L9bdlj3MvzNs13fOCG/8UyfFp2jRp8I0ruifYl+KtfW9zIvthfTDL+956L/loLzTS9ZlD63ObLUgRh8xdVDsY8e5i+dO/fDcPOXJlqWjox4982TTCeRpcjShsnSwt/OHRWD/HlPBiaNwi7XfP1t1ZkRMeRNPnKV94ssJcqNf/qSfy/tsrSwOJM5x1IbciWyFFlqSq3KHGGeGiJzcPS/2/xorci2Xzjell1m8Hy3p6Ctn+BTXy3t3YUJmHcdaqEsTo+hvdjM9NJaeX+/QZY6ElNHjhqGfvSPzwcNGYwsLatNmMxRRUCWuitLi3//+Rgue/p1+OIie1IM/fxzayhfZClR1i2teYd2GCJLG9x3PWbpMq/DkaXIUhOkn33YdLyQj2lXu9Sf1w1/+0Muvxvdvhs822XIUmRpCGX+oDc7NFdv614x/O0DkaWu5C+t2nj+0kWLPkM/+scT5/zhdWRpyW3CoohlaW+mk8hSZGmpsrRye/nfL4u4P/xCBlXZsMpUH8GTvzEu4mdaWqMqt1vD+/0cWUqUEMv0MVR6AT9laR/VbCPdvtloq1042oks9RMtLczH4MHN8b0z46O1CyRxeBOH27KBBhfonIssRZY62F48Ed/CUOY8w3dYp3eoIksdiRt33WusuLcF6Eff0peumHd95x9+jixtcMNbGcPx17OYTiJLkaWlydLib7gzhtu9e4RYf/4Qw27ZW9ZStshSoqHxqQiyXegB/JWlxd+5r8RyC/VhUNxpGJClfiLl393nsZFeKDA9WitxssNt2UiDsdOxyFJkqd3vLXuahXKI7XuzcRRfC1dkqUMx8OLLXkE/+sfShQvHXBS0WIgsXT89laqK4cbg45hOIkuRpaXL0rxq2qJcEWEQc/upqk3sl2eTlvqCh4hF6Qy9owxZyvjOIAZHfYsssjTUyWfeUo7nPshSZGkZ9c/0WOrEfAS5xdfz3oYaCqz/OtyWTTZ4rv1UwpHnHI8sjbS8TdMNztfzfs+fYTiy1KG4u3nzd2ft3Gn2rJ23+orwKHbaatadG208AlnakFXt+qNokX5XOpk900lkKbK0dFlamFwFPWLYXXpTCHXn6uifI/P7dbxfZCnRoDQOIsb+JoKimh7Af1mar79gzso3sUx2zeyFLEWWNpT+KtPR9IIkF+Ym+ri5eUoT+wuylurkovLnOrkfIkuRpfa+s2wH0/ZC50d2oL2wcMFiZmtkqQMxIFM1adZOHWfP2qnTN4RfMbR92xAuekqmLO2rqltF/W25fvslIEtdlqXFPJ+fRi2IZGK3la2yrFFBO/k3F0b8DB91V6qxC7I0zjYQWWotxsrk5UB6Ab9laUFaZbcUAf61jToRV/5FZKl/2NjVLIJ+97ifo5eqamOazkILFNfejyykZA37+c7IUmSpxbLub+Fk5y8d8Q7LDN/jxcjSmKN/RbD0y84dRiIe/Ytx2//g9X7GK7WpylnaPPpvLDiG6SSyFFm6zpi+7klW5rAY0mc8bXGF/L4YBskHrOf9IkuJMm5Dr99lWklv4K8sLbRJwdGWdq8/iixFljaACguXG471/919t+PtFffasfpUQe7ufkOWpkmWVshv/8Tw+efkQ7ywtcR685Lhe/wYWRpzDO/YbjDi0b+Y3qXjZxc3ys0L6VKiRMpSubkliOFI7/FMJ5GlyNLyZWnx9zwbwzH2n5lLidyufUNZ0Fpn+/1YA8oTWUqUGy/3VNWt6RG+q2OzfZOlhUWo7C2WJuTdkaXI0nU/a7C3hbr2Z4fGgmeZLjzF/f2v3h7UX15lsOs3uwWyFFlqA9lB/iMLz35fgtqLb/RcAlkaUzzYsuUbIt5WIB+9iwV/C5p+EuJk+9qE9nUVUYsLnd+I6SSyFFlqJktrVOV2hfyJke4Kf8/01md9c3TE/fpinevJJVkq382RyNLExbiG1DNkqbuyNF9/7DZ430JdWNRbNe6KLEWWruNZb7Ww6ObMMW996Z3p0dq4L0lbXVBltzB5Hp2eIAVt/RfI0ijEfXCThXHn4UlqL8QlXIMsjSGuylRPFOn2FeLRv3i8dathIU9ur01wZzcv2t1p2TzTSWQpstRMlhZ+U/C3GAabvyl/wJc5JPrdsNkBDXy/yFLCNMbbzO2LLI0eEVA7yG9ZYKEufCgDnRyyFFm6KoUTXcY5ckc5+N0/byhL33fpeUTGdEKWIkvjpnhPwSzDZ5+1rpz9MdWdFwyfabLp5g1kael5Spd82aXDKMSjf/Hh1psPjWBym2RZ+nnEu9NuRjMiS5Gl5rK0j2q2kcjAGRH3l1PLucRED2rk2/8g4t86paG/1UL+OGQpoeMLfXyTfsFPWVr8/b+zVBduRZYiS1fvt4NuSZQ+8rt+a764WbmjK89TuPjNwCuoTEdkKbLUQnthI5/2ne49V/YMC5sh9keWRhjvkKfUy5jauePoCyuCxchSozbhzYi/t4FoRmQpstRclmpkt+bvY+gzLyljYPSbGH7n6SW8X2QpYStG9VaqGf2Cn7K0+J08ZOlivBMiKvN3kKXeyI8njTf4OCji9OKt/LYlScnDWqOCdobit0vS2/reKthH2pAD4wg9l0yDLJUx/n9cuG/A0fbidmRpZHlKW5Cn1Mfo2mnWgEzVpIgmt4mVpTYGbqXuvEEzIkuRpXZkqT5ao2+GjPgbnlfKEbN8fS7AqHcgZEaUckQnSllaqzJHIEuTHXqCI/W+UTr7hfKOGLskS+XdNbfTZmW+0jvUkKXI0oL4qNrEPLdn9m13v/3sMxbmBxUuPIu+tM/wFN2ezBJCrWv3Jl2WFnN7mgrFqaEdVzd/h6YX1c7WaQqQpeQpJdYcdfe3aDk8wol3gneWRp73sC4fYS4vQJYmWZYWFjyyB8RwnOn/Sii7fhH/vhWlTlSQpUQIKWd6Ikv9lKUavWtKftdyC3VhuIx5KpGlyFJ5T39Icrsix2JPsfB8e7rx/atmhmOkA5klIEtNkLy555gv3AY3OfwOT7dw0d0vkKUh5ymdSp5SL2P4lu0ivlE5ybLUxuCt5PgJXT2yFFlqR5YWBlWR7xCv66Nyu65/8lS/k2ZuxL/twTLeL7KUsB2L9YVByFI/ZWlR/uQt1YUrkKXIUvm9b5n2u7UqaO/q88miQFP5jYsMZekNjjxLI13e5T+HX+khkKUuytLs677PndbzjTW3sHP2IWRpiPFup/bkKfUwxu/Y4e1+Rh0YsnSVQfbh0e9KC3rT1SNLkaX2ZKnOYablTMTf8qAGiJMbIv5NC3SuMZdlqW5zkaWpiaHKkWOlEdaxOUmRpUVhYuObqQszbxyy1H305UUWLjR5xYPFkidMxz/y3W3oSJ2cbZCK5TxmCcjS8p+vclsL/c6kvOPpgMQHPG0+5i/90llkaQPiIfKUehkzduo45fINczOjrzPJlaV650sc+dzo6pGlyFJ7srQw6MhcE0PbeOQ6BO5W8v9nacS/6bIy3y+y1H68JpP728IMmfzcJf3Jo8XLHt6WmOLeDbxBN2Spn7JUU7zoxca4c1opuZ6RpcmSpXp3sXlbkjnXfSkcnGhhjnCwI+/sM4N3dQ2zBGSpwfNdZqG9+Kv77YWN1B3Zk5Gl9vOUTpi5U6evkY/exZJbq5uPiqfeJFeWyqpTrpDjL9Ly/EpfTEN3jyxFltqTpXp1Vf5vv4w4d+nHa/uWZRD0cMRt9WRpz6qRpa7I0uD8eAbfubYy2T6scIQ6eC/+y56yo129YAFZ2tCFqOBoS/XhuXwIO32QpW6jv3+9y8uw7sjFUNWtPJhTVMtvXWj4rPc4InJeMWj3H2aWgCwt8xtqZOeCwWAPD57VOHWHvNf/Ikst5yn9snPHDxGP/sXAdm0Hx1d3kitLi+3ChzFcEHMA3T2yFFlqT5YWJvXZ7jHsFD9v9fIK9o6hrT7V4P0iSxMiS1f/JnI7F8X9ihjHnyenp18oL0exy7K02KbdbOm7qEGWpkuWSvvzUwt15wVf2oDibn+TZ53bQ6kg/ucIbjJ4hreYJSBLY5xvfK48SQFkIXXHMn0/ArLUUowgT6mXMWabLYbFW3eSLUv1zdbRy9LMVXT3yFJk6Rp3JMwwXJF+O+LveXZeNW2x0s+osJGYvsR402RgaGcVv8Fy+TBkafTo2831TuiYxhFvI0v9lqXStmYt7VReZvvGb2Sp89/EPRbqzW/9mVME3ZKQvkTmKWfHsegNqZeld1qYRwzwyEGcZGFc/XtkqYW4v0XL4eQp9TBPadeOX+Q3qJqDLA21YT4zhnKdlKajichSZGkUsrQ48Ngvhjby6v+VVe6oiP/+ClP5gCxNviwtCi99++qL8YwjKrdPySR2XhJlaeHZKrfXF0pYqA+fyS2XzZClyZel+UKqKxtzmOf0DnkfwsKlLXpM8YgDdXJfs2dwP21CmmSpxEWuP1dhUa78i8VWaS9u8yHkt/7TwrxpCLLUMK4mT6mvseD6oOnY+OtQsmWpXPLUOZ5cbuHdDgvI0rTK0uK7+XfE3/MS2YXRSecvjWH33kMW3i+yNAWydKXJyMAYcpcOSEe/kFxZWliMMtptFooMQpY6/T2czH0hZcVivbgV79xINTNJ31KrMkcwU0CWloKkfjieb7+8TRP9VXZLZGmZcWFFsFjylI5GPPoXT7Zp/Yob9SjZsrSYfH5uDGV7L10+shRZal+W6kGDadL0ci40sCcSGhwL9G3VPslS+W4ORZbGvUBYPwn+NOK6+hmy1H9ZWnzGhyzlbj8DWZp4WfoCIqPs7+M3Dry/8QZjosuZKSBLS3yuZ/j2y24v+iJLy4z3O7UjT6mH8fE2m7/iTj1KtiyNsYFe3EtVtaHbR5YiS+3K0uL7uTr64/DZWT7u1kOWpkuWFoRpsE/Ulz7VqmCzFIwl5iddluYL6RxsXAq3qJ+q7IIsTaYs1Qt58hvrEBllx0AHxrmPGfz+55kpIEsbip4PF3Ja8+2XOeb8AFlaRvyrVcvXEY/+xZddOozp3yhYhCyNjjhu0S7GFXT7yFJkqX1ZKhP6avn3Jie4j5+snxFZiiwtF70bOtqdD8FxyFL/ZelKst3GxHaU6c3fyFJXv4WgBoFhFHVxLzDpi2MM+sCvZYzSiNkCsrRhdS3owTdvOles7IwsLT1P6Rzko18xs2unuddmm4xzqz4lX5YWV8BXxFC+M2uUakLXjyxFltqVpUUZdFqC+/lTLb5fZGkqZWlll2j7veAGZGkyZGlxkfliS/XiZmRpEmVp9kMEht/9SPFSN4PxnPnOcVhj2/uPpMlSacff5Xs3nj/9BVna0DyljYKFenci8tG/+Herlq+5V6eSL0uL7cNbMZXxZXT9yFJkqX1Zqnc1yL/5ZgL7+Tfl8Sp8lKWyU+UQZKlT/d6wCOvtCykYRyxIiywttq8v2WkXguORpcmRpf1UbhfkhbW+Pu66OdFgPHcpswVk6fqI66LlBMZ447lBWgrrg63aD0E8+hejtt58qJt1KjWy9KKYyng+uUuRpS7LUv33fZSlhfcU7BnTrvEQc6MGe1pu+8YjS9MpS0VS9Yqw7o5BliZHlmqKp3JmWhhnflVuGSBLnRwfXYe4sDYH2zrmunmvwe8fxWwBWdqA9uJKvnNrY8+9kaXriX+3bvUq4tG/mNqlw0du5SlNnywtHkmMaet8cBPdP7J0HfETZKlR3/9ggvr5h0Ion7TI0kHI0lUnXbldI6y7S/IJz2Enz7gwTbK0MHbKHGZpQerN7ko1TqksfSkpslS/Q/lt05AW1uKimOvmqWa/v3JbZgzI0rXRTakNEn6/QNSy9EZk6TrimmzTzyVP6Xzko2d5SiW37NXZJl84vKp5bYo6oNfj2i0mf/tAhgDIUmSpfVla3P00PwH9/AK58KG9z7K0j8r8HFnqDiIvc9EuDObaIkuTJUsLwjS4yVL7fzmy1G9ZWpTnSAt78VGc77NG5TbVl00ZXOzXmxkDsnTtz5I5iG/cakwvZ9ExFbJU5ymd1qUjeUo9jEeczFOaTlkqz3tmXOUsnd/HMnHNMgxAliJLQ/m2L0lAX39ZSGWDLE2pLC2Wy9wIy2UPZGnyZKkeu8i7fc/GDeAi236GLPVXlurTDwgL2/1mbmc/62f9HPIdZgzI0nU8y3184w6d4EpywYwkT6mXofPLepAvJzWytKdSVfLMc2K8ye42hgHIUmSpfXooFUQpBUOIySIkqpGlyNIQJiufRLgouF+y+4XsojTK0sKz19+cvcBCPZlaSh53ZKlT0rx5ud8Asc5+86qY6+fpJr9fTsTsxawBWboqNUo1ScipL9fiXmTpKvF461bDEI/+xZTOHUb2rwiWIkudm+zcGu+gKHsSQwFkaVplqb4sJKznEBF7mr+TpewZIbZ5yNJ07ywdGeH7PwhZmkxZWuwXz7JUV55VDbzVF1nqVP0/E1ERSkzIx5jvuY9qtpH8hsWxyBtIrCw1z4dLrCXmSnuRQ5YW469B08/IU+phdO00a0CmypOExumSpZJTbZeYy3x2f5XpyHAAWYostYuebMi//5aHt+G+q5PgJ0GWyvGgg5Glzk1YZkb4/g9DliZXlhbL4EE7dSW4AFnqnSwdiqhI5jhQ2u5HDX77UvneOjBzQJau0l68yHcd1sJ0cByy9Ns8pV07foJ89C5WPNCi5XCPJurXpq8jCp6Oudw/76eqNmFIgCxFltp+b8Eelm5ujuzyN/nNe4Y8YEWWpveCp8povwf3cixarmOL0y5L84Wj2OMs1Jelcnz3R8hSP74nLcM861t9i1tjnhf90vD338nMAVn6LfqyUpOLw4j1LjY+jiyVGLV1+6GIR//i3Y7tB3u2qyl1slTLqfgbuuyQ85TKMCxAliJLrQ80fUoo/88I2jtkaUplqRyL7xTxboejkaXJlqXFRam95bmWWagzn8lV2s2Qpe7LUi1jkBThnjrTi1sxLoJkdT5hg9+/pL/KbsnsAVla7CP68E2HGkv6qiYtUy1L/9Wq5euIR//iy84dR19YESxGlrqPlpUOlP/gfEiXugCyNK2yVFa0N/Mkqfz8GhW0i2CSOyENOSuRpWssk6hzhu2bcFm6BFlqV57JWOxhZKkXO0s/tvCuB8i/c2ASQ57tcgvzsUNjfsd9DRdLH2X2gCwtytIPLIwn/yoLsN2SGFI+f7Jw18FvUitLryNPqZcxU/KUXlFZNcXDfHnXprMzyvzckXcwVN8YyPAAWYosTdcuGJlc5SMqC2RpSmWpTF7/E2Wdlnzc2yBL0yFL84Uc0S/ZaTfWPulDlsaPvu3cwntedoFqsnFS2wb5HprKMy50/aTJuutpk5byGxaYpBVqSGoNSLYs7aNyu9rYOSnfVPOEv+dPDMvo5VTKUslTukDylI5FPvqXp/T+Fi2G+1nv0ilLhQp5/jcceQ/D+qrqVgwRkKXIUjv0UCqQv/WFw23vF/o3IkuRpSFO3psbTnzLeP/NNkKWpkOWFiXaZrLoM8POLvvK7ZClbspSece3WHjHz6dg3PiIYRktyMd82kx2vV1vuPDxcVRjG2Spq7LUrA4V49mkv2dpVy81LKO6kk+nJUGWjt56c/KUehhvdWw32Nc6J5Pba9IrxJy6DOaztU0WElDOe/p2PBNZ6rcsLQ7YTnA4OfuJEU7UkaUplKUy4aqNOoeWXoRMuCxdiixdra881NI4auSaJAuyNF50bn2dT9PC7uEzki+5gqN9Ghus+Rnq81wvN3yOy1CeRu3FPb7K0u5KNZbfMj2WI+bevefKbS20FxekSpY+2abVK4hH/2Jy5w7v11YEy5ClqeqUwpqAfy0N37HJWjnLnFfcjTM/bimILE2XLFWF3eNDHTx+/0qUUilKWSrf+8+QpS60X9WtIm7DdHyegvECsnSN5RLcaOm7uhFZ6pYstXBLev1CStJ3nWvyckGTPOssw2/gKQfG7Y+aplzQmyTQnumTpdJeH057UdK7ftuwrN5OjSy9Pmj66SzylJKnFFkaw6Ag11bKYa5j7+XuvOcXP+mOTudfWvWonUsTGGRp4mWp/r530UdVHPq26/RvingwhixNmSyVdva+6BcBkn+5B7J0zRR2H2ZG2BmTBkcjS92RpbKA/7iF9/pceuYU2TsMy2pp3LldizvelpounqVFeCFLv/fb/0V7UUp5mV/0VFKueF9l1cWNcvOmd+04DvnoXdTd26LFW77vaE67LC0OBns5+G7GymD/AE/L80T5/VPXlpNJBpP7I0uRpRGKo3+4095m/xHD4BVZmiJZKm3XWTHV7b4pmMQuQ5auVbBsbydHbuarlcsLWRrn79Y71I2lmY7fpkiW7m9hXna2A/3I1TbuY9ALKejP8GWptHcXx/2784U86YtoL0ppL+o3bC03G3eXcFmsr7Jq7LZbvIp49DBP6ZbtBvkuSpGlBYo5VlwV3/f3UlVt/Gj0K3eU3/tCQ5LYS+P+U2QpsjSaelm1ifzdOQ58y3P0b0myLJUB+4HI0jjbrdxR5Qo9n/PVIkvdQJ6zu61UJTL72xBZGq8sLaZR4khtacKokTzzRMP6PyT+b7nZRjYub5N/42Epk0oUaPJlqfyOMy20F7I406Rlyt73i4Zl9qlqaGovH0XVU21ak6fUw5jUeUuv85QiS1dHX65kaUUshKjfaXGhXrVzs6GvP7LzYInHnRfGKVaQpemRpcXxQX8HdpXWxvTsyNKEy9JuSm0gx5d7W7iYwyCSP8Ept3zTIkuLZfSgJWF6KbI07p2l2eEW+oT/pk92Ge/KXOFCm2FJfukYVKNUE2aaiZelNu4IeD6F7/t083Y2t1siZemNVU0/ntW10yLko2d5SnfqNFPylH6ZBFGKLP0+cny8h9vvS18Alb28p6pu7UJ5FSXbQwYT9IVxHttFlsYiS2fF8Yyy0CBnhLPjYvx+x+nfENNAbCKyNLmyVH7PvnGfjJB+aXRKJjXI0vW3tc0ttbV1+gQKsjSucUHlDpbah9PTN5eo2slCH1PjwLe8ofyWkZbqwUt5z+9iQJauHcmb2VFLfgtjyDPS9r7lu2iq58OGLueviZOl+Q2q5s4kT6mPsfzu5s3fTYooRZau1mA1inbCbXJMIXhC4ph8xMdbalRuU6kz58pvGGXpWRa6eHwTWZosWaqRnXfHxdfOBt1iHHgjSxMmS3WeKxFJp8hvedmR0w9XIkuRpf9ra7P7WdrlPF4fMUSWxvKb/2zjCH7e0RNREZSf4Rg5M8KhxThLl2QG79eq7BbMNpMnS/Xft1BHlqXtCP5Kc85HDMtuij5hlChZOna7H7yGeCRPKbLUPXqrYHMbeXqilE/62JueOIeRD7GQzzXYQ6cBKO5eWhHCMyySevhzZCmyNHzJlB0Swzc6OOaB98QIdxj+NMbnjFKWPqWPvUcX2YulbAcUb5od7+Cph71TMomtQ5Y2ePJ8YcxpT5ClZaIn3fL3J1l4D8+kdS6h0+6Ylp/e3evGs2SusTkGdP3OAmRpyVSUu6i1SryQ3vYiODqS8bcvcuPZtm2GIh79i4k7dHy3tiLOfGDI0giFyv6WbgCNOrTI/FDin/oIjxxxP1iORmzTQ6mgIc+tj/eLLN5HOt3fFHMuDYswj+si+b2HIEuRpeEOSHI729sl0aBYro/kIUuTJkuJlSZpn6RoEossbSD5wkmdF5Gl/slSKbsDLPUHp6V1HqF3UJpuLvg2b2/c9FSqypIM+zYWpzE9Q1Jlaa0K9rJUL85M6zuX/rKyuPnJpPzuTIQs/XtV048k5+Vi5KNneUq7dpp2+Ya56cmc6CBL17KSem7C3rU0wsEH8t+3V4kxevu+xDwHfuMiV47kI0uTKUuLY4W7I3zeOx14XmQpEeY7vxxZiixdyyR6s7hO6iBLjWTp/9kQYvmUHsFfqRxfjeyW69DHiZWdTfMqrqHvuE2fXmPG6bcslfd4C0fwrZTjHaaXQZ+nVMZrWSp5SufM6NrxC+Sjh3lKmyUrTymytKEdVnAjk+HIY0mtyhyBLEWWhjcgqdpEfsecKC5kc+Eytohzlh6ALE1bex1slqJJ7Apkacl96aEhpe9BloaACM5q+dvzLeTpfjrtcwg5LfV7C+OIPRx6nj+G8K0+I3WuKTNOP2WplnPy92dzBN/K4sp+Ftrdo72WpZ+Sp9TLGL7lZomegCFL1zlo1NvihzIhjjwWxC0QkaXJlaXF8UK/CGRpjSPPiiwlwnrf96VsEossLW/h+e/IUj9kqZTbSZbewalIr+pWpim9RH5c79AjVRTSfFn/XsdKiqRdmXX6J0ulfv6SI/jWnINOXTPBcLf2w97K0mfatiZPqYcxqXOHD/pXBEuRpelFbEeT4sVGTI6jjYXxihdkaZJlqQxKsvJbPg8zj6NebEGWIksTHHX9VGWXlE1iv0GWlk5h91FmBLLUfVkqf/c5juBbLc9nDMvyywbdch3h2Em+rddD+GYX652rypG0AzGVbaXIx+O0PPZFlvZTweM2juBfoJpsTGtRnwLwKtN0dr2VauadLL2puulo8pT6F5IyYWpS85QiS0tDN+JSVh8xOY5+h6m+bAtZiiwNaUX8hBB3lf7KockaspQII+5PofhAlpa98Fy5XfHUCLLUUVlao4J2Ni5AlL71SWYO38mkE81ze2Z+5tYz1acyGhfSt/tMf5XdMk11pHgZ2J8lphq0dxdH366Z75wuxkBaim/nY427hrqr38XB5KUbVM2e0bXTJOSjd7HsrmYbvZeOY3TI0oYgt8p3jFI6EP/L+yjHc3ZDliJLQ5rEDg5hkv5fx55xUoSX/ewf43MiSyO8jE/6xK2QpcjSEsvvTGSpu7JUxF4vS+V/MrW9QF6pnIULVO92cE60TYiXty2UfzvfQ6kgqfWip1JV8oy/lmd91s4CRfSy1NZFyPLbu9NSfK+/GGlYps95I0vlI1gxbocthyMe/YtXtmibmkkXsrSU1b+gfTnHIwjj0JcN7IssRZaGsENiJ/lNy20eJZM2tROyFFma8EWsPimdxCBLzcvwn8hSN2Wp/M1RNhZS8lzYs2q5PmBYpnNcFIf68ikbl4GtI3SqpNPzjqQ0MkWMYGMZH/5c5/q2XW7x7CzNvskR/FDK1fROheV697cXsvSldm0GIx79i3Hbb/lGvxhu7kSW+kEvVdXG0oCSKHGHqcjq3ZGlyNIQBiZ32nu+zNUOPh+ylLAYmRFJmbyWSAWy1EZ/o5qFmS8aWWq0cGhjrPYEtXy18eShFsr1GBefTV/MJL9vZsjjihkSA/qpXFvf3r2WVnrnpLy/p/SO2RDbu4ujrdOV21r67S/SQnyfYlqGFWbfTOY852XpbU2afyDibSny0a+Y3rXjhEs2yH2VpokPsrSchizYTDq+95k0R75bXwZMlTsiS5GlNumpqltrGW/h2SbrC+HSLEvjFBTI0qjSomQ7pLTrR5baG0PtbinXHbLU3pjnWkvjtF9Tw7+PLC5tKGUzzXCR6hHHv+fZEfRBOp3BPXpRVsq0kYtloS/j0gJZUlpcoFMy6Z3WEY29Ipal9TlWbSy+nkULscbyHWZYtq85LUsv2zA3Sy50mox89C4W/r2q2Zi0TX6QpeUKpvrdES8yeY48nkWWei1LZ7s5MAn6WJgknuLooAtZStiIOpcuLkOWej8Z7I8sdUOW2pF5hVyTLi4YuoDIs5tCveU69uer3FF+44QI+6MvZJx+pcxhD5L6m4vruXV912N46Rt76ovNIp47xCJLtaiWvzmeI/ihzkF/Z1i2K9a4sO1KntLx5Cn1Mp7ftM2QNE6AkKVGHUalNEb/YBIdWdwbVd4mZGm6ZGnxW/7E4LmGapmCLEWWJnhX6fkp7+8bIUutl+eLyNL4ZamdY+J6Dhw8Ts1eM7L7ci8LjuE0x59Rn7qL43LkJXoMpnc7irDsJvV567zlnad67qGFcG9V+Qt5xj/pHa7FlGx1bszlo5Olemevpd/9Ei3D2vrHpi2K9dqkTtQ6KUsHtSdPqY8xZpsthqV1AoQstdJxnBJmLhqi/mbMSHftIUvTJUsL7zw4ptxk6nLsamd3nwtZSjBOQJa6KVfCulEbWVrS73vQUpmfRK1eK3pn+meGZfy8B+1ktfzOhxy5GPZtGcs/JgL1ei045b8naJm67sh21+JR/v/frOW/Ps6sUyy530dHJ0vl791taVxxNs3COuckTxkurox2Tpbe0aT5+yLeliEf/YppXTp+elGj3HwmQWCCliUWBkLE6jFe5/+JvpNClqZNlhbHEQPLGJDc5vgzTUpDXUaWhnZiagA9fCEXHbI0jMXmzCF9Q7hUFVnaYLnV3FJeRY7gr7euZy83veVaXzLrh+jJ/CHsvMRE9LJU2ouc/L05No7g91XVrWgV1uUVghNMy7m3atzVGVmq85TO2KnjFOSjXyG5Zeddk236OTtGwAb6opjiSiSdt50YWKOCdjEN9JClKZSlemChJyQlPM9MfVwGWYosTWAskQnYb+jZkaXhf7vBDcjSeGSp/J3f2llUyfyHmrxualTldhYuxPmDP7Int5theiOigcfZJUVAl2iEf3Cipd/8Mi1Cg8T0PKuL3TGuuteN36HDW8hH/+LfrVu+ymoUsjSE1aBuYR0tS0nM0mUY86o4sjSFsrQ4lri9hPbzXA+eZzKylCgxpovA2pveHFkaBecplZE+911kaSyydLCd8g5OoCY3aGw5wrBev+6Z8KmW33wXfWooMTjqMZe+ZNfOb8/8jtagIT4he59hWU/Ir5y/N67K+soWbQchHv2LkVu1H0JDiywNT0AFm0v5PkMdKzkG9VfZLR0Y0CJLUypL9Q5xEUVfN+DCm/e0QEGWrnzkJ/tjZKnvoaVV5fb04qtN+jdEloZHf5XZSspqLrI0Olmqb0u2lAJhoZZi1OKG1IWgZyi3XLsvfQ5kl6m1GCZleUDU77CfyrUt8eTVWtNJ9FNVm9AaNOS7yfzcQnnvG6ssvbt583dFvC1HPvoVX3buOPrCimAxDS6yNIKB0a8iPgbra8wt7tKrcOO9IUvTKkuL323N+iYssiCyjx/PgiwlGtoGZ7u70gYjS9M4McyegSyNVJZeaGmB5d/U3oZRo3KbmgqnNd5y7Ucbmi3WuXn0tyWHdhb3y6V4P4pxXHy+pWcZSkvQMGRA1tj8pGpwQ2yy9C+Nc9Mk5+V05KNn0bXTrAGZqsk0vMjSCAcITXU5Fzs76t0qefEK+crcSvSNLE23LJVvtnI9uyAe8mfBBllKrPcI7ZOys68jvTWy1IH26gFkaSSyVN/OPtZOOrrgeGpudH3VGm+59qotbdpC51JkTtSwd60XMXsr1Sz+ehu8Z8k7nEMrUFK5m+b0nhCLLK2tyC6ftGOHEchH72LF/S1aDqcBRpbG0+BVt5JG72+FWwBTX/eW6VvEZZV0MzffFbI0zbK0UAdyR63lGebHdfEYshRZajHqJO7trSp3oHdeP3qHB7I0iv5INZMy+xxZGq4s1TvULLUj82UhIUfNbTg2dlCvdsu1l3OizNZSFv9gTrRaLJKyeUR//3qRzoV3pS+QsvRsHMGPoa3Wl8tFLkuvylRPHNq+7WDCr3i8dathNMLIUhc6HRGFDxcnq2mrczo/1rOS+2YXxwdxyNKUy9LiuOIF34/ARXzB077IUudjfmGCGuxBb4wsdVMm5XaTcluKLA1Plspu0Jvs7HzLPEqNLQ0RYM1Nd1Wudsu1x+hTDfI8t+i+KcX9sk7N8LzEqVI/mjo4J7rS0k7ZV2gBSqbCdAHxu8toGQATBLLUswHCVtJx3JGSoyj6Ge+WXUydPVnxRpYiS5XedbfKrocxMpCtRJYiSz0LLZ5elv7mtDwXsZQrOCqRpVEK02wtsjQcWXqeUhn592dZSuFxHLW1HFmd+Y/VW64T8c0320gkfi89zkrLwqU87+My3zjL5d2W+iJT+a1TLC2u/J6vv5z2InupYdnfiiwlCGSpt+hjZzonjez0eT+BdWyidI5/dCHfDrIUWVrmRPfWlS6yONLD348sTeERe+lTPta7x0T4/6JGqSb0tMhSz8q7kZTdQGRpGL8nOIYj+HHXifrLX73tb8MXp7mdi7sZv0hY3/yRPNe10j4dqBct/HgXVm5kr98920tVteHrL6e9qNzWsOxfQpYSBLI0EZMDEYsHFy848Pm2yKWy2+BpWQk7xdeBdJpkqeTD2UtLzIjic9/qgh7c6ZvCJV70c9KRfV1++2clxsTy3m+wJ7I0ysvx6t/Ta9JePSZl/3fpz8/W7yDP7lHr6N01+ujrtyF93PU673ZDoq9q0pISLJ3eKti8oWW8eplntnZIjP2pvOeo2imM36OPzttpgzL/ppaWPd7P6YXYcut3sY4fmYKiqtB9WvG+h899W7QsXIqk++bguBqV29TP+VD2XkvlMYwv3+g9XGHQXlyKLCUIZGmi6KFUUFh51km+s3M8ybejd4H8Vt906Xv560mKrGzvGkWw68sH4Zg5V6ITJeH0AsfWUX2zcYTOdS3iu4M+qpj3LBUEALgkn7KXrCz+yw290EpxQpQUF1BOkb7wLqnHn7o0Byqc5qi/j6K/jEcO9e1E3drHv9mTZIHlPBG+veX5/lJueyFj6IOowfEbV+QXQSBLE0fxYomf6FUl6YDfKYpJF+rPmGLO1ZN7qurWvCkAAAAAAAgbEfabSbqZY/XOueKO6TGr5JkP4ab67Eidc1bmz1fpDSK1KvdDvcGFtwHOg/giCGRpGsjX36SZObzYUQ+WmBZFrsnCcd7gRn2cRG6zb8ubAAAAAAAAF9C5QAunw4ITRKT20Lsh9U5U+Z+fLKStqd+RunIKobpVTslN0Le2F4+fXyb/t2foHKO1KrtFPmGXakHKQHwRBLI0reijmbLC+iO9y1PfIlvIZ5R9VqTqu8UE6Ws7yq9XYKfL/80n8t83JZ6XeEiLWD1A0Ank+6rqVpQwAAAAAAAAgGcgvggCWQoAAAAAAAAAAApZShDIUgAAAAAAAAAAqAfxRRDIUgAAAAAAAAAAUMhSgkCWAgAAAAAAAABAPYgvgkCWAgAAAAAAAACAQpYSBLIUAAAAAAAAAADqQXwRBLIUAAAAAAAAAAAUspQgkKUAAAAAAAAAAFAP4osgkKUAAAAAAAAAAKCQpQSBLAUAAAAAAAAAgHoQXwSBLAUAAAAAAAAAAIUsJQhkKQAAAAAAAAAA1IP4IghkKQAAAAAAAAAAKGQpQSBLAQAAAAAAAACgHsQXQSBLAQAAAAAAAABAIUsJAlkKAAAAAAAAAAD1IL4IAlkKAAAAAAAAAAAKWUoQyFIAAAAAAAAAAKgH8UUQyFIAAAAAAAAAAFDIUoJAlgIAAAAAAAAAQD2IL4JAlgIAAAAAAAAAgEKWEgSyFAAAAAAAAAAA6kF8EQSyFAAAAAAAAAAAFLKUIJClAAAAAAAAAABQD+KLIJClAAAAAAAAAACgkKUEgSwFAAAAAAAAAIB6EF8EgSwFAAAAAAAAAACFLCUIZCkAAAAAAAAAANSD+CIIZCkAAAAAAAAAAChkKUEgSwEAAAAAAAAAoB7EF0EgSwEAAAAAAAAAQOinsgMIgig1MofRegAAAAAAAAAAJIv/B7V4eTKSuIJEAAAAAElFTkSuQmCC",h=0;h<n.length;h++){for(p=[],f=0;f<l.length;f++)p.push(n[h][l[f]]);d.push(p)}g=new Date,v=String(g.getMonth()+1).padStart(2,"0")+String(g.getDate()).padStart(2,"0")+g.getFullYear()+g.getHours()+g.getMinutes()+g.getSeconds(),(b=new m.a("l","mm","a3")).setFontSize(8),b.autoTable({headStyles:{halign:"left",fillColor:"#8c181b",fontSize:8},margin:{top:35},head:[i],body:d,didDrawPage:function(e){b.addImage("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABUsAAADPCAYAAADMOIBmAAAABmJLR0QA/wD/AP+gvaeTAABSNUlEQVR42u2dB7hVxbmw56Ccvdc+hyIIgoJGwC5giRpbosZorFETrLElisZoIhEO5aBuSyK2aIy9XWOJRk3ssaBSxIYFFUQRFanSlV4P3m/O3hqknr1n1loza73v83yPz73/fzl7zZo15Z2Zb1Rflf2GIIhSI3OdAgAAAAAAAACAZIH0IojSo4/K/JXWAwAAAAAAAAAgYSC+CAJZCgAAAAAAAAAACllKEMhSAAAAAAAAAACoB/FFEMhSAAAAAAAAAABQyFKCQJYCAAAAAAAAAEA9iC+CQJYCAAAAAAAAAIBClhIEshQAAAAAAAAAAOpBfBEEshQAAAAAAAAAABSylCCQpQAAAAAAAAAAUA/iiyCQpQAAAAAAAAAAoJClBIEsBQAAAAAAAACAehBfBIEsBQAAAAAAAAAAhSwlCGQpAAAAAAAAAADUg/giCGQpAAAAAAAAAAAoZClBIEsBAAAAAAAAAKAexBdBIEsBAAAAAAAAAEAhSwkCWQoAAAAAAAAAAPUgvggCWQoAAAAAAAAAAApZShDIUgAAAAAAAAAAqAfxRRDIUgAAAAAAAAAAUMhSgkCWAgAAAAAAAABAPYgvgkCWAgAAAAAAAACAQpYSBLIUAAAAAAAAAADqQXwRBLIUAAAAAAAAAAAUspQgkKUAAAAAAAAAAFAP4osgkKUAAAAAAAAAAKCQpQSBLAUAAAAAAAAAgHoQXwSBLAUAAAAAAAAAAIUsJQhkKQAAAAAAAAAA1IP4IghkKQAAAAAAAAAAKGQpQSBLAQAAAAAAAACgHsQXQSBLAQAAAAAAAABAIUsJAlkK6yKvVNO8atqij8p2+DZ6qao28r/PUToAAAAAAAAACQPxRRDI0jTSXanGfVXltn1V5sh+KrhA3uutfVXwlPz3TYkJEosbUBeWSszsp7Kj5b+DJO6Xf+9qEapn9FbBPheoJhtT0gAAAAAAAAAegfgiCGRpCqjorSo7i8j8g7y/u+W/7zRQhtqI8SJTH9ZCtlYFe+WV2pDXAQAAAAAAAOAoiC+CQJYms22rbiWS8jR5Xw9KTHWo/syTnaf/1fJU6lEn3hQAAAAAAACAU0IB8UUQyNJkIDs328tR+hqRka/Ke1ruR30KPhCpm9cpAXwv/36qaqc+KrdrFJFXqjrOZ9W5a+W9DYgi5Hl35uuOui5nfxrV+5Vd7zvENwbMbB3VNxt19FeZbeQ7/UEf1WwjaS+y1OrY5hmXrKXu/6WPCnqvObLd5Z01ovTKbb8yfyyvr8l2cOUZdB3wrT0FAABkadlx5RZbT3mg24nvEH7FrXvt9xGCFFnqKlqaFXeQvixR53ndelPq1rl9VZOWfvYnma8iLKt9Y57I7Rfds2ZGIA6io6dSVVLuk6N7v7mjYhwDvpSivnuexKcSr0ncoxfW5Ns6VF/YR60PtY7NLW+clf1HN6U2oATL6otHlFnm+zlUbwb51p66XSeCPWWsfJu9qOxCqSZ+flWp+0e9ALHmRcn6S29/kGcxMontxd422wupL7shSxsQ+Sat5i9fvPizb8A3lt17+DHvIUmRpS6h83/qXKDyPhYlsI4t15dNySDkQHnUCmRp2mVp9htJ23AiX31k77Y22u8dWepAjJf26xHZkfd72ZHaka8gfllaXCi6khJEliJLrdSJf9sdk2RvoVT9Ri9GFU6XBN3knV4m3/998t+hEp8VFxdLqRPTZd7yXuGi3My1Mk8+W5/QkbnaZpS0l7L0CctjrHuRpQ2Mm3bb5xORbwvxj36xoq5u+oBNt5zGhApZGje9VfbH8g5eTE9dy75eqzJH+CBNkaWhxrjzlMrQAoSLpJLYxEzuIEsTEmP1kd4kpEfxW5Zm64qLhoAsRZaWXZZNWkrZLLHcRs7Ky85DStcf5H016q0adxURdn5BhkUzZpe+dIb8d6DMna+Rv3tMT1XdmrfhcntR3Ure11LL9WCu1L8csrSBMfTKa4egH/1j/vQZI2o3qFrOJApZGo8kDfZJkyRd01FsWf092mVpiiwNfXfpBbQEYdfh4Ibov21kqeOhj+2f3F2pxnwhkcvS+h1LehGDkkSWIkvLrg+/C2lcejil67wgbSrv6lQ5NfEf+e9MV/pVEaijZUx7k/yuQ/Ic43cKeSfnheNOguOQpSXEtFEfDkM/+scHDz0yiIkTsjQGSTqMevddjNJHZpCl6ZOlhfL1M5+tD8jx661CWE1HliYnJohM/1Pe190R/spSfRHiE5QkshRZWnZZvhZSm/gApeukIK2UPKO/kPfzL4mFHvSt87XMlfbnpHzMl7dCfXsxPKQNH48jS8lfmgbqHjj2pHeQpcjSsKlRQTud4yQBlzaFFMETLt1ciyyNTJheS+sQWv19JJ53iiz1KfSRQn3bOJcPRSlL68v9NEoTWYosLQ1ZBNwmxPZwAXLLtXcd3KxTJHjcxy4s3EeRO4rTHNGjL/MK8d0u8XLDR5wfRDF/6QL8o3f5S2cMaN9xKrIUwkDnZZSOMu/JamjcIbvggr/VKNUEWZoWWZpdwgU0YdTdYO/4vmNkqacxTO9G5uuJRpZqMVOjKrejRJGlyNKGI+PpS7l8MtnIJUq7Fy/wStrmEnENmavJHR5pu/vnkN/pmcjSEmPQn68cin70MH/pjBnvpTl/KbI0rEFdbhfpGN9lEl7yBOcTna4AWZoKWarjn7QWVqnQF6khS4kyYpGkRemdl4sz+IxCl6U6RvZQKqBUkaXI0vWj2yUpky9CPuX0FCUd15wpc7C8g5dT0M+ukLbpv/Lfn/DWw0OflpEynhTyu3wZWVpGTH1/JPlLPWT0Y08OQpaCDfRRi8LNw9llTL7LH0xIGd4W5y5TZGmUA8fcbrQctupt7qh4v11kqf9H84PHRUw05WsKXZZqOXMjpYosRZaun94q++NoTjiRSz3ib+MnEm+nNAXZ+zLXOUX62w2pCbble3b/CN5hnU6zhywtNX9p1cbzly5aRP5SD/OXPnTiqW8hS8EEOT7SXhroIUy47d0wqXPOIEsTLUv1ex5C62FnoUbKcwyylLAQH+r+jK8qbFmKEEOWUjcaKD/uiCiX+lmUdvjoFEx6Jy99bX2M07nD81y4aLPNvTuixeULkKVlxI277jWW/KU+JjBdMfvqjttNQpZCee1PcIyU5xw6feuxWA8ikKXJlaU6alXmCFoR4zr7u/i/V2RpgmKyLFZ15ssKW5ZmZ9eq7BaULrIUWbpmtESKcHw9mBIP9V1WSxlfxl0Oa4wJEqfmSYVjo47Ni+idvY0sLTNezF/+CvbRPxZ//fXI/o2bLEWWQglUSDn2k1hORx/qcZUb8hEeVUGWRp6r9uM8R5FMBodNpRynIUtpK20LU3aYfq+OhSVshuoca5QwshRZujqye+v4CNu8Otq8sN5j5jAp3y/pV9c/Hpb84d30/JJaU9ac5qQo35fskt4GWVpmfPn+SISph3z83+cHI0uhIfRWqpmU4bN07tHd2NxXVbdCliZPlnL8zXj8c4kb7xBZmsR0KH1Us434ykKVpXqCfDEljCxFlq6x/J6JOG9zL0rd6mJutb6HQOeop08tqQ17Pe75gaftxXMRj5HyyFKz/KWfoh/9O5D/WPdz3kCWwrrQSZ1lEP8OHXrkQu0xZGlSZWl2WpyXevm7WyPXVspuPrIUWRpiPJtn53eoslTvaJO2+ABaNGQpsvR/9FJVbaK/MDXzLl+erfFlbmcp05H0oeX3CxL36nEetWn9yK7wzYplFuU7+lT5sgvYxUp+4y576vyl8/GP3uUv/eqarXacgCyFNaEvHZKym0InHvkq6ye6I0SWJlaW+rVC64wsrd+x8Q2yFFka8rd5OeIu9LyJE7mNG1mKLF25fwt6xNHexXW5aLK+3eB8Kcsl9J92cltLH3wKtWq9da5nPPPT3G7IUoMYeNElHMf3kCVz547qX9l0CbIUVmmI94hYpBGFGNlTVbeOcIKGLI0n5rOCXvLCzXJkKbI0glim+z9kadhjsuBpRa46ZCmy9Nv3/25Mi0OX8vWVx3lKZeT7+z8H+qypEs9Lv/V3fVGs1KXDZcPFXn1V5bb9VNUmOr3Mt1H4n7Md9E5Yefc/1TlDC7I3uLF4rHuiI/3wM/pkI7VsrXP093EpHspSHVPeex9h6iGfvjxkMLIU/rfCndtFymwmk+bk7ihFljoRt9PaNPTdBU+69e6QpUm/eKKHUgGyNPRx2Tm0bsjStMvSfqqyS4ztnT9Ha92aJ7Ut5tqM+n0tlb/7qrQXV2opGsai+wWqycbSNh+kT1kUnzGmherga/nvb6mf36e3atw1xvZiiheXNLo8wLwwu9GiJfPnj0E/+ncg/4lz/vA6shRqVe6HUU2UiPh2lCJLnYjlMknakVZnve/tAPe+V2RpCoRpX2Rp6LFYdjrtRCuHLE33u89eYZbr0WxXquwy3JUvsJQxSW43KbdJEeaW/aqwgzX4lb5wN+rnzSvVXO9ALe6inRpTLvFKat53fcWVpgskhmOj/XxoVJ0eYF6/wy7jVqxYMQ//6Fv60hVfX7t15wnI0jSvVlXuICuJM5gop0OUIktdiOApWp51UiHlNBxZiiyNIebF1S6nSJbq+FAmwjkmwMjSNKJ3aUkZTDb4fgbJuP3XhjLuOoYaDf5OD5UyWxhBu7hCH60XSXmctI9Zl8ZkWq5Lu3NhcddpFJcMXUbN+05cb2gmrIMPpL04zfB93IkstRDP/KnmVfSjh/lLZVfwRUGLhcjS9FG49T47ngly8o/eI0udu1Dmp7RAa3tnwXFufrvI0pRcDHkVsjSSNvAOJAyyNJ19XOYgwzbq7BqlmhgKvC+9OFob/3jklxFc5KT//Xt8OXUk85f2cjlZr3LbrwbuKm1E7fuuvfi5YXn2k/Jsrk91mOx01vl6kaUWYvI77w5FP/rH+FdfG4IsTd1KVXOZrIxmcpyeHaXIUpciM4LB4OrowZiUz+fIUmRpnBex6fxtyNIohGlwIrIUWZo++ZG9zyR/5bftk1zs8x/DhfsDGXWss26fHHLuziUyD7ultwo297cu53aWenSXPMsiS2XyWV41bUHt+149fMBkt7K+3Kvw7wRPGF7QeDSy1F7+0o/Qj/7xbE2/YcjS1IjSDYs3IDIxTpkoRZa6tLs03aJgzXVT39Dq6veLLE3P7tKgN7I0mss8+qvslshSZGlaKO4IXWAgOP/77b8lY4jjDWXpXYw61vptnhXmcXORpA/7LElXRQt8eaa8PNtcg3JZoC8yovb9D52v1nAH+ZsrtRcnmtZZZKmluG77nXX+0rnoR+/yl87/W5fdPkOWpmFVO3NVQt6xHnCO0jkg5b8PSkN+27ch//PdumGX/w6UeEtiZpqP3iNLnYxxebfyUsW8iNO0hZTJbGQpstSBkN0t6dr5XbyFOI6yHt5dqcbIUmRpGrCQO/DU//WZKqd3whv8W3N6KBUw+litTv+2mD80jPZujL7AMqllpzeESF/y93JSF0i5nETtW60unm64IPmnldqLakPxuiiOy8YSKUt1PH1+z9fQj/6xdOHCTy7KtVyALE3yQC04NsRBQJihG/gXpDOtlaNHh+mcOaXLGNVU/u9+pFeMdb40+fe+SJsoRZY6d9lTT1ql7yaRA9x+V8jSNIX0MwcjSyPLX/oXZCmyNCXyw6QtX6jHsav0mw8bjkGOYfSxcnlmDgvp6H2dHuM4n/fR3ti7gzzvkBLm61dR+9bYXrxsUudqVG7TVer3o7YWa5ClFmLCm8PJX+ohE4e/PRRZmtRBQOWO+rZfjy5C+lgmE9fqvEr5kHbg9VWV2xaP/j4Xxm2XrolSZKlzuUvlXTRpmfa2SR9Hs5jzCllqeAutnuiEFb1V5Q66XZD//kLvmpD/XV99MkBirGPv/M40fYMGsnSQhbJe3ltlf4wsRZYmGb3Ib3K0W+coXX2MU38BkckY5BFmR9+WZaZTSKfQ5ur+Lm3lqU8MFI/mL1tP+QxN6+mCdaFT1JhsbtKyeg3tRTfDuvwcspT8pSA83++iYcjSZKGP2nhyodMcnfC8n8rtEnUZ6RV7+ftnykTk9aSKUmSpk8L0WlbPs/e4/57SIkuD8+N6zhoVtJPTDxfI7/jUgXc+RX5SBbJ0fVG5vaWxxdReqqoNshRZmlwZV78wZJLn/Ng1jFuzhvmG3T5aG+EcSd8rEEI/8oVsVOmS5rIt7tZdW7qISWlr90toW/sZzi1+t4b2Ime4aWp5P1W1CbLUYvx1u52+IH+pl8y/YecffYosTdRE6O+Ov6/xMhDsIQ15tRuD2txu8pseasCKqFeiFFnqZCzprzId0zuQzu0S5kUKyFJ/ZOm3dFNqA/l2u8vvmRbvGCK3K7J0vX3dD4qnVmyczHg2XYIaWZquvs5oUWGeFh1reQcPGH53p6qUI2Vwewh9yMvc7P5t3a/vI8avmlZCxNtOlM5a6+QYg7q3TF+6tZZ/95+GKYrOQ5Zajqf+eAH5S33MX7po0dh81cbzkaWJWNU72OE8pVNk4H+Gq0cw9LFRfRxTYmkSRCmy1Nl4MMUDwuf9eEfI0qgpXBaRfSHG994fWbp+WVocZ5xnJ39p0ANZiixNGsUFeJNv44G1/dvFlCbJPFobAbUqc0QIc6QH81zguSZhOnddOx/h2zoZ7B7WN22hvXgNWRpG/tLX3hiCfvSP6R99/Cqy1G/k9piqqC4yKnU3nc6Nl3dkJ2lDpKnkennSd1GKLHU2ZKAe7Jm29kna6IP86VOQpXEgfUSjuNI06DYfWdowWSpUiOh83EK5y8JksAeyFFmasO/rBsMjtUeu7d/WlwYZXtDm7tHakNG77+T5p1vuO+7V/RbKb03fQe6o4kmiuymNdbYXpqdBT193e2E0D1yh58TIUtv5SzPNFi+ZN4/8pR7yYv7yV5ClXsuIqxx8N2/pFUY/V0brc+9M9FWUIktdvn179WTsSaYgwYL3kaXI0gbWlSfiSA+DLG2wLJX2ttlGazhqWU58ml/l1m9kKbLU476u0vDioFn631jPWOcfiTxaG/4Y8T7LfcYDOo0Mum9d86jsr/Psul1fezHLJA/x+vpP0wVo+W5qkaVh5C/dtst4yV86B/3oHYtu2fMnHyNL/UO22ncu5fh4BFEnneSl0ohv6HlH1lyvHPsoSpGlboc+DpaiAfMpfvUpyNI40TuApM7MiPq9ry3vF7J0dVlaGHdkf6x3qtnYnYUsRZYm5D0fafgt3NmAv3FoIo/Whvpe6nc52uwv7smzoxTM5+6Gx+Qzj61//J05xHBzx2hkaUjxxLl/fB336B91S5aMu6TZJnP9q3PpvmVaymCgQ+9jmjTOP0tY+Z4qscAnUYosdX2BJ/ux74sJDVxw0DdyTkKWIktL+54z58bw7vdVKcCWLC3W18sslf3JyFJkaQLe8yOGuz7XO3bWef8Nd6O5ebQ2JCQxcmA3RVnwRBrGbhA+8r0/apj3+/gGthcmu92/6a0ad0WWhhQTh789FP3oH1++P/IVZKlXje0hDr2LkbUqu0Uyy7myi0+iFFnqRbt1VtLbJ8kF2du/94IsdWSCOyvK9y4Tj2ORpaXJUi0N5P9tmIXyn9dfZbZBliJL/X3HTVoWc/SX+w1MbeixbqkXdyXuaG149fYim6nFdN+E5gMH2ot50v/mGvgN3G44V7kSWRpi/tLFc+eORj/6x9Arrx2CLHUfPbCS5x/lyHt4Pp+C3GPIUmSpzV3YNUo1SfZgMNI6iCxNiCwtSr2/RZzO51z6hdJkqUYWEdtbEttv59eTrxFZiix1FWk/zjZsj28s4W8dZLYw5ODR2hDop3JttVSyNV7rrYLNmVmAG+1F9sGGfwfZnxr+rQl5l9JOJEmW6rhqy20nf7NixSz0o3csvnXv/T9Cljq/YnqqI0eK7yPRObIUWVrWpCWf4Pp3nZ9jF2SpG5OJ7IF8i+7L0sK7Cn7JWA5Zmm5Zmn3V7KhrsE9D/1a+sKN7mll7V9kl+W1dcLOl/mGZvN8DmFWAK+1FKe1qcWPVVLP2KftjZGmI8ehpZw4X+bYC/+gXy5csGX9J8zZzkKVuohs/vTrsQNk/onOi0PUhS5GlZcV8vfsheQPBTCfDI0bI0pTLUhECTS1dINTQvuw6+oXyZGmx7t5u4T2sSOLld8jSxH9TWxvW+y/kn6ko8X3cavg3r0jyO9G7QO2NQYI/MaMAW+iUM4Zjla/OUypT4sLBjYaLybcgS0OOsQNfHox+9I+vxk94s19FsAJZ6qKMCE5w4eg9ohRZiiw1jtuTV/eyD/r7PpClDtWjDyM8hn8N/UL5slTkds7SAu70GpXbNGFl/i6yNLnoXemGc5iry/ib+xt+Z+NLFbSevZM7LPUNzyW5nCCWtvQSwzp5dxl/c1/Dvzkr70qanKTK0toNq5ctmD37A/Sjf7x2w82DkaVODr7fibncdX6xaro9ZCmy1DiWy5G4HZNT74I99Q4xZCmy1EJ5RDb+kMn1APqF8mVpQVBU7ij/fxdaeB+Dk5TaB1maaCrkOccZzZFV7oel/lEZfzeS/9spUR3994kaFbST51ts4+SP7ALsyGwCXGov5GLng8tsLyYZupbDkaVh5y/9wTaTV9TVkb/UP5be9bPDRiJLnVox3T/mMp/UU1W3ps9DliJLrYmrpxLUPg3x+10gS11BTlA8GaEsvZx+wUyWFt5Z5lxL9bMPshRZ6sGCzr5mO9qzn5T/t02P1gY3JfGd6FMCluaWZzGTAJfaC52rWMTnhmV+F381/NsPIEsjiId+ffpbIt/q8I9+Ubds2eTLN95sFrLUFRmReTTG8l7m0gAekKXJkKX1suanvtc5nW/Q/7EKstSdNix4KsLyqKFfMJelhTFK8LiNsUatCvZCliJLHZcfprl6L4tLvMiYY0bSUmn1UCqQZ5tpY3d73qUbwIH2ojBOudlgPLWH4TexIO/CidKky1IdHz/97CD0o398PWHicHfzl6ZHlurLYPQkIsby7k93hyxFlobSjo3weXCeL9zQ+xGyFFlqUZa+F91iRXAs/YIdWdpHNdtI50S08F4m5FXTFshSZKnDYs7wItzKbQ36XBtHaw9NmIw600K7s1RfwsMsAuy3F8HXMd5KbyEFQHAisjSq/KWzZr2HfvSPN2+7YzCyNPY2on+MZT2UlVZkKbI0zEtmgm7+LuRkT0vGOAVZ6lB/F+GJlmBP+gU7slSjJ3U6H7OF8d0jyFJkqZt9XnCsYZvzgYW6dZ1hGoD7EjZHetPCKZ/bmEGAe+1FdqLpHFzaiyu9TxmWBlmq4y9tfzBd8pdOQz96x7J7DvnF+8jS2KjQ+Y1iKuclsgK+Pd0dshRZGmqMk8FQ1re61lOpKtPLJpClyNLvl0Xl9pEu5KtgM/oFe7K0uIByqZ1FpOwZyFJkqXvv1SxNiLzfWgu/YU/D72uujDlySXgfvVVlZwv9ouz8q27FDAJcay9suA45nbqL6a7rC1STjZGlEcV9R3UbIfJtOf7Rs/yly5dPubx1u1nI0uiRydyPYsynOICuDlnqqiyVv/+T5PSPQU//6lr2ouSUP7LUkYlFzwjf+xT6BfuyNF9IzTHMwvtZUKMqt0OWIktdoZeqamOYEmuFvN8OFn6K8dFaOdFyXBLeiZ6nWFiY6cvsAezXzapNTFPoiQPY3VJbPsbsG8mcjSyNMEY+8h/yl3rInMlT3urXKFeHLI18wH1tTGX8hc61QneHLEWWRtKeyXtr0tKzSeM8ZKmVevwysrSATFpfj/Cbeyw9/UJ2dlSyVCMTvPaW0imM9HUckhBZ+jKy9HuLOecb1ufhFuvX1YZ5CB9PwCvR0vgLw3cyNZ+QXbbgmizN/NGwbo612JZfZrh5agiyNMrdaiLc5n057R30o3+MuPf+QcjSyNuHz2Iq4zPp6pClISYdR5Z63Kbp2zmTVfbIUgcmFodEvJv7T8jScGRpsY04xtJ7uhFZiix15J2+40qbU6tyPzRPs+XPAu1aFmX2stC+9GHmACG1n28b1s8/2xtfVe5o+FtWmIwHkKVlxJ/bbD5DjnZPRT96x/IHfnn8u4iFqCaPlV3i2lXaXanGdHXIUmRptDmC5TbWju7Xsfq8ksuRpchSW+QLNzy/FnG+0t3T0y9EL0sLY5jsbb5/n8hSZKnGQm7MuhqV29Ty+xmb5k0R5hfXZOf1Uc02YuYAIczfdzSfY1V2ttxejDIcP9YgSyOOe4/45Xv68iD8o1/IJV3Tr9isw1RkaRRtQ6T521Yu27Po6pClyNJY4kH3B4GZ/ySv3JGlMX/Ll0T8zsekq1+IR5aKBJdkgIGNC0Jn16rsFshSZGl8/Z5ZbswwjrHKv/kXw+/qZZ/fifnlt8HfmTVASG3nFYbf5qgQvpcLDd3ACGRpDPHe/Q+Sv9RD5k+fMaJ2g6rlyNLQ24aBMZTtzLyHN3MDsjQhsULfdOtq/eqtgn2SOR5BlsYoIfY3vQShDHFxObI0fFlaaDMqd5B/a6GF9za0m1IbIEuRpVGj650812TDC1LOsd92Vu1kvts1aOfjO9GncEyfXb7RrZk1QEjtxSTDS8cuDKFP2trCbtcdkKUx5C/VFwehH/1j5MOPDkKWhsd5SmUsTTBKLdfr6OqQpcjSGPvFuBOprx19mcIbyFJkqb3JfnB8HP2cz7es+yZLC+8583sb701+z8XIUmRp9O1U5meGdVcWg6pbhbTYNDqNuZvlO+lu+E6eZcYAIdXN/cz7u8ptw2nTzU56SHuTR5bGEJe13Gx23bJlk9CP3lH3wLEnvYMsDQc7icuZRCJLkaWeXvZ0pHt1K/hVcssbWRolMtpuLr/n7pje96D09QvxytJi3/SYhXdXJ7/pAGQpsjTicrjXsN4+F57IzV5q+Nve8vSd/MtM+gQnMmOAkOrmPYbf5Nshity+hr/tM/lnKpClMcSdB/x8lMi3JfhH7/KXzhjQvuNUZGkoYiKGfKWZd+nmkKXI0vhDBjQfu3TJmsitSj1IQpYiS00oHp28Isp2ag3f1gHp6xfil6X6IhX5N8dbeIcTfbjFG1maDKTvq5Znmm9YZ08P6/cV01wYfVPSLm/j2WvRp1ymmVzsJO81x4wBXGwvROT3ClGWdiik+zK6HPNHyNKYYvjtdw1GP3qYv3TGjPdqN6xehiy1ixz7eTT6Mg360NUhS5GlrgjTzNmu1Cv5LecmewyCLA2p3nTSO3h0ehf5+2+aDtItxLB09gvxy9Li79hXYrl52xg8reLY3YIsTZ0slZ2bpxjW18UiUJqH/J5GmcmZmI7WGvQrhu/kX8wWIKRv8WTTewtERrYP+Te+ZTiO/BuyNK48bRXBilmfj3sD/egfox9/ahCy1Hq7EPkuLlmh7kxXhyxFljoTk3sqVRV3ncoXVsq/jOeyK2Sp5Zigj3iFHB9JTC9coOHcju0D0tkvuCFLi7/lEju5nTO/R5YiSyMog4GGu8Qej+A3XmT4PY31S5ZmTzLbGZc5gtkChPQtvmD4Lb4W/m8Magx/4zSZF2yILI0pLt2ozdd1S5dOQD/6l7/0oRNPfQtZak1ONI1hB86XyvGdGoAsjVGWTtcXL8XQL14Sd53SN4fHccmV/PdzZClhsU7dluIJnDOyVMY3jXTeWAvvdLG+DRxZiiwNC73Dy3TRR19iF/bv1MfoTb+nWpX7oUfj3GsNnnW+vkCX2QLYpkYF7czbi8wfw/6dvVWwualjkN3dByFLY4zbf/KzD0W+LcY/+pbAdMXsqztuNwlZamWAtnsM3x7HUpClyNJ1rKT2UbmdY9gtt1APwGKeLEZ9W3ldsaw/Q5YStnbU6kXIFMvSWa7I0pUmlTMtvNcP847mHkSWJuG7CfoY1s/IcmPKb30vLXMqw4XrZ5kpQEjfoOmOzeW9VFWbiNr2NwxP6fwfsjTmeO2Gm8lf6iGL58wZ1b+y6RJkqfFA4LQY0hr8ga4OWYosXbssLf7NO2PYEXdHXGUsA6K7YjgqfVexrJGlhKV0Dpkj090vuCVLC21LcIKd9jG4CVmKLA1pLD7asH4+GGFfbXrL9ZRuSm2Q9HGutBcXMFOAkNrLDw2/wUHRtW3BBYa/dU4PpQJkacwxc+ynr6Mf/eOTZ18YjCw1HqDlo/7e9G5WujpkKbJ03bK0p6puLavHX0f8fS7vpyp3jLp8dQ5jG5exlJg4/mtdxshSwt5iA5NjF2Vp8Xfdaukdn4gsRZbalY+5XX3qV2zccu1DTmdJvbGJWVvhbuoO8Lq92NmnS12Lp8YM0/0Fv0KWxhz5pq3nLV+8+HP0o38H8h/rfs4byFKjNuHuiL+3JeTwQZYiS9cvSwt/1/ioTTnxTAzl+0z0zxnUrPT3kaWE6a3p19MruCtL80q2w6ngfRuLLP1VdktkKbLUnvwIrjeco3wV9bja9JbrOE+xlCCF9zPJPa+4mwFCqZeZvxr2Y0svUE02jvhbetWwjfs3stSBuGn3fceIfFuIf/Quf+lX12y14wRkadltwosRf2sf0tUhS5GlDZOlMsGvlEHGJzEcTz8wwkHUgTH0+WN02SJLCUvi/Yl81De2IktLRnaw72ApL/LwldsPZCmytFy6K9VYizXD+nh31L9bdlj3MvzNs13fOCG/8UyfFp2jRp8I0ruifYl+KtfW9zIvthfTDL+956L/loLzTS9ZlD63ObLUgRh8xdVDsY8e5i+dO/fDcPOXJlqWjox4982TTCeRpcjShsnSwt/OHRWD/HlPBiaNwi7XfP1t1ZkRMeRNPnKV94ssJcqNf/qSfy/tsrSwOJM5x1IbciWyFFlqSq3KHGGeGiJzcPS/2/xorci2Xzjell1m8Hy3p6Ctn+BTXy3t3YUJmHcdaqEsTo+hvdjM9NJaeX+/QZY6ElNHjhqGfvSPzwcNGYwsLatNmMxRRUCWuitLi3//+Rgue/p1+OIie1IM/fxzayhfZClR1i2teYd2GCJLG9x3PWbpMq/DkaXIUhOkn33YdLyQj2lXu9Sf1w1/+0Muvxvdvhs822XIUmRpCGX+oDc7NFdv614x/O0DkaWu5C+t2nj+0kWLPkM/+scT5/zhdWRpyW3CoohlaW+mk8hSZGmpsrRye/nfL4u4P/xCBlXZsMpUH8GTvzEu4mdaWqMqt1vD+/0cWUqUEMv0MVR6AT9laR/VbCPdvtloq1042oks9RMtLczH4MHN8b0z46O1CyRxeBOH27KBBhfonIssRZY62F48Ed/CUOY8w3dYp3eoIksdiRt33WusuLcF6Eff0peumHd95x9+jixtcMNbGcPx17OYTiJLkaWlydLib7gzhtu9e4RYf/4Qw27ZW9ZStshSoqHxqQiyXegB/JWlxd+5r8RyC/VhUNxpGJClfiLl393nsZFeKDA9WitxssNt2UiDsdOxyFJkqd3vLXuahXKI7XuzcRRfC1dkqUMx8OLLXkE/+sfShQvHXBS0WIgsXT89laqK4cbg45hOIkuRpaXL0rxq2qJcEWEQc/upqk3sl2eTlvqCh4hF6Qy9owxZyvjOIAZHfYsssjTUyWfeUo7nPshSZGkZ9c/0WOrEfAS5xdfz3oYaCqz/OtyWTTZ4rv1UwpHnHI8sjbS8TdMNztfzfs+fYTiy1KG4u3nzd2ft3Gn2rJ23+orwKHbaatadG208AlnakFXt+qNokX5XOpk900lkKbK0dFlamFwFPWLYXXpTCHXn6uifI/P7dbxfZCnRoDQOIsb+JoKimh7Af1mar79gzso3sUx2zeyFLEWWNpT+KtPR9IIkF+Ym+ri5eUoT+wuylurkovLnOrkfIkuRpfa+s2wH0/ZC50d2oL2wcMFiZmtkqQMxIFM1adZOHWfP2qnTN4RfMbR92xAuekqmLO2rqltF/W25fvslIEtdlqXFPJ+fRi2IZGK3la2yrFFBO/k3F0b8DB91V6qxC7I0zjYQWWotxsrk5UB6Ab9laUFaZbcUAf61jToRV/5FZKl/2NjVLIJ+97ifo5eqamOazkILFNfejyykZA37+c7IUmSpxbLub+Fk5y8d8Q7LDN/jxcjSmKN/RbD0y84dRiIe/Ytx2//g9X7GK7WpylnaPPpvLDiG6SSyFFm6zpi+7klW5rAY0mc8bXGF/L4YBskHrOf9IkuJMm5Dr99lWklv4K8sLbRJwdGWdq8/iixFljaACguXG471/919t+PtFffasfpUQe7ufkOWpkmWVshv/8Tw+efkQ7ywtcR685Lhe/wYWRpzDO/YbjDi0b+Y3qXjZxc3ys0L6VKiRMpSubkliOFI7/FMJ5GlyNLyZWnx9zwbwzH2n5lLidyufUNZ0Fpn+/1YA8oTWUqUGy/3VNWt6RG+q2OzfZOlhUWo7C2WJuTdkaXI0nU/a7C3hbr2Z4fGgmeZLjzF/f2v3h7UX15lsOs3uwWyFFlqA9lB/iMLz35fgtqLb/RcAlkaUzzYsuUbIt5WIB+9iwV/C5p+EuJk+9qE9nUVUYsLnd+I6SSyFFlqJktrVOV2hfyJke4Kf8/01md9c3TE/fpinevJJVkq382RyNLExbiG1DNkqbuyNF9/7DZ430JdWNRbNe6KLEWWruNZb7Ww6ObMMW996Z3p0dq4L0lbXVBltzB5Hp2eIAVt/RfI0ijEfXCThXHn4UlqL8QlXIMsjSGuylRPFOn2FeLRv3i8dathIU9ur01wZzcv2t1p2TzTSWQpstRMlhZ+U/C3GAabvyl/wJc5JPrdsNkBDXy/yFLCNMbbzO2LLI0eEVA7yG9ZYKEufCgDnRyyFFm6KoUTXcY5ckc5+N0/byhL33fpeUTGdEKWIkvjpnhPwSzDZ5+1rpz9MdWdFwyfabLp5g1kael5Spd82aXDKMSjf/Hh1psPjWBym2RZ+nnEu9NuRjMiS5Gl5rK0j2q2kcjAGRH3l1PLucRED2rk2/8g4t86paG/1UL+OGQpoeMLfXyTfsFPWVr8/b+zVBduRZYiS1fvt4NuSZQ+8rt+a764WbmjK89TuPjNwCuoTEdkKbLUQnthI5/2ne49V/YMC5sh9keWRhjvkKfUy5jauePoCyuCxchSozbhzYi/t4FoRmQpstRclmpkt+bvY+gzLyljYPSbGH7n6SW8X2QpYStG9VaqGf2Cn7K0+J08ZOlivBMiKvN3kKXeyI8njTf4OCji9OKt/LYlScnDWqOCdobit0vS2/reKthH2pAD4wg9l0yDLJUx/n9cuG/A0fbidmRpZHlKW5Cn1Mfo2mnWgEzVpIgmt4mVpTYGbqXuvEEzIkuRpXZkqT5ao2+GjPgbnlfKEbN8fS7AqHcgZEaUckQnSllaqzJHIEuTHXqCI/W+UTr7hfKOGLskS+XdNbfTZmW+0jvUkKXI0oL4qNrEPLdn9m13v/3sMxbmBxUuPIu+tM/wFN2ezBJCrWv3Jl2WFnN7mgrFqaEdVzd/h6YX1c7WaQqQpeQpJdYcdfe3aDk8wol3gneWRp73sC4fYS4vQJYmWZYWFjyyB8RwnOn/Sii7fhH/vhWlTlSQpUQIKWd6Ikv9lKUavWtKftdyC3VhuIx5KpGlyFJ5T39Icrsix2JPsfB8e7rx/atmhmOkA5klIEtNkLy555gv3AY3OfwOT7dw0d0vkKUh5ymdSp5SL2P4lu0ivlE5ybLUxuCt5PgJXT2yFFlqR5YWBlWR7xCv66Nyu65/8lS/k2ZuxL/twTLeL7KUsB2L9YVByFI/ZWlR/uQt1YUrkKXIUvm9b5n2u7UqaO/q88miQFP5jYsMZekNjjxLI13e5T+HX+khkKUuytLs677PndbzjTW3sHP2IWRpiPFup/bkKfUwxu/Y4e1+Rh0YsnSVQfbh0e9KC3rT1SNLkaX2ZKnOYablTMTf8qAGiJMbIv5NC3SuMZdlqW5zkaWpiaHKkWOlEdaxOUmRpUVhYuObqQszbxyy1H305UUWLjR5xYPFkidMxz/y3W3oSJ2cbZCK5TxmCcjS8p+vclsL/c6kvOPpgMQHPG0+5i/90llkaQPiIfKUehkzduo45fINczOjrzPJlaV650sc+dzo6pGlyFJ7srQw6MhcE0PbeOQ6BO5W8v9nacS/6bIy3y+y1H68JpP728IMmfzcJf3Jo8XLHt6WmOLeDbxBN2Spn7JUU7zoxca4c1opuZ6RpcmSpXp3sXlbkjnXfSkcnGhhjnCwI+/sM4N3dQ2zBGSpwfNdZqG9+Kv77YWN1B3Zk5Gl9vOUTpi5U6evkY/exZJbq5uPiqfeJFeWyqpTrpDjL9Ly/EpfTEN3jyxFltqTpXp1Vf5vv4w4d+nHa/uWZRD0cMRt9WRpz6qRpa7I0uD8eAbfubYy2T6scIQ6eC/+y56yo129YAFZ2tCFqOBoS/XhuXwIO32QpW6jv3+9y8uw7sjFUNWtPJhTVMtvXWj4rPc4InJeMWj3H2aWgCwt8xtqZOeCwWAPD57VOHWHvNf/Ikst5yn9snPHDxGP/sXAdm0Hx1d3kitLi+3ChzFcEHMA3T2yFFlqT5YWJvXZ7jHsFD9v9fIK9o6hrT7V4P0iSxMiS1f/JnI7F8X9ihjHnyenp18oL0exy7K02KbdbOm7qEGWpkuWSvvzUwt15wVf2oDibn+TZ53bQ6kg/ucIbjJ4hreYJSBLY5xvfK48SQFkIXXHMn0/ArLUUowgT6mXMWabLYbFW3eSLUv1zdbRy9LMVXT3yFJk6Rp3JMwwXJF+O+LveXZeNW2x0s+osJGYvsR402RgaGcVv8Fy+TBkafTo2831TuiYxhFvI0v9lqXStmYt7VReZvvGb2Sp89/EPRbqzW/9mVME3ZKQvkTmKWfHsegNqZeld1qYRwzwyEGcZGFc/XtkqYW4v0XL4eQp9TBPadeOX+Q3qJqDLA21YT4zhnKdlKajichSZGkUsrQ48Ngvhjby6v+VVe6oiP/+ClP5gCxNviwtCi99++qL8YwjKrdPySR2XhJlaeHZKrfXF0pYqA+fyS2XzZClyZel+UKqKxtzmOf0DnkfwsKlLXpM8YgDdXJfs2dwP21CmmSpxEWuP1dhUa78i8VWaS9u8yHkt/7TwrxpCLLUMK4mT6mvseD6oOnY+OtQsmWpXPLUOZ5cbuHdDgvI0rTK0uK7+XfE3/MS2YXRSecvjWH33kMW3i+yNAWydKXJyMAYcpcOSEe/kFxZWliMMtptFooMQpY6/T2czH0hZcVivbgV79xINTNJ31KrMkcwU0CWloKkfjieb7+8TRP9VXZLZGmZcWFFsFjylI5GPPoXT7Zp/Yob9SjZsrSYfH5uDGV7L10+shRZal+W6kGDadL0ci40sCcSGhwL9G3VPslS+W4ORZbGvUBYPwn+NOK6+hmy1H9ZWnzGhyzlbj8DWZp4WfoCIqPs7+M3Dry/8QZjosuZKSBLS3yuZ/j2y24v+iJLy4z3O7UjT6mH8fE2m7/iTj1KtiyNsYFe3EtVtaHbR5YiS+3K0uL7uTr64/DZWT7u1kOWpkuWFoRpsE/Ulz7VqmCzFIwl5iddluYL6RxsXAq3qJ+q7IIsTaYs1Qt58hvrEBllx0AHxrmPGfz+55kpIEsbip4PF3Ja8+2XOeb8AFlaRvyrVcvXEY/+xZddOozp3yhYhCyNjjhu0S7GFXT7yFJkqX1ZKhP6avn3Jie4j5+snxFZiiwtF70bOtqdD8FxyFL/ZelKst3GxHaU6c3fyFJXv4WgBoFhFHVxLzDpi2MM+sCvZYzSiNkCsrRhdS3owTdvOles7IwsLT1P6Rzko18xs2unuddmm4xzqz4lX5YWV8BXxFC+M2uUakLXjyxFltqVpUUZdFqC+/lTLb5fZGkqZWlll2j7veAGZGkyZGlxkfliS/XiZmRpEmVp9kMEht/9SPFSN4PxnPnOcVhj2/uPpMlSacff5Xs3nj/9BVna0DyljYKFenci8tG/+Herlq+5V6eSL0uL7cNbMZXxZXT9yFJkqX1Zqnc1yL/5ZgL7+Tfl8Sp8lKWyU+UQZKlT/d6wCOvtCykYRyxIiywttq8v2WkXguORpcmRpf1UbhfkhbW+Pu66OdFgPHcpswVk6fqI66LlBMZ447lBWgrrg63aD0E8+hejtt58qJt1KjWy9KKYyng+uUuRpS7LUv33fZSlhfcU7BnTrvEQc6MGe1pu+8YjS9MpS0VS9Yqw7o5BliZHlmqKp3JmWhhnflVuGSBLnRwfXYe4sDYH2zrmunmvwe8fxWwBWdqA9uJKvnNrY8+9kaXriX+3bvUq4tG/mNqlw0du5SlNnywtHkmMaet8cBPdP7J0HfETZKlR3/9ggvr5h0Ion7TI0kHI0lUnXbldI6y7S/IJz2Enz7gwTbK0MHbKHGZpQerN7ko1TqksfSkpslS/Q/lt05AW1uKimOvmqWa/v3JbZgzI0rXRTakNEn6/QNSy9EZk6TrimmzTzyVP6Xzko2d5SiW37NXZJl84vKp5bYo6oNfj2i0mf/tAhgDIUmSpfVla3P00PwH9/AK58KG9z7K0j8r8HFnqDiIvc9EuDObaIkuTJUsLwjS4yVL7fzmy1G9ZWpTnSAt78VGc77NG5TbVl00ZXOzXmxkDsnTtz5I5iG/cakwvZ9ExFbJU5ymd1qUjeUo9jEeczFOaTlkqz3tmXOUsnd/HMnHNMgxAliJLQ/m2L0lAX39ZSGWDLE2pLC2Wy9wIy2UPZGnyZKkeu8i7fc/GDeAi236GLPVXlurTDwgL2/1mbmc/62f9HPIdZgzI0nU8y3184w6d4EpywYwkT6mXofPLepAvJzWytKdSVfLMc2K8ye42hgHIUmSpfXooFUQpBUOIySIkqpGlyNIQJiufRLgouF+y+4XsojTK0sKz19+cvcBCPZlaSh53ZKlT0rx5ud8Asc5+86qY6+fpJr9fTsTsxawBWboqNUo1ScipL9fiXmTpKvF461bDEI/+xZTOHUb2rwiWIkudm+zcGu+gKHsSQwFkaVplqb4sJKznEBF7mr+TpewZIbZ5yNJ07ywdGeH7PwhZmkxZWuwXz7JUV55VDbzVF1nqVP0/E1ERSkzIx5jvuY9qtpH8hsWxyBtIrCw1z4dLrCXmSnuRQ5YW469B08/IU+phdO00a0CmypOExumSpZJTbZeYy3x2f5XpyHAAWYostYuebMi//5aHt+G+q5PgJ0GWyvGgg5Glzk1YZkb4/g9DliZXlhbL4EE7dSW4AFnqnSwdiqhI5jhQ2u5HDX77UvneOjBzQJau0l68yHcd1sJ0cByy9Ns8pV07foJ89C5WPNCi5XCPJurXpq8jCp6Oudw/76eqNmFIgCxFltp+b8Eelm5ujuzyN/nNe4Y8YEWWpveCp8povwf3cixarmOL0y5L84Wj2OMs1Jelcnz3R8hSP74nLcM861t9i1tjnhf90vD338nMAVn6LfqyUpOLw4j1LjY+jiyVGLV1+6GIR//i3Y7tB3u2qyl1slTLqfgbuuyQ85TKMCxAliJLrQ80fUoo/88I2jtkaUplqRyL7xTxboejkaXJlqXFRam95bmWWagzn8lV2s2Qpe7LUi1jkBThnjrTi1sxLoJkdT5hg9+/pL/KbsnsAVla7CP68E2HGkv6qiYtUy1L/9Wq5euIR//iy84dR19YESxGlrqPlpUOlP/gfEiXugCyNK2yVFa0N/Mkqfz8GhW0i2CSOyENOSuRpWssk6hzhu2bcFm6BFlqV57JWOxhZKkXO0s/tvCuB8i/c2ASQ57tcgvzsUNjfsd9DRdLH2X2gCwtytIPLIwn/yoLsN2SGFI+f7Jw18FvUitLryNPqZcxU/KUXlFZNcXDfHnXprMzyvzckXcwVN8YyPAAWYosTdcuGJlc5SMqC2RpSmWpTF7/E2Wdlnzc2yBL0yFL84Uc0S/ZaTfWPulDlsaPvu3cwntedoFqsnFS2wb5HprKMy50/aTJuutpk5byGxaYpBVqSGoNSLYs7aNyu9rYOSnfVPOEv+dPDMvo5VTKUslTukDylI5FPvqXp/T+Fi2G+1nv0ilLhQp5/jcceQ/D+qrqVgwRkKXIUjv0UCqQv/WFw23vF/o3IkuRpSFO3psbTnzLeP/NNkKWpkOWFiXaZrLoM8POLvvK7ZClbspSece3WHjHz6dg3PiIYRktyMd82kx2vV1vuPDxcVRjG2Spq7LUrA4V49mkv2dpVy81LKO6kk+nJUGWjt56c/KUehhvdWw32Nc6J5Pba9IrxJy6DOaztU0WElDOe/p2PBNZ6rcsLQ7YTnA4OfuJEU7UkaUplKUy4aqNOoeWXoRMuCxdiixdra881NI4auSaJAuyNF50bn2dT9PC7uEzki+5gqN9Ghus+Rnq81wvN3yOy1CeRu3FPb7K0u5KNZbfMj2WI+bevefKbS20FxekSpY+2abVK4hH/2Jy5w7v11YEy5ClqeqUwpqAfy0N37HJWjnLnFfcjTM/bimILE2XLFWF3eNDHTx+/0qUUilKWSrf+8+QpS60X9WtIm7DdHyegvECsnSN5RLcaOm7uhFZ6pYstXBLev1CStJ3nWvyckGTPOssw2/gKQfG7Y+aplzQmyTQnumTpdJeH057UdK7ftuwrN5OjSy9Pmj66SzylJKnFFkaw6Ag11bKYa5j7+XuvOcXP+mOTudfWvWonUsTGGRp4mWp/r530UdVHPq26/RvingwhixNmSyVdva+6BcBkn+5B7J0zRR2H2ZG2BmTBkcjS92RpbKA/7iF9/pceuYU2TsMy2pp3LldizvelpounqVFeCFLv/fb/0V7UUp5mV/0VFKueF9l1cWNcvOmd+04DvnoXdTd26LFW77vaE67LC0OBns5+G7GymD/AE/L80T5/VPXlpNJBpP7I0uRpRGKo3+4095m/xHD4BVZmiJZKm3XWTHV7b4pmMQuQ5auVbBsbydHbuarlcsLWRrn79Y71I2lmY7fpkiW7m9hXna2A/3I1TbuY9ALKejP8GWptHcXx/2784U86YtoL0ppL+o3bC03G3eXcFmsr7Jq7LZbvIp49DBP6ZbtBvkuSpGlBYo5VlwV3/f3UlVt/Gj0K3eU3/tCQ5LYS+P+U2QpsjSaelm1ifzdOQ58y3P0b0myLJUB+4HI0jjbrdxR5Qo9n/PVIkvdQJ6zu61UJTL72xBZGq8sLaZR4khtacKokTzzRMP6PyT+b7nZRjYub5N/42Epk0oUaPJlqfyOMy20F7I406Rlyt73i4Zl9qlqaGovH0XVU21ak6fUw5jUeUuv85QiS1dHX65kaUUshKjfaXGhXrVzs6GvP7LzYInHnRfGKVaQpemRpcXxQX8HdpXWxvTsyNKEy9JuSm0gx5d7W7iYwyCSP8Ept3zTIkuLZfSgJWF6KbI07p2l2eEW+oT/pk92Ge/KXOFCm2FJfukYVKNUE2aaiZelNu4IeD6F7/t083Y2t1siZemNVU0/ntW10yLko2d5SnfqNFPylH6ZBFGKLP0+cny8h9vvS18Alb28p6pu7UJ5FSXbQwYT9IVxHttFlsYiS2fF8Yyy0CBnhLPjYvx+x+nfENNAbCKyNLmyVH7PvnGfjJB+aXRKJjXI0vW3tc0ttbV1+gQKsjSucUHlDpbah9PTN5eo2slCH1PjwLe8ofyWkZbqwUt5z+9iQJauHcmb2VFLfgtjyDPS9r7lu2iq58OGLueviZOl+Q2q5s4kT6mPsfzu5s3fTYooRZau1mA1inbCbXJMIXhC4ph8xMdbalRuU6kz58pvGGXpWRa6eHwTWZosWaqRnXfHxdfOBt1iHHgjSxMmS3WeKxFJp8hvedmR0w9XIkuRpf9ra7P7WdrlPF4fMUSWxvKb/2zjCH7e0RNREZSf4Rg5M8KhxThLl2QG79eq7BbMNpMnS/Xft1BHlqXtCP5Kc85HDMtuij5hlChZOna7H7yGeCRPKbLUPXqrYHMbeXqilE/62JueOIeRD7GQzzXYQ6cBKO5eWhHCMyySevhzZCmyNHzJlB0Swzc6OOaB98QIdxj+NMbnjFKWPqWPvUcX2YulbAcUb5od7+Cph71TMomtQ5Y2ePJ8YcxpT5ClZaIn3fL3J1l4D8+kdS6h0+6Ylp/e3evGs2SusTkGdP3OAmRpyVSUu6i1SryQ3vYiODqS8bcvcuPZtm2GIh79i4k7dHy3tiLOfGDI0giFyv6WbgCNOrTI/FDin/oIjxxxP1iORmzTQ6mgIc+tj/eLLN5HOt3fFHMuDYswj+si+b2HIEuRpeEOSHI729sl0aBYro/kIUuTJkuJlSZpn6RoEossbSD5wkmdF5Gl/slSKbsDLPUHp6V1HqF3UJpuLvg2b2/c9FSqypIM+zYWpzE9Q1Jlaa0K9rJUL85M6zuX/rKyuPnJpPzuTIQs/XtV048k5+Vi5KNneUq7dpp2+Ya56cmc6CBL17KSem7C3rU0wsEH8t+3V4kxevu+xDwHfuMiV47kI0uTKUuLY4W7I3zeOx14XmQpEeY7vxxZiixdyyR6s7hO6iBLjWTp/9kQYvmUHsFfqRxfjeyW69DHiZWdTfMqrqHvuE2fXmPG6bcslfd4C0fwrZTjHaaXQZ+nVMZrWSp5SufM6NrxC+Sjh3lKmyUrTymytKEdVnAjk+HIY0mtyhyBLEWWhjcgqdpEfsecKC5kc+Eytohzlh6ALE1bex1slqJJ7Apkacl96aEhpe9BloaACM5q+dvzLeTpfjrtcwg5LfV7C+OIPRx6nj+G8K0+I3WuKTNOP2WplnPy92dzBN/K4sp+Ftrdo72WpZ+Sp9TLGL7lZomegCFL1zlo1NvihzIhjjwWxC0QkaXJlaXF8UK/CGRpjSPPiiwlwnrf96VsEossLW/h+e/IUj9kqZTbSZbewalIr+pWpim9RH5c79AjVRTSfFn/XsdKiqRdmXX6J0ulfv6SI/jWnINOXTPBcLf2w97K0mfatiZPqYcxqXOHD/pXBEuRpelFbEeT4sVGTI6jjYXxihdkaZJlqQxKsvJbPg8zj6NebEGWIksTHHX9VGWXlE1iv0GWlk5h91FmBLLUfVkqf/c5juBbLc9nDMvyywbdch3h2Em+rddD+GYX652rypG0AzGVbaXIx+O0PPZFlvZTweM2juBfoJpsTGtRnwLwKtN0dr2VauadLL2puulo8pT6F5IyYWpS85QiS0tDN+JSVh8xOY5+h6m+bAtZiiwNaUX8hBB3lf7KockaspQII+5PofhAlpa98Fy5XfHUCLLUUVlao4J2Ni5AlL71SWYO38mkE81ze2Z+5tYz1acyGhfSt/tMf5XdMk11pHgZ2J8lphq0dxdH366Z75wuxkBaim/nY427hrqr38XB5KUbVM2e0bXTJOSjd7HsrmYbvZeOY3TI0oYgt8p3jFI6EP/L+yjHc3ZDliJLQ5rEDg5hkv5fx55xUoSX/ewf43MiSyO8jE/6xK2QpcjSEsvvTGSpu7JUxF4vS+V/MrW9QF6pnIULVO92cE60TYiXty2UfzvfQ6kgqfWip1JV8oy/lmd91s4CRfSy1NZFyPLbu9NSfK+/GGlYps95I0vlI1gxbocthyMe/YtXtmibmkkXsrSU1b+gfTnHIwjj0JcN7IssRZaGsENiJ/lNy20eJZM2tROyFFma8EWsPimdxCBLzcvwn8hSN2Wp/M1RNhZS8lzYs2q5PmBYpnNcFIf68ikbl4GtI3SqpNPzjqQ0MkWMYGMZH/5c5/q2XW7x7CzNvskR/FDK1fROheV697cXsvSldm0GIx79i3Hbb/lGvxhu7kSW+kEvVdXG0oCSKHGHqcjq3ZGlyNIQBiZ32nu+zNUOPh+ylLAYmRFJmbyWSAWy1EZ/o5qFmS8aWWq0cGhjrPYEtXy18eShFsr1GBefTV/MJL9vZsjjihkSA/qpXFvf3r2WVnrnpLy/p/SO2RDbu4ujrdOV21r67S/SQnyfYlqGFWbfTOY852XpbU2afyDibSny0a+Y3rXjhEs2yH2VpokPsrSchizYTDq+95k0R75bXwZMlTsiS5GlNumpqltrGW/h2SbrC+HSLEvjFBTI0qjSomQ7pLTrR5baG0PtbinXHbLU3pjnWkvjtF9Tw7+PLC5tKGUzzXCR6hHHv+fZEfRBOp3BPXpRVsq0kYtloS/j0gJZUlpcoFMy6Z3WEY29Ipal9TlWbSy+nkULscbyHWZYtq85LUsv2zA3Sy50mox89C4W/r2q2Zi0TX6QpeUKpvrdES8yeY48nkWWei1LZ7s5MAn6WJgknuLooAtZStiIOpcuLkOWej8Z7I8sdUOW2pF5hVyTLi4YuoDIs5tCveU69uer3FF+44QI+6MvZJx+pcxhD5L6m4vruXV912N46Rt76ovNIp47xCJLtaiWvzmeI/ihzkF/Z1i2K9a4sO1KntLx5Cn1Mp7ftM2QNE6AkKVGHUalNEb/YBIdWdwbVd4mZGm6ZGnxW/7E4LmGapmCLEWWJnhX6fkp7+8bIUutl+eLyNL4ZamdY+J6Dhw8Ts1eM7L7ci8LjuE0x59Rn7qL43LkJXoMpnc7irDsJvV567zlnad67qGFcG9V+Qt5xj/pHa7FlGx1bszlo5Olemevpd/9Ei3D2vrHpi2K9dqkTtQ6KUsHtSdPqY8xZpsthqV1AoQstdJxnBJmLhqi/mbMSHftIUvTJUsL7zw4ptxk6nLsamd3nwtZSjBOQJa6KVfCulEbWVrS73vQUpmfRK1eK3pn+meGZfy8B+1ktfzOhxy5GPZtGcs/JgL1ei045b8naJm67sh21+JR/v/frOW/Ps6sUyy530dHJ0vl791taVxxNs3COuckTxkurox2Tpbe0aT5+yLeliEf/YppXTp+elGj3HwmQWCCliUWBkLE6jFe5/+JvpNClqZNlhbHEQPLGJDc5vgzTUpDXUaWhnZiagA9fCEXHbI0jMXmzCF9Q7hUFVnaYLnV3FJeRY7gr7euZy83veVaXzLrh+jJ/CHsvMRE9LJU2ouc/L05No7g91XVrWgV1uUVghNMy7m3atzVGVmq85TO2KnjFOSjXyG5Zeddk236OTtGwAb6opjiSiSdt50YWKOCdjEN9JClKZSlemChJyQlPM9MfVwGWYosTWAskQnYb+jZkaXhf7vBDcjSeGSp/J3f2llUyfyHmrxualTldhYuxPmDP7Int5theiOigcfZJUVAl2iEf3Cipd/8Mi1Cg8T0PKuL3TGuuteN36HDW8hH/+LfrVu+ymoUsjSE1aBuYR0tS0nM0mUY86o4sjSFsrQ4lri9hPbzXA+eZzKylCgxpovA2pveHFkaBecplZE+911kaSyydLCd8g5OoCY3aGw5wrBev+6Z8KmW33wXfWooMTjqMZe+ZNfOb8/8jtagIT4he59hWU/Ir5y/N67K+soWbQchHv2LkVu1H0JDiywNT0AFm0v5PkMdKzkG9VfZLR0Y0CJLUypL9Q5xEUVfN+DCm/e0QEGWrnzkJ/tjZKnvoaVV5fb04qtN+jdEloZHf5XZSspqLrI0Olmqb0u2lAJhoZZi1OKG1IWgZyi3XLsvfQ5kl6m1GCZleUDU77CfyrUt8eTVWtNJ9FNVm9AaNOS7yfzcQnnvG6ssvbt583dFvC1HPvoVX3buOPrCimAxDS6yNIKB0a8iPgbra8wt7tKrcOO9IUvTKkuL323N+iYssiCyjx/PgiwlGtoGZ7u70gYjS9M4McyegSyNVJZeaGmB5d/U3oZRo3KbmgqnNd5y7Ucbmi3WuXn0tyWHdhb3y6V4P4pxXHy+pWcZSkvQMGRA1tj8pGpwQ2yy9C+Nc9Mk5+V05KNn0bXTrAGZqsk0vMjSCAcITXU5Fzs76t0qefEK+crcSvSNLE23LJVvtnI9uyAe8mfBBllKrPcI7ZOys68jvTWy1IH26gFkaSSyVN/OPtZOOrrgeGpudH3VGm+59qotbdpC51JkTtSwd60XMXsr1Sz+ehu8Z8k7nEMrUFK5m+b0nhCLLK2tyC6ftGOHEchH72LF/S1aDqcBRpbG0+BVt5JG72+FWwBTX/eW6VvEZZV0MzffFbI0zbK0UAdyR63lGebHdfEYshRZajHqJO7trSp3oHdeP3qHB7I0iv5INZMy+xxZGq4s1TvULLUj82UhIUfNbTg2dlCvdsu1l3OizNZSFv9gTrRaLJKyeUR//3qRzoV3pS+QsvRsHMGPoa3Wl8tFLkuvylRPHNq+7WDCr3i8dathNMLIUhc6HRGFDxcnq2mrczo/1rOS+2YXxwdxyNKUy9LiuOIF34/ARXzB077IUudjfmGCGuxBb4wsdVMm5XaTcluKLA1Plspu0Jvs7HzLPEqNLQ0RYM1Nd1Wudsu1x+hTDfI8t+i+KcX9sk7N8LzEqVI/mjo4J7rS0k7ZV2gBSqbCdAHxu8toGQATBLLUswHCVtJx3JGSoyj6Ge+WXUydPVnxRpYiS5XedbfKrocxMpCtRJYiSz0LLZ5elv7mtDwXsZQrOCqRpVEK02wtsjQcWXqeUhn592dZSuFxHLW1HFmd+Y/VW64T8c0320gkfi89zkrLwqU87+My3zjL5d2W+iJT+a1TLC2u/J6vv5z2InupYdnfiiwlCGSpt+hjZzonjez0eT+BdWyidI5/dCHfDrIUWVrmRPfWlS6yONLD348sTeERe+lTPta7x0T4/6JGqSb0tMhSz8q7kZTdQGRpGL8nOIYj+HHXifrLX73tb8MXp7mdi7sZv0hY3/yRPNe10j4dqBct/HgXVm5kr98920tVteHrL6e9qNzWsOxfQpYSBLI0EZMDEYsHFy848Pm2yKWy2+BpWQk7xdeBdJpkqeTD2UtLzIjic9/qgh7c6ZvCJV70c9KRfV1++2clxsTy3m+wJ7I0ysvx6t/Ta9JePSZl/3fpz8/W7yDP7lHr6N01+ujrtyF93PU673ZDoq9q0pISLJ3eKti8oWW8eplntnZIjP2pvOeo2imM36OPzttpgzL/ppaWPd7P6YXYcut3sY4fmYKiqtB9WvG+h899W7QsXIqk++bguBqV29TP+VD2XkvlMYwv3+g9XGHQXlyKLCUIZGmi6KFUUFh51km+s3M8ybejd4H8Vt906Xv560mKrGzvGkWw68sH4Zg5V6ITJeH0AsfWUX2zcYTOdS3iu4M+qpj3LBUEALgkn7KXrCz+yw290EpxQpQUF1BOkb7wLqnHn7o0Byqc5qi/j6K/jEcO9e1E3drHv9mTZIHlPBG+veX5/lJueyFj6IOowfEbV+QXQSBLE0fxYomf6FUl6YDfKYpJF+rPmGLO1ZN7qurWvCkAAAAAAAgbEfabSbqZY/XOueKO6TGr5JkP4ab67Eidc1bmz1fpDSK1KvdDvcGFtwHOg/giCGRpGsjX36SZObzYUQ+WmBZFrsnCcd7gRn2cRG6zb8ubAAAAAAAAF9C5QAunw4ITRKT20Lsh9U5U+Z+fLKStqd+RunIKobpVTslN0Le2F4+fXyb/t2foHKO1KrtFPmGXakHKQHwRBLI0reijmbLC+iO9y1PfIlvIZ5R9VqTqu8UE6Ws7yq9XYKfL/80n8t83JZ6XeEiLWD1A0Ank+6rqVpQwAAAAAAAAgGcgvggCWQoAAAAAAAAAAApZShDIUgAAAAAAAAAAqAfxRRDIUgAAAAAAAAAAUMhSgkCWAgAAAAAAAABAPYgvgkCWAgAAAAAAAACAQpYSBLIUAAAAAAAAAADqQXwRBLIUAAAAAAAAAAAUspQgkKUAAAAAAAAAAFAP4osgkKUAAAAAAAAAAKCQpQSBLAUAAAAAAAAAgHoQXwSBLAUAAAAAAAAAAIUsJQhkKQAAAAAAAAAA1IP4IghkKQAAAAAAAAAAKGQpQSBLAQAAAAAAAACgHsQXQSBLAQAAAAAAAABAIUsJAlkKAAAAAAAAAAD1IL4IAlkKAAAAAAAAAAAKWUoQyFIAAAAAAAAAAKgH8UUQyFIAAAAAAAAAAFDIUoJAlgIAAAAAAAAAQD2IL4JAlgIAAAAAAAAAgEKWEgSyFAAAAAAAAAAA6kF8EQSyFAAAAAAAAAAAFLKUIJClAAAAAAAAAABQD+KLIJClAAAAAAAAAACgkKUEgSwFAAAAAAAAAIB6EF8EgSwFAAAAAAAAAACFLCUIZCkAAAAAAAAAANSD+CIIZCkAAAAAAAAAAChkKUEgSwEAAAAAAAAAoB7EF0EgSwEAAAAAAAAAQOinsgMIgig1MofRegAAAAAAAAAAJIv/B7V4eTKSuIJEAAAAAElFTkSuQmCC","JPEG",14,10,92,14),b.text(c,14,31),b.text(e.pageNumber.toString(),405,290),b.text("Generated on "+g.toString(),14,290)}}),b.save(u+"_"+v+".pdf")}else alert("There are no data to be download please refresh!");case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}]),a}(u.Component))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAO7AAADuwGu9yalAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAdRQTFRF////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANjajwgAAAJt0Uk5TAAECAwYICQoLDQ4PERUWFxgZGhsdHiAhIiMkJSgqKywtLzAxMzQ2Nzg6PD0/REZISlBRUlNUVVdYWVpbXGBkaGtsbnN0dnh7fH6AgYKDhIWGh4iOj5OUlZeZmpuio6WmqKmqrK2usrO1t7i6vb/AwcXHyMrLztDS09TV1tfY2dvc3d/i4+Tl5+nq7O3u7/Dx8vP09fb4+fr7/P4VI6s8AAAEM0lEQVR42u2b6SNUURTA36SiwgihVFqNlJC0qUgLFU0LadG+oiwtNCkpaTPRIBP3ny3RW2bu/s6Z6cM7n97ce+f9frPde96bcw3DCy+88OJ/jOV5m7e4i/Urddm5tY+GJghATL3rObtRlZ56sp+ARuh0tgI+5egnAh7fCqX5JYMEIy7K8g//ROGTYOzHnO+j4X1BHDwZz3Fg6kKzZKKzKF6gHYtfbKdkPVlonTkRy29A4n/f7uC/MTsuOPmVczj88DYGP8agaDLmidPPbruMh6FpQvq2MvlOg6f2jtmrNRtSAKZzX84mg8O3G1TYm4cCOMtLHN8yWDJgtc21piLxabPcosEBW9NBI4H8fwb3rIZ2JL6fNcvPGyz9YT78uCrBfEJqDWO39QUoSzifTBYYl8wHHYnnE3LFeGAeNyWBT14YvebxniTwScR4bx7nJYFPXhrmOhBOBp9cM8zDt8ngTxViCvhfCxfsegNRQILfYiAKSPLRBGT5WALSfCSBTGk+joACH0VAhY8hoMRHEFDjwwso8oUCO+pb61RS9cyQGl8gkNv1t+9xNhqfL1A6vtg5FsDicwVKI9Z1dgCJzxOw8eUMdPgcAQdfxkCLzxaI4YsN9PhMgTi+yECTzxKg8PkGunyGAJXPM8jQ5dMFSiKsu14BaD5VYMUH9n03qkHGK20+VaCNd+cvAMunCnwmSgau+DSBHMHdzwAknyaQT1QMXPKpH0FYwcAtnypwh0gbuOZTBVaHZQ3c8+kTUdWsnAEAnzEV10gZQPBZi5GMQcYAAJ+5HEsYDELw2QmJ2ACEz0nJXBtI8XlJqUsDJ7+yp7dYVcCdgZN//k9L1K8q4MbAyV/4W3KfsoC+gZPfvNB4RF1A18DJbyL6AnoGTn4jcSOgY+DkZ0XdCagbxPz+jxGXAqoGsfPPKdcCagZx8x+AgIpB/PwLISBvQJn/QQRkDWjrD4yAnAF1/QMSkDGgr79QAmIDxvoPJiAyYOUfcAJ8A2b+AyjAM2DnX5ACbANO/gcqwDLg5Z+wAnQDbv4LLEAz4Off0ALxBoL8H1wg1kB0/QEv4DQQXv8gCNgNxNdfAgG9Aob9i0+bC4rHtpgC1bRuzRKOgu75pwzvkhjabRJ20rqtIpYqxb/nyqvzZcb5xk0CtcLWKuNpNlBirfV9pZZbW4VMXTgCh0zAGLXfKuUi5Rj8tGHz/LeoA2zFbKPpCAJtwmJBWznfDXh+mVUv+4vx+lALGv0j1sk7GWMwSzr3frW9umLWKLSi1vSb9jPfZQ9EKevNqmh07BaIcur8EQqbO+L+9TnDs8Uq7bbFfR/3/WrA5venCT6xdlz+6BrhkhXE5D+XqQDB2uIxvwYsk/rdIG1yIZHjsr9clG0+0cuZCpMH+EanL9fXqU5gYFu9Zkb6zgWWaE6jAJvdMFILL7zwwguc+A3jh9yJz63dTgAAAABJRU5ErkJggg=="},function(e,t,a){e.exports=a.p+"static/media/delete.ff3421ef.svg"},function(e,t,a){e.exports=a.p+"static/media/deleted.afb630ad.svg"},,,,,,,,,,,,function(e,t,a){},,function(e,t){function a(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id=343},function(e,t,a){},,,function(e,t,a){},,function(e,t,a){"use strict";a.d(t,"a",(function(){return w}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(16),p=a.n(m),h=a(30),f=a.n(h),g=a(27),v=(a(73),a(159)),b=a(198),y=a(250),S=a(77),E=a(8),w=(a(21),a(59),a(127),function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={labelButton:"CREATE NEW CAMPAIGN",token:localStorage.getItem("accessToken"),categoryList:[],image:null,alertState:"alert alert-primary",isEdit:!1,error:!1,htmlContent:"",imageCheckExist:!1,shareOptionList:[]},window.scrollTo(0,0),e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.getDataHtmlContentCampaignById(this.props.data),this.validateCheckImageByCode(this.props.data),this.getdataMaster(),this.getShareListOptions(),"edit"===this.props.mode&&(this.setState(this.props.data),this.setState({categoryId:this.props.data.category?this.props.data.category.id:null,shareToEmail:this.props.data.shareToEmail?this.props.data.shareToEmail.id:null,labelButton:"EDIT CAMPAIGN",isEdit:!0}))}},{key:"getDataHtmlContentCampaignById",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return a=new S.a,e.next=4,a.getCampaignById(t,this.state.token);case 4:(n=e.sent).data&&n.data.success&&n.data.data&&n.data.data.htmlContent?this.setState({htmlContent:Object(v.htmlDecode)(n.data.data.htmlContent.detail)}):this.setState({htmlContent:""});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"validateCheckImageByCode",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return a=new S.a,e.next=4,a.validateCheckImage(t,this.state.token);case 4:(n=e.sent)&&!1===n.data.success?this.setState({image:null,imageCheckExist:!1}):this.setState({imageCheckExist:!0});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getShareListOptions",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new S.a,e.next=3,t.doGetShareListOptions(this.state,"shareCampaign");case 3:(a=e.sent)&&200===a.status&&a.data&&a.data.success?this.setState({shareOptionList:a.data.data}):a&&a.data&&E.a===a.data.data?this.clearSession():this.setState({shareOptionList:[]});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new S.a,e.next=3,t.getListCampignCategory(this.state);case 3:(a=e.sent)&&200===a.status&&a.data&&a.data.success?this.setState({categoryList:a.data.data}):a&&a.data&&E.a===a.data.data?this.clearSession():this.setState({categoryList:[]});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"openPreview",value:function(){this.setState({previewIsOpen:!0})}},{key:"closePreview",value:function(){this.setState({previewIsOpen:!1})}},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"saveDraft",value:function(){}},{key:"validate",value:function(e){return this.setState({error:!0,alertState:"alert alert-danger"}),e.code?e.categoryId?e.title?e.description?e.startDate?e.endDate?e.image||this.state.imageCheckExist?e.image&&this.state.image.size>204800?(this.setState({errorMessage:"Campaign Image exceeded maximum size!"}),!1):e.htmlContent?e.shareToEmail?(this.setState({error:!1,alertState:"alert alert-primary"}),!0):(this.setState({errorMessage:"Please Select Shareable/Not Shareable!"}),!1):(this.setState({errorMessage:"Please enter Html Content Campaign!"}),!1):(this.setState({errorMessage:"Please choose Campaign Image!"}),!1):(this.setState({errorMessage:"Please enter End Date Campaign!"}),!1):(this.setState({errorMessage:"Please enter Start Date Campaign!"}),!1):(this.setState({errorMessage:"Please enter Campaign Description!"}),!1):(this.setState({errorMessage:"Please enter Campaign title!"}),!1):(this.setState({errorMessage:"Please enter Campaign Category!"}),!1):(this.setState({errorMessage:"Please enter Campaign Code!"}),!1)}},{key:"onSubmit",value:function(){if(this.props.onSubmit){var e=this.state;this.validate(e)?this.props.onSubmit(e):window.scrollTo(0,0)}}},{key:"render",value:function(){var e=this,t=this.state.categoryList||[];t=t.map((function(e){var t=e.id,a=e.name;return d.a.createElement("option",{key:t,value:t},a)}));var a=this.state.htmlContent?this.state.htmlContent:"",n=this.state.imageCheckExist,s=this.state.isEdit,r=(new S.a).urlImageCampaignPath(this.state),l=this.state.startDate?p()(this.state.startDate,"YYYY-MM-DDTHH:mm:ss").toDate():null,i=this.state.endDate?p()(this.state.endDate,"YYYY-MM-DDTHH:mm:ss").toDate():null,o=this.state.shareOptionList||[];return o=o.map((function(e){var t=e.id,a=e.name,n=e.code;return d.a.createElement("option",{key:n,"code-data":n,value:t},a)})),d.a.createElement("div",{id:"CampaignForm"},this.state.error?d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.errorMessage):null,d.a.createElement("div",{className:"form-box-area mb-2"},d.a.createElement("h4",{className:"mb-4"},"Identity"),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Campaign Code"),d.a.createElement("input",{readOnly:this.state.isEdit?"readOnly":"",className:"col-4 form-input",type:"text",onChange:function(t){return e.setState({code:t.target.value})},value:this.state.code||""})),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Campaign category"),d.a.createElement("select",{className:"col-4 form-input",onChange:function(t){return e.setState({categoryId:t.target.value})},value:this.state.categoryId},d.a.createElement("option",{value:""},"Select Campaign Category"),t)),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Campaign Title"),d.a.createElement("input",{className:"col-4 form-input",type:"text",onChange:function(t){return e.setState({title:t.target.value})},value:this.state.title||""})),d.a.createElement("div",{className:"row mb-4"},d.a.createElement("label",{className:"col-3"},"Description"),d.a.createElement("textarea",{className:"col-8 form-input",rows:"3",value:this.state.description,onChange:function(t){return e.setState({description:t.target.value})}})),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Share To Email"),d.a.createElement("select",{className:"col-4 form-input",onChange:function(t){return e.setState({shareToEmail:t.target.value})},value:this.state.shareToEmail},d.a.createElement("option",{sasa:"",key:"",value:""},"Select Shareable/Not Shareable"),o))),d.a.createElement("div",{className:"form-box-area mb-2"},d.a.createElement("h4",{className:"mb-4"},"Campaign Due Date"),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Start Date"),d.a.createElement("div",{className:"col-4 p-0"},d.a.createElement(g.a,{className:"form-input",dateFormat:"yyyy/MM/dd",selected:l,onChange:function(t){return e.setState({startDate:t})}}))),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"End Date"),d.a.createElement("div",{className:"col-4 p-0"},d.a.createElement(g.a,{className:"form-input",dateFormat:"yyyy/MM/dd",selected:i,onChange:function(t){return e.setState({endDate:t})}})))),d.a.createElement("div",{className:"form-box-area mb-2"},d.a.createElement("h4",{className:"mb-4"},"Campaign Image"),s&&n?d.a.createElement("img",{src:r,alt:"imgProduct",id:"img-size"}):d.a.createElement(b.a,{className:"mb-4",onChange:function(t){return e.setState({image:t})},file:this.state.image,accept:"image/x-png,image/jpeg,image/jpg",minSize:1,maxSize:204800}),d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col"},"*Upload Image ratio 16 : 9 ",d.a.createElement("br",null),"*Upload Image size rmax size 200KB"),this.state.image?d.a.createElement("div",{className:"col"},d.a.createElement("button",{className:"button-white float-right",onClick:function(){return e.setState({image:null})}},"Delete")):null,this.state.imageCheckExist?d.a.createElement("div",{className:"col"},d.a.createElement("button",{className:"button-white float-right",onClick:function(){return e.setState({imageCheckExist:null})}},"Delete")):null)),d.a.createElement("div",{className:"form-box-area mb-4"},d.a.createElement("h4",{className:"mb-4"},"Campaign HTML"),d.a.createElement(y.a,{className:"mb-4",data:a||"",onChange:function(t){return e.setState({htmlContent:t})},value:a,source:"campaign"})),d.a.createElement("div",{className:"d-flex justify-content-end"},d.a.createElement("button",{className:"button-red",onClick:this.onSubmit.bind(this)},this.state.labelButton)),d.a.createElement(f.a,{isOpen:this.state.previewIsOpen,className:"preview-modal",ariaHideApp:!1,style:{content:{width:"".concat(270,"px"),height:"".concat(480,"px")}}},d.a.createElement("button",{onClick:this.closePreview.bind(this)},"close"),d.a.createElement("div",null,this.state.image?d.a.createElement("img",{alt:"campaign",src:URL.createObjectURL(this.state.image)}):d.a.createElement("div",null,"No Image",d.a.createElement("br",null),d.a.createElement("br",null),d.a.createElement("br",null)),this.state.detail1?d.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.state.detail1}}):d.a.createElement("div",null,"No Detail"))))}}]),a}(u.Component))},,,,,function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=(a(21),a(59),a(77)),p=a(8),h=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={labelButton:"CREATE NEW CAMPAIGN CATEGORY",alertState:"alert alert-primary",isEdit:!1,error:!1,token:localStorage.getItem("accessToken"),statusList:[]},window.scrollTo(0,0),e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.getdataMaster(),"edit"===this.props.mode?(this.setState(this.props.data),this.setState({statusId:this.props.data.status?this.props.data.status.id:null,labelButton:"EDIT CAMPAIGN CATEGORY",isEdit:!0})):this.setState({isEdit:!1})}},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new m.a,e.next=3,t.getListCampaignStatus(this.state);case 3:(a=e.sent)&&200===a.status&&a.data&&a.data.success?this.setState({statusList:a.data.data}):a&&a.data&&p.a===a.data.data?this.clearSession():this.setState({statusList:[]});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"clearSession",value:function(){alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")}},{key:"validate",value:function(e){return this.setState({error:!0,alertState:"alert alert-danger"}),e.code?e.description?e.name?e.priority?e.shortname?e.shortname&&e.shortname.length>20?(this.setState({errorMessage:"Max campaign short name 20 character!"}),!1):e.statusId?(this.setState({error:!1,alertState:"alert alert-primary"}),!0):(this.setState({errorMessage:"Please enter description campaign status!"}),!1):(this.setState({errorMessage:"Please enter description campaign short name!"}),!1):(this.setState({errorMessage:"Please enter description campaign priority!"}),!1):(this.setState({errorMessage:"Please enter description campaign name!"}),!1):(this.setState({errorMessage:"Please enter description campaign category!"}),!1):(this.setState({errorMessage:"Please enter campaign category code!"}),!1)}},{key:"onSubmit",value:function(){if(this.setState({error:!1}),this.props.onSubmit){var e=this.state;this.validate(e)?this.props.onSubmit(e):window.scrollTo(0,0)}}},{key:"render",value:function(){var e=this,t=this.state.statusList||[];return t=t.map((function(e){var t=e.id,a=e.name;return d.a.createElement("option",{key:t,value:t},a)})),d.a.createElement("div",{id:"CampaignCategoryForm"},this.state.error?d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.errorMessage):null,d.a.createElement("div",{className:"form-box-area mb-4"},d.a.createElement("h4",{className:"mb-4"},"Identity"),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Campaign Category Code"),d.a.createElement("input",{className:"col-4 form-input",type:"text",maxLength:"100",onChange:function(t){return e.setState({code:t.target.value})},value:this.state.code||""})),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Description"),d.a.createElement("textarea",{className:"col-8 form-input",rows:"3",value:this.state.description,onChange:function(t){return e.setState({description:t.target.value})}})),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Name"),d.a.createElement("input",{className:"col-4 form-input",type:"text",maxLength:"100",onChange:function(t){return e.setState({name:t.target.value})},value:this.state.name||""})),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Priority"),d.a.createElement("input",{className:"col-4 form-input",type:"number",onChange:function(t){return e.setState({priority:t.target.value})},value:this.state.priority||""})),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Short Name"),d.a.createElement("input",{className:"col-4 form-input",type:"text",maxLength:"20",onChange:function(t){return e.setState({shortname:t.target.value})},value:this.state.shortname||""})),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Status Campaign Category"),d.a.createElement("select",{className:"col-4 form-input",onChange:function(t){return e.setState({statusId:t.target.value})},value:this.state.statusId},d.a.createElement("option",{value:""},"Select Status Campaign Category"),t))),d.a.createElement("div",{className:"d-flex justify-content-end"},d.a.createElement("button",{className:"button-red",onClick:this.onSubmit.bind(this)},this.state.labelButton)))}}]),a}(u.Component)},function(e,t,a){"use strict";a.d(t,"a",(function(){return g}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=(a(21),a(59),a(32)),p=a(141),h=a(63),f=a(8),g=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={labelButton:"CREATE NEW LEAD",alertState:"alert alert-primary",isEdit:!1,error:!1,token:localStorage.getItem("accessToken"),productList:[],branchList:[],leadSourceCtbList:[],leadStatusList:[]},e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.getdataMaster(),"edit"===this.props.mode?(this.setState(this.props.data),this.setState({campaignCode:this.props.data.campaign?this.props.data.campaign.code:"",customerTypeCode:this.props.data.customerType?this.props.data.customerType.code:"",productTypeCode:this.props.data.productType?this.props.data.productType.code:"",sourceCode:this.props.data.source?this.props.data.source.code:"",statusCode:this.props.data.status?this.props.data.status.code:"",preferredContactCode:this.props.data.preferredContact?this.props.data.preferredContact.code:"",nip:this.props.data.user.nip,email:this.props.data.user.email,salesCode:this.props.data.user.sales_code,labelButton:"EDIT LEAD",isEdit:!0})):this.setState({isEdit:!1})}},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i,o,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new m.a,a=new h.a,n=!0,e.next=5,a.getListProducts(this.state);case 5:return(r=e.sent)&&200===r.status&&r.data&&r.data.success?this.setState({productList:r.data.data}):r&&r.data&&f.a===r.data.data?n=!1:this.setState({productList:[]}),l=new p.a,e.next=10,l.getListBranch(this.state);case 10:return(i=e.sent)&&200===i.status&&i.data&&i.data.content?this.setState({branchList:i.data.content}):i&&i.data&&f.a===i.data.data?n=!1:this.setState({branchList:[]}),e.next=14,t.getListLeadCustomerToBank(this.state);case 14:return(o=e.sent)&&200===o.status&&o.data&&o.data.success?this.setState({leadSourceCtbList:o.data.data}):o&&o.data&&f.a===o.data.data?n=!1:this.setState({leadSourceCtbList:[]}),e.next=18,t.getListLeadStatus(this.state);case 18:(c=e.sent)&&200===c.status&&c.data&&c.data.success?this.setState({leadStatusList:c.data.data}):c&&c.data&&f.a===c.data.data?n=!1:this.setState({leadStatusList:[]}),n||this.clearSession();case 21:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"clearSession",value:function(){alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")}},{key:"validate",value:function(e){return this.setState({error:!0,alertState:"alert alert-danger"}),e.fullName?e.phoneNumber?e.customerToBank?e.productTypeCode?e.createdBy?e.statusCode?e.salesCode?(this.setState({error:!1,alertState:"alert alert-primary"}),!0):(this.setState({errorMessage:"Please enter Lead User Sales Code!"}),!1):(this.setState({errorMessage:"Please enter Lead  Status!"}),!1):(this.setState({errorMessage:"Please enter Source Lead!"}),!1):(this.setState({errorMessage:"Please enter Lead Product Type Code!"}),!1):(this.setState({errorMessage:"Please enter Lead Customer To Bank!"}),!1):(this.setState({errorMessage:"Please enter Lead Phone Number!"}),!1):(this.setState({errorMessage:"Please enter Lead Full Name!"}),!1)}},{key:"onSubmit",value:function(){if(this.props.onSubmit){var e=this.state;this.validate(e)?this.props.onSubmit(e):window.scrollTo(0,0)}}},{key:"render",value:function(){var e=this,t=this.state.productList||[];t=t.map((function(e){var t=e.code,a=e.name;return d.a.createElement("option",{key:t,value:t},a)}));var a=this.state.branchList||[];a=a.map((function(e){var t=e.code,a=e.name;return d.a.createElement("option",{key:t,value:t},a)}));var n=this.state.leadSourceCtbList||[];n=n.map((function(e){var t=e.code,a=e.name;return d.a.createElement("option",{key:t,value:t},a)}));var s=this.state.leadStatusList||[];return s=s.map((function(e){var t=e.code,a=e.name;return d.a.createElement("option",{key:t,value:t},a)})),d.a.createElement("div",{id:"LeadForm"},this.state.error?d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.errorMessage):null,d.a.createElement("div",{className:"form-box-area mb-4"},d.a.createElement("h4",{className:"mb-4"},"Identity"),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Full Name"),d.a.createElement("input",{className:"col-4 form-input",type:"text",maxLength:"100",onChange:function(t){return e.setState({fullName:t.target.value})},defaultValue:this.state.fullName})),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Phone Number"),d.a.createElement("input",{className:"col-4 form-input",type:"text",onChange:function(t){return e.setState({phoneNumber:t.target.value})},defaultValue:this.state.phoneNumber}))),d.a.createElement("div",{className:"form-box-area mb-4"},d.a.createElement("h4",{className:"mb-4"},"Information"),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Branch Code"),d.a.createElement("select",{className:"col-4 form-input",onChange:function(t){return e.setState({defaultBranchCode:t.target.value})},value:this.state.defaultBranchCode},d.a.createElement("option",{value:""},"Select Branch"),a)),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Customer to Bank"),d.a.createElement("select",{className:"col-4 form-input",onChange:function(t){return e.setState({customerToBank:t.target.value})},value:this.state.customerToBank},d.a.createElement("option",{value:""},"Select Customer to Bank"),n)),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Target Amount"),d.a.createElement("input",{className:"col-4 form-input",type:"number",onChange:function(t){return e.setState({targetAmount:t.target.value})},defaultValue:this.state.targetAmount})),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Product Type Code"),d.a.createElement("select",{className:"col-4 form-input",onChange:function(t){return e.setState({productTypeCode:t.target.value})},value:this.state.productTypeCode},d.a.createElement("option",{value:""},"Select Product"),t)),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Source Lead"),d.a.createElement("input",{className:"col-4 form-input",type:"text",onChange:function(t){return e.setState({createdBy:t.target.value})},defaultValue:this.state.createdBy})),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Status"),d.a.createElement("select",{className:"col-4 form-input",onChange:function(t){return e.setState({statusCode:t.target.value})},value:this.state.statusCode},d.a.createElement("option",{value:""},"Select Status"),s))),d.a.createElement("div",{className:"form-box-area mb-4"},d.a.createElement("h4",{className:"mb-4"},"User"),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Sales Code"),d.a.createElement("input",{className:"col-4 form-input",type:"text",onChange:function(t){return e.setState({salesCode:t.target.value})},defaultValue:this.state.salesCode}))),d.a.createElement("div",{className:"d-flex justify-content-end"},d.a.createElement("button",{className:"button-red",onClick:this.onSubmit.bind(this)},this.state.labelButton)))}}]),a}(u.Component)},function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(4),s=a(3),r=a(6),l=a(5),i=a(0),o=a.n(i),c=(a(21),a(59),function(e){Object(r.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(n.a)(this,a);for(var s=arguments.length,r=new Array(s),l=0;l<s;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(s.a)(a,[{key:"validate",value:function(e){return e.currentPassword?e.newPassword?e.confirmPassword?e.newPassword===e.confirmPassword||(this.setState({error:"Your new password and confirm password does not match!"}),!1):(this.setState({error:"Please confirm your new password!"}),!1):(this.setState({error:"Please enter your new password!"}),!1):(this.setState({error:"Please enter your current password!"}),!1)}},{key:"componentWillMount",value:function(){"edit"===this.props.mode?this.setState(this.props.data):this.setState({isEdit:!1})}},{key:"onSubmit",value:function(){if(this.props.onSubmit){var e=this.state;if(this.validate(e)){var t=new FormData;t.append("currentPass",e.currentPassword),t.append("newPass",e.newPassword),this.props.onSubmit(e)}}}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{id:"ChangePasswordForm"},this.state.error?o.a.createElement("div",{className:"alert alert-danger",role:"alert"},this.state.error):null,o.a.createElement("div",{className:"form-box-area mb-4"},o.a.createElement("h4",{className:"mb-4"},"Password"),o.a.createElement("div",{className:"row mb-3"},o.a.createElement("label",{className:"col-3"},"Current Password"),o.a.createElement("input",{className:"col-4 form-input",type:"password",onChange:function(t){return e.setState({currentPassword:t.target.value})},defaultValue:this.state.currentPassword})),o.a.createElement("div",{className:"row mb-3"},o.a.createElement("label",{className:"col-3"},"New Password"),o.a.createElement("input",{className:"col-4 form-input",type:"password",onChange:function(t){return e.setState({newPassword:t.target.value})},defaultValue:this.state.newPassword})),o.a.createElement("div",{className:"row mb-3"},o.a.createElement("label",{className:"col-3"},"Confirm Password"),o.a.createElement("input",{className:"col-4 form-input",type:"password",onChange:function(t){return e.setState({confirmPassword:t.target.value})},defaultValue:this.state.confirmPassword}))),o.a.createElement("div",{className:"mb-4 d-flex justify-content-end"},o.a.createElement("button",{className:"button-red",onClick:this.onSubmit.bind(this)},"CHANGE PASSWORD")))}}]),a}(i.Component))},function(e,t,a){"use strict";a.d(t,"a",(function(){return f}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=(a(21),a(59),a(75)),p=a(141),h=a(8),f=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={labelButton:"CREATE NEW BRANCH",alertState:"alert alert-primary",isEdit:!1,error:!1,token:localStorage.getItem("accessToken"),areaList:[],isButtonDisabled:!1},e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.getdataMaster(),"edit"===this.props.mode?this.setState({id:this.props.data.id?this.props.data.id:"",code:this.props.data.code?this.props.data.code:"",description:this.props.data.description?this.props.data.description:"",name:this.props.data.name?this.props.data.name:"",areaCode:this.props.data?this.props.data.area.code:"",areaName:this.props.data?this.props.data.area.name:"",email:this.props.data.email?this.props.data.email:"",emailCs:this.props.data.emailCs?this.props.data.emailCs:"",emailBso:this.props.data.emailBso?this.props.data.emailBso:"",labelButton:"EDIT BRANCH",isEdit:!0}):this.setState({isEdit:!1}),window.scrollTo(0,0)}},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new p.a,e.next=3,t.getListArea(this.state);case 3:(a=e.sent)&&200===a.status&&a.data&&a.data.success?this.setState({areaList:a.data.data}):a&&a.data&&h.a===a.data.data?(localStorage.clear(),this.props.history.push("login")):this.setState({areaList:[]});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"validate",value:function(e){return this.setState({error:!0,alertState:"alert alert-danger"}),e.code?e.description?e.name?e.areaCode?e.email&&!m.a.validateEmail(e.email)?(this.setState({errorMessage:"Please enter valid Email Branch!"}),!1):e.emailBso&&!m.a.validateEmail(e.emailBso)?(this.setState({errorMessage:"Please enter valid Email BSO!"}),!1):e.emailCs&&!m.a.validateEmail(e.emailCs)?(this.setState({errorMessage:"Please enter valid Email CS!"}),!1):(this.setState({error:!1,alertState:"alert alert-primary"}),!0):(this.setState({errorMessage:"Please fill Area!"}),!1):(this.setState({errorMessage:"Please fill Name!"}),!1):(this.setState({errorMessage:"Please fill Description!"}),!1):(this.setState({errorMessage:"Please fill Code!"}),!1)}},{key:"onSubmit",value:function(e){var t=this;if(e.preventDefault(),this.setState({isButtonDisabled:!0}),setTimeout((function(){return t.setState({isButtonDisabled:!1})}),5e3),this.props.onSubmit){var a=this.state;this.validate(a)?this.props.onSubmit(a):window.scrollTo(0,0)}}},{key:"handleClick",value:function(e){alert(e.target.name.charAt(0).toUpperCase()+e.target.name.slice(1)+" Is Read Only!")}},{key:"render",value:function(){var e=this,t=this.state.areaList||[];return t=t.map((function(e){var t=e.id,a=e.code,n=e.name;return d.a.createElement("option",{key:t,value:a},n)})),d.a.createElement("div",{id:"LookupForm"},this.state.error?d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.errorMessage):null,d.a.createElement("div",{className:"form-box-area mb-4"},d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Area"),"edit"===this.props.mode?d.a.createElement("select",{disabled:!0,className:"col-4 form-input",onChange:function(t){return e.setState({areaCode:t.target.value.trim()})},value:this.state.areaCode||""},d.a.createElement("option",{value:""},"Select Area"),t):d.a.createElement("select",{className:"col-4 form-input",onChange:function(t){return e.setState({areaCode:t.target.value.trim()})},value:this.state.areaCode||""},d.a.createElement("option",{value:""},"Select Area"),t)),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Code"),"edit"===this.props.mode?d.a.createElement("input",{className:"col-4 form-input",type:"text",name:"code",readOnly:!0,onClick:function(t){return e.handleClick(t)},defaultValue:this.state.code||""}):d.a.createElement("input",{className:"col-4 form-input",type:"text",maxLength:"100",onChange:function(t){return e.setState({code:t.target.value.trim()})},defaultValue:this.state.code||""})),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Name"),d.a.createElement("input",{className:"col-4 form-input",type:"text",onChange:function(t){return e.setState({name:t.target.value.trim()})},defaultValue:this.state.name||""})),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Email Branch"),d.a.createElement("input",{className:"col-4 form-input",type:"text",onChange:function(t){return e.setState({email:t.target.value.trim()})},defaultValue:this.state.email||""})),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Email BSO"),d.a.createElement("input",{className:"col-4 form-input",type:"text",onChange:function(t){return e.setState({emailBso:t.target.value.trim()})},defaultValue:this.state.emailBso||""})),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Email CS"),d.a.createElement("input",{className:"col-4 form-input",type:"text",onChange:function(t){return e.setState({emailCs:t.target.value.trim()})},defaultValue:this.state.emailCs||""})),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Description"),d.a.createElement("textarea",{className:"col-7 form-input",rows:"15",value:this.state.description?this.state.description:"",onChange:function(t){return e.setState({description:t.target.value})},onBlur:function(t){return e.setState({description:t.target.value.trim()})}}))),d.a.createElement("div",{className:"d-flex justify-content-end"},d.a.createElement("button",{className:"button-red",onClick:this.onSubmit.bind(this),disabled:this.state.isButtonDisabled},this.state.labelButton)))}}]),a}(u.Component)},function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(63),p=a(8),h=(a(21),a(59),a(127),a(27)),f=(a(73),a(16)),g=a.n(f),v=a(198),b=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={token:localStorage.getItem("accessToken"),statusList:[],labelButton:"SAVE PRODUCT",alertState:"alert alert-primary",isEdit:!1,error:!1,cardList:[],cardList2:[],masterForm:"ONBOARD_CC_REGULER-RMTOOLS-001",type:"BUNDLING_CC",imageCheckExist:!1,image:null},window.scrollTo(0,0),e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.validateCheckImageByCode(this.props.data),this.getdataMaster(),"edit"===this.props.mode&&(this.setState(this.props.data),this.setState({tanggalAktif:this.props.data.tanggalAktif?this.props.data.tanggalAktif:null,tanggalNonAktif:this.props.data.tanggalNonAktif?this.props.data.tanggalNonAktif:null,product1:this.props.data.product1?this.props.data.product1.code:null,product2:this.props.data.product2?this.props.data.product2.code:null,labelButton:"EDIT PRODUCT",isEdit:!0}))}},{key:"validateCheckImageByCode",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return a=new m.a,e.next=4,a.validateCheckBundlingCcImage(t,this.state.token);case 4:(n=e.sent)&&!1===n.data.success?this.setState({image:null,imageCheckExist:!1}):this.setState({imageCheckExist:!0});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=new m.a,e.next=4,a.getListCreditCard(this.state);case 4:(n=e.sent)&&200===n.status&&n.data&&n.data.success?(this.setState({cardList:n.data.data}),this.setState({cardList2:n.data.data})):n&&n.data&&p.a===n.data.data?t=!1:this.setState({cardList:[]}),t||this.clearSession();case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"openPreview",value:function(){this.setState({previewIsOpen:!0})}},{key:"closePreview",value:function(){this.setState({previewIsOpen:!1})}},{key:"saveDraft",value:function(){}},{key:"validate",value:function(e){return this.setState({error:!0,alertState:"alert alert-danger"}),e.code?e.name?e.product1?e.product2?e.product1===e.product2?(this.setState({errorMessage:"Kartu Kredit 1 and Kartu Kredit 2 cannot be the same card!"}),!1):e.tanggalAktif?e.tanggalNonAktif?e.image||this.state.imageCheckExist?(this.setState({error:!1,alertState:"alert alert-primary"}),!0):(this.setState({errorMessage:"Please choose Product Image!"}),!1):(this.setState({errorMessage:"Please enter Tanggal Non Aktif!"}),!1):(this.setState({errorMessage:"Please enter Tanggal Aktif!"}),!1):(this.setState({errorMessage:"Please enter Kartu Kredit 2!"}),!1):(this.setState({errorMessage:"Please enter Kartu Kredit 1!"}),!1):(this.setState({errorMessage:"Please enter Bundling Name!"}),!1):(this.setState({errorMessage:"Please enter Bundling Code!"}),!1)}},{key:"onSubmit",value:function(){if(this.props.onSubmit){var e=this.state;this.validate(e)?this.props.onSubmit(e):window.scrollTo(0,0)}}},{key:"render",value:function(){var e=this,t=this.state.isEdit,a=(new m.a).urlBundlingCcImagePath(this.state),n=this.state.cardList||[];n=n.map((function(e){e.id;var t=e.name,a=e.code;return d.a.createElement("option",{key:a,"code-data":a,value:a},t)}));var s=this.state.cardList2||[];s=s.map((function(e){e.id;var t=e.name,a=e.code;return d.a.createElement("option",{key:a,"code-data":a,value:a},t)}));g()();var r=this.state.tanggalAktif?g()(this.state.tanggalAktif,"YYYY-MM-DDTHH:mm:ss").toDate():null,l=this.state.tanggalNonAktif?g()(this.state.tanggalNonAktif,"YYYY-MM-DDTHH:mm:ss").toDate():null,i=this.state.imageCheckExist;return d.a.createElement("div",null,this.state.error?d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.errorMessage):null,d.a.createElement("div",{className:"form-box-area mb-2"},d.a.createElement("h4",{className:"mb-4"},"Info Bundling"),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Bundling code"),d.a.createElement("input",{readOnly:this.state.isEdit?"readOnly":"",className:"col-4 form-input",type:"text",onChange:function(t){return e.setState({code:t.target.value})},value:this.state.code||""})),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Bundling Name"),d.a.createElement("input",{className:"col-4 form-input",type:"text",onChange:function(t){return e.setState({name:t.target.value})},value:this.state.name||""})),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Kartu Kredit 1"),d.a.createElement("select",{className:"col-4 form-input",onChange:function(t){return e.setState({product1:t.target.value})},value:this.state.product1},d.a.createElement("option",{sasa:"",key:"",value:""},"Pilih Kartu Kredit 1"),n)),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Kartu Kredit 2"),d.a.createElement("select",{className:"col-4 form-input",onChange:function(t){return e.setState({product2:t.target.value})},value:this.state.product2},d.a.createElement("option",{key:"",value:""},"Pilih Kartu Kredit 2"),n)),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Tanggal Aktif"),d.a.createElement("div",{className:"col-4 p-0"},d.a.createElement(h.a,{className:"form-input",dateFormat:"yyyy-MM-dd",selected:r,ref:"form8",onChange:function(t){return e.setState({tanggalAktif:t})}}))),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Tanggal Non Aktif"),d.a.createElement("div",{className:"col-4 p-0"},d.a.createElement(h.a,{className:"form-input",dateFormat:"yyyy-MM-dd",selected:l,ref:"form8",onChange:function(t){return e.setState({tanggalNonAktif:t})}})))),d.a.createElement("div",{className:"form-box-area mb-2"},d.a.createElement("h4",{className:"mb-4"},"Product Image"),t&&i?d.a.createElement("img",{src:a,alt:"imgProduct",id:"img-size"}):d.a.createElement(v.a,{className:"mb-4",onChange:function(t){return e.setState({image:t})},file:this.state.image,accept:"image/*",minSize:1,maxSize:3145728}),d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col"},"*Upload Image ratio 16 : 9 ",d.a.createElement("br",null),"*Upload Image size rmax size 3MB"),this.state.image?d.a.createElement("div",{className:"col"},d.a.createElement("button",{className:"button-white float-right",onClick:function(){return e.setState({image:null})}},"Delete")):null,this.state.imageCheckExist?d.a.createElement("div",{className:"col"},d.a.createElement("button",{className:"button-white float-right",onClick:function(){return e.setState({imageCheckExist:null})}},"Delete")):null)),d.a.createElement("div",{className:"d-flex justify-content-end"},d.a.createElement("button",{className:"button-red",onClick:this.onSubmit.bind(this)},this.state.labelButton)))}}]),a}(u.Component)},function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(4),s=a(3),r=a(6),l=a(5),i=a(0),o=a.n(i),c=(a(1072),function(e){Object(r.a)(a,e);var t=Object(l.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return o.a.createElement("label",{className:"CustomCheckbox"},this.props.label,o.a.createElement("input",{type:"checkbox",defaultChecked:this.props.checked,value:this.props.value,onChange:this.props.onChange}),o.a.createElement("span",{className:"checkmark"}))}}]),a}(i.Component))},function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n=a(1),s=a.n(n),r=a(2),l=a(43),i=a(704),o=a(4),c=a(3),u=a(6),d=a(5),m=a(0),p=a.n(m),h=a(14),f=a.n(h),g=(a(21),a(59),a(130)),v=a(359),b=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).getCMSChannel=function(){var t=e.state.token;Object(g.a)(t).then((function(t){if(t.success){var a,n=f.a.result(t,"data",[]),s=[],r=Object(i.a)(n);try{for(r.s();!(a=r.n()).done;){var o=a.value,c=Object(l.a)(Object(l.a)({},o),{},{isChecked:o.code===e.state.channelFind});s.push(c)}}catch(u){r.e(u)}finally{r.f()}e.setState({channel:s}),console.log("AVAILABLE CHANNEL",s,e.state.channelFind)}else alert("Failed get Available CMS Channel")})).catch((function(e){alert("Error get Available CMS Channel")}))},e.state={labelButton:"CREATE NEW ROLE",alertState:"alert alert-primary",isEdit:!1,error:!1,token:localStorage.getItem("accessToken"),userType:JSON.parse(localStorage.getItem("userType")),channel:[],roleType:[],channelFind:JSON.parse(localStorage.getItem("userType")),multipleChannel:[],isSuperAdmin:JSON.parse(localStorage.getItem("isSuperAdmin"))},window.scrollTo(0,0),e}return Object(c.a)(a,[{key:"componentWillMount",value:function(){this.getdataMaster(),"edit"===this.props.mode?(this.setState(this.props.data),this.setState({labelButton:"EDIT ROLE",isEdit:!0,channelFind:this.props.data.cmsChannels.code})):this.setState({isEdit:!1}),this.getCMSChannel()}},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[{id:"user",name:"user"}],this.setState({roleType:t});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"clearSession",value:function(){alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")}},{key:"validate",value:function(e){return this.setState({error:!0,alertState:"alert alert-danger"}),e.code?e.name?e.description?e.type?(this.setState({error:!1,alertState:"alert alert-primary"}),!0):(this.setState({errorMessage:"Please enter typeRole!"}),!1):(this.setState({errorMessage:"Please enter description priority!"}),!1):(this.setState({errorMessage:"Please enter name!"}),!1):(this.setState({errorMessage:"Please enter role code!"}),!1)}},{key:"onSubmit",value:function(){if(this.getCMSChannel(),this.setState({error:!1}),this.props.onSubmit){var e=this.state,t=f.a.filter(e.channel,{isChecked:!0}).map((function(e){return{code:e.code}}));e.channel=t,this.validate(e)?this.props.onSubmit(e):window.scrollTo(0,0)}}},{key:"myClick",value:function(){alert("Role Code Is Read Only!")}},{key:"render",value:function(){var e=this,t=this.state.roleType||[];t=t.map((function(e){var t=e.id,a=e.name;return p.a.createElement("option",{key:t,value:t},a)}));var a=this.state,n=a.channel,s=a.isSuperAdmin;return p.a.createElement("div",{id:"RoleForm"},this.state.error?p.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.errorMessage):null,p.a.createElement("div",{className:"form-box-area mb-4"},p.a.createElement("h4",{className:"mb-4"},"Identity"),p.a.createElement("div",{className:"row mb-3"},p.a.createElement("label",{className:"col-3"},"Role Code"),"edit"===this.props.mode?p.a.createElement("input",{className:"col-4 form-input",type:"text",maxLength:"100",readOnly:!0,onClick:this.myClick,value:this.state.code||""}):p.a.createElement("input",{className:"col-4 form-input",type:"text",maxLength:"100",onChange:function(t){return e.setState({code:t.target.value})},value:this.state.code||""})),p.a.createElement("div",{className:"row mb-3"},p.a.createElement("label",{className:"col-3"},"Role Name"),p.a.createElement("input",{className:"col-4 form-input",type:"text",maxLength:"100",onChange:function(t){return e.setState({name:t.target.value})},value:this.state.name||""})),p.a.createElement("div",{className:"row mb-3"},p.a.createElement("label",{className:"col-3"},"Description"),p.a.createElement("textarea",{className:"col-8 form-input",rows:"3",value:this.state.description,onChange:function(t){return e.setState({description:t.target.value})}})),p.a.createElement("div",{className:"row mb-3"},p.a.createElement("label",{className:"col-3"},"Role Type"),p.a.createElement("select",{className:"col-4 form-input",onChange:function(t){return e.setState({type:t.target.value})},value:this.state.type},p.a.createElement("option",{value:""},"Select Type Role"),t)),s?p.a.createElement("div",{className:"row mb-3"},p.a.createElement("label",{className:"col-3"},"Channel"),n.length>0&&n.map((function(t,a){return p.a.createElement(v.a,{key:a,label:t.name,checked:t.isChecked,onChange:function(t){var s=n;s[a].isChecked=t.target.checked,e.setState({channel:s})}})}))):null),p.a.createElement("div",{className:"d-flex justify-content-end"},p.a.createElement("button",{className:"button-red",onClick:this.onSubmit.bind(this)},this.state.labelButton)))}}]),a}(m.Component)},function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(7),c=a.n(o),u=a(11),d=function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,[{key:"updateRole",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",token:t.token},n=JSON.stringify({id:t.id,code:t.code,name:t.name,description:t.description,type:t.type,cmsChannels:t.channel}),e.prev=2,e.next=5,c.a.post(u.b+"/restricted/admin/role/update",n,{headers:a});case 5:return r=e.sent,e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"addRole",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",token:t.token},n=JSON.stringify({code:t.code,name:t.name,description:t.description,type:t.type,cmsChannels:t.channel}),e.prev=2,e.next=5,c.a.post(u.b+"/restricted/admin/role/create",n,{headers:a});case 5:return r=e.sent,e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteRole",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={"Content-Type":"application/json",token:a},r=JSON.stringify({id:t.id,code:t.code,name:t.name,description:t.description,type:t.type}),e.prev=2,e.next=5,c.a.post(u.b+"/restricted/admin/role/delete",r,{headers:n});case 5:return l=e.sent,e.abrupt("return",l);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getListRole",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",token:t.token},e.prev=1,e.next=4,c.a.get(u.b+"/restricted/admin/roleprivilege/list/role",{headers:a});case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getListPrivilege",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",token:t.token},e.prev=1,e.next=4,c.a.get(u.b+"/restricted/admin/roleprivilege/list/privilege",{headers:a});case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getListRolePrivilege",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",token:t.token},e.prev=1,e.next=4,c.a.get(u.b+"/restricted/admin/roleprivilege/list/",{headers:a});case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getListRolePrivilegeByRoleId",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={"Content-Type":"application/json",token:t.token},e.prev=1,e.next=4,c.a.get(u.b+"/restricted/admin/roleprivilege/list/byroleid/?roleId="+a,{headers:n},{params:{roleId:a}});case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}()}]),e}()},function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=(a(21),a(59),a(174)),p=a(8),h=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={labelButton:"CREATE NEW SYSTEM PARAMETER",alertState:"alert alert-primary",isEdit:!1,error:!1,token:localStorage.getItem("accessToken"),statusList:[]},e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.getdataMaster(),"edit"===this.props.mode?this.setState({id:this.props.data.id?this.props.data.id:"",parameter:this.props.data.parameter?this.props.data.parameter:"",svalue:this.props.data.svalue?this.props.data.svalue:"",vgroup:this.props.data.vgroup?this.props.data.vgroup:"",description:this.props.data.description&&"undefined"!==this.props.data.description?this.props.data.description:"",status:this.props.data.status?this.props.data.status.code:"",labelButton:"EDIT SYSTEM PARAMETER",isEdit:!0}):this.setState({isEdit:!1})}},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new m.a,e.next=3,t.getListStatusSystemParameter(this.state);case 3:(a=e.sent)&&200===a.status&&a.data&&a.data.success?this.setState({statusList:a.data.data}):a&&a.data&&p.a===a.data.data?(localStorage.clear(),this.props.history.push("login")):this.setState({statusList:[]});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"validate",value:function(e){return this.setState({error:!0,alertState:"alert alert-danger"}),e.parameter?e.svalue?e.vgroup?"edit"!==this.props.mode||e.status?(this.setState({error:!1,alertState:"alert alert-primary"}),!0):(this.setState({errorMessage:"Please fill Status!"}),!1):(this.setState({errorMessage:"Please fill Vgroup!"}),!1):(this.setState({errorMessage:"Please fill Svalue!"}),!1):(this.setState({errorMessage:"Please fill Parameter!"}),!1)}},{key:"onSubmit",value:function(){if(this.props.onSubmit){var e=this.state;this.validate(e)?this.props.onSubmit(e):window.scrollTo(0,0)}}},{key:"handleClick",value:function(e){alert(e.target.name.charAt(0).toUpperCase()+e.target.name.slice(1)+" Is Read Only!")}},{key:"render",value:function(){var e=this,t=this.state.statusList||[];return t=t.map((function(e){var t=e.id,a=e.name;return d.a.createElement("option",{key:t,value:a},a)})),d.a.createElement("div",{id:"SystemParameterForm"},this.state.error?d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.errorMessage):null,d.a.createElement("div",{className:"form-box-area mb-4"},d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Parameter"),"edit"===this.props.mode?d.a.createElement("input",{className:"col-4 form-input",type:"text",maxLength:"100",name:"parameter",readOnly:!0,onClick:function(t){return e.handleClick(t)},defaultValue:this.state.parameter||""}):d.a.createElement("input",{className:"col-4 form-input",type:"text",maxLength:"100",onChange:function(t){return e.setState({parameter:t.target.value.trim()})},defaultValue:this.state.parameter||""})),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Svalue"),d.a.createElement("textarea",{className:"col-7 form-input",rows:"15",value:this.state.svalue?this.state.svalue:"",onChange:function(t){return e.setState({svalue:t.target.value})},onBlur:function(t){return e.setState({svalue:t.target.value.trim()})}})),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Vgroup"),"edit"===this.props.mode?d.a.createElement("input",{className:"col-4 form-input",type:"text",name:"vgroup",readOnly:!0,onClick:function(t){return e.handleClick(t)},defaultValue:this.state.vgroup||""}):d.a.createElement("input",{className:"col-4 form-input",type:"text",onChange:function(t){return e.setState({vgroup:t.target.value.trim()})},defaultValue:this.state.vgroup||""})),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Description"),d.a.createElement("textarea",{className:"col-7 form-input",rows:"15",value:this.state.description?this.state.description:"",onChange:function(t){return e.setState({description:t.target.value})},onBlur:function(t){return e.setState({description:t.target.value.trim()})}})),"edit"===this.props.mode?d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Status"),d.a.createElement("select",{className:"col-4 form-input",onChange:function(t){return e.setState({status:t.target.value.trim()})},value:this.state.status||""},d.a.createElement("option",{value:""},"Select Status"),t)):null),d.a.createElement("div",{className:"d-flex justify-content-end"},d.a.createElement("button",{className:"button-red",onClick:this.onSubmit.bind(this)},this.state.labelButton)))}}]),a}(u.Component)},function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(4),s=a(3),r=a(6),l=a(5),i=a(0),o=a.n(i),c=(a(21),a(59),function(e){Object(r.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(n.a)(this,a),(e=t.call(this)).state={labelButton:"CREATE NEW STATUS",alertState:"alert alert-primary",isEdit:!1,error:!1,token:localStorage.getItem("accessToken")},window.scrollTo(0,0),e}return Object(s.a)(a,[{key:"componentWillMount",value:function(){"edit"===this.props.mode?(this.setState(this.props.data),this.setState({labelButton:"EDIT STATUS",isEdit:!0})):this.setState({isEdit:!1})}},{key:"clearSession",value:function(){alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")}},{key:"validate",value:function(e){return this.setState({error:!0,alertState:"alert alert-danger"}),e.type?e.code?e.name?e.state?e.description?(this.setState({error:!1,alertState:"alert alert-primary"}),!0):(this.setState({errorMessage:"Please fill description!"}),!1):(this.setState({errorMessage:"Please fill state!"}),!1):(this.setState({errorMessage:"Please fill name!"}),!1):(this.setState({errorMessage:"Please fill code!"}),!1):(this.setState({errorMessage:"Please fill type!"}),!1)}},{key:"onSubmit",value:function(){if(this.setState({error:!1}),this.props.onSubmit){var e=this.state;this.validate(e)?this.props.onSubmit(e):window.scrollTo(0,0)}}},{key:"handleClick",value:function(e){alert(e.target.name.charAt(0).toUpperCase()+e.target.name.slice(1)+" Is Read Only!")}},{key:"handleInputNumber",value:function(e){var t=e.target.validity.valid?e.target.value.trim():this.state.priority;this.setState({priority:t})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{id:"StatusForm"},this.state.error?o.a.createElement("div",{className:this.state.alertState,status:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.errorMessage):null,o.a.createElement("div",{className:"form-box-area mb-4"},o.a.createElement("div",{className:"row mb-3"},o.a.createElement("label",{className:"col-3"},"Type"),"edit"===this.props.mode?o.a.createElement("input",{className:"col-4 form-input",type:"text",maxLength:"100",name:"type",readOnly:!0,onClick:function(t){return e.handleClick(t)},value:this.state.type||""}):o.a.createElement("input",{className:"col-4 form-input",type:"text",maxLength:"100",onChange:function(t){return e.setState({type:t.target.value})},onBlur:function(t){return e.setState({type:t.target.value.trim()})},value:this.state.type||""})),o.a.createElement("div",{className:"row mb-3"},o.a.createElement("label",{className:"col-3"},"Code"),"edit"===this.props.mode?o.a.createElement("input",{className:"col-4 form-input",type:"text",maxLength:"100",name:"code",readOnly:!0,onClick:function(t){return e.handleClick(t)},value:this.state.code||""}):o.a.createElement("input",{className:"col-4 form-input",type:"text",maxLength:"100",onChange:function(t){return e.setState({code:t.target.value})},onBlur:function(t){return e.setState({code:t.target.value.trim()})},value:this.state.code||""})),o.a.createElement("div",{className:"row mb-3"},o.a.createElement("label",{className:"col-3"},"Name"),o.a.createElement("input",{className:"col-4 form-input",type:"text",maxLength:"100",onChange:function(t){return e.setState({name:t.target.value})},onBlur:function(t){return e.setState({name:t.target.value.trim()})},value:this.state.name||""})),o.a.createElement("div",{className:"row mb-3"},o.a.createElement("label",{className:"col-3"},"State"),o.a.createElement("input",{className:"col-4 form-input",type:"text",maxLength:"100",onChange:function(t){return e.setState({state:t.target.value})},onBlur:function(t){return e.setState({state:t.target.value.trim()})},value:this.state.state||""})),o.a.createElement("div",{className:"row mb-3"},o.a.createElement("label",{className:"col-3"},"Priority"),o.a.createElement("input",{className:"col-4 form-input",type:"text",maxLength:"100",pattern:"[0-9]*",onChange:this.handleInputNumber.bind(this),placeholder:"Please insert number only",value:this.state.priority||""})),o.a.createElement("div",{className:"row mb-3"},o.a.createElement("label",{className:"col-3"},"Short Name"),o.a.createElement("input",{className:"col-4 form-input",type:"text",maxLength:"100",onChange:function(t){return e.setState({shortName:t.target.value})},onBlur:function(t){return e.setState({shortName:t.target.value.trim()})},value:this.state.shortName||""})),o.a.createElement("div",{className:"row mb-3"},o.a.createElement("label",{className:"col-3"},"Description"),o.a.createElement("textarea",{className:"col-8 form-input",rows:"3",value:this.state.description,onChange:function(t){return e.setState({description:t.target.value})},onBlur:function(t){return e.setState({description:t.target.value.trim()})}}))),o.a.createElement("div",{className:"d-flex justify-content-end"},o.a.createElement("button",{className:"button-red",onClick:this.onSubmit.bind(this)},this.state.labelButton)))}}]),a}(i.Component))},function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=(a(21),a(59),a(175)),p=a(8),h=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={labelButton:"CREATE NEW LOOKUP",alertState:"alert alert-primary",isEdit:!1,error:!1,token:localStorage.getItem("accessToken"),statusList:[]},e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.getdataMaster(),"edit"===this.props.mode?this.setState({id:this.props.data.id?this.props.data.id:"",type:this.props.data.type?this.props.data.type:"",code:this.props.data.code?this.props.data.code:"",name:this.props.data.name?this.props.data.name:"",description:this.props.data.description?this.props.data.description:"",priority:this.props.data.priority?this.props.data.priority:"",shortname:this.props.data.shortname?this.props.data.shortname:"",filter:this.props.data.filter?this.props.data.filter:"",status:this.props.data.status.code?this.props.data.status.code:"",labelButton:"EDIT LOOKUP",isEdit:!0}):this.setState({isEdit:!1}),window.scrollTo(0,0)}},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new m.a,e.next=3,t.getListStatusLookup(this.state);case 3:(a=e.sent)&&200===a.status&&a.data&&a.data.success?this.setState({statusList:a.data.data}):a&&a.data&&p.a===a.data.data?(localStorage.clear(),this.props.history.push("login")):this.setState({statusList:[]});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"validate",value:function(e){return this.setState({error:!0,alertState:"alert alert-danger"}),e.type?e.code?e.name?"edit"!==this.props.mode||e.status?e.shortname?e.description?(this.setState({error:!1,alertState:"alert alert-primary"}),!0):(this.setState({errorMessage:"Please fill Description!"}),!1):(this.setState({errorMessage:"Please fill Shortname!"}),!1):(this.setState({errorMessage:"Please fill Status!"}),!1):(this.setState({errorMessage:"Please fill Name!"}),!1):(this.setState({errorMessage:"Please fill Code!"}),!1):(this.setState({errorMessage:"Please fill Type!"}),!1)}},{key:"onSubmit",value:function(){if(this.props.onSubmit){var e=this.state;this.validate(e)?this.props.onSubmit(e):window.scrollTo(0,0)}}},{key:"handleClick",value:function(e){alert(e.target.name.charAt(0).toUpperCase()+e.target.name.slice(1)+" Is Read Only!")}},{key:"handleInputNumber",value:function(e){var t=e.target.validity.valid?e.target.value.trim():this.state.priority;this.setState({priority:t})}},{key:"render",value:function(){var e=this,t=this.state.statusList||[];return t=t.map((function(e){var t=e.id,a=e.name;return d.a.createElement("option",{key:t,value:a},a)})),d.a.createElement("div",{id:"LookupForm"},this.state.error?d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.errorMessage):null,d.a.createElement("div",{className:"form-box-area mb-4"},d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Type"),"edit"===this.props.mode?d.a.createElement("input",{className:"col-4 form-input",type:"text",maxLength:"100",name:"type",readOnly:!0,onClick:function(t){return e.handleClick(t)},defaultValue:this.state.type||""}):d.a.createElement("input",{className:"col-4 form-input",type:"text",maxLength:"100",onChange:function(t){return e.setState({type:t.target.value.trim()})},defaultValue:this.state.type||""})),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Code"),"edit"===this.props.mode?d.a.createElement("input",{className:"col-4 form-input",type:"text",name:"code",readOnly:!0,onClick:function(t){return e.handleClick(t)},defaultValue:this.state.code||""}):d.a.createElement("input",{className:"col-4 form-input",type:"text",onChange:function(t){return e.setState({code:t.target.value.trim()})},defaultValue:this.state.code||""})),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Name"),d.a.createElement("input",{className:"col-4 form-input",type:"text",onChange:function(t){return e.setState({name:t.target.value.trim()})},defaultValue:this.state.name||""})),"edit"===this.props.mode?d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Status"),d.a.createElement("select",{className:"col-4 form-input",onChange:function(t){return e.setState({status:t.target.value.trim()})},value:this.state.status||""},d.a.createElement("option",{value:""},"Select Status"),t)):null,d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Priority"),d.a.createElement("input",{className:"col-4 form-input",type:"text",pattern:"[0-9]*",onChange:this.handleInputNumber.bind(this),placeholder:"Please insert number only",value:this.state.priority||""})),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Shortname"),d.a.createElement("input",{className:"col-4 form-input",type:"text",onChange:function(t){return e.setState({shortname:t.target.value.trim()})},defaultValue:this.state.shortname||""})),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Filter"),d.a.createElement("input",{className:"col-4 form-input",type:"text",onChange:function(t){return e.setState({filter:t.target.value.trim()})},defaultValue:this.state.filter||""})),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Description"),d.a.createElement("textarea",{className:"col-7 form-input",rows:"15",value:this.state.description?this.state.description:"",onChange:function(t){return e.setState({description:t.target.value})},onBlur:function(t){return e.setState({description:t.target.value.trim()})}}))),d.a.createElement("div",{className:"d-flex justify-content-end"},d.a.createElement("button",{className:"button-red",onClick:this.onSubmit.bind(this)},this.state.labelButton)))}}]),a}(u.Component)},function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=(a(21),a(59),a(176)),p=a(8),h=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={labelButton:"CREATE NEW AREA",alertState:"alert alert-primary",isEdit:!1,error:!1,token:localStorage.getItem("accessToken"),regionList:[],isButtonDisabled:!1},e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.getdataMaster(),"edit"===this.props.mode?this.setState({id:this.props.data.id?this.props.data.id:"",code:this.props.data.code?this.props.data.code:"",description:this.props.data.description?this.props.data.description:"",name:this.props.data.name?this.props.data.name:"",regionCode:this.props.data.region?this.props.data.region.code:"",regionName:this.props.data.region?this.props.data.region.name:"",labelButton:"EDIT AREA",isEdit:!0}):this.setState({isEdit:!1}),window.scrollTo(0,0)}},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new m.a,e.next=3,t.getListRegion(this.state);case 3:(a=e.sent)&&200===a.status&&a.data&&a.data.success?this.setState({regionList:a.data.data}):a&&a.data&&p.a===a.data.data?(localStorage.clear(),this.props.history.push("login")):this.setState({regionList:[]});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"validate",value:function(e){return this.setState({error:!0,alertState:"alert alert-danger"}),e.code?e.description?e.name?e.regionCode?(this.setState({error:!1,alertState:"alert alert-primary"}),!0):(this.setState({errorMessage:"Please fill Region!"}),!1):(this.setState({errorMessage:"Please fill Name!"}),!1):(this.setState({errorMessage:"Please fill Description!"}),!1):(this.setState({errorMessage:"Please fill Code!"}),!1)}},{key:"onSubmit",value:function(e){var t=this;if(e.preventDefault(),this.setState({isButtonDisabled:!0}),setTimeout((function(){return t.setState({isButtonDisabled:!1})}),5e3),this.props.onSubmit){var a=this.state;this.validate(a)?this.props.onSubmit(a):window.scrollTo(0,0)}}},{key:"handleClick",value:function(e){alert(e.target.name.charAt(0).toUpperCase()+e.target.name.slice(1)+" Is Read Only!")}},{key:"render",value:function(){var e=this,t=this.state.regionList||[];return t=t.map((function(e){var t=e.id,a=e.code,n=e.name;return d.a.createElement("option",{key:t,value:a},n)})),d.a.createElement("div",{id:"LookupForm"},this.state.error?d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.errorMessage):null,d.a.createElement("div",{className:"form-box-area mb-4"},"edit"===this.props.mode?d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Region"),d.a.createElement("select",{className:"col-4 form-input",disabled:!0,onChange:function(t){return e.setState({regionCode:t.target.value.trim()})},value:this.state.regionCode||""},d.a.createElement("option",{value:""},"Select Region"),t)):d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Region"),d.a.createElement("select",{className:"col-4 form-input",onChange:function(t){return e.setState({regionCode:t.target.value.trim()})},value:this.state.regionCode||""},d.a.createElement("option",{value:""},"Select Region"),t)),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Code"),"edit"===this.props.mode?d.a.createElement("input",{className:"col-4 form-input",type:"text",name:"code",readOnly:!0,onClick:function(t){return e.handleClick(t)},defaultValue:this.state.code||""}):d.a.createElement("input",{className:"col-4 form-input",type:"text",maxLength:"100",onChange:function(t){return e.setState({code:t.target.value.trim()})},defaultValue:this.state.code||""})),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Name"),d.a.createElement("input",{className:"col-4 form-input",type:"text",onChange:function(t){return e.setState({name:t.target.value.trim()})},defaultValue:this.state.name||""})),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Description"),d.a.createElement("textarea",{className:"col-7 form-input",rows:"15",value:this.state.description?this.state.description:"",onChange:function(t){return e.setState({description:t.target.value})},onBlur:function(t){return e.setState({description:t.target.value.trim()})}}))),d.a.createElement("div",{className:"d-flex justify-content-end"},d.a.createElement("button",{className:"button-red",onClick:this.onSubmit.bind(this),disabled:this.state.isButtonDisabled},this.state.labelButton)))}}]),a}(u.Component)},function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=(a(21),a(59),a(177)),p=a(8),h=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={labelButton:"CREATE NEW REGION",alertState:"alert alert-primary",isEdit:!1,error:!1,token:localStorage.getItem("accessToken"),regionType:[],divisionList:[],isButtonDisabled:!1},window.scrollTo(0,0),e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.getdataMaster(),"edit"===this.props.mode?(this.setState(this.props.data),this.setState({labelButton:"EDIT REGION",isEdit:!0})):this.setState({isEdit:!1})}},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[{id:"user",name:"user"}],this.setState({regionType:t}),a=new m.a,e.next=5,a.getListDivison(this.state);case 5:(n=e.sent)&&200===n.status&&n.data&&n.data.success?this.setState({divisionList:n.data.data}):n&&n.data&&p.a===n.data.data?(localStorage.clear(),this.props.history.push("login")):this.setState({divisionList:[]});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"clearSession",value:function(){alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")}},{key:"validate",value:function(e){return this.setState({error:!0,alertState:"alert alert-danger"}),e.code?e.name?e.divisionCode?e.description?(this.setState({error:!1,alertState:"alert alert-primary"}),!0):(this.setState({errorMessage:"Please enter description priority!"}),!1):(this.setState({errorMessage:"Please enter division code!"}),!1):(this.setState({errorMessage:"Please enter name!"}),!1):(this.setState({errorMessage:"Please enter region code!"}),!1)}},{key:"onSubmit",value:function(e){var t=this;if(e.preventDefault(),this.setState({isButtonDisabled:!0}),setTimeout((function(){return t.setState({isButtonDisabled:!1})}),5e3),this.setState({error:!1}),this.props.onSubmit){var a=this.state;this.validate(a)?this.props.onSubmit(a):window.scrollTo(0,0)}}},{key:"myClick",value:function(){alert("Region Code Is Read Only!")}},{key:"render",value:function(){var e=this,t=this.state.divisionList||[];return t=t.map((function(e){var t=e.code,a=e.name;return d.a.createElement("option",{value:t},a)})),d.a.createElement("div",{id:"RegionForm"},this.state.error?d.a.createElement("div",{className:this.state.alertState,region:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.errorMessage):null,d.a.createElement("div",{className:"form-box-area mb-4"},d.a.createElement("h4",{className:"mb-4"},"Identity"),"edit"===this.props.mode?d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Division"),d.a.createElement("select",{className:"col-4 form-input",disabled:!0,onChange:function(t){return e.setState({divisionCode:t.target.value.trim()})},value:this.state.divisionCode||""},d.a.createElement("option",{value:""},"Select Division"),t)):d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Division"),d.a.createElement("select",{className:"col-4 form-input",onChange:function(t){return e.setState({divisionCode:t.target.value.trim()})},value:this.state.divisionCode||""},d.a.createElement("option",{value:""},"Select Division"),t)),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Region Code"),"edit"===this.props.mode?d.a.createElement("input",{className:"col-4 form-input",type:"text",maxLength:"100",readOnly:!0,onClick:this.myClick,value:this.state.code||""}):d.a.createElement("input",{className:"col-4 form-input",type:"text",maxLength:"100",onChange:function(t){return e.setState({code:t.target.value})},value:this.state.code||""})),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Region Name"),d.a.createElement("input",{className:"col-4 form-input",type:"text",maxLength:"100",onChange:function(t){return e.setState({name:t.target.value})},value:this.state.name||""})),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Description"),d.a.createElement("textarea",{className:"col-8 form-input",rows:"3",value:this.state.description,onChange:function(t){return e.setState({description:t.target.value})}}))),d.a.createElement("div",{className:"d-flex justify-content-end"},d.a.createElement("button",{className:"button-red",onClick:this.onSubmit.bind(this),disabled:this.state.isButtonDisabled},this.state.labelButton)))}}]),a}(u.Component)},function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(7),c=a.n(o),u=a(11),d=function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,[{key:"getListSalesGamification",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",token:t.token},e.prev=1,e.next=4,c.a.get(u.b+"/restricted/admin/salesGamificationAdm/list",{headers:a},{params:{}});case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"findSalesGamificationByParam",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0!==a&&""!==a||(a=0),void 0!==n&&""!==n||(n=10),r={"Content-Type":"application/json",token:t.token},l=JSON.stringify({month:t.monthFind,year:t.yearFind,salesCode:t.salesCodeFind}),e.prev=4,e.next=7,c.a.post(u.b+"/restricted/admin/salesGamificationAdm/list?page="+a+"&size="+n,l,{headers:r});case 7:return i=e.sent,e.abrupt("return",i);case 11:return e.prev=11,e.t0=e.catch(4),e.abrupt("return",e.t0.response);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"bulkUploadSalesGamification",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/x-www-form-urlencoded",token:t.token},(n=new FormData).append("file",t.file),e.prev=3,e.next=6,c.a.post(u.b+"/restricted/admin/salesGamificationAdm/create",n,{headers:a});case 6:return r=e.sent,e.abrupt("return",r);case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()}]),e}()},,function(e,t,a){"use strict";a.d(t,"a",(function(){return k}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=(a(1141),a(30)),h=a.n(p),f=a(68),g=a(17),v=a(8),b=a(24),y=a.n(b),S=a(31),E=a.n(S),w=a(118);a(21),a(59),a(127);h.a.setAppElement("body");var k=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={token:localStorage.getItem("accessToken"),labelButton:"Save Supplier",alertState:"alert alert-primary",isEdit:!1,error:!1,showModal:!1,typeFind:"rmwbData",modalName:"",loading:!0,code:"",name:"",listClient:[],page:1,perPage:10,searchClientName:"",searchClientCif:"",totalRows:0,supplier_name:"",supplier_cif:"",parent_cif:"",parent_name:""},window.scrollTo(0,0),e.handlePageChange=e.handlePageChange.bind(Object(o.a)(e)),e.handlePerRowsChange=e.handlePerRowsChange.bind(Object(o.a)(e)),e.handleOpenModal=e.handleOpenModal.bind(Object(o.a)(e)),e.handleCloseModal=e.handleCloseModal.bind(Object(o.a)(e)),e.searchClient=e.searchClient.bind(Object(o.a)(e)),e.selectClient=e.selectClient.bind(Object(o.a)(e)),e.selectParentClient=e.selectParentClient.bind(Object(o.a)(e)),e}return Object(i.a)(a,[{key:"handleOpenModal",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"parent-cif"!==t&&"supplier-cif"!==t&&"supplier-name"!==t||this.searchClient(this.state.page,this.state.perPage,"",""),this.setState({showModal:!0,modalName:t});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleCloseModal",value:function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({showModal:!1});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handlePageChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({page:t}),this.searchClient(t,this.state.perPage,this.state.searchClientName,this.state.searchClientCif);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handlePerRowsChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({perPage:t}),this.searchClient(this.state.page,t,this.state.searchClientName,this.state.searchClientCif);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentWillMount",value:function(){this.getdataMaster(),this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),this.setState({loggedUser:localStorage.getItem("userNip")}),"edit"===this.props.mode&&this.props.data&&(this.setState(this.props.data),this.setState({labelButton:"Save Supplier",isEdit:!0}),this.getListDataStatus(this.props.data.status)),this.validator=new E.a({autoForceUpdate:this,element:function(e){return m.a.createElement("div",{className:"row col-12 validator-error-message"},m.a.createElement("div",{className:"col-4"}),m.a.createElement("div",{className:"col-8"},e))},validators:{double:{message:"The Sales should be 2 digit behind comma!",messageReplace:function(e){return m.a.createElement("div",{className:"row col-12 validator-error-message"},m.a.createElement("div",{className:"col-4"}),m.a.createElement("div",{className:"col-8"},e))},rule:function(e,t,a){return a.helpers.testRegex(e,/^\d{0,5}(\.\d{0,2}){0,1}$/)&&-1===t.indexOf(e)},required:!0}}})}},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=!0,n=new f.a,r=new g.a,e.next=6,r.findStatusByParam(this.state);case 6:return(l=e.sent)&&200===l.status&&l.data?this.setState({listDataStatus:l.data}):t=!1,t||this.clearSession(),e.next=11,n.getCurrency();case 11:(i=e.sent)&&200===i.status&&i.data&&i.data.data.length>0?this.setState({listCurrency:i.data.data}):(this.setState({listCurrency:[]}),a=!1),a||this.errorConectionToBe();case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"searchButton",value:function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.searchClient(this.state.page,this.state.perPage,this.state.searchClientName,this.state.searchClientCif);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"searchClient",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r){var l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),l=new f.a,e.next=4,l.findClient(t,a,n,r);case 4:(i=e.sent)&&200===i.status&&i.data&&i.data.data.length>0?(this.setState({listClient:i.data.data}),this.setState({totalRows:i.data.total_result}),this.setState({totalPage:i.data.total_page}),this.setState({loading:!1})):i&&i.data&&v.a===i.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):(this.setState({listClient:[]}),this.setState({totalRows:0}),this.setState({totalPage:0}),this.setState({loading:!1}));case 6:case"end":return e.stop()}}),e,this)})));return function(t,a,n,s){return e.apply(this,arguments)}}()},{key:"selectParentClient",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t&&!a){e.next=15;break}if(this.state.supplier_cif===t){e.next=12;break}return e.next=4,this.setState({parent_cif:t});case 4:return e.next=6,this.setState({parent_name:a});case 6:return document.getElementById("parent-cif").value=t,document.getElementById("parent-name").value=a,e.next=10,this.handleCloseModal();case 10:e.next=13;break;case 12:alert("Selected Parent already selected as child Supplier, please select other client!");case 13:e.next=16;break;case 15:alert("Some thing wrong with selected data pelase refresh your browser or contact admin!"),window.location.reload();case 16:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"selectClient",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t&&!a){e.next=17;break}if(this.state.parent_cif===t){e.next=14;break}return e.next=4,this.setState({supplier_cif:t});case 4:return e.next=6,this.setState({supplier_name:a});case 6:return e.next=8,this.handleCloseModal();case 8:document.getElementById("supplier-cif").value=t,document.getElementById("supplier-name").readOnly=!0,document.getElementById("supplier-name").disabled=!0,document.getElementById("supplier-name").value=a,e.next=15;break;case 14:alert("Selected Supplier already selected as Parent Supplier, please select other client!");case 15:e.next=18;break;case 17:alert("Sorry please select other client!");case 18:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"clearSupplier",value:function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.handleCloseModal();case 2:return e.next=4,this.setState({supplier_cif:""});case 4:return e.next=6,this.setState({supplier_name:""});case 6:document.getElementById("supplier-cif").value="",document.getElementById("supplier-name").value="",document.getElementById("supplier-name").readOnly=!1,document.getElementById("supplier-name").disabled=!1,document.getElementById("supplier-name").focus(),document.getElementById("supplier-name").select();case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getListDataStatus",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!0,n=new g.a,e.next=4,n.findStatusByParam(this.state);case 4:(r=e.sent)&&200===r.status&&r.data.length>0?(this.setState({listDataStatus:r.data}),l=r.data.filter((function(e){return e.code===t})),this.setState({currentDataStatus:l[0]})):(this.setState({listDataStatus:""}),this.setState({currentDataStatus:""}),r&&r.data&&v.a===r.data.data?a=!1:this.setState({listDataStatus:""})),a||this.clearSession();case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"errorConectionToBe",value:function(){alert("Connection to Server Octobench interupted!\nPlease check your conection or contact administrator!")}},{key:"validateRemark",value:function(e){return this.setState({error:!0,alertState:"alert alert-danger"}),e.remarks?(this.setState({error:!1,alertState:"alert alert-primary"}),!0):(this.setState({errorMessage:"Please fill remarks!"}),!1)}},{key:"onSubmit",value:function(){if(this.props.onSubmit){var e=this.state;e.submitOnly=!0,this.validator.allValid()?this.props.onSubmit(e):this.validator.showMessages()}}},{key:"onSubmitAndSave",value:function(){if(this.props.onSubmitAndSave){var e=this.state;e.submitOnly=!1,e.submitAndSave=!0,this.validator.allValid()?this.props.onSubmitAndSave(e):this.validator.showMessages()}}},{key:"onSubmitApprove",value:function(){if(this.props.onSubmitAndSave){var e=this.state;e.submitApprove=!0,this.props.onSubmitAndSave(e)}}},{key:"onSubmitReject",value:function(){if(this.props.onSubmitAndSave){var e=this.state;e.submitReject=!0,this.validator.allValid()?this.props.onSubmitAndSave(e):this.validator.showMessages()}}},{key:"onApproveDelete",value:function(){if(this.props.onSubmitAndSave){var e=this.state;e.approveDelete=!0,this.props.onSubmitAndSave(e)}}},{key:"onRejectDelete",value:function(){if(this.props.onSubmitAndSave){var e=this.state;e.rejectDelete=!0,this.validator.allValid()?this.props.onSubmitAndSave(e):this.validator.showMessages()}}},{key:"render",value:function(){var e=this,t=JSON.parse(this.state.userPrivilege)||[],a=this.state.listCurrency||[];a=a.map((function(e){var t=e.currency;return m.a.createElement("option",{key:t,"code-data":t,value:t},t)}));for(var n=!1,s=!1,r=!1,l=0;l<t.length;l++)"create_rmwb_supplier"===t[l].name+"_"+t[l].vgroup&&(n=!0),"update_rmwb_supplier"===t[l].name+"_"+t[l].vgroup&&(s=!0),"approval_rmwb_supplier"===t[l].name+"_"+t[l].vgroup&&(r=!0);var i=[{name:"Client Id",selector:"client_id",sortable:!1},{name:"Client CIF",selector:"client_cif",sortable:!1},{name:"Name",selector:"name",sortable:!1},{name:"NPWP",selector:"npwp",sortable:!1},{name:"Select",sortable:!1,cell:function(t){return m.a.createElement("input",{type:"button",alt:"Edit",className:"btn btn-info",height:20,value:"Select",onClick:function(){return e.selectClient(t.client_cif,t.name)}})},button:!0}],o=[{name:"Client Id",selector:"client_id",sortable:!1},{name:"Client CIF",selector:"client_cif",sortable:!1},{name:"Name",selector:"name",sortable:!1},{name:"NPWP",selector:"npwp",sortable:!1},{name:"Select",sortable:!1,cell:function(t){return m.a.createElement("input",{type:"button",alt:"Edit",className:"btn btn-info",height:20,value:"Select",onClick:function(){return e.selectParentClient(t.client_cif,t.name)}})},button:!0}],c=this.state.currentDataStatus?this.state.currentDataStatus:[],u=!1,d=!1,p=!1,f=!1;return this.state.isEdit&&(f=!0),c&&("rmwbData_submitted"===c.type+"_"+c.code&&(u=!0),"rmwbData_rejected"===c.type+"_"+c.code&&(d=!0),"rmwbData_requestDelete"===c.type+"_"+c.code&&(p=!0)),m.a.createElement("div",{id:"SupplierForm"},this.state.error?m.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.errorMessage):null,m.a.createElement("div",{className:"form-box-area mb-4"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"row col-12"},m.a.createElement("h4",{className:"mb-4 col-6"},"Form Supplier"),f?m.a.createElement("h4",{className:"mb-4 col-6"},"Data Supplier Original"):null),m.a.createElement("div",{className:"row mb-3 col-12"},m.a.createElement("div",{className:"row col-6"},m.a.createElement("label",{className:"col-4"},"Parent CIF ",m.a.createElement("span",{className:"text-danger"},"*")),m.a.createElement(w.a,{place:"top",type:"dark",effect:"float"}),m.a.createElement("input",{"data-tip":"You can select Parent Cif on popup search!",placeholder:"Please click and select parent Supplier",readOnly:"readOnly",className:"col-8 form-input",type:"text",id:"parent-cif",value:this.state.parent_cif?this.state.parent_cif:"",onClick:function(){return f?null:e.handleOpenModal("parent-cif")},onBlur:function(){return e.validator.showMessageFor("parent-cif")}}),this.validator.message("parent-cif",this.state.parent_cif,"required")),f?m.a.createElement("div",{className:"row col-6 ml-3"},m.a.createElement("label",{className:"col-4"},"Parent CIF"),m.a.createElement("div",{className:"col-8"},": ",this.state.parent_cif&&null!==this.state.parent_cif?this.state.parent_cif:null)):null),m.a.createElement("div",{className:"row mb-3 col-12"},m.a.createElement("div",{className:"row col-6"},m.a.createElement("label",{className:"col-4"},"Parent Name ",m.a.createElement("span",{className:"text-danger"},"*")),m.a.createElement("input",{"data-tip":"Parent name will auto populate when Parent Cif selected!",readOnly:"readOnly",className:"col-8 form-input",value:this.state.parent_name?this.state.parent_name:"",type:"text",id:"parent-name"})),f?m.a.createElement("div",{className:"row col-6 ml-3"},m.a.createElement("label",{className:"col-4"},"Parent Name"),m.a.createElement("div",{className:"col-8"},": ",this.state.parent_name&&null!==this.state.parent_name?this.state.parent_name:null)):null),m.a.createElement("div",{className:"row mb-3 col-12"},m.a.createElement("div",{className:"row col-6"},m.a.createElement("label",{className:"col-4"},"Supplier CIF"),m.a.createElement("div",{className:"col-8 d-flex btn-reset-wrapper"},m.a.createElement("input",{"data-tip":"You can select supplier Cif on popup search or can create new Client as NTB for supplier!",disabled:"".concat(f?"disabled":""),readOnly:"readOnly",className:"form-input",type:"text",id:"supplier-cif",value:this.state.supplier_cif?this.state.supplier_cif:"",onClick:function(){return f?null:e.handleOpenModal("supplier-cif")}}),m.a.createElement("button",{className:"btn btn-warning p-1",disabled:"".concat(f?"disabled":""),onClick:function(){return e.clearSupplier()}},"Create NTB"))),f?m.a.createElement("div",{className:"row col-6 ml-3"},m.a.createElement("label",{className:"col-4"},"Supplier CIF"),m.a.createElement("div",{className:"col-8"},": ",this.state.supplier_cif&&null!==this.state.supplier_cif?this.state.supplier_cif:null)):null),m.a.createElement("div",{className:"row mb-3 col-12"},m.a.createElement("div",{className:"row col-6"},m.a.createElement("label",{className:"col-4"},"Supplier Name ",m.a.createElement("span",{className:"text-danger"},"*")),m.a.createElement("input",{"data-tip":"Auto populate when supplier selected, You can create new supplier as NTB after click clear supplier button!",readOnly:"readOnly",disabled:"disabled",className:"col-8 form-input",value:this.state.supplier_name?this.state.supplier_name:"",type:"text",id:"supplier-name",placeholder:"Auto populate when select supplier!",onChange:function(t){return e.setState({supplier_name:t.target.value})},onBlur:function(){return e.validator.showMessageFor("supplier-name")}}),this.validator.message("supplier-name",this.state.supplier_name,"required")),f?m.a.createElement("div",{className:"row col-6 ml-3"},m.a.createElement("label",{className:"col-4"},"Supplier Name"),m.a.createElement("div",{className:"col-8"},": ",this.state.supplier_name&&null!==this.state.supplier_name?this.state.supplier_name:null)):null),m.a.createElement("div",{className:"row mb-3 col-12 ".concat(f&&this.state.supplier_product!==this.state.supplier_product_draft?"updated":null)},m.a.createElement("div",{className:"row col-6"},m.a.createElement("label",{className:"col-4"},"Supplier Product"),m.a.createElement("input",{className:"col-8 form-input",readOnly:r?"readOnly":"",value:this.state.supplier_product_draft?this.state.supplier_product_draft:"",onChange:function(t){return e.setState({supplier_product_draft:t.target.value})},onBlur:function(){return e.validator.showMessageFor("supplier-product")},type:"text",maxLength:"255",id:"supplier_product"}),this.validator.message("supplier-product",this.state.supplier_product_draft,"max:255")),f?m.a.createElement("div",{className:"row col-6 ml-3"},m.a.createElement("label",{className:"col-4"},"Supplier Product"),m.a.createElement("div",{className:"col-8"},": ",this.state.supplier_product&&null!==this.state.supplier_product?this.state.supplier_product:null)):null),m.a.createElement("div",{className:"row mb-3 col-12 ".concat(f&&this.state.cogs!==this.state.cogs_draft?"updated":null)},m.a.createElement("div",{className:"row col-6"},m.a.createElement("label",{className:"col-4"},"COGS"),m.a.createElement("div",{className:"col-8 with-r-label d-flex p-0"},m.a.createElement("input",{className:"form-input",readOnly:r?"readOnly":"",value:this.state.cogs_draft?this.state.cogs_draft:"",onChange:function(t){return e.setState({cogs_draft:t.target.value})},onBlur:function(){return e.validator.showMessageFor("cogs")},type:"number",id:"cogs",step:"0.01"}),m.a.createElement("div",{className:"r-label"},"%")),this.validator.message("cogs",this.state.cogs_draft,"double")),f?m.a.createElement("div",{className:"row col-6 ml-3"},m.a.createElement("label",{className:"col-4"},"COGS"),m.a.createElement("div",{className:"col-8"},": ",this.state.cogs&&null!==this.state.cogs?this.state.cogs+"%":null)):null),m.a.createElement("div",{className:"row mb-3 col-12 ".concat(f&&this.state.year_of_relationship!==this.state.year_of_relationship_draft?"updated":null)},m.a.createElement("div",{className:"row col-6"},m.a.createElement("label",{className:"col-4"},"year of relationship"),m.a.createElement("input",{className:"col-8 form-input",readOnly:r?"readOnly":"",value:this.state.year_of_relationship_draft?this.state.year_of_relationship_draft:"",onChange:function(t){return e.setState({year_of_relationship_draft:t.target.value})},type:"text",maxLength:"64",id:"year_of_relationship"})),f?m.a.createElement("div",{className:"row col-6 ml-3"},m.a.createElement("label",{className:"col-4"},"year of relationship"),m.a.createElement("div",{className:"col-8"},": ",this.state.year_of_relationship&&null!==this.state.year_of_relationship?this.state.year_of_relationship:null)):null),m.a.createElement("div",{className:"row mb-3 col-12 ".concat(f&&this.state.term_days!==this.state.term_days_draft?"updated":null)},m.a.createElement("div",{className:"row col-6"},m.a.createElement("label",{className:"col-4"},"Term Days"),m.a.createElement("input",{className:"col-8 form-input",readOnly:r?"readOnly":"",value:this.state.term_days_draft?this.state.term_days_draft:"",onChange:function(t){return e.setState({term_days_draft:t.target.value})},type:"text",maxLength:"64",id:"term_days"})),f?m.a.createElement("div",{className:"row col-6 ml-3"},m.a.createElement("label",{className:"col-4"},"Term Days"),m.a.createElement("div",{className:"col-8"},": ",this.state.term_days&&null!==this.state.term_days?this.state.term_days:null)):null),m.a.createElement("div",{className:"row mb-3 col-12 ".concat(f&&this.state.currency!==this.state.currency_draft?"updated":null)},m.a.createElement("div",{className:"row col-6"},m.a.createElement("label",{className:"col-4"},"Currency"),m.a.createElement("select",{disabled:r?"disabled":"",className:"col-8 form-input",onChange:function(t){return e.setState({currency_draft:t.target.value})},value:this.state.currency_draft},m.a.createElement("option",{key:"",value:""},"Select Currency"),a)),f?m.a.createElement("div",{className:"row col-6 ml-3"},m.a.createElement("label",{className:"col-4"},"Currency"),m.a.createElement("div",{className:"col-8"},": ",this.state.currency&&null!==this.state.currency?this.state.currency:null)):null),f&&this.state.status?m.a.createElement("div",{className:"row mb-3 col-12"},m.a.createElement("label",{className:"col-2"},"Current Data Status"),m.a.createElement("div",{className:"col-4 pl-0"},this.state.status)):null,f&&this.state.updated_by?m.a.createElement("div",{className:"row mb-3 col-12"},m.a.createElement("label",{className:"col-2"},"Last Updated By"),m.a.createElement("div",{className:"col-4 pl-0"},this.state.updated_by)):null,f&&d?m.a.createElement("div",{className:"row mb-3 col-12"},m.a.createElement("label",{className:"col-2"},"Remarks"),m.a.createElement("div",{className:"col-4 pl-0"},this.state.remarks)):null)),m.a.createElement("div",{className:"d-flex justify-content-end"},n&&s?m.a.createElement("div",null,m.a.createElement("button",{className:"button-red mr-2",onClick:this.onSubmitAndSave.bind(this)},"Save And Submit Supplier"),m.a.createElement("button",{className:"button-red",onClick:this.onSubmit.bind(this)},this.state.labelButton)):null,r&&u?m.a.createElement("div",null,m.a.createElement("button",{className:"button-red mr-2",onClick:function(){return e.handleOpenModal("reject-data")}},"Reject"),m.a.createElement("button",{className:"button-green",onClick:function(){return e.handleOpenModal("approve-data")}},"Approve")):null,r&&p?m.a.createElement("div",null,m.a.createElement("button",{className:"button-red mr-2",onClick:function(){return e.handleOpenModal("reject-delete")}},"Reject Delete"),m.a.createElement("button",{className:"button-green",onClick:function(){return e.handleOpenModal("approve-delete")}},"Approve Delete")):null),m.a.createElement(h.a,{closeTimeoutMS:300,isOpen:this.state.showModal,contentLabel:"onRequestClose Example",onRequestClose:this.handleCloseModal,className:"Modal ".concat("parent-cif"===this.state.modalName||"supplier-cif"===this.state.modalName||"supplier-name"===this.state.modalName?"search":null),overlayClassName:"Overlay"},"approve-delete"===this.state.modalName?m.a.createElement("div",null,m.a.createElement("div",{className:"row mx-0 justify-content-center"},m.a.createElement("h4",null,"Are You Sure To Approve Delete This Data ?")),m.a.createElement("div",{className:"d-flex justify-content-center mx-2 mt-5"},m.a.createElement("button",{className:"button-red mr-5",onClick:this.handleCloseModal},"Cancel"),m.a.createElement("button",{className:"button-red",onClick:this.onApproveDelete.bind(this)},"Approve"))):null,"reject-delete"===this.state.modalName?m.a.createElement("div",null,m.a.createElement("div",{className:"row mx-0 justify-content-center"},m.a.createElement("h4",{className:"mb-4"},"Please fill Remark to data Maker !"),m.a.createElement("textarea",{className:"col-10 form-input",type:"text",onChange:function(t){return e.setState({remarks:t.target.value})},value:this.state.remarks||"",onBlur:function(){return e.validator.showMessageFor("remarks")}}),this.validator.message("remarks",this.state.remarks,"required")),m.a.createElement("div",{className:"d-flex justify-content-center mx-2 mt-5"},m.a.createElement("button",{className:"button-red mr-5",onClick:this.handleCloseModal},"Close"),m.a.createElement("button",{className:"button-red",onClick:this.onRejectDelete.bind(this)},"Reject Delete"))):null,"approve-data"===this.state.modalName?m.a.createElement("div",null,m.a.createElement("div",{className:"row mx-0 justify-content-center"},m.a.createElement("h4",null,"Are You Sure To Approve This Data ?")),m.a.createElement("div",{className:"d-flex justify-content-center mx-2 mt-5"},m.a.createElement("button",{className:"button-red mr-5",onClick:this.handleCloseModal},"Cancel"),m.a.createElement("button",{className:"button-red",onClick:this.onSubmitApprove.bind(this)},"Approve"))):null,"reject-data"===this.state.modalName?m.a.createElement("div",null,m.a.createElement("div",{className:"row mx-0 justify-content-center"},m.a.createElement("h4",{className:"mb-4"},"Please fill Remark to data Maker !"),this.state.error?m.a.createElement("div",{className:"col-12 ".concat(this.state.alertState),role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.errorMessage):null,m.a.createElement("textarea",{className:"col-12 form-input",type:"text",onChange:function(t){return e.setState({remarks:t.target.value})},value:this.state.remarks||"",onBlur:function(){return e.validator.showMessageFor("remarks")},placeholder:"Remarks"}),this.validator.message("remarks",this.state.remarks,"required")),m.a.createElement("div",{className:"d-flex justify-content-center mx-2 mt-4"},m.a.createElement("button",{className:"button-red mr-5",onClick:this.handleCloseModal},"Cancel"),m.a.createElement("button",{className:"button-red",onClick:this.onSubmitReject.bind(this)},"Reject"))):null,"parent-cif"===this.state.modalName?m.a.createElement("div",null,m.a.createElement("div",{className:"row mx-0 mb-4"},m.a.createElement("h4",null,"Search Parent CIF")),m.a.createElement("div",{className:"row justify-content-center"},m.a.createElement("input",{className:"col-4 form-input mr-3",placeholder:"Please input client cif",type:"text",onChange:function(t){return e.setState({searchClientCif:t.target.value})}}),m.a.createElement("input",{className:"col-4 form-input mr-3",placeholder:"Please input name client",type:"text",onChange:function(t){return e.setState({searchClientName:t.target.value})}}),m.a.createElement("button",{className:"btn btn-primary col-3",onClick:this.searchButton.bind(this)},"Search Parent Client")),m.a.createElement("div",{className:"result-search"},m.a.createElement(y.a,{id:"tableData",className:"pt-0",columns:o,progressPending:this.state.loading,pagination:!0,paginationServer:!0,paginationTotalRows:this.state.totalRows,onChangeRowsPerPage:this.handlePerRowsChange,onChangePage:this.handlePageChange,data:this.state.listClient})),m.a.createElement("div",{className:"d-flex justify-content-end mx-2 mt-4"},m.a.createElement("button",{className:"btn btn-warning",onClick:this.handleCloseModal},"Close"))):null,"supplier-cif"===this.state.modalName||"supplier-name"===this.state.modalName?m.a.createElement("div",null,m.a.createElement("div",{className:"row mx-0 mb-4"},m.a.createElement("h4",null,"Search Supplier CIF")),m.a.createElement("div",{className:"row justify-content-center"},m.a.createElement("input",{className:"col-4 form-input mr-3",placeholder:"Please input client cif",type:"text",onChange:function(t){return e.setState({searchClientCif:t.target.value})}}),m.a.createElement("input",{className:"col-4 form-input mr-3",placeholder:"Please input name client",type:"text",onChange:function(t){return e.setState({searchClientName:t.target.value})}}),m.a.createElement("button",{className:"btn btn-primary col-3",onClick:this.searchButton.bind(this)},"Search Supplier Client")),m.a.createElement("div",{className:"result-search"},m.a.createElement(y.a,{id:"tableData",className:"pt-0",columns:i,progressPending:this.state.loading,pagination:!0,paginationServer:!0,paginationTotalRows:this.state.totalRows,onChangeRowsPerPage:this.handlePerRowsChange,onChangePage:this.handlePageChange,data:this.state.listClient})),m.a.createElement("div",{className:"d-flex justify-content-end mx-2 mt-4"},m.a.createElement("button",{className:"btn btn-warning mr-2",onClick:this.handleCloseModal},"Close"))):null))}}]),a}(d.Component)},function(e,t,a){"use strict";a.d(t,"a",(function(){return k}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=(a(1149),a(30)),h=a.n(p),f=a(69),g=a(17),v=a(8),b=a(24),y=a.n(b),S=a(31),E=a.n(S),w=a(118);a(21),a(59),a(127);h.a.setAppElement("body");var k=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={token:localStorage.getItem("accessToken"),labelButton:"Save Buyer",alertState:"alert alert-primary",isEdit:!1,error:!1,showModal:!1,typeFind:"rmwbData",modalName:"",loading:!0,code:"",name:"",listClient:[],page:1,perPage:10,searchClientName:"",searchClientCif:"",totalRows:0,buyer_name:"",buyer_cif:"",parent_cif:"",parent_name:"",createNtb:!1},window.scrollTo(0,0),e.handlePageChange=e.handlePageChange.bind(Object(o.a)(e)),e.handlePerRowsChange=e.handlePerRowsChange.bind(Object(o.a)(e)),e.handleOpenModal=e.handleOpenModal.bind(Object(o.a)(e)),e.handleCloseModal=e.handleCloseModal.bind(Object(o.a)(e)),e.searchClient=e.searchClient.bind(Object(o.a)(e)),e.selectClient=e.selectClient.bind(Object(o.a)(e)),e.selectParentClient=e.selectParentClient.bind(Object(o.a)(e)),e}return Object(i.a)(a,[{key:"handleOpenModal",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"parent-cif"!==t&&"buyer-cif"!==t&&"buyer-name"!==t||this.searchClient(this.state.page,this.state.perPage,"",""),this.setState({showModal:!0,modalName:t});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleCloseModal",value:function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({showModal:!1});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handlePageChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({page:t}),this.searchClient(t,this.state.perPage,this.state.searchClientName,this.state.searchClientCif);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handlePerRowsChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({perPage:t}),this.searchClient(this.state.page,t,this.state.searchClientName,this.state.searchClientCif);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentWillMount",value:function(){this.getdataMaster(),this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),this.setState({loggedUser:localStorage.getItem("userNip")}),"edit"===this.props.mode&&this.props.data&&(this.setState(this.props.data),this.setState({labelButton:"Save Buyer",isEdit:!0}),this.getListDataStatus(this.props.data.status)),this.validator=new E.a({autoForceUpdate:this,element:function(e){return m.a.createElement("div",{className:"row col-12 validator-error-message"},m.a.createElement("div",{className:"col-4"}),m.a.createElement("div",{className:"col-8"},e))},validators:{double:{message:"The Sales should be 2 digit behind comma!",messageReplace:function(e){return m.a.createElement("div",{className:"row col-12 validator-error-message"},m.a.createElement("div",{className:"col-4"}),m.a.createElement("div",{className:"col-8"},e))},rule:function(e,t,a){return a.helpers.testRegex(e,/^\d{0,5}(\.\d{0,2}){0,1}$/)&&-1===t.indexOf(e)},required:!0}}})}},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=!0,n=new f.a,r=new g.a,e.next=6,r.findStatusByParam(this.state);case 6:return(l=e.sent)&&200===l.status&&l.data?this.setState({listDataStatus:l.data}):t=!1,t||this.clearSession(),e.next=11,n.getCurrency();case 11:(i=e.sent)&&200===i.status&&i.data&&i.data.data.length>0?this.setState({listCurrency:i.data.data}):(this.setState({listCurrency:[]}),a=!1),a||this.errorConectionToBe();case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"searchButton",value:function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.searchClient(this.state.page,this.state.perPage,this.state.searchClientName,this.state.searchClientCif);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"searchClient",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r){var l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),l=new f.a,e.next=4,l.findClient(t,a,n,r);case 4:(i=e.sent)&&200===i.status&&i.data&&i.data.data.length>0?(this.setState({listClient:i.data.data}),this.setState({totalRows:i.data.total_result}),this.setState({totalPage:i.data.total_page}),this.setState({loading:!1})):i&&i.data&&v.a===i.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):(this.setState({listClient:[]}),this.setState({totalRows:0}),this.setState({totalPage:0}),this.setState({loading:!1}));case 6:case"end":return e.stop()}}),e,this)})));return function(t,a,n,s){return e.apply(this,arguments)}}()},{key:"selectParentClient",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t&&!a){e.next=15;break}if(this.state.buyer_cif===t){e.next=12;break}return e.next=4,this.setState({parent_cif:t});case 4:return e.next=6,this.setState({parent_name:a});case 6:return document.getElementById("parent-cif").value=t,document.getElementById("parent-name").value=a,e.next=10,this.handleCloseModal();case 10:e.next=13;break;case 12:alert("Selected Parent already selected as child Buyer, please select other client!");case 13:e.next=16;break;case 15:alert("Some thing wrong with selected data pelase refresh your browser or contact admin!"),window.location.reload();case 16:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"selectClient",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t&&!a){e.next=17;break}if(this.state.parent_cif===t){e.next=14;break}return e.next=4,this.setState({buyer_cif:t});case 4:return e.next=6,this.setState({buyer_name:a});case 6:return e.next=8,this.handleCloseModal();case 8:document.getElementById("buyer-cif").value=t,document.getElementById("buyer-name").readOnly=!0,document.getElementById("buyer-name").disabled=!0,document.getElementById("buyer-name").value=a,e.next=15;break;case 14:alert("Selected Buyer already selected as Parent Buyer, please select other client!");case 15:e.next=18;break;case 17:alert("Sorry please select other client!");case 18:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"clearBuyer",value:function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.handleCloseModal();case 2:return e.next=4,this.setState({buyer_cif:""});case 4:return e.next=6,this.setState({buyer_name:""});case 6:document.getElementById("buyer-cif").value="",document.getElementById("buyer-name").value="",document.getElementById("buyer-name").readOnly=!1,document.getElementById("buyer-name").disabled=!1,document.getElementById("buyer-name").focus(),document.getElementById("buyer-name").select();case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getListDataStatus",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!0,n=new g.a,e.next=4,n.findStatusByParam(this.state);case 4:(r=e.sent)&&200===r.status&&r.data.length>0?(this.setState({listDataStatus:r.data}),l=r.data.filter((function(e){return e.code===t})),this.setState({currentDataStatus:l[0]})):(this.setState({listDataStatus:""}),this.setState({currentDataStatus:""}),r&&r.data&&v.a===r.data.data?a=!1:this.setState({listDataStatus:""})),a||this.clearSession();case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"errorConectionToBe",value:function(){alert("Connection to Server Octobench interupted!\nPlease check your conection or contact administrator!")}},{key:"validateRemark",value:function(e){return this.setState({error:!0,alertState:"alert alert-danger"}),e.remarks?(this.setState({error:!1,alertState:"alert alert-primary"}),!0):(this.setState({errorMessage:"Please fill remarks!"}),!1)}},{key:"onSubmit",value:function(){if(this.props.onSubmit){var e=this.state;e.submitOnly=!0,this.validator.allValid()?this.props.onSubmit(e):this.validator.showMessages()}}},{key:"onSubmitAndSave",value:function(){if(this.props.onSubmitAndSave){var e=this.state;e.submitOnly=!1,e.submitAndSave=!0,this.validator.allValid()?this.props.onSubmitAndSave(e):this.validator.showMessages()}}},{key:"onSubmitApprove",value:function(){if(this.props.onSubmitAndSave){var e=this.state;e.submitApprove=!0,this.props.onSubmitAndSave(e)}}},{key:"onSubmitReject",value:function(){if(this.props.onSubmitAndSave){var e=this.state;e.submitReject=!0,this.validator.allValid()?this.props.onSubmitAndSave(e):this.validator.showMessages()}}},{key:"onApproveDelete",value:function(){if(this.props.onSubmitAndSave){var e=this.state;e.approveDelete=!0,this.props.onSubmitAndSave(e)}}},{key:"onRejectDelete",value:function(){if(this.props.onSubmitAndSave){var e=this.state;e.rejectDelete=!0,this.validator.allValid()?this.props.onSubmitAndSave(e):this.validator.showMessages()}}},{key:"render",value:function(){var e=this,t=JSON.parse(this.state.userPrivilege)||[],a=this.state.listCurrency||[];a=a.map((function(e){var t=e.currency;return m.a.createElement("option",{key:t,"code-data":t,value:t},t)}));for(var n=!1,s=!1,r=!1,l=0;l<t.length;l++)"create_rmwb_buyer"===t[l].name+"_"+t[l].vgroup&&(n=!0),"update_rmwb_buyer"===t[l].name+"_"+t[l].vgroup&&(s=!0),"approval_rmwb_buyer"===t[l].name+"_"+t[l].vgroup&&(r=!0);var i=[{name:"Client Id",selector:"client_id",sortable:!1},{name:"Client CIF",selector:"client_cif",sortable:!1},{name:"Name",selector:"name",sortable:!1},{name:"NPWP",selector:"npwp",sortable:!1},{name:"Select",sortable:!1,cell:function(t){return m.a.createElement("input",{type:"button",alt:"Edit",className:"btn btn-info",height:20,value:"Select",onClick:function(){return e.selectClient(t.client_cif,t.name)}})},button:!0}],o=[{name:"Client Id",selector:"client_id",sortable:!1},{name:"Client CIF",selector:"client_cif",sortable:!1},{name:"Name",selector:"name",sortable:!1},{name:"NPWP",selector:"npwp",sortable:!1},{name:"Select",sortable:!1,cell:function(t){return m.a.createElement("input",{type:"button",alt:"Edit",className:"btn btn-info",height:20,value:"Select",onClick:function(){return e.selectParentClient(t.client_cif,t.name)}})},button:!0}],c=this.state.currentDataStatus?this.state.currentDataStatus:[],u=!1,d=!1,p=!1,f=!1;return this.state.isEdit&&(f=!0),c&&("rmwbData_submitted"===c.type+"_"+c.code&&(u=!0),"rmwbData_rejected"===c.type+"_"+c.code&&(d=!0),"rmwbData_requestDelete"===c.type+"_"+c.code&&(p=!0)),m.a.createElement("div",{id:"BuyerForm"},this.state.error?m.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.errorMessage):null,m.a.createElement("div",{className:"form-box-area mb-4"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"row col-12"},m.a.createElement("h4",{className:"mb-4 col-6"},"Form Buyer"),f?m.a.createElement("h4",{className:"mb-4 col-6"},"Data Buyer Original"):null),m.a.createElement("div",{className:"row mb-3 col-12"},m.a.createElement("div",{className:"row col-6"},m.a.createElement("label",{className:"col-4"},"Parent CIF ",m.a.createElement("span",{className:"text-danger"},"*")),m.a.createElement(w.a,{place:"top",type:"dark",effect:"float"}),m.a.createElement("input",{"data-tip":"You can select Parent Cif on popup search!",placeholder:"Please click and select Parent Buyer",readOnly:"readOnly",className:"col-8 form-input",type:"text",id:"parent-cif",value:this.state.parent_cif?this.state.parent_cif:"",onClick:function(){return f?null:e.handleOpenModal("parent-cif")},onBlur:function(){return e.validator.showMessageFor("parent-cif")}}),this.validator.message("parent-cif",this.state.parent_cif,"required")),f?m.a.createElement("div",{className:"row col-6 ml-3"},m.a.createElement("label",{className:"col-4"},"Parent CIF"),m.a.createElement("div",{className:"col-8"},": ",this.state.parent_cif&&null!==this.state.parent_cif?this.state.parent_cif:null)):null),m.a.createElement("div",{className:"row mb-3 col-12"},m.a.createElement("div",{className:"row col-6"},m.a.createElement("label",{className:"col-4"},"Parent Name ",m.a.createElement("span",{className:"text-danger"},"*")),m.a.createElement("input",{"data-tip":"Parent name will auto populate when Parent Cif selected!",readOnly:"readOnly",className:"col-8 form-input",value:this.state.parent_name?this.state.parent_name:"",type:"text",placeholder:"Auto populate when parent cif selected!",id:"parent-name"})),f?m.a.createElement("div",{className:"row col-6 ml-3"},m.a.createElement("label",{className:"col-4"},"Parent Name"),m.a.createElement("div",{className:"col-8"},": ",this.state.parent_name&&null!==this.state.parent_name?this.state.parent_name:null)):null),m.a.createElement("div",{className:"row mb-3 col-12"},m.a.createElement("div",{className:"row col-6"},m.a.createElement("label",{className:"col-4"},"Buyer CIF"),m.a.createElement("div",{className:"col-8 d-flex btn-reset-wrapper"},m.a.createElement("input",{"data-tip":"You can select Buyer Cif on popup search or can create new Client as NTB for Buyer!",disabled:"".concat(f?"disabled":""),readOnly:"readOnly",className:"form-input",placeholder:"Please click and select buyer!",type:"text",id:"buyer-cif",value:this.state.buyer_cif?this.state.buyer_cif:"",onClick:function(){return f?null:e.handleOpenModal("buyer-cif")}}),m.a.createElement("button",{className:"btn btn-warning",disabled:"".concat(f?"disabled":""),onClick:function(){return e.clearBuyer()}},"Create NTB"))),f?m.a.createElement("div",{className:"row col-6 ml-3"},m.a.createElement("label",{className:"col-4"},"Buyer CIF"),m.a.createElement("div",{className:"col-8"},": ",this.state.buyer_cif&&null!==this.state.buyer_cif?this.state.buyer_cif:null)):null),m.a.createElement("div",{className:"row mb-3 col-12"},m.a.createElement("div",{className:"row col-6"},m.a.createElement("label",{className:"col-4"},"Buyer Name ",m.a.createElement("span",{className:"text-danger"},"*")),m.a.createElement("input",{"data-tip":"You can select Buyer Cif on popup search or can create new Client as NTB for Buyer!",readOnly:"readOnly",disabled:"disabled",className:"col-8 form-input",value:this.state.buyer_name?this.state.buyer_name:"",type:"text",id:"buyer-name",placeholder:"Auto populate when select buyer!",onChange:function(t){return e.setState({buyer_name:t.target.value})},onBlur:function(){return e.validator.showMessageFor("buyer-name")}}),this.validator.message("buyer-name",this.state.buyer_name,"required")),f?m.a.createElement("div",{className:"row col-6 ml-3"},m.a.createElement("label",{className:"col-4"},"Buyer Name"),m.a.createElement("div",{className:"col-8"},": ",this.state.buyer_name&&null!==this.state.buyer_name?this.state.buyer_name:null)):null),m.a.createElement("div",{className:"row mb-3 col-12 ".concat(f&&this.state.buyer_product!==this.state.buyer_product_draft?"updated":null)},m.a.createElement("div",{className:"row col-6"},m.a.createElement("label",{className:"col-4"},"Buyer Product"),m.a.createElement("input",{className:"col-8 form-input",readOnly:r?"readOnly":"",value:this.state.buyer_product_draft?this.state.buyer_product_draft:"",onChange:function(t){return e.setState({buyer_product_draft:t.target.value})},onBlur:function(){return e.validator.showMessageFor("buyer-product")},type:"text",maxLength:"255",id:"buyer_product",placeholder:"Please input buyer product"}),this.validator.message("buyer-product",this.state.buyer_product_draft,"max:255")),f?m.a.createElement("div",{className:"row col-6 ml-3"},m.a.createElement("label",{className:"col-4"},"Buyer Product"),m.a.createElement("div",{className:"col-8"},": ",this.state.buyer_product&&null!==this.state.buyer_product?this.state.buyer_product:null)):null),m.a.createElement("div",{className:"row mb-3 col-12 ".concat(f&&this.state.sales!==this.state.sales_draft?"updated":null)},m.a.createElement("div",{className:"row col-6"},m.a.createElement("label",{className:"col-4"},"Sales"),m.a.createElement("div",{className:"col-8 with-r-label d-flex p-0"},m.a.createElement("input",{className:"form-input",placeholder:"Please input sales with format number %",readOnly:r?"readOnly":"",value:this.state.sales_draft?this.state.sales_draft:"",onChange:function(t){return e.setState({sales_draft:t.target.value})},onBlur:function(){return e.validator.showMessageFor("sales")},type:"number",id:"sales",step:"0.01"}),m.a.createElement("div",{className:"r-label"},"%")),this.validator.message("sales",this.state.sales_draft,"double")),f?m.a.createElement("div",{className:"row col-6 ml-3"},m.a.createElement("label",{className:"col-4"},"Sales"),m.a.createElement("div",{className:"col-8"},": ",this.state.sales&&null!==this.state.sales?this.state.sales+"%":null)):null),m.a.createElement("div",{className:"row mb-3 col-12 ".concat(f&&this.state.year_of_relationship!==this.state.year_of_relationship_draft?"updated":null)},m.a.createElement("div",{className:"row col-6"},m.a.createElement("label",{className:"col-4"},"year of relationship"),m.a.createElement("input",{className:"col-8 form-input",readOnly:r?"readOnly":"",value:this.state.year_of_relationship_draft?this.state.year_of_relationship_draft:"",onChange:function(t){return e.setState({year_of_relationship_draft:t.target.value})},type:"text",maxLength:"64",id:"year_of_relationship"})),f?m.a.createElement("div",{className:"row col-6 ml-3"},m.a.createElement("label",{className:"col-4"},"year of relationship"),m.a.createElement("div",{className:"col-8"},": ",this.state.year_of_relationship&&null!==this.state.year_of_relationship?this.state.year_of_relationship:null)):null),m.a.createElement("div",{className:"row mb-3 col-12 ".concat(f&&this.state.term_days!==this.state.term_days_draft?"updated":null)},m.a.createElement("div",{className:"row col-6"},m.a.createElement("label",{className:"col-4"},"Term Days"),m.a.createElement("input",{className:"col-8 form-input",readOnly:r?"readOnly":"",value:this.state.term_days_draft?this.state.term_days_draft:"",onChange:function(t){return e.setState({term_days_draft:t.target.value})},type:"text",maxLength:"64",id:"term_days"})),f?m.a.createElement("div",{className:"row col-6 ml-3"},m.a.createElement("label",{className:"col-4"},"Term Days"),m.a.createElement("div",{className:"col-8"},": ",this.state.term_days&&null!==this.state.term_days?this.state.term_days:null)):null),m.a.createElement("div",{className:"row mb-3 col-12 ".concat(f&&this.state.currency!==this.state.currency_draft?"updated":null)},m.a.createElement("div",{className:"row col-6"},m.a.createElement("label",{className:"col-4"},"Currency"),m.a.createElement("select",{disabled:r?"disabled":"",className:"col-8 form-input",onChange:function(t){return e.setState({currency_draft:t.target.value})},value:this.state.currency_draft},m.a.createElement("option",{key:"",value:""},"Select Currency"),a)),f?m.a.createElement("div",{className:"row col-6 ml-3"},m.a.createElement("label",{className:"col-4"},"Currency"),m.a.createElement("div",{className:"col-8"},": ",this.state.currency&&null!==this.state.currency?this.state.currency:null)):null),f&&this.state.status?m.a.createElement("div",{className:"row mb-3 col-12"},m.a.createElement("label",{className:"col-2"},"Current Data Status"),m.a.createElement("div",{className:"col-4 pl-0"},this.state.status)):null,f&&this.state.updated_by?m.a.createElement("div",{className:"row mb-3 col-12"},m.a.createElement("label",{className:"col-2"},"Last Updated By"),m.a.createElement("div",{className:"col-4 pl-0"},this.state.updated_by)):null,f&&d?m.a.createElement("div",{className:"row mb-3 col-12"},m.a.createElement("label",{className:"col-2"},"Remarks"),m.a.createElement("div",{className:"col-4 pl-0"},this.state.remarks)):null)),m.a.createElement("div",{className:"d-flex justify-content-end"},n&&s?m.a.createElement("div",null,m.a.createElement("button",{className:"button-red mr-2",onClick:this.onSubmitAndSave.bind(this)},"Save And Submit Buyer"),m.a.createElement("button",{className:"button-red",onClick:this.onSubmit.bind(this)},this.state.labelButton)):null,r&&u?m.a.createElement("div",null,m.a.createElement("button",{className:"button-red mr-2",onClick:function(){return e.handleOpenModal("reject-data")}},"Reject"),m.a.createElement("button",{className:"button-green",onClick:function(){return e.handleOpenModal("approve-data")}},"Approve")):null,r&&p?m.a.createElement("div",null,m.a.createElement("button",{className:"button-red mr-2",onClick:function(){return e.handleOpenModal("reject-delete")}},"Reject Delete"),m.a.createElement("button",{className:"button-green",onClick:function(){return e.handleOpenModal("approve-delete")}},"Approve Delete")):null),m.a.createElement(h.a,{closeTimeoutMS:300,isOpen:this.state.showModal,contentLabel:"onRequestClose Example",onRequestClose:this.handleCloseModal,className:"Modal ".concat("parent-cif"===this.state.modalName||"buyer-cif"===this.state.modalName||"buyer-name"===this.state.modalName?"search":null),overlayClassName:"Overlay"},"approve-delete"===this.state.modalName?m.a.createElement("div",null,m.a.createElement("div",{className:"row mx-0 justify-content-center"},m.a.createElement("h4",null,"Are You Sure To Approve Delete This Data ?")),m.a.createElement("div",{className:"d-flex justify-content-center mx-2 mt-5"},m.a.createElement("button",{className:"button-red mr-5",onClick:this.handleCloseModal},"Cancel"),m.a.createElement("button",{className:"button-red",onClick:this.onApproveDelete.bind(this)},"Approve"))):null,"reject-delete"===this.state.modalName?m.a.createElement("div",null,m.a.createElement("div",{className:"row mx-0 justify-content-center"},m.a.createElement("h4",{className:"mb-4"},"Please fill Remark to data Maker !"),m.a.createElement("textarea",{className:"col-10 form-input",type:"text",onChange:function(t){return e.setState({remarks:t.target.value})},value:this.state.remarks||"",onBlur:function(){return e.validator.showMessageFor("remarks")}}),this.validator.message("remarks",this.state.remarks,"required")),m.a.createElement("div",{className:"d-flex justify-content-center mx-2 mt-5"},m.a.createElement("button",{className:"button-red mr-5",onClick:this.handleCloseModal},"Close"),m.a.createElement("button",{className:"button-red",onClick:this.onRejectDelete.bind(this)},"Reject Delete"))):null,"approve-data"===this.state.modalName?m.a.createElement("div",null,m.a.createElement("div",{className:"row mx-0 justify-content-center"},m.a.createElement("h4",null,"Are You Sure To Approve This Data ?")),m.a.createElement("div",{className:"d-flex justify-content-center mx-2 mt-5"},m.a.createElement("button",{className:"button-red mr-5",onClick:this.handleCloseModal},"Cancel"),m.a.createElement("button",{className:"button-red",onClick:this.onSubmitApprove.bind(this)},"Approve"))):null,"reject-data"===this.state.modalName?m.a.createElement("div",null,m.a.createElement("div",{className:"row mx-0 justify-content-center"},m.a.createElement("h4",{className:"mb-4"},"Please fill Remark to data Maker !"),this.state.error?m.a.createElement("div",{className:"col-12 ".concat(this.state.alertState),role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.errorMessage):null,m.a.createElement("textarea",{className:"col-12 form-input",type:"text",onChange:function(t){return e.setState({remarks:t.target.value})},value:this.state.remarks||"",placeholder:"Remarks",onBlur:function(){return e.validator.showMessageFor("remarks")}}),this.validator.message("remarks",this.state.remarks,"required")),m.a.createElement("div",{className:"d-flex justify-content-center mx-2 mt-4"},m.a.createElement("button",{className:"button-red mr-5",onClick:this.handleCloseModal},"Cancel"),m.a.createElement("button",{className:"button-red",onClick:this.onSubmitReject.bind(this)},"Reject"))):null,"parent-cif"===this.state.modalName?m.a.createElement("div",null,m.a.createElement("div",{className:"row mx-0 mb-4"},m.a.createElement("h4",null,"Search Parent CIF")),m.a.createElement("div",{className:"row justify-content-center"},m.a.createElement("input",{className:"col-4 form-input mr-3",placeholder:"Please input client cif",type:"text",onChange:function(t){return e.setState({searchClientCif:t.target.value})}}),m.a.createElement("input",{className:"col-4 form-input mr-3",placeholder:"Please input name client",type:"text",onChange:function(t){return e.setState({searchClientName:t.target.value})}}),m.a.createElement("button",{className:"btn btn-primary col-3",onClick:this.searchButton.bind(this)},"Search Parent Client")),m.a.createElement("div",{className:"result-search"},m.a.createElement(y.a,{id:"tableData",className:"pt-0",columns:o,progressPending:this.state.loading,pagination:!0,paginationServer:!0,paginationTotalRows:this.state.totalRows,onChangeRowsPerPage:this.handlePerRowsChange,onChangePage:this.handlePageChange,data:this.state.listClient})),m.a.createElement("div",{className:"d-flex justify-content-end mx-2 mt-4"},m.a.createElement("button",{className:"btn btn-warning",onClick:this.handleCloseModal},"Close"))):null,"buyer-cif"===this.state.modalName||"buyer-name"===this.state.modalName?m.a.createElement("div",null,m.a.createElement("div",{className:"row mx-0 mb-4"},m.a.createElement("h4",null,"Search Buyer CIF")),m.a.createElement("div",{className:"row justify-content-center"},m.a.createElement("input",{className:"col-4 form-input mr-3",placeholder:"Please input client cif",type:"text",onChange:function(t){return e.setState({searchClientCif:t.target.value})}}),m.a.createElement("input",{className:"col-4 form-input mr-3",placeholder:"Please input name client",type:"text",onChange:function(t){return e.setState({searchClientName:t.target.value})}}),m.a.createElement("button",{className:"btn btn-primary col-3",onClick:this.searchButton.bind(this)},"Search Buyer Client")),m.a.createElement("div",{className:"result-search"},m.a.createElement(y.a,{id:"tableData",className:"pt-0",columns:i,progressPending:this.state.loading,pagination:!0,paginationServer:!0,paginationTotalRows:this.state.totalRows,onChangeRowsPerPage:this.handlePerRowsChange,onChangePage:this.handlePageChange,data:this.state.listClient})),m.a.createElement("div",{className:"d-flex justify-content-end mx-2 mt-4"},m.a.createElement("button",{className:"btn btn-warning mr-2",onClick:this.handleCloseModal},"Close"))):null))}}]),a}(d.Component)},,function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(7),c=a.n(o),u=a(33),d=a(16),m=a.n(d),p=function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,[{key:"getAllLead",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var r,l,i,o,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=localStorage.getItem("userNip"),l={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:r,"Workstation-Id":null},i=t?m()(t).format("YYYY-MM-DD"):null,o=a?m()(a).format("YYYY-MM-DD"):null,e.prev=4,e.next=7,c.a.get(u.a+"/api/cms/lead/info?start="+i+"&end="+o,{headers:l});case 7:return d=e.sent,e.abrupt("return",d);case 11:return e.prev=11,e.t0=e.catch(4),e.abrupt("return",e.t0.response);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"getAllLeadDetail",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var r,l,i,o,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=localStorage.getItem("userNip"),l={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:r,"Workstation-Id":null},i=t?m()(t).format("YYYY-MM-DD"):null,o=a?m()(a).format("YYYY-MM-DD"):null,e.prev=4,e.next=7,c.a.get(u.a+"/api/cms/lead/detail?start="+i+"&end="+o,{headers:l});case 7:return d=e.sent,e.abrupt("return",d);case 11:return e.prev=11,e.t0=e.catch(4),e.abrupt("return",e.t0.response);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t,a,n){return e.apply(this,arguments)}}()}]),e}()},function(e,t,a){"use strict";a.d(t,"a",(function(){return S}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=(a(1379),a(30)),h=a.n(p),f=a(86),g=a(17),v=a(8),b=a(31),y=a.n(b);a(21),a(59),a(127);h.a.setAppElement("body");var S=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={token:localStorage.getItem("accessToken"),labelButton:"Save User",alertState:"alert alert-primary",isEdit:!1,roleUser:[],businessUser:[],seniorStatus:[],error:!1,showModal:!1,showModalDelete:!1,typeFind:"rmwbData",name:"",isRm:!1,currentSenior:0,cn_draft:"",cn:"",officer_id:"",office_id_draft:"",name_draft:"",user_app_role_id_draft:"",email:"",email_draft:"",area_draft:"",user_app_bu_id:"",user_app_bu_id_draft:"",parent_id:"",parent_id_draft:"",cn_draft_editable:!0,officer_id_editable:!1,name_editable:!1,user_app_role_id_editable:!1,email_editable:!1,currentSenior_editable:!1,user_app_bu_id_editable:!1,selectSupervisorEditable:!1,isDataExist:!1,seniorOri:!1,modalName:"",listSupervisor:[],selectedRole:"",roleName:localStorage.getItem("roleName"),superUser:!1},window.scrollTo(0,0),e.onChangeRole=e.onChangeRole.bind(Object(o.a)(e)),e.onChangeBu=e.onChangeBu.bind(Object(o.a)(e)),e.handleOpenModal=e.handleOpenModal.bind(Object(o.a)(e)),e.handleCloseModal=e.handleCloseModal.bind(Object(o.a)(e)),e.openModalDelete=e.openModalDelete.bind(Object(o.a)(e)),e.closeModalDelete=e.closeModalDelete.bind(Object(o.a)(e)),e.openApproveModal=e.openApproveModal.bind(Object(o.a)(e)),e.closeModalApprove=e.closeModalApprove.bind(Object(o.a)(e)),e}return Object(i.a)(a,[{key:"openApproveModal",value:function(){this.setState({showModalApprove:!0}),this.setState({modalName:"approve-modal"})}},{key:"closeModalApprove",value:function(){this.setState({showModalApprove:!1})}},{key:"openModalDelete",value:function(){this.setState({showModalDelete:!0}),this.setState({modalName:"delete-modal"})}},{key:"closeModalDelete",value:function(){this.setState({showModalDelete:!1})}},{key:"handleOpenModal",value:function(){this.setState({showModal:!0}),this.setState({modalName:"reject-modal"})}},{key:"handleCloseModal",value:function(){this.setState({showModal:!1})}},{key:"componentWillMount",value:function(){var e=this,t=!1,a=!1;this.getdataMaster(),this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),this.setState({loggedUser:localStorage.getItem("userNip")}),"edit"===this.props.mode&&this.props.data&&(this.setState({isDataExist:!0}),null===this.props.data.email_draft&&(this.props.data.email_draft=""),null===this.props.data.area_draft&&(this.props.data.area_draft=""),"MASTER"!==this.props.data.role_draft&&"MANAGEMENT"!==this.props.data.role_draft&&""!==this.props.data.user_app_bu_id_draft&&null!==this.props.data.user_app_bu_id_draft&&""!==this.props.data.user_app_role_id_draft&&null!==this.props.data.user_app_role_id_draft&&this.getSupervisor(this.props.data.user_app_role_id_draft,this.props.data.user_app_bu_id_draft),this.setState(this.props.data),""!==this.props.data.cn_draft&&null!==this.props.data.cn_draft||this.setState({cn_draft:""}),""!==this.props.data.cn&&null!==this.props.data.cn||this.setState({cn:""}),""!==this.props.data.name_draft&&null!==this.props.data.name_draft||this.setState({name_editable:!0}),""!==this.props.data.name&&null!==this.props.data.name||this.setState({name:""}),""!==this.props.data.email_draft&&null!==this.props.data.email_draft||this.setState({email_editable:!0}),""!==this.props.data.email&&null!==this.props.data.email||this.setState({email:""}),""!==this.props.data.bu_draft&&null!==this.props.data.bu_draft||this.setState({user_app_bu_id_editable:!0}),""!==this.props.data.user_app_bu_id&&null!==this.props.data.user_app_bu_id||this.setState({user_app_bu_id:""}),this.getListBusinessUser(this.props.data.user_app_role_id),""!==this.props.data.user_app_role_id&&null!==this.props.data.user_app_role_id||this.setState({user_app_role_id:""}),""!==this.props.data.area_draft&&null!==this.props.data.area_draft||this.setState({area_editable:!0}),""!==this.props.data.area&&null!==this.props.data.area||this.setState({area:""}),""!==this.props.data.is_senior_draft&&null!==this.props.data.is_senior_draft||this.setState({currentSenior_editable:!0}),""!==this.props.data.role_draft&&null!==this.props.data.role_draft||this.setState({user_app_role_id_editable:!0}),""!==this.props.data.parent_id_draft&&null!==this.props.data.parent_id_draft||this.setState({selectSupervisorEditable:!0}),null==this.props.data.parent_id_draft&&this.setState({parent_id_draft:""}),null==this.props.data.parent_id&&this.setState({parent_id:""}),this.setState({labelButton:"Save User",isEdit:!0}),"RM"===this.props.data.role_draft&&this.setState({isRm:!0}),this.setState({selectedRole:this.props.data.role_draft}),!0===this.props.data.is_senior?(this.setState({is_senior_string:"Yes"}),this.setState({seniorOri:1})):!1===this.props.data.is_senior?(this.setState({is_senior_string:"No"}),this.setState({seniorOri:0})):(this.setState({is_senior_string:null}),this.setState({seniorOri:""})),!0===this.props.data.is_senior_draft?this.setState({currentSenior:1}):(this.props.data.is_senior_draft,this.setState({currentSenior:0})),this.getListDataStatus(this.props.data.status)),this.validator=new y.a({autoForceUpdate:this,element:function(e){return m.a.createElement("div",{className:"row col-12 validator-error-message"},m.a.createElement("div",{className:"col-4"}),m.a.createElement("div",{className:"col-8"},e))},validators:{checkNip:{message:"Nip already registered!",messageReplace:function(e){return m.a.createElement("div",{className:"row col-12 validator-error-message"},m.a.createElement("div",{className:"col-4"}),m.a.createElement("div",{className:"col-8"},e))},rule:function(a,n,s){return e.checkNipReady(a).then((function(e){return t=e})),!0===t},required:!0},checkOfficerId:{message:"Officer id already registered!",messageReplace:function(e){return m.a.createElement("div",{className:"row col-12 validator-error-message"},m.a.createElement("div",{className:"col-4"}),m.a.createElement("div",{className:"col-8"},e))},rule:function(t,n,s){return e.checkOfficerId(t).then((function(e){return a=e})),!0===a},required:!0}}})}},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=!0,n=new f.a,r=new g.a,e.next=6,r.findStatusByParam(this.state);case 6:return(l=e.sent)&&200===l.status&&l.data?this.setState({listDataStatus:l.data}):t=!1,t||this.clearSession(),e.next=11,n.getRoleRmwb(this.state);case 11:return(i=e.sent)&&200===i.status&&i.data&&i.data.data.length>0?this.setState({roleUser:i.data.data}):(this.setState({roleUser:[]}),a=!1),e.next=15,n.getSeniorStatus(this.state);case 15:(o=e.sent)&&200===o.status&&o.data&&o.data.data.length>0?this.setState({seniorStatus:o.data.data}):(this.setState({seniorStatus:[]}),a=!1),a||this.conectionToBE();case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getListBusinessUser",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),a=!0,n=new f.a,e.next=5,n.getBusinessUser(t);case 5:(r=e.sent)&&200===r.status&&r.data&&r.data.data.length>0?(this.setState({businessUser:r.data.data}),this.setState({loading:!1})):(this.setState({businessUser:[]}),a=!1,this.setState({loading:!1})),a||this.conectionToBE();case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getListDataStatus",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!0,n=new g.a,e.next=4,n.findStatusByParam(this.state);case 4:(r=e.sent)&&200===r.status&&r.data.length>0?(this.setState({listDataStatus:r.data}),l=r.data.filter((function(e){return e.code===t})),this.setState({currentDataStatus:l[0]})):(this.setState({listDataStatus:""}),this.setState({currentDataStatus:""}),r&&r.data&&v.a===r.data.data?a=!1:this.setState({listDataStatus:""})),a||this.clearSession();case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"checkNipReady",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=10;break}return a=new f.a,e.next=4,a.checkEmployeeId(t,this.state);case 4:if(!(n=e.sent)||!n.data||"Failed"!==n.data.message){e.next=9;break}return e.abrupt("return",!1);case 9:return e.abrupt("return",!0);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"checkOfficerId",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=10;break}return a=new f.a,e.next=4,a.checkOfficerId(t,this.state);case 4:if(!(n=e.sent)||!n.data||"Failed"!==n.data.message){e.next=9;break}return e.abrupt("return",!1);case 9:return e.abrupt("return",!0);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"conectionToBE",value:function(){alert("Cant get data from backend Octo RM Bench, Please check your conection or contact admin!")}},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"onSubmit",value:function(){if(this.state.isDataExist||this.state.isEdit){if(!this.props.onSubmit)return;var e=this.state;if(e.submitOnly=!0,!this.validator.allValid())return void this.validator.showMessages();this.props.onSubmit(e)}else alert("Please input office Id and click button get data before submit!")}},{key:"onChangeRole",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this,"RM"!==t){e.next=12;break}return a.setState({isRm:!0}),e.next=5,a.setState({user_app_role_id_draft:1});case 5:return e.next=7,a.setState({selectedRole:"RM"});case 7:return e.next=9,a.forceUpdate();case 9:""!==a.state.user_app_bu_id_draft&&null!==a.state.user_app_bu_id_draft&&""!==a.state.user_app_role_id_draft&&null!==a.state.user_app_role_id_draft&&a.getSupervisor(a.state.user_app_role_id_draft,a.state.user_app_bu_id_draft),e.next=33;break;case 12:if("clear"!==t){e.next=21;break}return this.validator.visibleFields=[],this.validator.hideMessages(),a.setState({isRm:!1}),e.next=18,a.setState({selectedRole:""});case 18:a.forceUpdate(),e.next=33;break;case 21:return a.forceUpdate(),n=t.target.value,this.setState({user_app_bu_id_draft:""}),a.getListBusinessUser(n),r=t.target[t.target.selectedIndex].getAttribute("code-data"),e.next=28,a.setState({selectedRole:r});case 28:return e.next=30,a.setState({user_app_role_id_draft:n});case 30:"RM"===r?a.setState({isRm:!0}):a.setState({isRm:!1}),"MASTER"===r?(a.validator.fields.business_user=!0,a.validator.fields.area=!0):"MANAGEMENT"===r?a.validator.fields.area=!0:""!==a.state.user_app_bu_id_draft&&null!==a.state.user_app_bu_id_draft&&""!==a.state.user_app_role_id_draft&&null!==a.state.user_app_role_id_draft&&a.getSupervisor(a.state.user_app_role_id_draft,a.state.user_app_bu_id_draft),a.forceUpdate();case 33:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onChangeBu",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=7;break}return a=this,n=t.target.value,e.next=5,a.setState({user_app_bu_id_draft:n});case 5:a.forceUpdate(),"MASTER"!==a.state.selectedRole&&"MANAGEMENT"!==a.state.selectedRole&&""!==a.state.user_app_bu_id_draft&&null!==a.state.user_app_bu_id_draft&&""!==a.state.user_app_role_id_draft&&null!==a.state.user_app_role_id_draft&&a.getSupervisor(a.state.user_app_role_id_draft,a.state.user_app_bu_id_draft);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getSupervisor",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),n=!0,r=new f.a,e.next=5,r.getSupervisor(t,a);case 5:(l=e.sent)&&200===l.status&&l.data&&l.data.data?(0===l.data.data.length&&alert("Direct supervisor for this Role and Business User are empty. Please input Direct Supervisor first!"),this.setState({listSupervisor:l.data.data}),this.setState({loading:!1})):(this.setState({listSupervisor:[]}),n=!1,this.setState({loading:!1})),n||this.conectionToBE();case 8:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"onSubmitAndSave",value:function(){if(this.state.isDataExist||this.state.isEdit){if(!this.props.onSubmitAndSave)return;var e=this.state;if(e.submitOnly=!1,e.submitAndSave=!0,!this.validator.allValid())return void this.validator.showMessages();this.props.onSubmitAndSave(e)}else alert("Please input office Id and click button get data before submit!")}},{key:"onSubmitApprove",value:function(){if(this.props.onSubmitAndSave){var e=this.state;e.submitApprove=!0,this.props.onSubmitAndSave(e)}}},{key:"onSubmitReject",value:function(){if(this.props.onSubmitAndSave){var e=this.state;e.submitReject=!0,this.validator.allValid()?this.props.onSubmitAndSave(e):this.validator.showMessages()}}},{key:"onApproveDelete",value:function(){if(this.props.onSubmitAndSave){var e=this.state;e.approveDelete=!0,!0===window.confirm("Are you sure to delete "+e.name)&&this.props.onSubmitAndSave(e)}}},{key:"onRejectDelete",value:function(){if(this.props.onSubmitAndSave){var e=this.state;e.rejectDelete=!0,this.validator.allValid()?this.props.onSubmitAndSave(e):this.validator.showMessages()}}},{key:"checkIfUserExist",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({loading:!0}),!this.state.cn_draft){e.next=41;break}if(!this.state.isEdit){e.next=6;break}window.confirm("Are you sure to load new data?")?this.getDataUserLdap():this.setState({loading:!1}),e.next=39;break;case 6:if(!this.state.isDataExist){e.next=27;break}return this.setState({isDataExist:!1}),this.setState({office_id_draft:""}),this.setState({cn_draft:""}),this.setState({name_draft:""}),this.setState({user_app_role_id_draft:""}),this.setState({email_draft:""}),this.setState({area_draft:""}),this.setState({is_senior_draft:""}),this.setState({parent_id_draft:""}),this.setState({currentSenior:0}),this.setState({cn_draft_editable:!0}),this.setState({user_app_bu_id_draft:""}),this.setState({isGetResponse:!1,message:"",alertState:""}),this.forceUpdate(),e.next=23,this.onChangeRole("clear");case 23:this.forceUpdate(),this.setState({loading:!1}),e.next=39;break;case 27:return t=!0,a=new f.a,e.next=31,a.checkOfficerId(this.state.cn_draft,this.state);case 31:if(!(n=e.sent)||200!==n.status||!n.data){e.next=36;break}n.data.message&&"Failed"===n.data.message?(alert("Sorry user with ID "+this.state.cn_draft+", already existed in Database! You can select and edit from user list."),this.setState({loading:!1})):this.getDataUserLdap(),e.next=39;break;case 36:return t||this.conectionToBE(),this.setState({loading:!1}),e.abrupt("return",!1);case 39:e.next=44;break;case 41:alert("Please input NIP !"),this.setState({loading:!1}),this.forceUpdate();case 44:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getDataUserLdap",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),t=new f.a,e.next=4,t.findUserSelect(this.state);case 4:if(!((a=e.sent)&&a.status&&200===a.status&&a.data&&a.data.data&&null!==a.data.data.cn)){e.next=36;break}return this.setState({isDataExist:!0}),null===a.data.data.office_id?this.state.isEdit&&""!==this.state.office_id&&null!==this.state.office_id?this.setState({office_id_draft:this.state.office_id}):this.setState({office_id_draft:""}):this.setState({office_id_draft:a.data.data.office_id}),this.setState({office_id_editable:null===a.data.data.office_id}),null!==a.data.data.cn&&this.setState({cn_draft:a.data.data.cn}),this.setState({cn_draft_editable:!1}),null===a.data.data.name?this.state.isEdit&&""!==this.state.name?this.setState({name_draft:this.state.name}):this.setState({name_draft:""}):this.setState({name_draft:a.data.data.name}),this.setState({name_editable:null===a.data.data.name}),null!==a.data.data.role_id&&this.setState({user_app_role_id_draft:a.data.data.role_id}),this.setState({user_app_role_id_editable:null===a.data.data.role_id}),null===a.data.data.email?this.state.isEdit&&""!==this.state.email&&null!==this.state.email?this.setState({email_draft:this.state.email}):this.setState({email_draft:""}):this.setState({email_draft:a.data.data.email}),this.setState({email_editable:null===a.data.data.email}),null===a.data.data.area?this.state.isEdit&&""!==this.state.area?this.setState({area_draft:this.state.area}):this.setState({area_draft:""}):this.setState({area_draft:a.data.data.area}),this.setState({area_editable:null===a.data.data.area}),null!==a.data.data.seniorType&&this.setState({is_senior_draft:a.data.data.seniorType}),this.setState({currentSenior_editable:null===a.data.data.seniorType}),null===a.data.data.manager?(this.state.isEdit&&""!==this.state.parent_id&&null!==this.state.parent_id?this.setState({parent_id_draft:this.state.parent_id}):this.setState({parent_id_draft:""}),this.setState({selectSupervisorEditable:!0})):(this.setState({parent_id_draft:a.data.data.manager.user_app_id}),this.setState({selectSupervisorEditable:!1})),!0===a.data.data.seniorType?this.setState({currentSenior:1}):!1===a.data.data.seniorType?this.setState({currentSenior:0}):null!==this.state.seniorOri&&""!==this.state.seniorOri?this.setState({currentSenior:this.state.seniorOri}):this.setState({currentSenior:0}),""===a.data.data.bu_id||null===a.data.data.bu_id?this.state.isEdit&&""!==this.state.user_app_bu_id&&null!==this.state.user_app_bu_id_draft?this.setState({user_app_bu_id_draft:this.state.user_app_bu_id}):this.setState({user_app_bu_id_draft:""}):this.setState({user_app_bu_id_draft:a.data.data.bu_id}),this.setState({user_app_bu_id_editable:null===a.data.data.bu_id}),n="",r="",null!==a.data.data.role_id?(r=a.data.data.role_id,this.state.roleUser.map((function(e){var t=e.id,a=e.name;return t===r?n=a:null})),this.setState({selectedRole:n})):null!==this.state.user_app_role_id_draft&&""!==this.state.user_app_role_id_draft?(r=this.state.user_app_role_id_draft,this.state.roleUser.map((function(e){var t=e.id,a=e.name;return t===r?n=a:null})),this.setState({selectedRole:n})):(r="",this.setState({selectedRole:""})),e.next=30,this.getListBusinessUser(a.data.data.role_id);case 30:"MASTER"!==n&&"MANAGEMENT"!==n&&""!==a.data.data.bu_id&&null!==a.data.data.bu_id&&""!==a.data.data.role_id&&null!==a.data.data.role_id&&this.getSupervisor(a.data.data.role_id,a.data.data.bu_id),this.setState({isGetResponse:!0,message:"Get Data success",alertState:"alert alert-success"}),this.setState({loading:!1}),this.forceUpdate(),e.next=37;break;case 36:a&&a.status&&200===a.status&&a.data&&a.data.data&&null===a.data.data.office_id?(this.setState({isGetResponse:!0,message:"Data not found, please check again!",alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1})):a&&a.data&&a.data.message?(this.setState({isGetResponse:!0,message:a.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1})):(this.setState({isGetResponse:!1,message:"Conection interupted, please check your conection or contact administrator!",alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1}));case 37:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.roleName,a=this.state.superUser;a="SECADOCTOBENCH"===t||"SADMINOCTOBENCH"===t;var n=this.state.roleUser||[];n=n.map((function(e){var t=e.id,a=e.name;return m.a.createElement("option",{key:t,"code-data":a,value:t},a)}));var s=this.state.listSupervisor||[];s=s.map((function(e){var t=e.id,a=e.name,n=e.additional;return m.a.createElement("option",{key:t,"code-data":t,value:t},"Nip : "+n+", Name : "+a)}));var r=this.state.businessUser||[];r=r.map((function(e){var t=e.id,a=e.name;return m.a.createElement("option",{key:t,"code-data":t,value:t},a)}));var l=this.state.seniorStatus||[];l=l.map((function(e){var t=e.id,a=e.name;return m.a.createElement("option",{key:t,"code-data":t,value:t},a)}));for(var i=JSON.parse(this.state.userPrivilege)||[],o=!1,c=!1,u=!1,d=0;d<i.length;d++)"create_rmwb_user"===i[d].name+"_"+i[d].vgroup&&(o=!0),"update_rmwb_user"===i[d].name+"_"+i[d].vgroup&&(c=!0),"approval_rmwb_user"===i[d].name+"_"+i[d].vgroup&&(u=!0);var p=this.state.currentDataStatus?this.state.currentDataStatus:[],f=!1,g=!1,v=!1,b=!1;this.state.isEdit&&(b=!0),p&&("rmwbData_submitted"===p.type+"_"+p.code&&(f=!0),"rmwbData_rejected"===p.type+"_"+p.code&&(g=!0),"rmwbData_requestDelete"===p.type+"_"+p.code&&(v=!0));var y="";b?y="Update":!b&&this.state.isDataExist?y="Clear":b||(y="Get Data");var S=!1,E=!1;return this.state.isDataExist?(S=!u||!!a,E=!1):(S=!1,E=!u||!!a),m.a.createElement("div",{id:"UserForm"},this.state.error?m.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.errorMessage):null,this.state.isGetResponse?m.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message):null,m.a.createElement("div",{className:"form-box-area mb-4"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"row col-12"},m.a.createElement("h4",{className:"mb-4 col-6"},"Form User"),b?m.a.createElement("h4",{className:"mb-4 col-6"},"Data User Original"):null),m.a.createElement("div",{className:"row mb-3 col-12 ".concat(this.state.cn!==this.state.cn_draft&&b?"updated":"")},m.a.createElement("div",{className:"row col-6"},m.a.createElement("label",{className:"col-4"},"CN"),m.a.createElement("div",{className:"search-user-nip p-0 col-8 d-flex justify-content-center"},m.a.createElement("input",{disabled:E?"":"disabled",className:"form-input",type:"text",ref:"cn",id:"cn",value:this.state.cn_draft||"",onChange:function(t){return e.setState({cn_draft:t.target.value})},placeholder:"Please input NIP",onKeyPress:function(t){return u||"Enter"!==t.key?null:e.checkIfUserExist(e.refs.cn.value)}}),m.a.createElement("button",{onClick:function(){return!u||a?e.checkIfUserExist():null},className:"btn ".concat(!u||a?"btn-primary":"btn-secondary")},y))),b?m.a.createElement("div",{className:"row col-6 ml-3"},m.a.createElement("label",{className:"col-4"},"NIP"),m.a.createElement("div",{className:"col-8"},": ",this.state.cn&&null!==this.state.cn?this.state.cn:null)):null),m.a.createElement("div",{className:"row mb-3 col-12 ".concat(this.state.office_id!==this.state.office_id_draft&&b?"updated":null)},m.a.createElement("div",{className:"row col-6"},m.a.createElement("label",{className:"col-4"},"Office Id"),m.a.createElement("input",{disabled:!this.state.office_id_editable||u?"disabled":"",className:"col-8 form-input ".concat(this.state.isDataExist&&""===this.state.office_id_draft?"emptyInput":""),type:"text",ref:"office_id",id:"office_id",value:this.state.office_id_draft,onChange:function(t){return e.setState({office_id_draft:t.target.value})},placeholder:"Please input Officer Id",onBlur:function(){return e.validator.showMessageFor("office_id")}}),this.validator.message("office_id",this.state.office_id_draft,"required")),b?m.a.createElement("div",{className:"row col-6 ml-3"},m.a.createElement("label",{className:"col-4"},"Office Id"),m.a.createElement("div",{className:"col-8"},": ",null!==this.state.office_id&&this.state.office_id?this.state.office_id:null)):null),m.a.createElement("div",{className:"row mb-3 col-12 ".concat(this.state.name!==this.state.name_draft&&b?"updated":null)},m.a.createElement("div",{className:"row col-6"},m.a.createElement("label",{className:"col-4"},"Name"),m.a.createElement("input",{disabled:!this.state.name_editable||u?"disabled":"",className:"col-8 form-input ".concat(!this.state.isDataExist||null!==this.state.name_draft&&""!==this.state.name_draft?"":"emptyInput"),type:"text",ref:"name_draft",id:"name_draft",onChange:function(t){return e.setState({name_draft:t.target.value})},value:this.state.name_draft,onBlur:function(){return e.validator.showMessageFor("name")},placeholder:"Please input Name"}),this.validator.message("name",this.state.name_draft,"required")),b?m.a.createElement("div",{className:"row col-6 ml-3"},m.a.createElement("label",{className:"col-4"},"Name"),m.a.createElement("div",{className:"col-8"},": ",this.state.name&&null!==this.state.name?this.state.name:null)):null),m.a.createElement("div",{className:"row mb-3 col-12 ".concat(this.state.user_app_role_id!==this.state.user_app_role_id_draft&&b?"updated":"")},m.a.createElement("div",{className:"row col-6"},m.a.createElement("label",{className:"col-4"},"Role"),m.a.createElement("select",{disabled:S?"":"disabled",className:"col-8 form-input ".concat(this.state.isDataExist&&""===this.state.user_app_role_id_draft?"emptyInput":""),onChange:this.onChangeRole,value:this.state.user_app_role_id_draft,onBlur:function(){return e.validator.showMessageFor("role")}},m.a.createElement("option",{key:"",value:""},"Select Role"),n),this.validator.message("role",this.state.user_app_role_id_draft,"required")),b?m.a.createElement("div",{className:"row col-6 ml-3"},m.a.createElement("label",{className:"col-4"},"Role"),m.a.createElement("div",{className:"col-8"},": ",this.state.role&&null!==this.state.role?this.state.role:null)):null),m.a.createElement("div",{className:"row mb-3 col-12 ".concat(this.state.email!==this.state.email_draft&&b?"updated":null)},m.a.createElement("div",{className:"row col-6"},m.a.createElement("label",{className:"col-4"},"Email"),m.a.createElement("input",{disabled:S?"":"disabled",className:"col-8 form-input ".concat(this.state.isDataExist&&""===this.state.email_draft?"emptyInput":""),type:"text",onBlur:function(){return e.validator.showMessageFor("email")},onChange:function(t){return e.setState({email_draft:t.target.value})},value:this.state.email_draft,placeholder:"Please input email"}),this.validator.message("email",this.state.email_draft,"required|email")),b?m.a.createElement("div",{className:"row col-6 ml-3"},m.a.createElement("label",{className:"col-4"},"Email"),m.a.createElement("div",{className:"col-8"},": ",this.state.email&&null!==this.state.email?this.state.email:null)):null),"MASTER"!==this.state.selectedRole&&""!==this.state.selectedRole&&null!==this.state.selectedRole?m.a.createElement("div",{className:"row mb-3 col-12 ".concat(this.state.user_app_bu_id!==this.state.user_app_bu_id_draft&&b?"updated":null)},m.a.createElement("div",{className:"row col-6"},m.a.createElement("label",{className:"col-4"},"Business User"),m.a.createElement("select",{disabled:S?"":"disabled",className:"col-8 form-input ".concat(this.state.isDataExist&&""===this.state.user_app_bu_id_draft?"emptyInput":""),onChange:this.onChangeBu,value:this.state.user_app_bu_id_draft,onBlur:function(){return e.validator.showMessageFor("business_user")}},m.a.createElement("option",{key:"",value:""},"Select Business User"),r),this.validator.message("business_user",this.state.user_app_bu_id_draft,"required")),b?m.a.createElement("div",{className:"row col-6 ml-3"},m.a.createElement("label",{className:"col-4"},"Business User"),m.a.createElement("div",{className:"col-8"},": ",this.state.bu&&null!==this.state.bu?this.state.bu:null)):null):null,"MASTER"!==this.state.selectedRole&&"MANAGEMENT"!==this.state.selectedRole?m.a.createElement("div",{className:"row mb-3 col-12 ".concat(this.state.area!==this.state.area_draft&&b?"updated":null)},m.a.createElement("div",{className:"row col-6"},m.a.createElement("label",{className:"col-4"},"Area"),m.a.createElement("input",{disabled:S?"":"disabled",className:"col-8 form-input ".concat(!this.state.isDataExist||""!==this.state.area_draft&&null!==this.state.area_draft?"":"emptyInput"),type:"text",onBlur:function(){return e.validator.showMessageFor("area")},onChange:function(t){return e.setState({area_draft:t.target.value})},value:this.state.area_draft,placeholder:"Please input area"}),this.validator.message("area",this.state.area_draft,"required")),b?m.a.createElement("div",{className:"row col-6 ml-3"},m.a.createElement("label",{className:"col-4"},"Area"),m.a.createElement("div",{className:"col-8"},": ",this.state.area&&null!==this.state.area?this.state.area:null)):null):null,this.state.isRm?m.a.createElement("div",{className:"row mb-3 col-12 ".concat(this.state.currentSenior!==this.state.seniorOri&&b?"updated":null)},m.a.createElement("div",{className:"row col-6"},m.a.createElement("label",{className:"col-4"},"Senior Status"),m.a.createElement("select",{disabled:S?"":"disabled",className:"col-8 form-input ".concat(this.state.isDataExist&&""===this.state.currentSenior?"emptyInput":""),onChange:function(t){return e.setState({currentSenior:t.target.value})},value:this.state.currentSenior},l)),b&&this.state.isRm?m.a.createElement("div",{className:"row col-6 ml-3"},m.a.createElement("label",{className:"col-4"},"Senior Status"),m.a.createElement("div",{className:"col-8"},": ",this.state.is_senior_string?this.state.is_senior_string:null)):null):null,""!==this.state.selectedRole&&"MASTER"!==this.state.selectedRole&&"MANAGEMENT"!==this.state.selectedRole&&""!==this.state.user_app_bu_id_draft&&null!==this.state.user_app_bu_id_draft&&""!==this.state.user_app_role_id_draft&&null!==this.state.user_app_role_id_draft?m.a.createElement("div",{className:"row mb-3 col-12 ".concat(b&&""!==this.state.parent_id_draft&&this.state.parent_id!==this.state.parent_id_draft?"updated":null)},m.a.createElement("div",{className:"row col-6"},m.a.createElement("label",{className:"col-4"},"Assign To Direct Supervisor"),m.a.createElement("select",{disabled:S?"":"disabled",className:"col-8 form-input ".concat(this.state.isDataExist&&""===this.state.parent_id_draft?"emptyInput":""),onChange:function(t){return e.setState({parent_id_draft:t.target.value})},value:this.state.parent_id_draft},m.a.createElement("option",{key:"",value:""},"Select Direct Supervisor"),s)),b?m.a.createElement("div",{className:"row col-6 ml-3"},m.a.createElement("label",{className:"col-4"},"Direct Supervisor"),m.a.createElement("div",{className:"col-8"},": ","-"!==this.state.parent_name?this.state.parent_name:null)):null):null,b&&this.state.status?m.a.createElement("div",{className:"row mb-3 col-12"},m.a.createElement("label",{className:"col-2"},"Current Data Status"),m.a.createElement("div",{className:"col-4 pl-0"},this.state.status)):null,b&&this.state.updated_by?m.a.createElement("div",{className:"row mb-3 col-12"},m.a.createElement("label",{className:"col-2"},"Last Updated By"),m.a.createElement("div",{className:"col-4 pl-0"},this.state.updated_by)):null,b&&g?m.a.createElement("div",{className:"row mb-3 col-12"},m.a.createElement("label",{className:"col-2"},"Remarks"),m.a.createElement("div",{className:"col-4 pl-0"},this.state.remarks)):null)),m.a.createElement("div",{className:"d-flex justify-content-end"},o&&c?m.a.createElement("div",null,m.a.createElement("button",{className:"button-red ".concat(a?"mr-2":""),onClick:this.onSubmitAndSave.bind(this)},"Save And Submit User")):null,u&&f?m.a.createElement("div",null,m.a.createElement("button",{className:"button-red mr-2",onClick:this.handleOpenModal},"Reject"),m.a.createElement("button",{className:"button-green",onClick:this.openApproveModal},"Approve")):null,u&&v?m.a.createElement("div",null,m.a.createElement("button",{className:"button-red mr-2",onClick:this.openModalDelete},"Reject Delete"),m.a.createElement("button",{className:"button-green",onClick:this.onApproveDelete.bind(this)},"Approve Delete")):null),v&&u&&this.state.showModalDelete?m.a.createElement(h.a,{isOpen:this.state.showModalDelete,contentLabel:"onRequestClose Example",onRequestClose:this.closeModalDelete,className:"Modal",overlayClassName:"Overlay"},m.a.createElement("div",{className:"row mx-0 justify-content-center"},m.a.createElement("h4",{className:"mb-4"},"Please fill Remark to data Maker !"),m.a.createElement("textarea",{className:"col-12 form-input",type:"text",onChange:function(t){return e.setState({remarks:t.target.value})},value:this.state.remarks||"",onBlur:function(){return e.validator.showMessageFor("remarks")}}),this.validator.message("remarks",this.state.remarks,"required")),m.a.createElement("div",{className:"d-flex justify-content-center mx-2 mt-5"},m.a.createElement("button",{className:"button-red mr-5",onClick:this.closeModalDelete},"Close"),m.a.createElement("button",{className:"button-red",onClick:this.onRejectDelete.bind(this)},"Reject Delete"))):null,f&&u&&"reject-modal"===this.state.modalName&&this.state.showModal?m.a.createElement(h.a,{isOpen:this.state.showModal,contentLabel:"onRequestClose Example",onRequestClose:this.handleCloseModal,className:"Modal",overlayClassName:"Overlay"},m.a.createElement("div",{className:"row mx-0 justify-content-center"},m.a.createElement("h4",{className:"mb-4"},"Please fill Remark to data Maker !"),m.a.createElement("textarea",{className:"col-12 form-input",type:"text",onChange:function(t){return e.setState({remarks:t.target.value})},value:this.state.remarks||"",placeholder:"Remarks",onBlur:function(){return e.validator.showMessageFor("remarks")}}),this.validator.message("remarks",this.state.remarks,"required")),m.a.createElement("div",{className:"d-flex justify-content-center mx-2 mt-4"},m.a.createElement("button",{className:"button-red mr-5",onClick:this.handleCloseModal},"Cancel"),m.a.createElement("button",{className:"button-red",onClick:this.onSubmitReject.bind(this)},"Reject"))):null,m.a.createElement(h.a,{isOpen:this.state.showModalApprove,contentLabel:"onRequestClose Example",onRequestClose:this.closeModalApprove,className:"Modal",overlayClassName:"Overlay"},m.a.createElement("div",{className:"row mx-0 justify-content-center"},m.a.createElement("h4",null,"Are You Sure To Approve This Data ?")),m.a.createElement("div",{className:"d-flex justify-content-center mx-2 mt-5"},m.a.createElement("button",{className:"button-red mr-5",onClick:this.closeModalApprove},"Cancel"),m.a.createElement("button",{className:"button-red",onClick:this.onSubmitApprove.bind(this)},"Approve"))),this.state.loading?m.a.createElement("div",{className:"loading-overlay"},m.a.createElement("div",{className:"loader"})):null)}}]),a}(d.Component)},,,function(e,t,a){"use strict";a.d(t,"a",(function(){return C}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=(a(1446),a(30)),h=a.n(p),f=a(51),g=a(17),v=a(8),b=a(24),y=a.n(b),S=a(31),E=a.n(S),w=a(16),k=a.n(w),N=a(27);a(21),a(59),a(127);h.a.setAppElement("body");var C=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={token:localStorage.getItem("accessToken"),labelButton:"Save Draft",alertState:"alert alert-primary",isEdit:!1,error:!1,showModal:!1,typeFind:"rmwbData",modalName:"",loading:!0,code:"",name:"",listClient:[],page:1,perPage:10,searchClientName:"",searchClientCif:"",totalRows:0,management_name:"",client_cif:"",createNtb:!1,roleName:localStorage.getItem("roleName"),isSadmin:!1},window.scrollTo(0,0),e.handlePageChange=e.handlePageChange.bind(Object(o.a)(e)),e.handlePerRowsChange=e.handlePerRowsChange.bind(Object(o.a)(e)),e.handleOpenModal=e.handleOpenModal.bind(Object(o.a)(e)),e.handleCloseModal=e.handleCloseModal.bind(Object(o.a)(e)),e.searchClient=e.searchClient.bind(Object(o.a)(e)),e.selectClient=e.selectClient.bind(Object(o.a)(e)),e}return Object(i.a)(a,[{key:"handleOpenModal",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"client-cif"===t&&this.searchClient(this.state.page,this.state.perPage,"",""),this.setState({showModal:!0,modalName:t});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleCloseModal",value:function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({showModal:!1});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handlePageChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({page:t}),this.searchClient(t,this.state.perPage,this.state.searchClientName,this.state.searchClientCif);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handlePerRowsChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({perPage:t}),this.searchClient(this.state.page,t,this.state.searchClientName,this.state.searchClientCif);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentWillMount",value:function(){this.setState({isSadmin:"SADMINOCTOBENCH"===this.state.roleName}),this.getdataMaster(),this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),this.setState({loggedUser:localStorage.getItem("userNip")}),"edit"===this.props.mode&&this.props.data&&(this.setState(this.props.data),this.setState({labelButton:"Save Draft",isEdit:!0}),this.getListDataStatus(this.props.data.status)),this.validator=new E.a({autoForceUpdate:this,element:function(e){return m.a.createElement("div",{className:"row col-12 validator-error-message"},m.a.createElement("div",{className:"col-4"}),m.a.createElement("div",{className:"col-8"},e))}})}},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=!0,n=new f.a,r=new g.a,e.next=6,r.findStatusByParam(this.state);case 6:return(l=e.sent)&&200===l.status&&l.data?this.setState({listDataStatus:l.data}):t=!1,t||this.clearSession(),e.next=11,n.getDesignation(this.state);case 11:(i=e.sent)&&200===i.status&&i.data&&i.data.data.length>0?this.setState({listDesignation:i.data.data}):(this.setState({roleUser:[]}),a=!1),a||this.errorConectionToBe();case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"searchButton",value:function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.searchClient(this.state.page,this.state.perPage,this.state.searchClientName,this.state.searchClientCif);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"searchClient",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r){var l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),l=new f.a,e.next=4,l.findClient(t,a,n,r);case 4:(i=e.sent)&&200===i.status&&i.data&&i.data.data.length>0?(this.setState({listClient:i.data.data}),this.setState({totalRows:i.data.total_result}),this.setState({totalPage:i.data.total_page}),this.setState({loading:!1})):i&&i.data&&v.a===i.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):(this.setState({listClient:[]}),this.setState({totalRows:0}),this.setState({totalPage:0}),this.setState({loading:!1}));case 6:case"end":return e.stop()}}),e,this)})));return function(t,a,n,s){return e.apply(this,arguments)}}()},{key:"selectClient",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t?(this.setState({client_cif:t}),this.handleCloseModal(),document.getElementById("client-cif").value=t):alert("Sorry please select other client!");case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getListDataStatus",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!0,n=new g.a,e.next=4,n.findStatusByParam(this.state);case 4:(r=e.sent)&&200===r.status&&r.data.length>0?(this.setState({listDataStatus:r.data}),l=r.data.filter((function(e){return e.code===t})),this.setState({currentDataStatus:l[0]})):(this.setState({listDataStatus:""}),this.setState({currentDataStatus:""}),r&&r.data&&v.a===r.data.data?a=!1:this.setState({listDataStatus:""})),a||this.clearSession();case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"errorConectionToBe",value:function(){alert("Connection to Server Octobench interupted!\nPlease check your conection or contact administrator!")}},{key:"validateRemark",value:function(e){return this.setState({error:!0,alertState:"alert alert-danger"}),e.remarks?(this.setState({error:!1,alertState:"alert alert-primary"}),!0):(this.setState({errorMessage:"Please fill remarks!"}),!1)}},{key:"onSubmit",value:function(){if(this.props.onSubmit){var e=this.state;e.submitOnly=!0,this.validator.allValid()?this.props.onSubmit(e):this.validator.showMessages()}}},{key:"onSubmitAndSave",value:function(){if(this.props.onSubmitAndSave){var e=this.state;e.submitOnly=!1,e.submitAndSave=!0,this.validator.allValid()?this.props.onSubmitAndSave(e):this.validator.showMessages()}}},{key:"onSubmitApprove",value:function(){if(this.props.onSubmitAndSave){var e=this.state;e.submitApprove=!0,this.props.onSubmitAndSave(e)}}},{key:"onSubmitReject",value:function(){if(this.props.onSubmitAndSave){var e=this.state;e.submitReject=!0,this.validator.allValid()?this.props.onSubmitAndSave(e):this.validator.showMessages()}}},{key:"onApproveDelete",value:function(){if(this.props.onSubmitAndSave){var e=this.state;e.approveDelete=!0,this.props.onSubmitAndSave(e)}}},{key:"onRejectDelete",value:function(){if(this.props.onSubmitAndSave){var e=this.state;e.rejectDelete=!0,this.validator.allValid()?this.props.onSubmitAndSave(e):this.validator.showMessages()}}},{key:"render",value:function(){var e=this,t=this.state.isSadmin,a=this.state.date_of_birth_draft?k()(this.state.date_of_birth_draft,"YYYY-MM-DDTHH:mm:ss").toDate():null,n=JSON.parse(this.state.userPrivilege)||[],s=this.state.listDesignation||[];s=s.map((function(e){var t=e.key,a=e.value;return m.a.createElement("option",{key:t,"code-data":t,value:t},a)}));for(var r=!1,l=!1,i=!1,o=0;o<n.length;o++)"create_rmwb_clientManagement"===n[o].name+"_"+n[o].vgroup&&(r=!0),"update_rmwb_clientManagement"===n[o].name+"_"+n[o].vgroup&&(l=!0),"approval_rmwb_clientManagement"===n[o].name+"_"+n[o].vgroup&&(i=!0);var c=[{name:"Client Id",selector:"client_id",sortable:!1},{name:"Client CIF",selector:"client_cif",sortable:!1},{name:"Name",selector:"name",sortable:!1},{name:"NPWP",selector:"npwp",sortable:!1},{name:"Select",sortable:!1,cell:function(t){return m.a.createElement("input",{type:"button",alt:"Edit",className:"btn btn-info",height:20,value:"Select",onClick:function(){return e.selectClient(t.client_cif,t.name)}})},button:!0}],u=this.state.currentDataStatus?this.state.currentDataStatus:[],d=!1,p=!1,f=!1,g=!1;return this.state.isEdit&&(g=!0),u&&("rmwbData_submitted"===u.type+"_"+u.code&&(d=!0),"rmwbData_rejected"===u.type+"_"+u.code&&(p=!0),"rmwbData_requestDelete"===u.type+"_"+u.code&&(f=!0)),m.a.createElement("div",{id:"ClientManagementForm"},this.state.error?m.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.errorMessage):null,m.a.createElement("div",{className:"form-box-area mb-4"},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"row col-12"},m.a.createElement("h4",{className:"mb-4 col-6"},"Form Client Management"),g?m.a.createElement("h4",{className:"mb-4 col-6"},"Data Client Management Original"):null),m.a.createElement("div",{className:"row mb-3 col-12"},m.a.createElement("div",{className:"row col-6"},m.a.createElement("label",{className:"col-12 col-lg-12 col-xl-4"},"Client CIF ",m.a.createElement("span",{className:"text-danger"},"*")),m.a.createElement("input",{disabled:"".concat(g?"disabled":""),readOnly:"readOnly",className:"col-12 col-lg-12 col-xl-8 mx-3 mx-xl-0 form-input",placeholder:"Please click and select Client!",type:"text",id:"client-cif",value:this.state.client_cif?this.state.client_cif:"",onClick:function(){return g?null:e.handleOpenModal("client-cif")}}),this.validator.message("client_cif",this.state.client_cif,"required")),g?m.a.createElement("div",{className:"row col-6 ml-3"},m.a.createElement("label",{className:"col-12 col-lg-12 col-xl-4"},"Client CIF"),m.a.createElement("div",{className:"col-12 col-lg-12 col-xl-8"},": ",this.state.client_cif&&null!==this.state.client_cif?this.state.client_cif:null)):null),m.a.createElement("div",{className:"row mb-3 col-12 ".concat(g&&this.state.management_name!==this.state.management_name_draft?"updated":null)},m.a.createElement("div",{className:"row col-6"},m.a.createElement("label",{className:"col-12 col-lg-12 col-xl-4"},"Management Name ",m.a.createElement("span",{className:"text-danger"},"*")),m.a.createElement("input",{className:"col-12 col-lg-12 col-xl-8 mx-3 mx-xl-0 form-input",disabled:t||!i?"":"disabled",value:this.state.management_name_draft?this.state.management_name_draft:"",onChange:function(t){return e.setState({management_name_draft:t.target.value})},type:"text",id:"management_name",placeholder:"Please input management name",onBlur:function(){return e.validator.showMessageFor("management_name")}}),this.validator.message("management_name",this.state.management_name_draft,"required")),g?m.a.createElement("div",{className:"row col-6 ml-3"},m.a.createElement("label",{className:"col-12 col-lg-12 col-xl-4"},"Management Name"),m.a.createElement("div",{className:"col-12 col-lg-12 col-xl-8"},": ",this.state.management_name&&null!==this.state.management_name?this.state.management_name:null)):null),m.a.createElement("div",{className:"row mb-3 col-12 ".concat(g&&this.state.designation!==this.state.designation_draft?"updated":null)},m.a.createElement("div",{className:"row col-6"},m.a.createElement("label",{className:"col-12 col-lg-12 col-xl-4"},"Designation ",m.a.createElement("span",{className:"text-danger"},"*")),m.a.createElement("select",{disabled:t||!i?"":"disabled",className:"col-12 col-lg-12 col-xl-8 mx-3 mx-xl-0 form-input",onChange:function(t){return e.setState({designation_draft:t.target.value})},value:this.state.designation_draft,onBlur:function(){return e.validator.showMessageFor("designation_draft")}},m.a.createElement("option",{key:"",value:""},"Select Designation"),s),this.validator.message("designation_draft",this.state.designation_draft,"required")),g?m.a.createElement("div",{className:"row col-6 ml-3"},m.a.createElement("label",{className:"col-12 col-lg-12 col-xl-4"},"Designation"),m.a.createElement("div",{className:"col-12 col-lg-12 col-xl-8"},": ",this.state.designation_text&&null!==this.state.designation_text?this.state.designation_text:null)):null),m.a.createElement("div",{className:"row mb-3 col-12 ".concat(g&&this.state.date_of_birth!==this.state.date_of_birth_draft?"updated":null)},m.a.createElement("div",{className:"row mb-2 col-6"},m.a.createElement("label",{className:"col-12 col-lg-12 col-xl-4"},"Birth Date"),m.a.createElement("div",{className:"col-12 col-lg-12 col-xl-8 mx-3 mx-xl-0 p-0"},m.a.createElement(N.a,{ref:"insert_date",className:"col-12 form-input",dateFormat:"yyyy-MM-dd",selected:a,disabled:t||!i?"":"disabled",onChange:function(t){return e.setState({date_of_birth_draft:t})}}))),g&&this.state.date_of_birth?m.a.createElement("div",{className:"row col-6 ml-3"},m.a.createElement("label",{className:"col-12 col-lg-12 col-xl-4"},"Birth Date"),m.a.createElement("div",{className:"col-12 col-lg-12 col-xl-8"},": ",this.state.date_of_birth&&null!==this.state.date_of_birth?this.state.date_of_birth:null)):null),g&&this.state.status?m.a.createElement("div",{className:"row mb-3 col-6"},m.a.createElement("label",{className:"col-12 col-lg-12 col-xl-4"},"Current Data Status"),m.a.createElement("div",{className:"col-12 col-lg-12 col-xl-8 p-xl-0"},this.state.status)):null,g&&this.state.updated_by?m.a.createElement("div",{className:"row mb-3 col-6"},m.a.createElement("label",{className:"col-12 col-lg-12 col-xl-4"},"Last Updated By"),m.a.createElement("div",{className:"col-12 col-lg-12 col-xl-8 p-0"},this.state.updated_by)):null,g&&p?m.a.createElement("div",{className:"row mb-3 col-6"},m.a.createElement("label",{className:"col-12 col-lg-12 col-xl-4"},"Remarks"),m.a.createElement("div",{className:"col-12 col-lg-12 col-xl-8 p-0"},this.state.remarks)):null)),m.a.createElement("div",{className:"d-flex justify-content-end"},r&&l?m.a.createElement("div",null,m.a.createElement("button",{className:"button-red mr-2",onClick:this.onSubmitAndSave.bind(this)},"Save And Submit")):null,i&&d?m.a.createElement("div",null,m.a.createElement("button",{className:"button-red mr-2",onClick:function(){return e.handleOpenModal("reject-data")}},"Reject"),m.a.createElement("button",{className:"button-green",onClick:function(){return e.handleOpenModal("approve-data")}},"Approve")):null,i&&f?m.a.createElement("div",null,m.a.createElement("button",{className:"button-red mr-2",onClick:function(){return e.handleOpenModal("reject-delete")}},"Reject Delete"),m.a.createElement("button",{className:"button-green",onClick:function(){return e.handleOpenModal("approve-delete")}},"Approve Delete")):null),m.a.createElement(h.a,{closeTimeoutMS:300,isOpen:this.state.showModal,contentLabel:"onRequestClose Example",onRequestClose:this.handleCloseModal,className:"client-form-modal Modal ".concat("client-cif"===this.state.modalName?"search":null),overlayClassName:"Overlay"},"approve-delete"===this.state.modalName?m.a.createElement("div",null,m.a.createElement("div",{className:"row mx-0 justify-content-center"},m.a.createElement("h4",null,"Are You Sure To Approve Delete This Data ?")),m.a.createElement("div",{className:"d-flex justify-content-center mx-2 mt-5"},m.a.createElement("button",{className:"button-red mr-5",onClick:this.handleCloseModal},"Cancel"),m.a.createElement("button",{className:"button-red",onClick:this.onApproveDelete.bind(this)},"Approve"))):null,"reject-delete"===this.state.modalName?m.a.createElement("div",null,m.a.createElement("div",{className:"row mx-0 justify-content-center"},m.a.createElement("h4",{className:"mb-4"},"Please fill Remark to data Maker !"),m.a.createElement("textarea",{className:"col-10 form-input",type:"text",onChange:function(t){return e.setState({remarks:t.target.value})},value:this.state.remarks||"",onBlur:function(){return e.validator.showMessageFor("remarks")}}),this.validator.message("remarks",this.state.remarks,"required")),m.a.createElement("div",{className:"d-flex justify-content-center mx-2 mt-5"},m.a.createElement("button",{className:"button-red mr-5",onClick:this.handleCloseModal},"Close"),m.a.createElement("button",{className:"button-red",onClick:this.onRejectDelete.bind(this)},"Reject Delete"))):null,"client-cif"===this.state.modalName?m.a.createElement("div",null,m.a.createElement("div",{className:"row mx-0 mb-4"},m.a.createElement("h4",null,"Search Client CIF")),m.a.createElement("div",{className:"row justify-content-center"},m.a.createElement("input",{className:"col-4 form-input mr-3",placeholder:"Please input client cif",type:"text",onChange:function(t){return e.setState({searchClientCif:t.target.value})}}),m.a.createElement("input",{className:"col-4 form-input mr-3",placeholder:"Please input name client",type:"text",onChange:function(t){return e.setState({searchClientName:t.target.value})}}),m.a.createElement("button",{className:"btn btn-primary col-3",onClick:this.searchButton.bind(this)},"Search Client")),m.a.createElement("div",{className:"result-search"},m.a.createElement(y.a,{id:"tableData",className:"pt-0",columns:c,progressPending:this.state.loading,pagination:!0,paginationServer:!0,paginationTotalRows:this.state.totalRows,onChangeRowsPerPage:this.handlePerRowsChange,onChangePage:this.handlePageChange,data:this.state.listClient})),m.a.createElement("div",{className:"d-flex justify-content-end mx-2 mt-4"},m.a.createElement("button",{className:"btn btn-warning mr-2",onClick:this.handleCloseModal},"Close"))):null,"approve-data"===this.state.modalName?m.a.createElement("div",null,m.a.createElement("div",{className:"row mx-0 justify-content-center"},m.a.createElement("h4",null,"Are You Sure To Approve This Data ?")),m.a.createElement("div",{className:"d-flex justify-content-center mx-2 mt-5"},m.a.createElement("button",{className:"button-red mr-5",onClick:this.handleCloseModal},"Cancel"),m.a.createElement("button",{className:"button-red",onClick:this.onSubmitApprove.bind(this)},"Approve"))):null,"reject-data"===this.state.modalName?m.a.createElement("div",null,m.a.createElement("div",{className:"row mx-0 justify-content-center"},m.a.createElement("h4",{className:"mb-4"},"Please fill Remark to data Maker !"),this.state.error?m.a.createElement("div",{className:"col-12 ".concat(this.state.alertState),role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.errorMessage):null,m.a.createElement("textarea",{className:"col-12 form-input",type:"text",onChange:function(t){return e.setState({remarks:t.target.value})},value:this.state.remarks||"",placeholder:"Remarks",onBlur:function(){return e.validator.showMessageFor("remarks")}}),this.validator.message("remarks",this.state.remarks,"required")),m.a.createElement("div",{className:"d-flex justify-content-center mx-2 mt-4"},m.a.createElement("button",{className:"button-red mr-5",onClick:this.handleCloseModal},"Cancel"),m.a.createElement("button",{className:"button-red",onClick:this.onSubmitReject.bind(this)},"Reject"))):null))}}]),a}(d.Component)},function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(7),c=a.n(o),u=a(11),d=(a(10),function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,[{key:"getListProductTypes",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("jwtAtwork"),n={"Content-Type":"application/json",token:a},e.prev=2,e.next=5,c.a.get(u.c+"/interop/ref/lookup/products?productcategory="+t,{headers:n},{params:{}});case 5:return r=e.sent,e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()}]),e}())},function(e,t,a){"use strict";a.d(t,"a",(function(){return A}));var n=a(1),s=a.n(n),r=a(43),l=a(2),i=a(4),o=a(3),c=a(6),u=a(5),d=a(0),m=a.n(d),p=(a(21),a(59),a(104)),h=a(42),f=a(8),g=a(27),v=a(16),b=a.n(v),y=a(10),S=a.n(y),E=a(182),w=a.n(E),k=a(100),N=a(99),C=a.n(N),A=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).state={labelButton:"ADD NEW HR",alertState:"alert alert-primary",isEdit:!1,error:!1,token:localStorage.getItem("accessToken"),roleCode:["ROLE_USER_EMPLOYEE"],companyList:[],nik:""},e}return Object(o.a)(a,[{key:"componentWillMount",value:function(){"edit"===this.props.mode?this.getDetailHr():this.setState({isEdit:!1}),this.getdataMaster(),window.scrollTo(0,0)}},{key:"getDetailHr",value:function(){var e=Object(l.a)(s.a.mark((function e(){var t,a,n,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.data,a=S()(t,"nik",""),n=new p.a,e.next=5,n.getDetailHr(a);case 5:(l=e.sent)&&(l.data.success?(i=S()(l,"data.data",{}),this.setState(Object(r.a)(Object(r.a)({},i),{},{labelButton:"EDIT HR",isEdit:!0}))):l&&l.data&&f.a===l.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):(this.setState({isSuccess:!1,message:l.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getdataMaster",value:function(){var e=Object(l.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new h.a,e.next=3,t.getListCompany(this.state);case 3:(a=e.sent).data.success?this.setState({companyList:a.data.data}):a&&a.data&&f.a===a.data.data?(alert("Failed Fetch Data, please relogin."),localStorage.clear(),this.props.history.push("login")):(this.setState({companyList:[]}),window.scrollTo(0,0));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"chooseCompany",value:function(){var e=Object(l.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({companyCode:t.target.value});case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onChange",value:function(e){var t,a=this.state.roleCode;e.target.checked?a.push(e.target.value):(t=a.indexOf(e.target.value),a.splice(t,1)),this.setState({roleCode:a})}},{key:"validate",value:function(e){if(this.setState({error:!0,alertState:"alert alert-danger"}),!e.nik)return this.setState({errorMessage:"Please fill NIK!"}),!1;if(!e.fullName)return this.setState({errorMessage:"Please fill Full Name!"}),!1;if(!e.mobilePhone)return this.setState({errorMessage:"Please fill Mobile Phone!"}),!1;if(!e.dateOfBirth)return this.setState({errorMessage:"Please fill Date of Birth!"}),!1;if(!e.companyCode)return this.setState({errorMessage:"Please fill Company Code!"}),!1;if(!e.email)return this.setState({errorMessage:"Please fill Email!"}),!1;if(!e.roleCode)return this.setState({errorMessage:"Please fill Role Code!"}),!1;for(var t=!1,a=0;a<e.roleCode.length;a++)"ROLE_USER_HR_REVIEWER"!==e.roleCode[a]&&"ROLE_USER_HR_APPROVER"!==e.roleCode[a]||(t=!0);return t?(this.setState({error:!1,alertState:"alert alert-primary"}),!0):(this.setState({errorMessage:"Please Choose At Least 1 Level Access"}),!1)}},{key:"onSubmit",value:function(){if(this.props.onSubmit){var e=this.state;this.validate(e)?this.props.onSubmit(e):window.scrollTo(0,0)}}},{key:"handleClick",value:function(e){alert(e.target.name.charAt(0).toUpperCase()+e.target.name.slice(1)+" Is Read Only!")}},{key:"render",value:function(){var e=this,t=this.state.nik,a=this.state.dateOfBirth?b()(this.state.dateOfBirth,"DD/MM/YYYY").toDate():null,n=this.state.companyList||[];n=n.map((function(e){var t=e.id,a=e.code,n=e.name;return m.a.createElement("option",{key:t,value:a},a," - ",n)}));var s=S()(this.state,"roleCode",[]),r=w()(s,"ROLE_USER_HR_REVIEWER")?"ROLE_USER_HR_REVIEWER":"",l=w()(s,"ROLE_USER_HR_APPROVER")?"ROLE_USER_HR_APPROVER":"",i=C()(this.state.nik)||64!==t.length?this.state.nik:Object(k.a)(this.state.nik);return m.a.createElement("div",{id:"LookupForm"},this.state.error?m.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.errorMessage):null,m.a.createElement("div",{className:"form-box-area mb-4"},m.a.createElement("h4",null,"Company"),m.a.createElement("div",{className:"row mb-3"},m.a.createElement("label",{className:"col-3"},"Company Name"),m.a.createElement("select",{className:"col-4 form-input",onChange:function(t){return e.chooseCompany(t)},value:this.state.companyCode},m.a.createElement("option",{value:""},"Pilih"),n)),m.a.createElement("div",{className:"row mb-3"},m.a.createElement("label",{className:"col-3"},"Company Code"),m.a.createElement("input",{className:"col-4 form-input",type:"text",onChange:function(t){return e.setState({companyCode:t.target.value.trim()})},value:this.state.companyCode||"",defaultValue:this.state.companyCode||""})),m.a.createElement("h4",null,"Provide Access"),m.a.createElement("div",{className:"row mb-3"},m.a.createElement("label",{className:"col-3"},"Full Name"),m.a.createElement("input",{className:"col-4 form-input",type:"text",onChange:function(t){return e.setState({fullName:t.target.value.trim()})},defaultValue:this.state.fullName||""})),m.a.createElement("div",{className:"row mb-3"},m.a.createElement("label",{className:"col-3"},"NIK"),"edit"===this.props.mode?m.a.createElement("input",{className:"col-4 form-input",type:"text",onChange:function(t){return e.setState({nik:t.target.value.trim()})},defaultValue:i||"",maxLength:16,readOnly:!0}):m.a.createElement("input",{className:"col-4 form-input",type:"text",onChange:function(t){return e.setState({nik:t.target.value.trim()})},defaultValue:i||"",maxLength:16})),m.a.createElement("div",{className:"row mb-3"},m.a.createElement("label",{className:"col-3"},"Date of Birth"),m.a.createElement("div",{className:"col-4 p-0"},m.a.createElement(g.a,{className:"form-input",dateFormat:"dd/MM/yyyy",selected:a,onChange:function(t){return e.setState({dateOfBirth:t})},peekNextMonth:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",openToDate:new Date("1990/01/01")}))),m.a.createElement("div",{className:"row mb-3"},m.a.createElement("label",{className:"col-3"},"Email"),m.a.createElement("input",{className:"col-4 form-input",type:"text",onChange:function(t){return e.setState({email:t.target.value.trim()})},defaultValue:this.state.email||""})),m.a.createElement("div",{className:"row mb-3"},m.a.createElement("label",{className:"col-3"},"Mobile Phone"),m.a.createElement("input",{className:"col-4 form-input",type:"text",onChange:function(t){return e.setState({mobilePhone:t.target.value.trim()})},defaultValue:this.state.mobilePhone||""})),m.a.createElement("div",{className:"row mb-3"},m.a.createElement("label",{className:"col-3"},"Level Access"),m.a.createElement("table",{className:"col-4"},m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("label",{className:"switch"},m.a.createElement("input",{type:"checkbox",checked:r,value:"ROLE_USER_HR_REVIEWER",onChange:this.onChange.bind(this)}),m.a.createElement("span",{className:"slider round"})),"\xa0\xa0\xa0\xa0Maker"),m.a.createElement("td",null,"\xa0\xa0"),m.a.createElement("td",null,"\xa0\xa0")),m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("br",null))),m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("label",{className:"switch"},m.a.createElement("input",{type:"checkbox",checked:l,value:"ROLE_USER_HR_APPROVER",onChange:this.onChange.bind(this)}),m.a.createElement("span",{className:"slider round"})),"\xa0\xa0\xa0\xa0Checker"),m.a.createElement("td",null,"\xa0\xa0"),m.a.createElement("td",null,"\xa0\xa0")))))),m.a.createElement("div",{className:"d-flex justify-content-end"},m.a.createElement("button",{className:"button-red",onClick:this.onSubmit.bind(this)},this.state.labelButton)))}}]),a}(d.Component)},function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=(a(21),a(59),function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={labelButton:"ADD NEW PROMO CATEGORY",alertState:"alert alert-primary",isEdit:!1,error:!1,token:localStorage.getItem("accessToken"),id:"",code:"",description:"",name:"",priority:"",shortName:"",statusCode:"",statusState:""},e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){"edit"===this.props.mode?this.setState({id:this.props.data.id?this.props.data.id:"",code:this.props.data.code?this.props.data.code:"",description:this.props.data.description?this.props.data.description:"",name:this.props.data.name?this.props.data.name:"",priority:this.props.data.priority?this.props.data.priority:"",shortName:this.props.data.shortName?this.props.data.shortName:"",statusCode:this.props.data.status.code?this.props.data.status.code:"",statusState:this.props.data.status.state?this.props.data.status.state:"",labelButton:"EDIT PROMO CATEGORY",isEdit:!0}):this.setState({isEdit:!1}),window.scrollTo(0,0)}},{key:"chooseStatusPromoCategory",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({statusCode:t.target.value}),this.setState({statusState:t.target.value});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"validate",value:function(e){return this.setState({error:!0,alertState:"alert alert-danger"}),e.code?e.description?e.name?e.priority?e.shortName?e.statusCode&&e.statusState?/^[0-9]*$/.test(e.priority)?(this.setState({error:!1,alertState:"alert alert-primary"}),!0):(this.setState({errorMessage:"Priority Only Accepts Number!"}),!1):(this.setState({errorMessage:"Please Fill Promo Category Status!"}),!1):(this.setState({errorMessage:"Please Fill Promo Category Short Name!"}),!1):(this.setState({errorMessage:"Please Fill Promo Category Priority!"}),!1):(this.setState({errorMessage:"Please Fill Promo Category Name!"}),!1):(this.setState({errorMessage:"Please Fill Promo Category Description!"}),!1):(this.setState({errorMessage:"Please Fill Promo Category Code!"}),!1)}},{key:"onSubmit",value:function(){if(this.props.onSubmit){var e=this.state;this.validate(e)?this.props.onSubmit(e):window.scrollTo(0,0)}}},{key:"render",value:function(){var e=this;return d.a.createElement("div",{id:"LookupForm"},this.state.error?d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.errorMessage):null,d.a.createElement("div",{className:"form-box-area mb-4"},d.a.createElement("h4",null,"Promotion Category"),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Promo Category Code"),d.a.createElement("input",{className:"col-4 form-input",type:"text",onChange:function(t){return e.setState({code:t.target.value})},value:this.state.code,defaultValue:this.state.code,disabled:"edit"===this.props.mode})),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Description"),d.a.createElement("textarea",{className:"col-7 form-input",rows:"5",value:this.state.description,onChange:function(t){return e.setState({description:t.target.value})},onBlur:function(t){return e.setState({description:t.target.value})},defaultValue:this.state.description})),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Name"),d.a.createElement("input",{className:"col-4 form-input",type:"text",onChange:function(t){return e.setState({name:t.target.value})},value:this.state.name,defaultValue:this.state.name})),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Priority"),d.a.createElement("input",{className:"col-4 form-input",type:"text",onChange:function(t){return e.setState({priority:t.target.value})},value:this.state.priority,defaultValue:this.state.priority})),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Short Name"),d.a.createElement("input",{className:"col-4 form-input",type:"text",onChange:function(t){return e.setState({shortName:t.target.value})},value:this.state.shortName,defaultValue:this.state.shortName})),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Status Promo Category"),d.a.createElement("select",{className:"col-4 form-input",onChange:function(t){return e.chooseStatusPromoCategory(t)},value:this.state.statusCode},d.a.createElement("option",{value:""},"Pilih"),d.a.createElement("option",{value:"ACTIVE"},"ACTIVE"),d.a.createElement("option",{value:"INACTIVE"},"INACTIVE")))),d.a.createElement("div",{className:"d-flex justify-content-end"},d.a.createElement("button",{className:"button-red",onClick:this.onSubmit.bind(this)},this.state.labelButton)))}}]),a}(u.Component))},function(e,t,a){"use strict";a.d(t,"a",(function(){return O}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=(a(21),a(59),a(163)),h=a(42),f=a(178),g=a(8),v=a(27),b=a(16),y=a.n(b),S=(a(10),a(182),a(100),a(99),a(287),a(250)),E=(a(288),a(180)),w=a(248),k=a(61),N=a.n(k),C=a(198),A=a(30),x=a.n(A),O=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(l.a)(this,a),(e=t.call(this)).uploadPromotionPhoto=e.uploadPromotionPhoto.bind(Object(o.a)(e)),e.handleChange=e.handleChange.bind(Object(o.a)(e));var n=y()(new Date).format("YYYY-MM-DD"),s=y()(new Date).format("YYYY-MM-DD");return e.state={labelButton:"ADD NEW PROMO",alertState:"alert alert-primary",isEdit:!1,error:!1,token:localStorage.getItem("accessToken"),uploadedPromoPhoto:"",id:"",code:"",categoryId:"",categoryName:"",title:"",description:"",startDate:n,endDate:s,image:"",content:"",modalLoading:!1,companies:[{id:"",name:""}],defaultValueCompanies:[]},e}return Object(i.a)(a,[{key:"componentDidUpdate",value:function(e,t){t.content!==this.state.content&&(this.state.content.includes('<figure class="image"><img></figure>')?this.setState({modalLoading:!0}):this.setState({modalLoading:!1}))}},{key:"componentWillMount",value:function(){var e=this;if("edit"===this.props.mode){var t=[],a=this.props.data.companies;N()(a,(function(n,s){var r=a[s].id,l=a[s].name,i={};i.id=r,i.name=l,t.push(i),e.setState({companies:t})})),this.setState({id:this.props.data.id?this.props.data.id:"",code:this.props.data.code?this.props.data.code:"",categoryId:this.props.data.category.id?this.props.data.category.id:"",categoryName:this.props.data.category.name?this.props.data.category.name:"",title:this.props.data.title?this.props.data.title:"",description:this.props.data.description?this.props.data.description:"",startDate:this.props.data.startDate?y()(this.props.data.startDate).format("YYYY-MM-DD"):"",image:this.props.data.image?this.props.data.image:"",endDate:this.props.data.endDate?y()(this.props.data.endDate).format("YYYY-MM-DD"):"",content:this.props.data.content?this.props.data.content:"",labelButton:"EDIT PROMO",defaultValueCompanies:a,isEdit:!0}),this.props.data.content.includes('<figure class="image"><img></figure>')&&this.setState({content:""}),this.getPromotionImage(this.props.data.image)}else this.setState({isEdit:!1});this.getdataMaster(),this.getMasterPromoCategory(),window.scrollTo(0,0)}},{key:"getPromotionImage",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new p.a,e.next=3,a.getPromoImage(t);case 3:(n=e.sent)?this.setState({uploadedPromoPhoto:n}):n&&n.data&&g.a===n.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new h.a,e.next=3,t.getListCompany(this.state);case 3:(a=e.sent).data.success?this.setState({companyList:a.data.data}):a&&a.data&&g.a===a.data.data?(alert("Failed Fetch Data, please relogin."),localStorage.clear(),this.props.history.push("login")):(this.setState({companyList:[]}),window.scrollTo(0,0));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getMasterPromoCategory",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new f.a,e.next=3,t.getListActivePromoCategory();case 3:(a=e.sent).data.success?this.setState({promoCategoryList:a.data.data.content}):a&&a.data&&g.a===a.data.data?(alert("Failed Fetch Data, please relogin."),localStorage.clear(),this.props.history.push("login")):(this.setState({promoCategoryList:[]}),window.scrollTo(0,0));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"choosePromoCategory",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.value,n=t.target.options[t.target.selectedIndex].text,this.setState({categoryId:a}),this.setState({categoryName:n});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=this,a=[];if(null===e){var n={id:"",name:""};a.push(n),this.setState({companies:a,defaultValueCompanies:[]})}else N()(e,(function(n,s){var r=e[s].id,l=e[s].name,i={};i.id=r,i.name=l,a.push(i),t.setState({companies:a})})),this.setState({defaultValueCompanies:e})}},{key:"validate",value:function(e){return this.setState({error:!0,alertState:"alert alert-danger"}),e.code?e.categoryId&&e.categoryName?e.title?e.description?e.content?e.image?e.companies[0].id&&e.companies[0].name?(this.setState({error:!1,alertState:"alert alert-primary"}),!0):(this.setState({errorMessage:"Please Choose Share To Company!"}),!1):(this.setState({errorMessage:"Please Upload Promo Photo!"}),!1):(this.setState({errorMessage:"Please Fill Promo Content!"}),!1):(this.setState({errorMessage:"Please Fill Promo Description!"}),!1):(this.setState({errorMessage:"Please Fill Promo Title!"}),!1):(this.setState({errorMessage:"Please Fill Promo Category!"}),!1):(this.setState({errorMessage:"Please Fill Promo Code!"}),!1)}},{key:"onSubmit",value:function(){if(this.props.onSubmit){var e=this.state;this.validate(e)?this.props.onSubmit(e):window.scrollTo(0,0)}}},{key:"uploadPromotionPhoto",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t,""!==(n=this.state.code)){e.next=8;break}return this.setState({error:!0,alertState:"alert alert-danger"}),this.setState({errorMessage:"Please Fill Promo Code!"}),e.abrupt("return",!1);case 8:this.setState({error:!1,alertState:"alert alert-primary"});case 9:return r=new p.a,e.next=12,r.uploadPromoImage(a,n);case 12:(l=e.sent)&&(l.data.success?(this.setState({uploadedPromoPhoto:a}),this.setState({image:l.data.data})):l&&l.data&&g.a===l.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):(this.setState({isSuccess:!1,message:l.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0)));case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=Object(w.a)(),a=this.state.startDate?y()(this.state.startDate,"YYYY-MM-DD").toDate():y()(new Date,"YYYY-MM-DD").toDate(),n=this.state.endDate?y()(this.state.endDate,"YYYY-MM-DD").toDate():y()(new Date,"YYYY-MM-DD").toDate(),s=this.state.companyList||[];s=s.map((function(e){var t=e.id,a=(e.code,e.name);return m.a.createElement("option",{key:t,value:t},a)}));var r=this.state.promoCategoryList||[];return r=r.map((function(e){var t=e.id,a=(e.code,e.name);return m.a.createElement("option",{key:t,value:t},a)})),m.a.createElement("div",{id:"LookupForm"},m.a.createElement(x.a,{isOpen:this.state.modalLoading,className:"preview-modal",ariaHideApp:!1,style:{content:{width:"500px",height:"400px",zIndex:"9000",backgroundColor:"#FFFFFF"}}},m.a.createElement("div",{style:{paddingTop:"150px",paddingLeft:"10px",paddingBottom:"10px"}},m.a.createElement("h3",{style:{textAlign:"center"}},"Loading..."),m.a.createElement("h4",{style:{textAlign:"center"}},"Please Wait... Uploading Image"))),this.state.error?m.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.errorMessage):null,m.a.createElement("div",{className:"form-box-area mb-4"},m.a.createElement("h4",null,"Promotion"),m.a.createElement("div",{className:"row mb-3"},m.a.createElement("label",{className:"col-3"},"Promotion Code"),m.a.createElement("input",{className:"col-4 form-input",type:"text",onChange:function(t){return e.setState({code:t.target.value})},value:this.state.code,defaultValue:this.state.code,maxLength:20,disabled:"edit"===this.props.mode})),m.a.createElement("div",{className:"row mb-3"},m.a.createElement("label",{className:"col-3"},"Promotion Category"),m.a.createElement("select",{className:"col-4 form-input",onChange:function(t){return e.choosePromoCategory(t)},value:this.state.categoryId},m.a.createElement("option",{value:""},"Pilih"),r)),m.a.createElement("div",{className:"row mb-3"},m.a.createElement("label",{className:"col-3"},"Title"),m.a.createElement("input",{className:"col-4 form-input",type:"text",onChange:function(t){return e.setState({title:t.target.value})},value:this.state.title,defaultValue:this.state.title,maxLength:30})),m.a.createElement("div",{className:"row mb-3"},m.a.createElement("label",{className:"col-3"},"Description"),m.a.createElement("textarea",{className:"col-7 form-input",rows:"5",value:this.state.description,onChange:function(t){return e.setState({description:t.target.value})},onBlur:function(t){return e.setState({description:t.target.value})},defaultValue:this.state.description,maxLength:50})),m.a.createElement("h4",null,"Promotion Due Date"),m.a.createElement("div",{className:"row mb-3"},m.a.createElement("label",{className:"col-3"},"Start Date"),m.a.createElement("div",{className:"col-4 p-0"},m.a.createElement(v.a,{className:"form-input",dateFormat:"dd/MM/yyyy",selected:a,onChange:function(t){return e.setState({startDate:y()(t).format("YYYY-MM-DD")})},peekNextMonth:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",openToDate:new Date}))),m.a.createElement("div",{className:"row mb-3"},m.a.createElement("label",{className:"col-3"},"End Date"),m.a.createElement("div",{className:"col-4 p-0"},m.a.createElement(v.a,{className:"form-input",dateFormat:"dd/MM/yyyy",selected:n,onChange:function(t){return e.setState({endDate:y()(t).format("YYYY-MM-DD")})},peekNextMonth:!0,showMonthDropdown:!0,showYearDropdown:!0,dropdownMode:"select",openToDate:new Date}))),m.a.createElement("h4",null,"Content"),m.a.createElement("div",{className:"row mb-3"},m.a.createElement("div",{className:"col-11 m-4"},m.a.createElement(S.a,{className:"mb-4",data:this.state.content?this.state.content:"",onChange:function(t){return e.setState({content:t})},value:this.state.content,source:"atwork_promo"}))),m.a.createElement("h4",{className:"mb-4"},"Photo"),m.a.createElement("div",{className:"form-box-area mb-2"},m.a.createElement(C.a,{className:"mb-4",onUpload:this.uploadPromotionPhoto,file:this.state.uploadedPromoPhoto,accept:"image/x-png,image/jpeg,image/jpg",minSize:1,maxSize:3145728}),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col"},"*Upload Image ratio 16 : 9 for the best display ",m.a.createElement("br",null),"*Upload Image max size 3MB"),this.state.image?m.a.createElement("div",{className:"col"},m.a.createElement("button",{className:"button-white float-right",onClick:function(){return e.setState({uploadedPromoPhoto:null,image:null})}},"Delete")):null)),m.a.createElement("h4",null,"Share To"),m.a.createElement("div",{className:"row mb-3"},m.a.createElement("label",{className:"col-3"},"Company"),m.a.createElement(E.a,{closeMenuOnSelect:!1,components:t,value:this.state.defaultValueCompanies,isMulti:!0,getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.id},options:this.state.companyList,className:"col-6",onChange:function(t){return e.handleChange(t)}}))),m.a.createElement("div",{className:"d-flex justify-content-end"},m.a.createElement("button",{className:"button-red",onClick:this.onSubmit.bind(this)},this.state.labelButton)))}}]),a}(d.Component)},function(e,t,a){"use strict";a.d(t,"a",(function(){return h}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(32),p=a(8),h=(a(21),a(59),a(127),a(73),function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={token:localStorage.getItem("accessToken"),statusList:[],labelButton:"SAVE EMPLOYER",alertState:"alert alert-primary",isEdit:!1,error:!1},window.scrollTo(0,0),e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){console.log(JSON.stringify(this.props.data)),this.getdataMaster(),"edit"===this.props.mode&&(this.setState(this.props.data),this.setState({code:this.props.data.code?this.props.data.code:null,companyName:this.props.data.companyName?this.props.data.companyName:null,statusId:this.props.data.status.id?this.props.data.status.id:null,labelButton:"EDIT EMPLOYER",isEdit:!0}))}},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=new m.a,e.next=4,a.doGetStatusList(this.state,"employer");case 4:(n=e.sent)&&200===n.status&&n.data&&n.data.success?this.setState({statusList:n.data.data}):n&&n.data&&p.a===n.data.data?t=!1:this.setState({cardList:[]}),t||this.clearSession();case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"openPreview",value:function(){this.setState({previewIsOpen:!0})}},{key:"closePreview",value:function(){this.setState({previewIsOpen:!1})}},{key:"saveDraft",value:function(){}},{key:"validate",value:function(e){return this.setState({error:!0,alertState:"alert alert-danger"}),e.code?e.companyName?e.statusId?(this.setState({error:!1,alertState:"alert alert-primary"}),!0):(this.setState({errorMessage:"Please enter Status!"}),!1):(this.setState({errorMessage:"Please enter Company Name!"}),!1):(this.setState({errorMessage:"Please enter Employer Code!"}),!1)}},{key:"onSubmit",value:function(){if(this.props.onSubmit){var e=this.state;this.validate(e)?this.props.onSubmit(e):window.scrollTo(0,0)}}},{key:"render",value:function(){var e=this,t=(new m.a,this.state.statusList||[]);return t=t.map((function(e){var t=e.id,a=e.name,n=e.code;return d.a.createElement("option",{key:n,"code-data":n,value:t},a)})),d.a.createElement("div",null,this.state.error?d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.errorMessage):null,d.a.createElement("div",{className:"form-box-area mb-2"},d.a.createElement("h4",{className:"mb-4"},"Employer Information"),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Employer Code"),d.a.createElement("input",{readOnly:this.state.isEdit?"readOnly":"",className:"col-4 form-input",type:"text",onChange:function(t){return e.setState({code:t.target.value})},value:this.state.code||"",maxLength:8})),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Company Name"),d.a.createElement("input",{className:"col-4 form-input",type:"text",onChange:function(t){return e.setState({companyName:t.target.value})},value:this.state.companyName||"",maxLength:40})),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Status"),d.a.createElement("select",{className:"col-4 form-input",onChange:function(t){return e.setState({statusId:t.target.value})},value:this.state.statusId},d.a.createElement("option",{sasa:"",key:"",value:""},"Select Status"),t))),d.a.createElement("div",{className:"d-flex justify-content-end"},d.a.createElement("button",{className:"button-red",onClick:this.onSubmit.bind(this)},this.state.labelButton)))}}]),a}(u.Component))},,,function(e,t,a){"use strict";a.d(t,"a",(function(){return C}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=a(30),h=a.n(p),f=(a(73),a(198)),g=a(200),v=(a(571),Object(d.createRef)());function b(){v.current&&v.current.open()}function y(){return m.a.createElement("div",null,m.a.createElement("p",{style:{fontSize:18,fontWeight:600}},"Drop files here"),m.a.createElement("p",null,"or"),m.a.createElement("button",{id:"select-button",onClick:b},"Select Files"))}var S=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).state={fileName:""},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this,t=this.props.file?"pdf.png":null;return m.a.createElement(g.a,{ref:v,noClick:!0,noKeyboard:!0,multiple:!1,accept:"application/pdf",onDropAccepted:function(t){e.props.onChange&&e.props.onChange(t[0]),e.setState({fileName:t[0].name})}},(function(n){var s=n.getRootProps,r=n.getInputProps;return m.a.createElement("section",null,m.a.createElement("div",Object.assign({className:"Dropzone "+e.props.className},s()),m.a.createElement("input",r()),m.a.createElement("div",{id:"content"},t?m.a.createElement("img",{src:a(1036)("./"+t),alt:"preview",id:"pdf-size"}):m.a.createElement(y,null),m.a.createElement("div",null,m.a.createElement("p",{style:{fontSize:20,fontWeight:600}}," ",e.state.fileName," ")))))}))}}]),n}(d.Component),E=a(250),w=a(63),k=a(8),N=a(159),C=(a(21),a(59),a(127),function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).state={token:localStorage.getItem("accessToken"),categoryList:[],subCategoryList:[],segmentList:[],statusList:[],labelButton:"SAVE PRODUCT",image:null,pdfSA:null,alertState:"alert alert-primary",isEdit:!1,error:!1,htmlContent:"",productBriefContent:"",imageCheckExist:!1,pdfCheckExistSA:!1,categoryListFilter:[],subCategoryListFilter:[],isEditCheckCategory:!1,isEditCheckSubCategory:!1,segmentSAList:[]},e.onChangeSegement=e.onChangeSegement.bind(Object(o.a)(e)),e.onChangeCategory=e.onChangeCategory.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(n,[{key:"componentWillMount",value:function(){this.getDataHtmlContentProductById(this.props.data),this.getDataProductBriefById(this.props.data),this.validateCheckImageByCode(this.props.data),this.validateCheckPDFByCode(this.props.data),this.getdataMaster(),"edit"===this.props.mode&&(this.setState(this.props.data),this.setState({categoryId:this.props.data.category?this.props.data.category.id:null,subcategoryId:this.props.data.subcategory?this.props.data.subcategory.id:null,segmentId:this.props.data.segment?this.props.data.segment.id:null,statusId:this.props.data.status?this.props.data.status.id:null,segmentSAId:this.props.data.segmentSA?this.props.data.segmentSA.id:null,labelButton:"EDIT PRODUCT",isEdit:!0,isEditCheckCategory:!0,isEditCheckSubCategory:!0}))}},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=new w.a,e.next=4,a.getListProductCategory(this.state);case 4:return(n=e.sent)&&200===n.status&&n.data&&n.data.success?this.setState({categoryList:n.data.data}):n&&n.data&&k.a===n.data.data?t=!1:this.setState({categoryList:[]}),e.next=8,a.getListProductSegment(this.state);case 8:return(r=e.sent)&&200===r.status&&r.data&&r.data.success?this.setState({segmentList:r.data.data}):r&&r.data&&k.a===r.data.data?t=!1:this.setState({segmentList:[]}),e.next=12,a.getListSegmentSA(this.state);case 12:return(l=e.sent)&&200===l.status&&l.data&&l.data.success?this.setState({segmentSAList:l.data.data}):l&&l.data&&k.a===r.data.data?t=!1:this.setState({segmentSAList:[]}),e.next=16,a.getListProductSubCategory(this.state);case 16:return(i=e.sent)&&200===i.status&&i.data&&i.data.success?this.setState({subCategoryList:i.data.data}):i&&i.data&&k.a===i.data.data?t=!1:this.setState({subCategoryList:[]}),e.next=20,a.getListProductStatus(this.state);case 20:(o=e.sent)&&200===o.status&&o.data&&o.data.success?this.setState({statusList:o.data.data}):o&&o.data&&k.a===o.data.data?t=!1:this.setState({statusList:[]}),t||this.clearSession();case 23:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getDataHtmlContentProductById",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return a=new w.a,e.next=4,a.getProductById(t,this.state.token);case 4:(n=e.sent).data&&n.data.success&&n.data.data&&n.data.data.htmlContent?this.setState({htmlContent:Object(N.htmlDecode)(n.data.data.htmlContent.detail)}):(this.setState({htmlContent:""}),n&&n.data&&k.a===n.data.data||this.setState({htmlContent:""}));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getDataProductBriefById",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return a=new w.a,e.next=4,a.getProductById(t,this.state.token);case 4:(n=e.sent).data&&n.data.success&&n.data.data&&n.data.data.productBriefContent?this.setState({productBriefContent:n.data.data.productBriefContent.detail}):(this.setState({productBriefContent:""}),n&&n.data&&k.a===n.data.data||this.setState({productBriefContent:""}));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"validateCheckImageByCode",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return a=new w.a,e.next=4,a.validateCheckImage(t,this.state.token);case 4:(n=e.sent)&&!1===n.data.success?this.setState({image:null,imageCheckExist:!1}):this.setState({imageCheckExist:!0});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"validateCheckPDFByCode",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return a=new w.a,e.next=4,a.validateCheckPDF(t,this.state.token);case 4:(n=e.sent)&&!1===n.data.success?this.setState({pdfCheckExistSA:!1}):this.setState({pdfCheckExistSA:!0});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"openPreview",value:function(){this.setState({previewIsOpen:!0})}},{key:"closePreview",value:function(){this.setState({previewIsOpen:!1})}},{key:"saveDraft",value:function(){}},{key:"validate",value:function(e){return this.setState({error:!0,alertState:"alert alert-danger"}),e.code?e.name?e.description?e.segmentId?e.categoryId?e.subcategoryId?e.statusId?e.image||this.state.imageCheckExist?e.image&&this.state.image.size>204800?(this.setState({errorMessage:"Product Image exceeded maximum size!"}),!1):e.htmlContent?(this.setState({error:!1,alertState:"alert alert-primary"}),!0):(this.setState({errorMessage:"Please enter Html Content Product!"}),!1):(this.setState({errorMessage:"Please choose Product Image!"}),!1):(this.setState({errorMessage:"Please enter Product Status!"}),!1):(this.setState({errorMessage:"Please enter Product Sub Category!"}),!1):(this.setState({errorMessage:"Please enter Product Category!"}),!1):(this.setState({errorMessage:"Please enter Product Segment!"}),!1):(this.setState({errorMessage:"Please enter Product Description!"}),!1):(this.setState({errorMessage:"Please enter Product Name!"}),!1):(this.setState({errorMessage:"Please enter Product Code!"}),!1)}},{key:"onSubmit",value:function(){if(this.props.onSubmit){var e=this.state;this.validate(e)?this.props.onSubmit(e):window.scrollTo(0,0)}}},{key:"onChangeSegement",value:function(e){var t=e.target[e.target.selectedIndex].getAttribute("code-data"),a=e.target.value,n=(this.state.categoryList||[]).filter((function(e){return e.filter===t}));this.setState({categoryListFilter:n,segmentId:a,subCategoryListFilter:[]})}},{key:"onChangeCategory",value:function(e){var t=e.target[e.target.selectedIndex].getAttribute("code-data"),a=e.target.value,n=(this.state.subCategoryList||[]).filter((function(e){return e.filter===t}));this.setState({subCategoryListFilter:n,categoryId:a})}},{key:"onChangeCategoryEdit",value:function(e,t,a){var n=a.filter((function(e){return e.filter===t}));this.setState({categoryListFilter:n,categoryId:e}),a.length>0&&this.setState({isEditCheckCategory:!1})}},{key:"onChangeSubCategoryEdit",value:function(e,t,a){var n=a.filter((function(e){return e.filter===t}));this.setState({subCategoryListFilter:n,subcategoryId:e}),a.length>0&&this.setState({isEditCheckSubCategory:!1})}},{key:"render",value:function(){var e=this;if(this.state.isEditCheckCategory&&this.state.categoryList.length>0){var t=this.props.data.category?this.props.data.category.id:null,n=this.props.data.segment?this.props.data.segment.code:null;this.onChangeCategoryEdit(t,n,this.state.categoryList)}if(this.state.isEditCheckSubCategory&&this.state.subCategoryList.length>0){var s=this.props.data.subcategory?this.props.data.subcategory.id:null,r=this.props.data.category?this.props.data.category.code:null;this.onChangeSubCategoryEdit(s,r,this.state.subCategoryList)}var l=this.state.categoryListFilter||[];l=l.map((function(e){var t=e.id,a=e.name,n=e.code;return m.a.createElement("option",{key:n,"code-data":n,value:t},a)}));var i=this.state.segmentList||[];i=i.map((function(e){var t=e.id,a=e.name,n=e.code;return m.a.createElement("option",{key:n,"code-data":n,value:t},a)}));var o=this.state.subCategoryListFilter||[];o=o.map((function(e){var t=e.id,a=e.name;return m.a.createElement("option",{key:t,value:t},a)}));var c=this.state.statusList||[];c=c.map((function(e){var t=e.id,a=e.name;return m.a.createElement("option",{key:t,value:t},a)}));var u=this.state.htmlContent?this.state.htmlContent:"",d=(this.state.productBriefContent&&this.state.productBriefContent,this.state.imageCheckExist),p=this.state.isEdit,g=this.state.pdfCheckExistSA,v=(new w.a).urlImagePath(this.state),b=this.state.segmentSAList||[];return b=b.map((function(e){var t=e.id,a=e.name,n=e.code;return m.a.createElement("option",{key:n,"code-data":n,value:t},a)})),m.a.createElement("div",{id:"ProductForm"},this.state.error?m.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.errorMessage):null,m.a.createElement("div",{className:"form-box-area mb-2"},m.a.createElement("h4",{className:"mb-4"},"Info Product"),m.a.createElement("div",{className:"row mb-3"},m.a.createElement("label",{className:"col-3"},"Product code"),m.a.createElement("input",{readOnly:this.state.isEdit?"readOnly":"",className:"col-4 form-input",type:"text",onChange:function(t){return e.setState({code:t.target.value})},value:this.state.code||""})),m.a.createElement("div",{className:"row mb-3"},m.a.createElement("label",{className:"col-3"},"Product Name"),m.a.createElement("input",{className:"col-4 form-input",type:"text",onChange:function(t){return e.setState({name:t.target.value})},value:this.state.name||""})),m.a.createElement("div",{className:"row mb-4"},m.a.createElement("label",{className:"col-3"},"Description"),m.a.createElement("textarea",{className:"col-8 form-input",rows:"3",value:this.state.description,onChange:function(t){return e.setState({description:t.target.value})}})),m.a.createElement("div",{className:"row mb-3"},m.a.createElement("label",{className:"col-3"},"Segment Product"),m.a.createElement("select",{className:"col-4 form-input",onChange:this.onChangeSegement,value:this.state.segmentId},m.a.createElement("option",{sasa:"",key:"",value:""},"Select Segment Product"),i)),m.a.createElement("div",{className:"row mb-3"},m.a.createElement("label",{className:"col-3"},"Category Product"),m.a.createElement("select",{className:"col-4 form-input",onChange:this.onChangeCategory,value:this.state.categoryId},m.a.createElement("option",{key:"",value:""},"Select Category Product"),l)),m.a.createElement("div",{className:"row mb-3"},m.a.createElement("label",{className:"col-3"},"Sub Category Product"),m.a.createElement("select",{className:"col-4 form-input",onChange:function(t){return e.setState({subcategoryId:t.target.value})},value:this.state.subcategoryId},m.a.createElement("option",{key:"",value:""},"Select Sub Category Product"),o)),m.a.createElement("div",{className:"row mb-3"},m.a.createElement("label",{className:"col-3"},"Status Product"),m.a.createElement("select",{className:"col-4 form-input",onChange:function(t){return e.setState({statusId:t.target.value})},value:this.state.statusId},m.a.createElement("option",{value:""},"Select Status Product"),c))),m.a.createElement("div",{className:"form-box-area mb-2"},m.a.createElement("h4",{className:"mb-4"},"Product Image"),p&&d?m.a.createElement("img",{src:v,alt:"imgProduct",id:"img-size"}):m.a.createElement(f.a,{className:"mb-4",onChange:function(t){return e.setState({image:t})},file:this.state.image,accept:"image/*",minSize:1,maxSize:204800}),"=",m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col"},"*Upload Image ratio 16 : 9 ",m.a.createElement("br",null),"*Upload Image size rmax size 200KB"),this.state.image?m.a.createElement("div",{className:"col"},m.a.createElement("button",{className:"button-white float-right",onClick:function(){return e.setState({image:null})}},"Delete")):null,this.state.imageCheckExist?m.a.createElement("div",{className:"col"},m.a.createElement("button",{className:"button-white float-right",onClick:function(){return e.setState({imageCheckExist:null})}},"Delete")):null)),m.a.createElement("div",{className:"form-box-area mb-4"},m.a.createElement("h4",{className:"mb-4"},"Product HTML"),m.a.createElement(E.a,{className:"mb-4",data:u||"",onChange:function(t){return e.setState({htmlContent:t})},value:u,source:"product"})),m.a.createElement("div",{className:"row mb-3"},m.a.createElement("label",{className:"col-3"},"Product Alias Name"),m.a.createElement("input",{className:"col-4 form-input",type:"text",onChange:function(t){return e.setState({aliasName:t.target.value})},value:this.state.aliasName||""})),m.a.createElement("div",{className:"form-box-area mb-4"},m.a.createElement("label",{className:"col-3"},"Segment Sales Assist"),m.a.createElement("select",{className:"col-4 form-input",onChange:function(t){return e.setState({segmentSAId:t.target.value})},value:this.state.segmentSAId},m.a.createElement("option",{sasa:"",key:"",value:""},"Select Segment"),b)),m.a.createElement("div",{className:"form-box-area mb-2"},m.a.createElement("h4",{className:"mb-4"},"Product PDF"),p&&g?m.a.createElement("img",{src:a(581),alt:"preview",id:"pdf-image-size"}):m.a.createElement(S,{className:"mb-4",onChange:function(t){return e.setState({pdfSA:t})},file:this.state.pdfSA,accept:"application/pdf",minSize:1,maxSize:3145728}),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col"},"*Upload PDF size max size 3MB"),this.state.pdfSA||g?m.a.createElement("div",{className:"col"},m.a.createElement("button",{className:"button-white float-right",onClick:function(){return e.setState({pdfSA:null,pdfCheckExistSA:!1})}},"Delete")):null)),m.a.createElement("div",{className:"d-flex justify-content-end"},m.a.createElement("button",{className:"button-red",onClick:this.onSubmit.bind(this)},this.state.labelButton)),m.a.createElement(h.a,{isOpen:this.state.previewIsOpen,className:"preview-modal",ariaHideApp:!1,style:{content:{width:"".concat(270,"px"),height:"".concat(480,"px")}}},m.a.createElement("button",{onClick:this.closePreview.bind(this)},"close"),m.a.createElement("div",null,this.state.image?m.a.createElement("img",{alt:"Product",src:URL.createObjectURL(this.state.image)}):m.a.createElement("div",null,"No Image",m.a.createElement("br",null),m.a.createElement("br",null),m.a.createElement("br",null)),this.state.detail1?m.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.state.detail1}}):m.a.createElement("div",null,"No Detail"))))}}]),n}(d.Component))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFgAAABYCAYAAABxlTA0AAAAAXNSR0IArs4c6QAACNNJREFUeAHtnUtoFVcYxydRE+Mj+DZgmmAUGiIRxXdAY7QSEQMasnFTFBGCUkEpuNOtC91EFwVxYZciBR+bULEoJqCiVbS1FTXWREyl1KQVYiI6/f9v58aZO3Mn8zjfmXv1fvAxZ2bO+c53fmdm7nnNXMMoSIFAgUCBQIFAUgSKksrYK1/TNGfh+FLolzatQHiqTRE0/rVpP8K/2/TnoqKiv7CfE5IoYAAtA4WvoBssrcc2rk8mbNyHXrH0MoAPIfx5CKAWQRuhp6GDUGlhHsyrERq38nK3klC4Umg79Ak0KWHe9KE0d0mF9AyFKYMegL6A5orQF/rER1T+CgrQAu2B5qr0wLGWvCMMp6uh56H5IvS1Ki9Aw9FW6Ot8IWvzkz635ixkOFcC7bA5nK9BlqFEFWglzRY4NAMOXYQ2qHIsYTvdyL8F7ee/4/oRGzDgVsKJTmhdXGdyLP2v8KcZkPvi+BULMOCyS/sj9Is4TuRw2l74tgmQ2RWPJJEBW1cub6VPFW4aKCE3RL2Si9NWwmytZy4fC586XGJhGTutMnM/lIS+gpERf2F/gmr5QRsaGjJ6e3uN/v5+Y3Bw0Jg2bZoxc+ZMo6amxpg4cWKowsaMzLu1CVfySEw7/skBWLwp9vjxY/Pw4cNmQ0ODOWHCBI6OubSkpCR1/tChQ+bt27fhlhbp8KcT8yyKwE6EmNy6dctsbm42cZW4gHpBth9btmyZeerUKfPdu3di/lmGZTojMF4NFemhDQwMmLt27YoE1g6Z4draWrOzk49MMSED9d1qGBUZW7h79665YMGC0FdsJlj7Pu+AI0eOmB8+fJCifB75qRN4yVEx5XLv3j1zypQpSuGi1KP22ts59Csmakbh4B7Hc3tUu4lWgVlVVTUKww5GZfj48eOqXU/bI5P448kwcjBtUdX2/fv35urVq8XhsqJKS0vNJ0/EJlEOII/oAqCc5lE+E3Hp0iUtcFHyVD5tbW2qro1MO2QTffoJiUUeYlu2bNEKePz48earV68y4ajab490CSN3zv4qv7eePn1qFhcXawXMK/nkyZOqgGbaIaOsPWK/sYh1cKwmUu34JOru7jbQfPKJIXPq6tWrMob/Z0RWnuIH+GvPFDEP4gcnpoVoyR8+fBgtYbBUWVl5AsYlz+ZHWzDb4WL19PSES6AotnDF8lfUs8nmCRhl4nKmckVlc5iBI459XTtv376VzIqsyMwl2QBvcMVUdEDzEOOo16xYtL9H9wUCnsy0A540aZJA2YKZFP5xDQYYNc0lpFzlKCKzZ88WsTuW0fLycgNjy2NFi3O+3mLnsOF1BXN9btZ2nSN1hJ25c+dGSBU/ybx58+Ib8bdAZmTnEC/AtY4Yinc+YcAkxVl2h3gBdkVypIi5kxTgRYsWxfQ8UHLXxfnZAMaUUiBCMSO5Lk4vwKIPyTlz5sQsQ7TkmgC72HkBnhqtCMFSjYyMGBjsCRZZYSxN7W8XO6+SuiIpLKeBubJEBnt27NhhaOhFuthpB3znzh2V9RXY1s2bNw0uYhGWQIBFfais5GJM/cKOBqaPtGfsdQXzJT8xmT9/vphtP8Nr1641xo0b5xdFxTkXO+2AsRxKRUFC22hqagqdJkKC5AGvX79e96K9FKdcAvxnhJoLnKSsrMxYty7rDEtgO2EiTp8+3ViyZEmYJFHj9mcm9HpERF7NnWk82z5mlbOdEjne2Nioq+3tYucF+DeRUtqM7tmzx6iurrYdkQ1u3rxZNoOP1l2AP56yQmiMb4KKC1dAIktx3blzpzk8PCxeHiuDTS6gmQcQcRZUbFmivaToXYkC5lJWjUJmnKxwiOsRgaWf/JjFfUcsoZ3WVpm1zGl316xZkw7q2N632DnycgG2zl5xxBLa2bhxowGnhKxj3qu+Xsy2h2FPZokCZvNp8eLFHr6qOaS5UxMK8GUU8R81xfS3ItUm5ttIy5cv989c3VmyIjOXeF7BuG057HTOFVvgANuoEsKem4axh7Tr5yxm6f3RrSdg6+z3o7EEA7yCJUC0tLQIeu0yHZ4Vmhwiy1e9mk1sq8JlZYohURNLpbyykjjmu3zVVRX2A/BGZAF2Zilfvnxp8sVCVZA7OsTflbQXod3OLFQYVkReIbB7lw5v27ZNCWAsCzAxc5E2K70d8xUCv2cw26jDqJFjoWolYuTt27dHTOlMtnXrVp3DoccsRk4nbHu+gK1432H7zJZGJLhw4UIldvmiuCZ5hnzIxlfGBGw1P/b7WlFwUtXaMbzwosCbQCb2Z2ua2VOPCZiRYegiNhfsCVWHVYHBj6Vq17zsXbCYeJ1zHAsE2ErBq3jAkToHdzQAJoNvghY9MGDU2B8wujuo4aTiaZia3w0Wz4OWLzBgGoThH7A5EdR4EvGEF1mfsBgELloowJbVb7Hl51WUCj8Zo0LwRqcKM142WGaWXV7Qep8B/UVlK37fvn1KOhr89sSbN29UukZbLOsMebK2HJBhJfQ5NJY8evTI3Lt3rxK4cC9lB8OUqa+eKJqLYxkjr/eKNZ2AjLngOPCH6fA9HePBgwdGV1eXcf369dS2r6/PVm1qg5MnTzZWrFhh4NMJKV21apVRUVERJpPkPkyX9tKq3U7suz6tiBe/jWvXrqVAclUl4XJ9cJLC5QIrV65MKYETfpYfRiWfVlRSVkDmM7kLat64cSN1y6NnpvS2h6Mi9rDq0uT3JM6cOWMfJGJZ9D5zx6qJs2fPltTV1XVIgdBhlyNxR48e5Vinlu7gWEyznW/Fidc6gCjOgz7T97yQanh5HipyWwvYpa9V0LwTToz1QHMVNH3TOnknUYP8jsJB6AtoroCmL/TJ8xsPOJ6XwhckOH/FT54kBZp50wf9L2sgU13Czk0j9DR0ECoNm3kwL+YZq2OF9KFFe4YZHvIW5ZdCNlhaj21cn1hhXLzIpUxUrrgRf38LeXhK3MJ4Go1xkMs/l0JroeyGU/l66lSbIuj4uzO+8sCFz1QuHv8ZmjN/dwZfClIgUCBQIFAgkBCB/wBnVmTRfdvXngAAAABJRU5ErkJggg=="},,,,,,,,,,,,,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAMAAADzapwJAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAACzVBMVEUPDw8AAAB9fX0ODg4DAwOBgYF+fn5QUFBUVFRTU1MvLy8GBgbZ2dlRUVEEBAQUFBQlJSYKCgosLCwlJSUXFxcWFhbi4uJDQ0NLS0s7Ozs5OTk/Pz8hISH////Hx8cgICAqKioQEBA+Pj4iIiIeHh6SkpJXV1eZmZorKysHBwcCAgIVFRXT09NPT09LS0wLCwvV1dUoKCg1NTXIyMguLi56enojIyNnZ2YzMzMfHx8MDAw8PDxnZ2fKysrDw8Pr6+sSEhJYWFgNDQ0tLS0fHx8LCwsDAwMBAQEJCQkcHBwBAQEEBAQICAgICAgHBwcBAQEGBgYaGhoDAwMWFhaOjY5vb29tbW2BgYEuLi4EBAQGBgYcHBwHBweNjY0BAQEAAAAGBgYHBwcFBQUbGxsHBwdra2sNDQ0BAQEICAhDQ0NqamoLCwsGBgYGBgYFBQUDAwMZGRmqqqo7Ozs3Nzc6OjooKCgEBAQDAwMaGhoMDAwLCwslJSWTk5QtLC1OTk5JSUkNDQ0ICAgEBAQGBgYKCgoTExNLS0sKCgoDAwMICAgLCgsKCgoFBQUFBQURERENDQ0EBAQMDAw8PD0bGxsGBgYFBQUYFxiWlpcJCQkICAg8PDwREREEBAQPDw8lJSUFBQULCwszMzMICAgPDw8wMDAkJCQHBwcPDw8LCwsaGhoLCwsEBAQREREICAiOjo4VFRUFBQUxMTEgICAKCgoCAgIHBwccHBwDAwMEBAQaGhoTExMGBgYHBwcGBgYGBgYCAgIEBAQQEBAMDAwBAQEEBAQICAgHBwcGBgYFBQUHBwcKCgoeHh4fHx8PDw8NDQ0ODg4WFhYDAwMQEBAeHh4KCgoCAgICAgICAgICAgICAgIICAgXFxdubm4MDAwDAwNcXFwVFRUODg4PDw8QEBAPDw8PDw8ODg4bGxtEREQMDAwCAgIGBgYAAAABAQH////hBhUpAAAA7HRSTlMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAt86vmdFvfesK239agX3jIDAwMDDb6qFK8CA62prAMUrQMDr48EA2e9u8jkJAEHCAcQsvUxS4QeAgoHA0ikyMGGJAN26LZ/jNPRN0npdAcet8ESAqW1CDXlUAzJfw7LdwkV1W6HHl7kNq4CJdIOFF3mvSPz1CE3wsvUxPPPOZX+yZGPjo2QcxIPT3ZtM+JCFIv19uPl8K9HB1PhBClAQj8/QUU7EF/xxXLVr9AAAAABYktHRB3rA3GRAAAAB3RJTUUH4wwXChoFmerKKQAAAZNJREFUGNNjcHF1ewMG7h6eDIxMjBDA4Orl7eMLBH7+bwMCmVlYocJuQcEhoWFh4RGRb95ERTMwskGE38TEsnNwcnDFxQMNSghk4OaBCCeG8QJpviSQ8JuEZH4BiHBKKjuQFkxLB1uckSkEVZ0FEhZmzM7Jzc3zyi8QgakGGSIqXFhUXFJaVl6BIiwmLiEpJc1YWVUtI4skzMgoJ6/AWFNbx6jIqIQsrKxS39DY1NzSyqiqhhBW12hr7+js6u7p7YMYAnYJo6ZW/4SJkxgZJ0+ZOk1bB+RAXZCw3vQZM2fJMMrqz54zl88Artpw3vwFQIrVaOGixYzGcGGTJc3djLKmCmZLly1nlIN5ntGccUXPSn0LS8ZVq9dYWTO8WbvOxtbOzs7eYf2GKbM3btq8Zes2RkeG7Tt2QmOEcdfuOXv2rt63/8BBRoZDh48cPXb8xLFjJ0+dPnP23PnZFy6+2XGJ4fKV/KvXrt+4evXqzVu37zAyOjHe3fLmHoPI/QcPHz1+8vTp00fPnr/QkHPWYHz56jUAt3mruK2L2+0AAAAldEVYdGRhdGU6Y3JlYXRlADIwMTktMTItMjNUMTA6MjY6MDArMDA6MDDwSCx9AAAAJXRFWHRkYXRlOm1vZGlmeQAyMDE5LTEyLTIzVDEwOjI2OjAwKzAwOjAwgRWUwQAAAABJRU5ErkJggg=="},function(e,t,a){},function(e,t,a){},,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return x}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(13),p=a(16),h=a.n(p),f=(a(547),a(42)),g=a(8),v=a(93),b=a(9),y=a(10),S=a.n(y),E=a(99),w=a.n(E),k=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={companyCode:"",statisticData:{}},e.onSubmit=e.onSubmit.bind(Object(b.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(a,[{key:"companySelected",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r,l,i,o,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.props.data,this.setState((n={},Object(v.a)(n,"".concat(a),t.target.value),Object(v.a)(n,"companyCode",t.target.value),n)),l=t.target.value,i=new f.a,e.next=6,i.getStatistic(r,l,a);case 6:o=e.sent,c=S()(o,"data",{}),o&&200===o.status&&o.data?("Sa"===a&&this.setState({statisticsSA:c}),"Pr"===a&&this.setState({statisticsPR:c})):o&&o.data&&g.a===o.data.data?alert("Fetch Statistic Data error, please reload."):this.setState({error:!0,errorMessage:o&&o.data?o.data.message:o,loading:!1});case 9:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"onSubmit",value:function(e){var t=this.state.companyCode;this.props.onSubmit(t,e)}},{key:"render",value:function(){var e=this,t=this.props.data,a=this.state,n=a.statisticsSA,s=a.statisticsPR,r=S()(n,"data",{}),l=S()(r,"success",""),i=S()(r,"fail",""),o=S()(r,"inProgress",""),c=S()(r,"tobeRevised",""),u=S()(r,"totalSubmission",""),m=S()(s,"data",{}),p=S()(m,"success",""),h=S()(m,"fail",""),f=S()(m,"inProgress",""),g=S()(m,"tobeRevised",""),v=S()(m,"totalSubmission",""),b=S()(t,"companyList",[]);return b=b.map((function(e){var t=e.id,a=e.code,n=e.name;return d.a.createElement("option",{key:t,value:a},a," - ",n)})),d.a.createElement("div",{className:"col"},d.a.createElement("div",{className:"box-area col",style:{marginBottom:20}},d.a.createElement("h4",{className:"mb-3",style:{fontWeight:"bold"}},"Saving Account"),d.a.createElement("div",{className:"row mb-5"},d.a.createElement("label",{className:"col-3"},"Pilih Salah Satu Perusahaan"),d.a.createElement("select",{className:"col-4 form-input",onChange:function(t){return e.companySelected(t,"Sa")},value:this.state.Sa},d.a.createElement("option",{value:""},"Pilih"),b)),w()(r)?null:d.a.createElement("div",{className:"row",style:{flex:1}},d.a.createElement("div",{className:"col-2",style:{textAlign:"center"}},d.a.createElement("div",{style:{fontWeight:"bold"}},"Total Submission"),d.a.createElement("div",{style:{fontSize:24}},u)),d.a.createElement("div",{className:"col-2",style:{textAlign:"center"}},d.a.createElement("div",{style:{fontWeight:"bold"}},"To be Revised"),d.a.createElement("div",{style:{fontSize:20,color:"##ff7b00"}},c)),d.a.createElement("div",{className:"col-2",style:{textAlign:"center"}},d.a.createElement("div",{style:{fontWeight:"bold"}},"In Progress"),d.a.createElement("div",{style:{fontSize:20,color:"##ff7b00"}},o)),d.a.createElement("div",{className:"col-2",style:{textAlign:"center"}},d.a.createElement("div",{style:{fontWeight:"bold"}},"Failed"),d.a.createElement("div",{style:{fontSize:20,color:"#f60000"}},i)),d.a.createElement("div",{className:"col-2",style:{textAlign:"center"}},d.a.createElement("div",{style:{fontWeight:"bold"}},"Success"),d.a.createElement("div",{style:{fontSize:20,color:"#008100"}},l)),d.a.createElement("div",{className:"col-2"},d.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"},onClick:this.onSubmit.bind(this,"SA")},d.a.createElement("button",{className:"button-red-small"},"More Details"))))),d.a.createElement("div",{className:"box-area col"},d.a.createElement("h4",{className:"mb-3",style:{fontWeight:"bold"}},"Payroll Account"),d.a.createElement("div",{className:"row mb-5"},d.a.createElement("label",{className:"col-3"},"Pilih Salah Satu Perusahaan"),d.a.createElement("select",{className:"col-4 form-input",onChange:function(t){return e.companySelected(t,"Pr")},value:this.state.Pr},d.a.createElement("option",{value:""},"Pilih"),b)),w()(m)?null:d.a.createElement("div",{className:"row",style:{flex:1}},d.a.createElement("div",{className:"col-2",style:{textAlign:"center"}},d.a.createElement("div",{style:{fontWeight:"bold"}},"Total Submission"),d.a.createElement("div",{style:{fontSize:24}},v)),d.a.createElement("div",{className:"col-2",style:{textAlign:"center"}},d.a.createElement("div",{style:{fontWeight:"bold"}},"To be Revised"),d.a.createElement("div",{style:{fontSize:20,color:"##ff7b00"}},g)),d.a.createElement("div",{className:"col-2",style:{textAlign:"center"}},d.a.createElement("div",{style:{fontWeight:"bold"}},"In Progress"),d.a.createElement("div",{style:{fontSize:20,color:"##ff7b00"}},f)),d.a.createElement("div",{className:"col-2",style:{textAlign:"center"}},d.a.createElement("div",{style:{fontWeight:"bold"}},"Failed"),d.a.createElement("div",{style:{fontSize:20,color:"#f60000"}},h)),d.a.createElement("div",{className:"col-2",style:{textAlign:"center"}},d.a.createElement("div",{style:{fontWeight:"bold"}},"Success"),d.a.createElement("div",{style:{fontSize:20,color:"#008100"}},p)),d.a.createElement("div",{className:"col-2"},d.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"},onClick:this.onSubmit.bind(this,"PR")},d.a.createElement("button",{className:"button-red-small"},"More Details"))))))}}]),a}(u.Component);function N(e){var t=e.data;return null===t.notif||""===t.notif||"null"===t.notif?null:d.a.createElement(m.b,{to:"change-password",className:"d-flex justify-content-end"},d.a.createElement("div",{className:"alert alert-warning",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},t.notif))}function C(e){var t=e.data;return d.a.createElement("div",{id:"profile",className:"box-area "+e.className},d.a.createElement("h4",{className:"mb-3"},"My Profile"),d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-4 pl-5"},d.a.createElement("img",{id:"export-icon",alt:"Search",src:a(417)})),d.a.createElement("div",{className:"col-8"},d.a.createElement("div",{id:"username"},t.username),d.a.createElement("div",{id:"userNip"},t.userNip),d.a.createElement("div",{id:"role"},t.role),d.a.createElement("div",{id:"email"},t.email))))}function A(e){var t,n=e.data,s=n.failedLoginHistory||[];t="[]"===JSON.stringify(s)?[]:s.split(",");var r="",l="";if(null!==n.lastAccessDate){var i=h()(n.lastAccessDate,"YYYY-MM-DDTHH:mm:ss").toDate();"Invalid date"===(r=h()(i,"DD/MM/YYYY",!0).format("DD MMMM YYYY"))&&(r=""),"Invalid date"===(l=h()(i,"DD/MM/YYYY",!0).format("HH:mm:ss"))&&(l="")}return d.a.createElement("div",{className:"box-area "+e.className},d.a.createElement("div",{id:"login-info-container"},d.a.createElement("div",{id:"login-info-1"},d.a.createElement("img",{alt:"Calendar",width:40,src:a(563)}),d.a.createElement("br",null),d.a.createElement("div",{className:"info-title"},"Last Access Date"),d.a.createElement("div",{className:"info-content"},r)),d.a.createElement("div",{id:"login-info-2"},d.a.createElement("img",{alt:"Calendar",width:40,src:a(564)}),d.a.createElement("br",null),d.a.createElement("div",{className:"info-title"},"Last Access Time"),d.a.createElement("div",{className:"info-content"},l)),d.a.createElement("div",{id:"login-info-3"},d.a.createElement("div",{className:"info-title"},"Access Login Failed"),t.map((function(e,t){var a=h()(e,"YYYY-MM-DDTHH:mm:ss").toDate();return d.a.createElement("div",{className:"info-content"},h()(a,"DD/MM/YYYY",!0).format("DD MMMM YYYY HH:mm:ss"))}))),d.a.createElement("div",{id:"login-info-4"},d.a.createElement("div",{className:"info-title"}),d.a.createElement("div",{className:"info-content"}))))}var x=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={username:localStorage.getItem("userName"),userNip:localStorage.getItem("userNip"),role:localStorage.getItem("rolesString"),email:localStorage.getItem("userEmail"),lastAccessDate:localStorage.getItem("lastSuccessLogin"),lastAccessTime:localStorage.getItem("lastSuccessLogin"),lastFailLogin:localStorage.getItem("lastFailLogin"),passFail:localStorage.getItem("passFail"),failedLoginHistory:localStorage.getItem("failedLoginHistory"),notif:localStorage.getItem("notif"),companyList:[],userPrivilege:[]},e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")});for(var e=localStorage.getItem("userPrivilege"),t=JSON.parse(e)||[],a=!1,n=0;n<t.length;n++)"view_companySetup"===t[n].name+"_"+t[n].vgroup&&(a=!0);a&&this.getStatistic()}},{key:"getStatistic",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new f.a,e.next=3,t.getListCompany(this.state);case 3:(a=e.sent)&&200===a.status&&a.data&&a.data.success?this.setState({companyList:a.data.data}):a&&a.data&&g.a===a.data.data?alert("Fetch Company Data error, please reload."):this.setState({companyList:[]});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.history.push("dashboard-detail",{companyCode:t,type:a});case 1:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){for(var e=JSON.parse(this.state.userPrivilege)||[],t=!1,a=0;a<e.length;a++)"view_companySetup"===e[a].name+"_"+e[a].vgroup&&(t=!0);return d.a.createElement("div",{id:"Dashboard"},d.a.createElement("h3",{className:"row mb-4"},"Dashboard"),d.a.createElement("div",{className:"row mb-3"},d.a.createElement(N,{className:"col mr-1",data:this.state})),d.a.createElement("div",{className:"row mb-3"},d.a.createElement(C,{className:"col mr-1",data:this.state}),d.a.createElement(A,{className:"col ml-1",data:this.state})),t?d.a.createElement("div",null,d.a.createElement(k,{data:this.state,onSubmit:this.submit.bind(this)})):null)}}]),a}(u.Component)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASgAAAAtCAYAAAAdvfYeAAAAAXNSR0IArs4c6QAAH5hJREFUeAHtnQmYVMW1gM/tfWYYVBaNqID7BsYN1KDiLmpCFEWNyzMaIybGBRFkcWkXQHBB43vGLZgXX8xziUpwCTyjxhhFcd9RQ9SIIiCCw0zvfd9/bvft6em+3XO7p2fA7+vzzZ17b9WpU6dOnTpVdaputSFlYIqEzDLRG0yUF07SYh49Q2JPbjBM1RmpS6AugS5LwNNlCnUCdQnUJVCXQDdJoG6gukmwdbJ1CdQl0HUJ1A1U12VYp1CXQF0C3SSBuoHqJsHWydYlUJdA1yVQN1Bdl2GdQl0CdQl0kwTqBqqbBFsnW5dAXQJdl4CvGhJpSZtpSXTLFgSPeD0eqYqtaopSNs14kYZe0rAb5d3LFM8OppibihhB7m2GyOeGGG97JL34Wol9VJZQNvIcEX9QxNMXIjb+1yLmrSIx+z3/rvgD4CE/LELaWSJr88O68hwW8UGziUxy9dnGc6NIK3HpQtqKT1jZCtIyUUaTu8E9RZpkIZ1q3y+B114i1s4S6K6rlo6mO18kSDlD2bJHoRd3oke4lrdRZQ9ujPeoE149rPYSKKtoTtmlJGmOOO9XrTsdM8qXTubpHWbFYxg5JXdK21lYOpWSp668xvvZ6y8HfEJTXk8wWUKDaQFnUpgTUmLu5BODkWamaBinnHXR55QYrdMk9BKx/x2R6INzRNBjZ+grod8g8BFot4GFMiFq0Nj+db5Ej3UyUv2l4Yfk/2uknJNrgDRTRS6fIdHfOefiPhSi0Ard6xfZHwtp5aGWk7K3rBXjCIqyrJBaTIK/Qh7n5vNUiNMELaXH3YiJkZgm5gpk9SZ4C1ZJ7Nk7RRKFaVy+G+jFH5Ni7AGfyclizrpOYre7TFuERuczzi/mRLXCCfFegU2+pwiJgKg0HeaT1J1oJOUx78NGXeqEVy4sjCGMSmgust2c/Ez0wEyKOWemxB4rl66auEkS3JE62geZD4Vl+jgzgNZGyftzKvldOtVXfRJfAk9FHVA1+WmaS6Vh/4CYYfRCZ2VUj/FtUPxnhuXb1dXS1HQVGyjN+cMFfwkeeuU0aerfD92uLfTZbtv47fuPTLatXu3r6ZFUmF4yJqGLkfAFVGb/FEXLKG/pMiKPJvAPAeOQRgleOAXjgdI9USLFNtDdydYKrUme/YwyIOMEZi9wtlS8fEDJriSf+TNFGKRUD5Ml+EMq8GS1THYeygjlbsMQwqoTGJsRsaNdBieM/DADu6c0GW0eBt0J/SX0/BQxJs+UyD/y8dw/GwNUJpq/V4zrp0jD69B6yX36fExzY6WVCUlvlB+T/2xIuhG8rVRGlKNffpzb57iERiDrnyi+0tGGh6HVkVhNDFQYsglp+DHG6Bzq80DqqBFeIa9g34nlLSWeaEJCb0wV4wF4uH+2tH1hoXXhn4d8KdOhNgkvOUUlcTjv99th1dxVVhWBGo2vPv7Af99Jp6ZT8bi24ZrCpjvvFBhz+23ITduuirNnYIoEd0CJ/oISXUOO/bWLd9MIlUN6DetCIfak0cyn4c9+wLmBJ22jp7Sz9DW5I0CbqXQGz74rMjwONiV0oWMil4FhenTGvNw60u+MJ0W3eXFz1/Iqz7Y8Ubj9UeYnkfdogisGmlpK81W6PDMANe8eL737VEwokyBXFl6zRS+mlF8P5fCKU3YIOUXNhMpCeWeEqXDAZRLaOvNY/f9LpGk3dPcJOoOHke8o8mHmmgEtlJ2n6qrygPGi7mVfn5g3+SX9CqPo8BRppp+sDqZK02akHKVlsus7Uz/pk6uj2J6qYgOlSf0SkiXPLAwsnBaudqjezoHD05Cxx4dGTpgYj0tMZdrtMFka9/CIsYAe4AC7IRVmqoKiYq2eT+9a0YWQ1XBQjbXvdaN1VYWjkZ9/mQS3LeTB7TtTtTNQ0D1VkWoBKg+nq5C28g5eM8b8txO7wL/SVd4x1kNCEr9J3zdUmCK9+qPIx2RlrUbRUmx4b06LUZWhtsuKcTktKOln0ckjVf+0DsjrW1wD8+nlJ3H/Me8HcR2G7P8jgVHivpjLspHgb47eX+mRxKJp0vADm24l97SkjoGGllHzjnNLZ8rqORiaW1VCqxAXutVBQILG3268PrDV8L2jQ8aOCVVHpXSqI6aH/cteey2+5OkFQTWI3QX4m7ZhTq49z+BCa6uVrQLSRkXl6/wdx7g6SM2NaGCDUIo+iqPxeufCr2BMuE4iuKK6D1QR/GJsjCZcxuOZleaU6S0TU7MGtdLkjvjwpNOVbBvMoeCZlAY17iojGxSJKWQ/Fh4m8PhLO7zSu9LVOqMezqAeX7hOondWSqNn8JNHo0ebZeRtvoWePIeP6AJ9x080NixyK1fF1YHf50I6qpug4dHE0I2jf3egz7eWWbi5l7w8cQkMwX96OqnOIV1v6s+fkPRKyFQK6k89RRNl2opxB7QOgq+hdIAbYRB/SNRvKiVq42sdVwmwhYY9fO4vfSs+WKJWs6bgDQS8J9xzl6fPllsnWDGsKW2b2PhM47kHwQ7Ob0Aaj9IrxAifi5AODkp0KA1gv5kSPfhjiQ3DQO2GMpyMYjyluCoNnJ4Xdrdxsrjin/JLvqfgg9nPDnN7NyQxnt57YMUtwiEDyq0QZ3pxLIq5GzwNtS9EsjsfcevI4UmVUT5k5G2ODotsnB/u5jmbZwv5WXS5Iwtj9kRp3NNN+h7GUXatBqwyQG8exz9zOzJJZo3KMDUWlfI0RQLHYgBuhIYnK4/lOlqaIZELyhgnK5swxnCGxN+aLjEWCIwj8BK+jAxPv97lanQ+r/CxM/mP0E5Hy8T/2/DO5OqFEp9EflXbmaoTKpPqj1q3eoXvgdPOlHhra0bnNKJGsPHArfwnzL0r7fEHUmblHUynXDRIAytScmCh+dOegAp7F2U6jNWyn10r0WfDImtsgg9SC9NZ4cIY3T9dokdQMWehKONmSexWG6e779ooqTxWZ8yrx+bsaee54h/bDqU5r8aVpSuSSzHgS5HVv+yLxYIPdcGgRaLHIaOX8o1UtnFunpLGbTvn2hEDcunJ0HlelZgeeyMa7N0sr5V0djtS6eZAGvCOZHGANmBtvejUn6+V+PvU21vKN7rGYNIzphI21OdjiOcWDINXjRO6sIpp1rGsaP6lEjqKqwsMbRI5hI7375WmVXzGKGMpg/q0lA8WLOIfUJ4/U97sNE/2jWDEqqGtaZRul0C3A3zy6ouBxy6amNRGU2vY/vBDg0dedVUiIfGy5FHUsvGFfE2Upu+hJBNUcfIBYdMTmG8kxBiFEXo+P67Es0nl3sN1V4n4ssEwne0Ay6I5RqqRgd/DtqU3dURwCKSBXEZD3rgiYTnQKQ7SlXNnwGrHGGE9WKhsFNyTklS1Dm5GDp61dFw/ZxSwWg0eWwbwJYaud+ai+lBk1gVxeU5gtGpNc9UoDZTI6xlOjEdUHso3xI/XPVluOWRzy0U6As7qLosGxi9mSqLKlUyRG9hf4TbvfLwwhok6HKtlyNSt8bDGr5PIK/D2vobBZ5DFmOM0vBoo1JlqaNAFBOXFu28PLr5zrvohag4jJ1/i3/24E+MJy81RG/I+SZ+C8LJ+gQxNtRQIezWKdOpsiXxem5y6n4oh3isvYbtDZznpdJAK/0mNR0+dZWvFo7BF2Wqrpwde54pABimTJJuA6WNQe2ym1uO17jQDhlU/5xyzM7Io6/WWMTrGiXYDZir1yLjsHjD0bx78xrNxu/SS0HA3zKrDHbwztazor06r7mMU9JCbtLXGYV/XD9CnXbQM8BOls5mneWQ6JJmnxkXjqOXj78iwa71V8q8mBkoHAT7xGY9dfLHv88WvWqsDlTDRKa5heMfc9RvP93Ycwr6Grru7MlMi84SM8Npz1yEAYTei9CzCfTdAe1FGDkPpJM4ux3HY6uTMq6hwpoXdAUahOHOZqLxZJT0uHyGreKvYIPnPHGKVD7Mk+nvkcJfWn5YNYzXnUmlik+L6hSYJ0SGYu2q5acAxnNeP2Bx9kNGxV1QOGFVuJmLqHAxJHkk5N9NyQnMdRnp656m6BwM5nwLvBpfKfdEsa3qXyUvd0/CX9bMZQ5dKw7BquMjqSTVJO6ahF5dYa4vv/tN/akS+Xl3o1umIXMVbY98+/pPuvccMNDXjj9JmWT0MktBAUvMJSztoDwzTXwfFO7c9dMN8Kqy0jDSMSTptLcWxbuJDkQ5HaXKgZdarBsBKjqef9u6XSK9N9dLnSdI4gFHbiO0k9Ad4Hplfa9nO4IkbZN2KGuRPxxKdyIrR6yobyrmJV1J3h619UrWgXh2NbAPWlUzt+BYH8jo+9WMifV09zmqzMXoS2w46ywlDoPuctIwKT86W2JLMY8/+D7MKS4586ZDRIabwD8GX2k0LQtL2Ji9vavmoazqotCsDnE2eu2n6moGXyd7yJe8EHh53XspMW3vgakZbCW05bO/gj266MZHkc5s8WVScBz6YHangppw0oZCt8JfC0rq8YoI9mACedaPiK/mGRQ0tSjDAJ8mJTqyE2bgHDrd20PTQWsd01lKi9pjKnrIy9DPN+jMd5jt+Sb6tlz57Jf0OuTwPbycpjzaorOkMVqLUNev9Z/F9Ip3k2eTzbVYew2PSMNPOs6fv2Y2PVgPWRsZI6qGwPePJMoP/bD5yiKgMkckgvwQPykY53nSaBC4rozZkfD72W0/eIxKytk4o75ShBT/Y4/n5h60Bnjyab4AJ65WP4+YZ3akt6J6lN/70v8EtZu0ZGzllojrRagrDzvlZaNlb70YX3XZL0GsGqiKP09P6bCG/R1dCXG/WlNluIEaFe1EGNiaaU3keYiurjoyYRp1zuQTmXiPxd/OzjkrwLL6T2g1FyoFWPAsBczESCRrH9206OYTKHnQvjKOzWxW4cNRG2CcEn62rfJVlUx57hrS9xn6oiZTtjow8zPOmSsOLLL3fVz5l7WNNSYzCR8QqpVV+pmLG/MJcKP9H+MsWIf+DVf+oj5O4FeHZ6b6Upr6GpDZXmUI3zijRtb7yvegg0l3LpTajA5C3h3BdCYgkxD/xRmlZ1QHB4QUiua0TyPrvrOB+UojGR/b42TyXEx4Afxs2Bx/ITPeJQrxy7zU3UJoZIynj+aune4a2fNXS2BjymJS8VsAHycbwYCL2mjfkSyVT8K9VWxlgoLDkxUyhRF9XRql7sVW5dbSRD6pd+B2+5P/lTKtyPg0tDcLohZKHecwNp8NMt2J8V6u0bFAaGKsV+H+m46ydaod35V4sTWdqmjerpA/ROP/qjNG1UN2sSaPfH+NwOmXGcJq3sNT/xnrwK56qJdH6owH/Q7dgOJSMpqFTI+PgTP0YR2h9hUtMe5k5sIXCyC6GGJG4+NZipxzIFgfhwO6H++I0p9Zid05QSoQkESZ1WQOlHyODc6DyrOWj7pmxFsNSprRM718FRxdnqHfLAK9/A8VqRXpk/8a0b94DzZEazvSoSJVCeuGnq71xjBOb84ql4iokTV0Up0WZG1wlX89I8NlIg3uUhvgURkk/YbBAR0jqjJ4qwcP5hZv/08CYJCaw63wLjbNBlQVjPFP9P/iIIOHWvNgUiu8qzWKJZijnU88otXEJn2j0WSXRc++0bGUxva6F+McnJMF3kbIrPPVLi+duVjkPv6HK5fRKeeETpO1p9JbPDeEqODbgTJTxBHXTAp/NuB76xyU5ivDfZ+I6/qfe2TPFgQ4WmPTO7NJwCbSdVpReF3+0+gthCwL5/EgibD7Or65CPOsdHbO2Tqjeca1mG8ECJ0T1s01m5ZLp7X5ZRkepb3KmrFvphO8U5sSsE57rMByVslf/5vju/XoFUoEgOyVo8zW6fI0N5gtrE/H3IqlA9cZJG6dneYla2M51QdcjIorEnzZ+j36uErVesvzw7KWDuCaMImpDQZn0aJQcZHp04/WoRHBp1Ax0kLwSXr7MXl9wX4ZSqpzbtEXl86jKygjnrD4SmlohB0omn5Rj8pnS8jXlPpu8W7N57eeThumOyN0QyGkBx1Nm64NdjM/KoARyI93C7HRqRH09rfWiAM86zXOEGPaAeERrgT8laRqYO6BDWxKU6B5c3y+8MHwL7fw7o3Y++5owdtbWCU0DP08ytf6ydDrzQfQPX6dV55uakjyiNG5xTNYaF0dUE4KjVAY1BmOHDNjYlzJ1c3HtwM+2vA/WRGLPL1/LWVHq8qgeENLHKfFqu82VP2vh9xvPpro59CTVU++5lNdJ22JGQL9lm8F59ghJy0Gh9mGPyk8R0g8wBL3tuCxnKHj6MruM4HRJlpoY5UtgEEa3if9D5iDsVjPMEFdMUuhwvC9+iDH0opcT1aiKqqA8oSAX8zX/73XnuRVYw39ssl10qQSnBcS4OVPR5vmT8Ufp7v8aZlNEKoy/BUNiLQpoA6A+PuOj92Hw0qE9IDdL5QjUEyuWqVyyludA/GjbOE0JfeJfTTKmddKP9E20g015/ozLDZjhEvNBjl2xjV6ndNivtS91yXd8tvvBWK4jdgg46hFTWIZkxheUcwcljp6oAf6DPruBXAN1g1wOR0vYy+dNHj24jxHwGL5kDR1PPuzRqmgyvuCz1V7IWsu25XjpLK5BEh/FxPsJQtvOrhm98749ZzodxsSopKOyM9o9Hc+8fgY6jgGwDkKzslflQVtu5hbMHz1hrDAM5qP6+YmFWLt/Jt9ffTPH+XAy9etdhyFNM4WZZfOjDTJjPE3tUWs5msuVqoFPjzDUIwL45JAJemPeyqjyDb5VW5JDqvED2zmGk89ulvXJ0N6LEYce49MBbEOtgeBnrBXP4KkfUU840PrrAB9J6yp8Okup635czO/SQ0B4pQNSFS92G3CZ9Cf0OtbHyVpGeJ9A+SaUG4Epfb20zBisgzDAg3XkyGunQDm7DpoxNiQ9aqs+yf4hf6CWxkm/hEyYZvLxT782v02m/LVgOMy0A6EWDWvJSq39ZcR33/EJXRd3Bwp62BhD9On5CmLVR8ankNuUqd0bxqEFFbm8A4ESL/RcSqYCKD9iRpHvR6HXKR8dwbNrx/dO34pJlEgSpl1whPT5lPsjTYSM+uN7u/ucvPOSSiStOpiGeIo2YCWgedr6qsLMvzTeBsWzC5VpyOZYVjnyq9RCVZ8OVJ5rp2keY9PoiXs4s1L7IzVMCvl8Z0Kc/yu/iqvlxwA3ows/csYsDrXLWhxTQQhTO3O/TXvHd96kIZhIV6jXneSDryn912Vrkp+2xoIMaTvBdh+Nov4OxU3kU1TBoxXDWZZnVPLdgYDEfsuUaXH+cNhuDHYpNA7l/093q1mdO0ptum7vfvFyBhIHPhQAYc0FQTV9nSGtXyGLn3PxKYY1/d1/EwleU9NMssQms0GUZjha88k2SPYHifrjbN9cubu1cqYGika59zbi19FREeCQ/hNC5HBszcM4khHhjkVI3RQQl4ZR6NEA5VEBmarfcTnXV51c6otsVZloWtreieF2201IaeiygVK/0/bNofgBA3r7k2lG+jUE9Tu9sbo1/urKlgArUTWkzJwD/w1Cezi/UWsG2oIwhOPZP3ODOgTdZDpVGjfv6uFrTvlQYljsHMKWo9ycRuXztXwxaFeMAVsakugNxbE9ExKTNN9tGRsVFohG9q1bDgrTuk3Hh9x/Yyoc1rrO1u9F+ISOIu9WtzTc4HmkQT9D2UIbodYD5T0jKoGhOMmHlLvAUWM0jOvfmg4aLAJ5j+exCD6UyGLo/03rlKuZVbcuG1u3ekZncqoypHkD77EYsHtc/EO5hpS7GDcNIY9z1diobLgP44QDVyPnwvapGbsG9uPIJgFf4qhBfZnfG172t7hO2xmiD+P0ZWs89tTn33A2uf5oQe0B43o5tA+FOEvR7ZDpac0JvSU0bKqY15Y66P9S2WQjr0R+zOz2CpyxvqkSGK3n7LRTcveE11P1skug2wrYdvAgQ+iTMUYdIEs8HGZJuENETV+MotFRlryB/2lfpqGzeXcoZ1qXvisBBxqdJw9J5MYYJ0ayoKAjHNXX22hwf882mM4JuMM4RdGyDXFpUCIL5kikzV1SWU2nOJ+zon6pPHGNoYOcfqvuFMkDneYxUruG+ANpbT4a8Fjq/QqM8NV5aDV/zBzT0751gvznVXKW+STwvRL6DNkMxMAFWUlXA/x2Z4xWbaDUFHkNI3XMwD7pjQLeIKOnzvJyHa9+p0gynXzs06+NaCrdhf1O5bPUA7pY2bkA5+3/kKXups1BpqfVzWjGwr4czD9F5AXU5mPaWCt+qj7Mo+n1IiMQ+NaaTpWSHoXzyBs5l6ft9RyhHnxAua+AB77Vaj9ORSuYsjzD0vIfu4OVrMz8DNvn4vzU/Tz5YtQs+xK0O+EoZTvwrqM6XS19pj20/NNVjgaufBo7NowYpnF6J7LYjbwH6wWj1pElWnddBaZa29JhWxsuVeY8Px7G11kJXQzmAxjPc+HLQyPeuVFC+zA4fq6QBg7mZzEY/xUU40LtjMC9in1lA+ISncAQuZpRofbJZYFNwWMw7k2aHzLke1hjXtkEBZH0Ti38WIYa4PMyemCMCYvM4GJ7Vmmoum7U7zRywMaJbXqHArU0Tqq4XOmF/16T/DKa6NJ+p9LFbo9h2fmPGKEpKgjNOx+oCKu1IdQ9dCmfaeYcRih38tnIdSih7srdWmtWBa640BjIR5HzMFI6XO9x0JMUGcXebPc6Wh54i1G+qeEMi655opyFhqZcWkYkoru3jyJv/UYrd9F49oGPDsZJCYGrGdxf689dyjGphwxiOMbBj90oqtb/wnx0KwXl7qVCQxdMfKcPF+J09r5OoovQJ+scJeSGTM0TS6UJSWwqxuJJlaPqIHmPC0hoAaOpA0qlKQxXozpNghcQfkDGaBRiZN5ZVOAbwLSeHmtN7zBO7zA6rKITthZKrK3btKldI6x4OufYHkq5KgfdjDl0k6bY8E17BXCKazuoGTC1Mxd91RJ/65t1nEVeU9IleeQ8ndns5Yjgk5iNxoa0wvNB3wvD8uPtZ8VhW+pWEUlPD/OlN5fdEGyUbr/zYz8385NCupK0g7Y+lqzv5myrRaUypkE5Crmirh/ibuRj86CNisb1PsP8aXaY27sjs24Tg8epkwsZbcxE8a/U0UAtQBswo9bc3idk+mGrRF+qlLZO5xip/4l62zUjT0N1SDuXIj8dYW1h6jkukbm0k+OyHeQIjMjTGKmnMW7zke+rjMq+wliyGGT6MKJ9sJ2Ded4d3vYnj72oC2uRQg0rVwMDjyIRM4PQrRPfV54yBtGcT/4V6zYG+OUmaXiXGctQyshWhbQa4Oe5SoLqcEWgVnTLxkD8mEF9fH6Px6O+InVm1+IKcSjD0m+j8We+WOPv6mbMigoFMj6cW6mgo6nQ17USaOCuQWtULT13M8pnCoxYzgpXUYGuMyyDOIuv+unhrtCKRWmXBcVzbRl0xygth2NEFwJtGWUUXJ5jJDO6Eh+GnTX1Y+ksDCrJqiAg0RkYp4XKS6XglC8NeG+Y2V0bcEZvzMfsjbCV0sefqat01vGx6NSghDQeXIpGWNaswT96EmWZRue6RgUDH+qXOgKjhL0zX+D9bWT9Dry9A+2XMQ4PUW5OVdUfNpBmreisri8H9/pmia50yM/a+6Th8JZkJbGi6Z1NTw0wPKkBznZoxugwG4nteKc7fFYKptk36I+9sWqdN5U2y1rRSn9pWIX16oqWAO4sTFXPA+ePPxO2zigPnkVVj6PidlE+1Cgrb3rZQGVafie9U2kJFOBpMOZg6BbYOIV30mN42+lkaQcK8ex34q3VAcVT0Pw1P+56Kwn/5IRFNvQ9Q2N+ONzp8TGmuvxyBDUvpokUvVQWJg0AVS+Ze8cI5TmDa3xDQ9Ezgu7FQNw3XTecVwXWrmft5t2yUJRLGAOAo3kc9fYs5R1YhOAcoEXROi/KlxHJWYycvToiUyT2Ej+iuNUAZ0a9E5PQi1TAgZqeUYbuvC5pEO60BqPRGUzX1LD9gnobAw9bae2pAea5kVsO7FrVQhC3Er3Vo3sehWd+CLb4k5XMCZ6pkzWdLmnzS9HvreKspxzBCh9wgcCnZxLJGqA5kI20e6MKT5ciU7GBYvXDePub1uY3v6nGF1eKjfZwVX67QbaH9txTmM2EVMOv+biUT0iCI6m4I2now7TS4UKtPewZfBNlrub5Yy5WgjyPu3GMM7KZlpAU3yNZeqzTHDYcedZ9XmK0xWkDfAycOgx8BZ276yP1GmClkM6oBOhKzyTxnJaQtm9KoOQF688WGfcrbS0YdxV/MiIRp56U3tb8HT//rVNGUIsBZ7l+umGxDCH9noBTFT1raCz/5gcmlhWncB8SJs8p1lK3Vz9s5cvZts/cp+6IqTuZJ0hoZLN4+msMI82StNgi8Cxn4g+nMdMZmSsUPw+0DudFJf2chiHLGP6ZxXnxFT2GKeM0fg6KdrCZGjxO0FRDrvYhqwY8OUB2d/xFYel9NZ/W7EM97EeSXeDneyTXaRxG3VwBoU/Q3fcJeysg3nc778CMNOkuYiTixViojnyYMYoOTLgIYpX73UslwI+G+qwtPJzh9a9yfZUWvCQwly0rlJIJezhCh6gozlHV/KqFW1bD1s8jNfQiH39cPLG0tK2tcsXEbZZ1vLoEaiKBsdlZnHZcNSHYg0QqHkH1IG8bVFZh62enIms2KKbqzNQl4EIC30XDZBeLEVsd6hKoS6AugQ1TAnUDtWHWS52rugTqEkACdQNVV4O6BOoS2GAlUNYHpc7n7wIon3j/6sb2u1BZdR7rEqhAAmUNFBsOH62A1npD1aXxpKSWrzcG6hnXJVCXQF0CdQnUJVCXQF0CdQnUJVCXQF0CG4QE/h+7eyCvxiD82QAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFoAAABaCAYAAAA4qEECAAAAAXNSR0IArs4c6QAACK1JREFUeAHtnWtsFFUUx28xrUKlQsEopaRYQ1EURSACEjAUQQJoyuOjYgj6BUFQ6wONfkAEIxqpqDEGg4IGTeQRLQ8LQuRR0ACCAgpVTKm2Iq/SB8VCW///ZafM7uzs7MzO3JndnZOczsx9nXN/c3vnzsydu2nCQ9LW1pYOd/qGaT6Ob4B2Vil2Rb1Kz2P/OPSoWtPS0i7h2BOS5qYXANsB9gdCR0ELoSOgmVA7pBGF7IBuhW6D7gf4VmxTRwB4ELQE+i9UltAWbQ5KatKoYBa0GHoY6rbQB/qSlTTQUZls6HzoOajXhD7Rt+yEBQ7nM6ELofVQrwt9pK92XR/knDc4PBl6AppoQp8ny6EUhxU4mQfdCE10YR3y4kChyWrb8A6OFaH05dAuGiuJGVALt6djSLjODvc5jo1LADgDugSFrIUmC2QyYV3Wsm6sIwPikbhaNBzoDuOl0CHxOJEAeX+AjxPRuk9b9dUyaEBmH1YGLbBqPMHy8fb+QcCutOK3pa4DkO+EsXJoqkAmWz6DKQ/WncemxHSLDhraDitdTVlKnsTnUJWRaNmHzFTJFOhgd8GWnGPGSBKmrUad7jPTjcTcdQAyL3zsk1MdMtsNGXwbZMJjQ4kJNArMQEkcXaRSn2wEj312aZCNUVoRE2iU8iY02YdwhrAiJCATsjEUwz4aZ6wIpfBmxBd9ApPQX6/TjxYiKmhA5lj5AJR3Sb7oE6hF1IBoF0ejruNDFOBD1gesxJARWemKbotGa+bjwtW6OSVH/FdXJ3589z1R89OBgOUe9wwQ9z41S1yb5amXJFPQqtdEQhMRNCDzAfiv0F6RMskOu3iuVqwcM1bU/c3h61XJ6pkjHt1cJq7r6pl/uip4dztg88VwiOh1HS8jlScg09vyxW9pIDOc4BnnISEzstOIBjRaM9+fzdakdDGgeu9eXevR4nQzORsxO8gwxIoGNGLnQq8PSeXyQVNtra4H0eJ0MzkbQXZkGCIhoHEmeGXxVGs+W/G7uNzUFOK0+oBxTOMxYasOuUqHXAwRWQyHF7vtdNOZM2L/so/FsW9Kxdk/ONPLWLJvzRcFD00UAx+fITp262acwfkUz+Gi2H4BCQd9GPb7Oe9DZAscwu1ZUiIOfrpCXLqg34oj574Smt6po7j7sWli6Nw5bg/9jgD0HYqv7aDRmjlVSv+qo+RwaFu9d59YP/NJUVf1ly0WsnrligkfvC9yBrs6A2wwYO9jhdR99DRbamihkJ9XfCa+LJpsG2S6wBPGMlm2i9LONNCi0ZoJ/B/ojbKdIogtL84T8MER02hR4oE3Fom7pj3iSPkGhZ5C/M3woVVp0QMRIB1yRel6RyETAk8gTyRtuSBkSrbtXcco2U7U466urPh5x1qyuj6ETVu06YIE2CotulC2A5vmPC0unudEfTlCW7TpggTYdsDZ5ucMnGkvTap27RInoLKFNmlbsowgY7Zovvvi0zppsmfJUmm2wg25YJts+yqgw/1x7Ljx5ElxYudOx8o3Kpi26YNkkQ+68nt+v+OuuOCDfNBVu3e7SxnWXfAhADpfZs0bampkmotoywUf8tlH82NJaXLh9BlptvQMueDDDQTdWc8hJ8L5hM5tccGHztJBtwlnnmmYOXku+CAftBkgSZQ2ADqJ6uPdqrDrqPeue0njWb0PWs659EHL4SwCoOU9q5RUKw+aOc+uI7b3+R70PoFcOk7Q/H7OF2cJHPVBOwtYKd0HrZBweNsOutFhQ6lcPNke7YA5B1yyTNrT+LbLLa5Dl+zDDjJmH03ZemXj7N8tL8wT9R54Hk0f6IskCbBVQG9z1CjnVTxTLA6uWOmoGTOF0xf6hIklZrJZSRtg6/iUsLbW1sB8iiNfrbbipON5+k2dIsaVvCPSOihtzlaToVPCODcMxa+y1QQKa2tpERtmzhJehcz60jf6SF8dkFVBtlc/6MQkD9un7X494wlRsWGjA/7bX2SfCePFw8s+srvg9mm7ga5DKR2wD2Pftonob/fIVYpOiO2zNfbMzQ5WNmQienjHtDwhiCSGkyEsw1s0P3CphNryheSf30kZNdqG/ZbRhXaVxc/I8tA/t7+JDgFNK+g+5mPzCvd9sUzgNUB+VZ07EuhsJGCrdv1bw5bmZnG8bLPaX939/LFjxDUZXL/FdWmAB2zNZ9WeaEAzEq16ITbSbp3UDoXs42ZiaZ/bRHNj9EcxGZmZYnbFb1gUI2J1QoqUcLAIkF8KtxN+MVTiX8cOPyB3VwCu59Ahhj7kDhvmFchkRnYaiQgaZ4RNSPOZrSa3hIDCBfNFeqdOupa4jMToRQt04yVHzA2y05iNCJqpkGENNps0OSQHdOndW0xa+YnIyu2pscy4qV98jjhPjNc3BZlp/GRA1E4NfXUe0hyA2jLco0Gr0tzQII7hy6pTh3BPhS7lpv79RZ+J46O2dqu2LOTjcC7qUj9RQdMgYBdh4y9eRRj6Yrh4lW7XoZSJf4d12C9Rjv2thkBJkJEmQh1g2KKZGK2aA9TtUOMhADOkjuxBVe8H6GajKscEmoUAdnds+O1YAY99EcfAYDggn46FRcygWVjw4liO3ZxYCk/iNNWomzOLwBIazl4lNuOgXNo3VYV1N71gt+HFMJwmYP+CsJFQntVUE9bZ9NrRhGSq61BTDXYjZQgrUIcn8T775LHB/2rT1TTdohULQYPDccwfGkh24eiCFz52nZbEMmhag2FecdmNJPM4m3XjEC6m0QXSRhTLXUd4aehKeAfJ1zddwuMS9LgWfk8HYN6wxS1xtWi19aBDAxDm+oMotV8W91kHPruwBbJFH4yzoXX7P0pmjMmeFIDt/8yePShjKwXA/R+OjA2VPakA3P8pVHtQxl4KoKfcj/vaNryLHfPVlADOUQ/XhRsFLYRyES271nfie09OsOcsnm1QV3+u2lXQqHyIAHw6AriYllrzccw1RbjchaLYTawfYP8fKZp+ZPlR2HEAAAAASUVORK5CYII="},,,,function(e,t,a){},,,,,,,,,,,,,,,,function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC0AAAAtCAYAAAA6GuKaAAAAAXNSR0IArs4c6QAAAgxJREFUWAntmTFLAzEUx+/OLkKrDgoOB7r5BXqbQyeXLg5OiqBfoYO6Wb+AX6Giq4OLS6cOTm2/gFvFHrgIQgulRXr+A215CU1s6OV6BwmEJO+95P3u3bukoY5ji42ANAKuVEMUxWKxGkXRLRE5nuddtlqtByrT6QdBcDEej2t0juu6d+12u0pl8/rePGHaZZmEnpseSIdzRPsI1Ud1kRr7aPdQZwWv8h2Dr5lAv7OLdQ+EaR9YtwNZhNpFrSNdntByhYMulUq5Xq/3AosyZ7XawWuhUDhuNBq/UwwuPQB8kzJgxlnu9/vXU2DWctAYn1JlWvpIozPKIkKLOUZtV9nnuERocbxKUOqb4+IG1CrNfQud1NvJZKRzqujgdKpguxmobEzo4Hcdfu9layuh8/l8DSfRj2yyKTlO5i0cdFLoTKaHhTaVLuK6NtJiREyNMxlp5ZYXR6RwC3rDnstuQNKCfbmLG8qh1EBQGIeeAHNXNYHBgY0oUo4zmR4WWvlOY1TaSMcYTOVSNtLK8MSoNL5Ps4Pjv32Y2eg8k3FonZNuUXCb04tGalk7ZXqMRqNN3NeW9aE9n/lVTeKgJx/N7BfZcDjsoKrmJ6ITP1Qxp+uJUOg74bg4aPz5c4Wn+tRf09wMxsO4qIc1OgjDcOD7/iNk2zDeQbtB9Un2WUqgPgP4pNlsfifp2/rKdAT+AI7nfAVH7waHAAAAAElFTkSuQmCC"},function(e,t,a){e.exports=a.p+"static/media/clock.2babdf00.png"},,,,,,,function(e,t,a){},,function(e,t,a){},function(e,t,a){},,,,,function(e,t,a){},function(e,t,a){e.exports=a.p+"static/media/close.ebf2f3f4.svg"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAN1wAADdcBQiibeAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAB90SURBVHja7d0JlCR1fcDxX8997Mmy7MXCuotcEqIIymGEsF4RIooIiiheSDwSkyiYYBTxERUx8cCHCkESDCAqBpCIF4gHeCwgcoPcuyyLBPaeq69U9Y7GwAI72z0z1V2fz0ul8flsZn7dU/9vV3dXFarVatC6lq9c1Z/cHJxsS5Jt/ma2qaYEk+O+B1b8+MX77X2QSTAZCgKgJRf92cnNq5Lt1cn2kmTrMRXInhtuui1mTp8mAhAA1LXodyU3b0+2o5Nt/2RrMxXIfgCkRACTwSLR/At/IdnekPzj7cl2ZrK9yOMKzWX12nUH/uTn111tEggAtnTxT9/bX5ZsFyTbYhMBEQACoLUX/rnJ9p3kH69MtuebCIgAEACtv/jvNfqq/y9MA0QACIB8LP6vS25+mmzbmwaIABAArb/wpx/0+2jyjxclW5+JgAgAAZCDxT+5+Y9kOznZCiYCIgAEQD58JNneZAwgAkAA5OfV/xGjr/wBESACEAA5WfzTT/unh/4d9gdEAAIgJ4v/3OTm0vCBP0AEIABy5ezwVT9ABCAAcvXq/6Dk5lCTAEQAAiA/i3/6fv+nTAIQAQiAfDky2fYxBkAEIADy8+q/K7n5uEkAIgABkC9vD5f0BUQAAiB3jjYCQAQgAHJk+cpVs5Ob/U0CEAEIgHx5lccCEAEIgPx5tREAIgABkCPLV67qT25eYhKACEAA5MvBydZjDIAIQADkyxIjAEQAAiB/5hsBIAIQAAIAQAQgAAQAgAhAAAgAABGAABAAACIAAdCcphoBIAIQAACIAAQAACIAAQCACEAAACACEAAAiAAEAAAiAAEAgAhAAAAgAgQAAIgAAQAAIkAAACACEAAAiAAEAAAiAAEAgAhAAAAgAhAAAIgABAAAIgABAIAIQAAAIAIQAACIAAQAACIAAQCACEAAACACEAAAiAAEAAAiQAAAgAgQAAAgAgQAAIgAAQAAIkAAAIAIEAAAIAIEAACIAAEAACJAAAAgAkSAAABABCAAABABCAAARAACAAARgAAAQAQgAAAQAQgAAEQAAgAAESAAAEAECAAAEAECAABEgAAAABEgAABABAgAABABAgAARIAAAAARIAAAQAQIAAAQAQIAAESAAAAAESAAAEAECAAAEAECAABEgAAAQAQgAAAQAQgAAESAAAAAESAAAEAECAAAEAECAIB6tLfZBYsAAQCQO52dHYYgAgQAQP4CoNMQRIAAAMhdAHQ4AiACBABADo8ACAARIAAAchgA3gIQAQIAIHe6uwSACBAAALkzdUp/tBUKBiECBABAnrS1tcXUqVMMQgQIAIC8mTFtqiGIAAEAkDfTBYAIEAAA+dPR0R5T+vsMQgQIAIC8mTljuiGIAAEAkDfbbjMjuru6DEIECACAPCkUCjF/7nYGIQIEAEDezJwxLfr7eg1CBAgAgLxZMG+OIYgAAQCQN+m3AZwXQAQIAIAc2mH7+dHlGgEiQAAA5Et6XoAlixbWThOMCBAAADnS29MTixbONwgRIAAA8mbG9Gkxb85sgxABAgAgb9IA2GamswSKAAEAkDuLFi5wJEAECACAvB4JWLzj9j4YKAIEAEDepJ8J2HnJoujs9BVBESAAAHKlr7cndn32s2K6kwWJgAYoVKtVj9AkWr5ylQcAGLP1GzbGQ6t+FwMDg4bRBGZOn/bjF++390ECAAEANOYV5pp1sTIJgeGREcMQAQJAAAB5ku7H/+fxNUkMrI0NGwcMRAQIAAEA5E2pVI6169bHmmRbv35DVOzjRYAAEABAvlQqldpnBYZHilEsplspiqXSH/65nPz35DcCOjwMAK0pPW/A031jYMPAULING9TkOHDSnx8eA4B8mtLXk2zdBpHXQDQCABGAAABABCAAABABCAAARAACAAARgAAAQAQgAAAQAQgAAEQAAgAAEYAAAEAEIAAAEAEIAABEAAIAABGAAABABCAAABABCAAARAACAAARgAAAQAQIAAAQAQIAAESAAAAAESAAAEAECAAAEAECAAARIAIEAAAiAAEAgAhAAAAgAhAAAIgABAAAIgABAIAIQAAAIAIQAACIAAQAACIAAQCACEAAACACBAAAiAABAAAiQAAAgAgQAAAgAgQAAIgAAQAAIkAAAIAIEAAAIAIEAACIAAEAACJAAACACBAAACACBAAAIgABAIAIQAAAIAIQAACIAAQAACJAAACACBAAACACBAAAiAABAAAiQAAAgAgQAAAgAgQAAIgAAQAAIkAAAIAIEAAAIAIEAACIAAEAACJAAACACBAAACACBAAAiAABAAAiQAAAQL4jQAAAQA4jQAAAQA4jQAAAQA4jQAAAQA4jQAAAQA4jQAAAQA4jQAAAQA4jQAAAQA4jQAAAQA4jQAAAQA4jQAAAQA4jQAAAQA4jQAAAQA4jQAAAQA4jQAAAQA4jQAAAQA4jQAAAQA4jQAAAQA4jQAAAQA4jQAAAQA4jQAAAQA4jQAAAQA4jQAAAQA4jQAAAQA4joMPDAQATGwGOAACACBAAAIAAAAAEAAAgAAAAAQAACAAAQAAAAAIAAAQAACAAAAABAAAIAABAAAAAAgAAEAAAQDZ1NMsPuu6opd3JzcHJdliy7ZZs80a3Kc38AEz3HASaVLW7J6rTZkQl3eYsiOIez4/Ss3dPVpZOw2kChWq1mvWFf05yc3KyHZNsUz1kANmOguLeL4qhlx8e1ale4jydhfPnFgTA5hf+ruTmg8l2YrO/ygfIYwgMH3xoDC/9y4j2DgMRAGN61X9xsh3gKQLQvMrP2jk2vvVvHQ3IYABk7kOAyeL/J8nNMos/QPNrv++umPKvH472h5cbRsZkKgBGX/n/dxpGHhqAFllo1jwWfWedHoX1aw1DAGx28U/f87/Y4g/QmhHQf+5nI8olwxAAT5J+4M9hf4AWlb4d0H3ltw1CAPy/V//pof8TPRwAra37qsu9FSAA/p/0e/6+6gfQ4grDQ9HzvW8ZhAD4wxn+jvFQAORD53U/iygVDcIRgNrpfZ3hDyBHRwE6fnubQQiA2rn9AcjTUYBbrjcEAVC7sA8AeVp8HnnIEARA7Yp+AORp8Vm3xhAEgAAAyJuCABAA4et/APkLgOEhQxAAAIAAAAAEAAAgAAAAAQAACAAAQAAAAAIAABAAACAAAAABAAAIAABAAAAAAgAAEAAAgAAAAAQAACAAAAABAAAIAABAAAAAAgAAEAAAgAAAAAQAACAAAEAAAAACAAAQAACAAAAABAAAIAAAAAEAAAgAAEAAAAACAAAQAADAeOkwguZR6OuP9p12Tbbdom3HxVHomOCHr5r83/BQVNeujuq6NVFZs+k2/c+VVQ9FdeMGDxKAAKCRC3/PO/8+Ovc9MPkPhWz+kNVqlO+5M0o3XR+lm6+P8l23RpRKTTPjttlzo23RkmjfYXFEd8+Ezy6dVXV4MGJoMKq/39atjcrDK2qBlavn+zbbRvv8HaJtwcLkn2dn9zn/VAY2RPmhB6OycnkSxisjyqUAAcCYtS/eOXr/9sPRNmd+xvfahdGjE7tG9+FvrB0pKN9+UxSvuiKKv/rppkUugzpftDS6jz4u2mbNzuxoqwMbayGQLijlB+6J8q03Rvm+32Z2plv3RG+PrpccGt1HvDkK02a0zu+VLP4jP/puDH/tK1Fdv9YOjWzttquTvBNZd9TSqofhKV6Vbr9jTPnkl5NVqrOpf49K8mpo+NILo/izK5MdYjkbs12wQ/Qe//5o32WPppxpdeP6JAR+E6Vbfx3FX/40qqsfa961f+fdk8fiA7Xne6tK3x4bvvDfYuQH37Zj+yNrP3N+rn//hfPnTurhLQGQYX0n/2t07P6nLfP7VB59JEa+fVGMXHVFRHFk8p7002dG/ye+mOlX/WMbbCVKN/4qiskrzeINP2+qt14KM2fFlNPPjsLU6bn4mx74xD8kj9UyOzcBkIkA8C2AjEoPTbfS4l97ss2eEz1v+5uYctqXk1d7iybnh+joiL73f7R1Fv/aYNuiY699ozf5vaZ+6evR/Zqjm+OoUaEQve/+YG4W/1TvX50QhSlT7eDIxq7DCLKpa+khrfukW7BD9H/8zOh88Usnfq4vfVXTHvbfojU1WUy7X//2mPIv50bH3gdk+mfteO4LomPP5+fq7zo94tF1yBF2cAgAnuaB2XFJa+8Iu7uj9z3/UPt2Q3R2Tdyik5MFp23OvOg74WPR96HTasGVRekHRvOofckudnAIAJ7iQZk9Nwr9U3Lxu6ZHOvpPPSMKM7aZgMG2Rftue+bqudSx596199h73vSuKPT2ZWshfNaz8xkAOf29EQBsyavj2XPytUNctFP0ffDU2lGBcX2yz1+YuUVwYgbcEV2HHhFTPndedB5wcHZ2Phk9MjHuf9/TZiTP9Z4AAcCTdxB5fFW0eJfofe9J43rSl0JHZ76fV9NnRu/ffGjThwQzEiZ5VPndqtp5MkAAwKiOF7woeo453iDGWfohwfQtgaY7w16LKN97pyEgAOCJug59XXS99C8NYtznfET0vuvE2ucimOAAuPkGQ0AAwOb0vPWvJ+88ATnSeeDLou/9p0zotzByv/jff3eMXPUdg0AAwGa1t0fPG48zhwnQsff+0X/SJ/P54ciJVq3G0NmfqZ25EQQAPNXCtNe+0d5iZ0LMbG8lc07PF5DXD+VNiGIxhr7y+SjffYdZkJ39rBG0pvTSvLWL7zRYoa8v2mZtV7tMa/uiJeP6/f2eN74zNn7oPR7MiYiAZ+8e3UceG8MXnmMYDZZeDGvw8/9cO/wPAoDx3+mseCBGvnPx+P5L0ksA7/Kc6HzBn0XnQS+PQn9jz3Genimuc98Do/iLH2dmrqVbb6ztzBs+yt6+2mli25Kgqt0mW+12wQ4TduKY7sPeEKVf/yrKd9zsD6iu+i5Hefl9tQhPX/GXrrkyqsPD5oIAoIVUq8licUttG/6vC6L7qLfWruneyK+Xdb/h7VH85U9q/65sFEAxqmseb/wo0/t8eEVs7mLJ6Wl9O/c7KDqSLT1p0ngGXe97/zE2nnhcVAc2Zj9yH3s0Np707uz9WWzcMKlXuwQBwMTu9NavjaF/+2wUf3RF9J14asPeGmibuyDad35OlO+8JbezrTzycAxfcmFta5u3fe1sfunXJcfjg3u1Kza+/X0xeMbHm2AwlXGJMcgLHwKkodLDnhv/6a9r73s2rFL3eqHB/n7Ne3hFDH/zvNjwd2+J4rU/Gpd/R3op6iydMhgQADTLIvXoqth48vtqpzxtyIK0136G+gTV1Y/F4OdOjYFTT6hFQaOlRwHaZs02aBAAMMYFav26GPyXkxvyXmjbDs+Ktm23M9TNKN18Q2w44R0x8t1LGnq/6dUou1//NgMGAQBjl37taeg/zmzIfaXnBeAppN8xP/eMGLnsoobebfo2QGGbbc0XBACM3cgPL4/KivvrD4Dn+RzAMxk6/6wYvuSCxt1he0d0/8XhBgsCALZCtRrD3ziv/rVotz3NcgukJ/IZvvirjTsKsPSQKPT0GiwIABi79Hv8lYcfqus+aifK6e4xzC2JgK//exSvvboh95V+FqDz4FcaKggA2LqjAKXrr61/MZo+wyy3UHre+eq6NQ25r65XvtZlg0EAwNZJTzFbdwBMm2mQW9pc6YmZzvl8Y3YSs+dE574vNlQQALAVAXDHTcn/K9UXADMEwFik11ConUa5EUcBXvEaAwUBAFtTAKWorH6sziMA3gIYq9pRgAaciyG9WuB4nHoYEADkQHVtfedtb/MZgK2Y+eoo/vzqBuwp2nwTAwQAbOViVOeFW3wGYOuMfO+yhtxPx3OeZ5ggAGArdNX3Nb7qiGuqb43y3bdH+b7f1n0/7Xs81zBBAMBWPNnqPK1sejibrTwK8P1L6w+AHZdEoX+qYYIAgLEp1Hl1Odd+33qla6+OKJfrfAAL0b67zwGAAICxvHpcvHPdnyJ3BKCO2Q0NRvmBe+q+n47neBsABACMZeHY54C676PiCEBdynfdWn/I7fIcg4RW2S8bAeOuUIjOF9Z/JjlHAOoMgDtviajzhD5tM2Zl52k1ZWr0HPueSf0ZqsWRqNx9R5TuuLlhp14GAUDL6NzvoGhbsEOdq1cpqhvWG2ZdAVD/EYDC1OnZCYDevuh6ZXYuV1x56MEY+to5UfrVzzzZaAreAmB8pdeUf/3b6l+87rnLLOtdoB57NKpr63yV2tnpjIBPtTNNIrfv/adE77tOMCMEAHQffky0zZlf9/2UrrvGMBsgvUhQ/UcBphnk0zXSQa+I/tPOMicEAPnVsff+0f3aYxpyX8XrrjXQRgTAwIb6A8A1GZ55xzpnXvQe/wGDQACQP+2Ldore9/5j7QOA9ao8vKL2/ioNCICNDQiADH0OINMBvM8B0bX0EINAAJCjHd9z94m+Uz7bsPdBS8sc/hcAzan7TX+V1HC7QSAAaPWX/e3Rdejrou/Ef45CT2/D7tbh/wYGQCPeAvDe9pbPKong9sW7GATZfLFmBDTmVf8LoufN76r/635PkB76b8QJbBhdkBoRZi7KNLa/jd33jPJvbzMIBACto237HWvf8e/c98DaP4+Hof/8cvKytWrYjQqAGdvUfxRhrRPejOnvZNFOhoAAYOK07/G86DvhY42/497+aJs1e9OV/bq6x/V3KN1yQ5Ru+IUHM2MBUHHGuzEp3+scFggAJvJVR7pI13n1vUmVvOofPu9LHshGPy+mN+AIQAPOJZCrAPjNdYZANvcHRkAWFa/+bkOuXscf/7W3RWFa/Z/gd02GLVdZcX+UH7zXIBAAsEULzMYNMXTRuQbR6D/2edvXf16GcrkhXyXMxfN4/boY+NSHDQIBAFukVIrBT38kqqsfM4sG69j9T+tf1Das86HMLVEsxkDyPK48stIsyO4+wQjIzkumagyeeVqUbvuNWYyD9t2fW/9D5BsAz9ywy66JofPPqp3BEgQAbIGhC86O4jVXGcR4/bHv9id130d5xQMG+aShlGuLffnB+2LkB5dFWcAiAGDLjXzv0hi57CKDGCfp+/+FmbPqX+tuuzEzv1P6NtHAJ0+a3J+hVNx0mL9Y9CRDAMDY9qDVGL7kwhi+6CtmMZ5/6M/ftyH3k6W3Z6qlUpTvv9uDCwKAplv7162JwS98Mkq/WWYY4/ryvy26Xv6a+h+vNY+7KiMIAKhP+fabYuBzp/q0/wTo3PuAaNtubgNe/d9kmCAAYCtfRQ4Px8i3L4rhi78aUakYyAToOuSIxkRbht7/BwQAzbLwD2zc9EG/71xcO/TPxEgvRdu+6x4NuS9fzwQBAFu+8K9dU1v0R753SVQHBwxkIhUK0f3G4xrzOHr/HwQAPJP0a1Glm2+IcrIV06v5uX78pOh62auiY4/nNeS+nJ8BBAD8n1IpKmtX1w7pV1Yur12+N130K48+YjaTrG3O/OTV/zsbVHSVGLniW4YKAoCmWJuThXjk8q839k6r6Yf4BmuH9dNF30VhMqpQiN53fzAK3T2NefX/y5+IOhAANIvq4/8TpRt9vz6Puo94c8M++JcaufwbhgotyNUAoZUW/9ccXQuARinfeUuU777DYMERACCzi//hx0T3UW9t6H0Oe/UPAgDI8OJ/xJui+3Vvaeh91r7NsewawwUBAGRNYfqM6Hnzu6PzRUsbft/Dl1xQu1gTIACAzKz8hehaekh0H/2OKPRPbfjdpx8gLV51hTmDAACyon2HxdFz3N9F+867j8v9V9evi8EvnW7QIACASX/BP3NWdO57YHTu/+fR/uzdakcAxsvQ2Z9xlUYQAMDEr/aFKEydHm3bbFtb7GuL/m57juui/3vFn3y/duIfQAAAf6Rt+0W1w+8NX/P7+pMFf3YUkkU/XfijY+L/NNOz/Q195QwPMggA4EkBMGt2dL3k0Nb7xarVGDzzNFdshDztz4wAci5Z/IfOPSPKt/3GLMARACAvi//glz4dxau/axYgAIBcKJdi8AufiOK1V5sFCAAgF4rFGPjMKVG6/udmAQIAyIPq8FAMnv7hKN18g2GAACBTO+iNG+q/j4ENBslmnlvrY+C0f6pd5hcQAGRMecX9EcWRiM6urb6PyooHDPKJM1nzeI5X/moUf/KDGDr/rKiuXZ2NHyn9OWbP2fr//fo1ntQgAFqtAMpRfuDeaN9p1zoiQgA8acFIAqDyu1XRtt3cfD2d7r87hs75fJTvujVbP9e9d9X1HK8kfyOAAGi9nXa9O8f0KAJPnmuyCOYlANLD/cNfOzdGfnBZJi/rW77vrvr+9w8KAKiHEwFl1Mh/fzOqQ4Nb9b8t/uzKqG5Yb4ibUbr11zlY+au1S/lueN+xMfL9SzO5+Nceixt+Wbvy4NY9yUeidP0vPKFBALSeyqqHamdnG/O+P1n4h8470wCfat340Xdb9qtv6Wl8R354eWz84PEx+OVPJ4vr2mz/vGser52EaGsMf+v8qDyy0hMaBECLLlZXf29sZ2hLT+n671+I6lofjnq6GQ2e8fHWeYsk+X3Kd9wSg188PTYc/7rapXzLD9zTND9+6bprake7xiJ9e2z40q95LkOdCtVJPjy47qilVQ/D0+t84Yuj+9h31y5E85RHDJIFbfCLn47y3bcb2JY88afPjO7D3xhdSw+p69sWkyE9OpR+h7980/VRuvXG2nv9za5jj72i563vqV1t8eliZ+Tyb8TQRedu+pYMTW/tZ87P9e+/cP7cwmT++wVAsyxY3T3RefAro33xztG+aKcobDc3Kg+viEryaq989x0x8qMrkpdTJYMa61xnzoqulx2WzHRJtM2ZH23bzUuCoHNyfphyqfa5j+rgYER6OzRQO5pTWbk8yisfTCIv2ZLblv18R3t7dO53UO353bZgh2ibvzAKPb21Ixrl+34bpWXXClwBIAAEAAACQADUw2cAACCHBAAACAAAQAAAAAIAABAAAIAAAAAEAAAgAAAAAQAACAAAQAAAAAIAABAAAIAAAAAEAAAgAAAAAQAACAAAEAAAgAAAAAQAACAAAAABAAAIAABAAAAAAgAAEAAAgAAAAAQAACAAAIDWCIANHgaAfClPmW4IAiAe9jAA5Etp7gJDEAACACBvRradZwgCIG73MADkLAC2X2wIAiAu9TAA5MuGZ+1qCAIgrkq29R4KgHwoT50ew129BpH3AJh20ZXDyc1/eigA8mH1K46KqjEIgFGnhK8DArT+q/8p02P1Ls81CAHwh6MAjyQ3n/JwALS2R488Pipe/guAJzgt2a7xkAC0po0vOCjWzVtkEALgSUcBRpKb1ybbcg8LQGtJv/a38mVHeu9fADxlBKRvBRwiAgBaa/Ff8ea/d+hfADxjBNyc3OwT3g4AaHrpYf8H3vKBKBZce04AbPmRgIOT7SPh2wEATSf9tP+qt50YD730SK/8M6pQrWb7kVl31NI5yc3JyXZMsk31kAFkeOGfOr32Pf/0q37PtPDP3TbfVwRcOH9uQQBsWQh0jx4VOCzZdku2eaPbFH9yAJPzKj+9ql96YZ/0ff709L7pGf62dFURAAIg15bddKcHAMidQqEQc2ZNEwCTyKcyAJj4xaetYAiT/RgYAQATrb3N8iMAAMidjnbLjwAAIHe6uzoNQQAAkCfpBwC7OjsMQgAAkCe93Z1JBJiDAAAgV6/+p/T1GIQAACBP+nu7fQVQAACQJ12d7dHf120QAgCAvEi/9z9jan947S8AAMjR4j9zWp9D/xnjexgAjJv0sH/6yt/iLwAAyIH00/7pB/7S9/wt/QIAgBws/On3/NOv+nnVLwAAaNHFPl3k0/f403P7p6f3Tc/w5yQ/AoAtMHfb6YYAwITzLQAAEAAAgAAAAAQAACAAAAABAAAIAABAAAAAAgAAEAAAgAAAAAQAACAAAAABAAAIAABAAAAAAgAAEAAAIAAAAAEAAAgAAEAAAAACAAAQAACAAAAABAAAIAAAAAEAAAgAAEAAAAACAAAQAE1pvREA2PcLgPxZaQQA9v0CwJMAAPt+AeBJAIB9vwDwJADAvl8AeBIAYN8vAJrTPUYAYN8vAPLnqmQbMgaA3Bga3fcLgDxbOH/uxuTmhyYBkBs/HN33CwDiEiMAsM8XAPlzWbJVjAGg5VVG9/kCgNrbAI8mN9eaBEDLu3Z0ny8A+IMLjADAvl4A5M85yXavMQC0rHtH9/UCgP+zcP7ckeTmJJMAaFknje7rBQBP8vVkW2YMAC1n2eg+PjMEQLaOAlSTmxNNAqDlnDi6jxcAPGUEXJ3cXG4SAC3j8tF9e6YIgGw6LtlWGANA01sxuk/PHAGQzaMAq5Kbw5JtwDQAmla6Dz9sdJ8uANjiCLghuTk22aqmAdB00n33saP78kwSANmOgG8mN6eYBEDTOWV0H55ZAiD7PpZsXzUGgKbx1dF9d6YJgOwfBagdRkq2k8PbAQBZlu6jPxqbDv1nfn9dqFatKc1i+cpVhyc35yVbv2kAZMrA6ML/zWb5gQVA80XAnrHpUpI7mgZAJqRf9Tssyx/42xxvATSZ5Al2U3KzT7JdYhoAky49cds+zbb4OwLQ/EcD/iy5OT3ZXmgaABMqPbf/iVk8w58AyFcIHJncfDzZlpgGwLhKL+mbXrn1683wQT8BkI8I6Exu3pFsRyfb/uHtHYBGqSTbNcl2YbKdk6VL+goAnhgDs5ObVyXbq5PtJcnWYyoAYzKUbD+MTZ+3uixZ9B9ttV9QALR+DKRfGTw4Nr09MH8z21RTAnJqfbKt3Mx2T7JdlSz6G1v5l/9fPBK8Yy/ooD0AAAAASUVORK5CYII="},function(e,t,a){e.exports=a.p+"static/media/view.0c42c1ee.svg"},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return g}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(356),p=a(18),h=(a(584),a(32)),f=a(8),g=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={isSuccess:!1,message:"",token:localStorage.getItem("accessToken"),loading:!1},e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.state||this.props.history.push("change-password")}},{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new h.a,e.next=3,a.changePassword(t,this.state.token);case 3:(n=e.sent)&&(n.data.success?(this.setState({isSuccess:!0,message:n.data.message,loading:!0}),localStorage.removeItem("isForcedChangePassword"),localStorage.removeItem("notif"),this.props.history.push("change-password-success",this.state)):n&&n.data&&f.a===n.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):this.setState({error:!0,message:n.data.message,loading:!1,alertState:"alert alert-danger",isSuccess:!1}));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state;return d.a.createElement("div",{id:"ChangePassword"},d.a.createElement("h3",{className:"mb-4"},"Change Password"),this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),this.state.loading?d.a.createElement(p.a,null):d.a.createElement(m.a,{mode:"edit",data:e,onSubmit:this.submit.bind(this)}))}}]),a}(u.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return p}));var n=a(4),s=a(3),r=a(6),l=a(5),i=a(0),o=a.n(i),c=a(13),u=a(15),d=a.n(u),m=a(249),p=(a(21),a(59),a(584),function(e){Object(r.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(n.a)(this,a);for(var s=arguments.length,r=new Array(s),l=0;l<s;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(s.a)(a,[{key:"back",value:function(){this.props.history.push("change-password-success")}},{key:"componentWillMount",value:function(){d.a.render(o.a.createElement(m.a,null),document.getElementById("root"))}},{key:"render",value:function(){return o.a.createElement("div",{id:"ChangePasswordSuccess"},o.a.createElement("div",{className:"justify-content-end"},o.a.createElement("h3",{className:"mb-4"},"Change Password Success")),o.a.createElement("div",{className:"justify-content-end"},o.a.createElement(c.c,{activeClassName:"is-active",to:"/dashboard"},"Back to Dashboard")))}}]),a}(i.Component))},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){},,,,,,,function(e,t,a){},function(e,t,a){},,function(e,t,a){},,,,,,,,,function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return v}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=(a(586),a(21),a(7)),p=a.n(m),h=a(11),f=function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,[{key:"setPassword",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var n,r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a(428),r={"Content-Type":"application/json"},l=JSON.stringify({nip:t.nip,email:t.email,password:n.encrypt(t.password,"C1mbdevx1!").toString(),confirmPassword:n.encrypt(t.confirmPassword,"C1mbdevx1!").toString()}),e.prev=3,e.next=6,p.a.post(h.b+"/util/setPasswordEnc",l,{headers:r});case 6:return i=e.sent,e.abrupt("return",i);case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),g=a(75),v=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={nip:"",email:"",password:"",confirmPassword:"",error:!1,errorMessage:"",success:!1,alertState:"alert alert-primary"},e}return Object(i.a)(a,[{key:"validate",value:function(e){return this.setState({error:!0,alertState:"alert alert-danger"}),e.nip?e.email?e.email&&!g.a.validateEmail(e.email)?(this.setState({errorMessage:"Please enter valid Email!"}),!1):e.password?e.confirmPassword?e.password&&e.confirmPassword&&e.password!==e.confirmPassword?(this.setState({errorMessage:"Pasword not match!"}),!1):(this.setState({error:!1,alertState:"alert alert-primary"}),!0):(this.setState({errorMessage:"Please input Confirm Password!"}),!1):(this.setState({errorMessage:"Please input Password!"}),!1):(this.setState({errorMessage:"Please input Email Address!"}),!1):(this.setState({errorMessage:"Please input NIP!"}),!1)}},{key:"setPassword",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validate(this.state)){e.next=2;break}return e.abrupt("return");case 2:return t=new f,e.next=5,t.setPassword(this.state);case 5:(a=e.sent)&&200===a.status&&a.data&&a.data.success?(this.setState({error:!1,success:!0,errorMessage:a.data.message,alertState:"alert alert-primary"}),alert(a.data.message),this.props.history.push("/login")):a?this.setState({errorMessage:a.data?a.data.message:a,alertState:"alert alert-danger",error:!0,success:!1}):this.setState({errorMessage:"Set Password failed, please try again!",alertState:"alert alert-danger",error:!0,success:!1});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return d.a.createElement("div",{id:"Login"},this.state.error?d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.errorMessage):null,d.a.createElement("div",{id:"form"},d.a.createElement("h1",{id:"title"},"Welcome!"),d.a.createElement("input",{required:!0,type:"text",name:"nip",placeholder:"NIP",onChange:function(t){return e.setState({nip:t.target.value})},value:this.state.nip||""}),d.a.createElement("input",{required:!0,type:"text",name:"email",placeholder:"Email",onChange:function(t){return e.setState({email:t.target.value})},value:this.state.email||""}),d.a.createElement("input",{required:!0,type:"password",name:"password",placeholder:"Password",onChange:function(t){return e.setState({password:t.target.value})},value:this.state.password||""}),d.a.createElement("input",{required:!0,type:"password",name:"confirmPassword",placeholder:"Confirm Password",onChange:function(t){return e.setState({confirmPassword:t.target.value})},value:this.state.confirmPassword||""}),d.a.createElement("button",{className:"button-red",onClick:this.setPassword.bind(this)},"SET PASSWORD")))}}]),a}(u.Component)},,,function(e){e.exports=JSON.parse('{"name":"rm-tools-cms","version":"1.20.1","Homepage":"/admin","private":true,"dependencies":{"@ashvin27/react-datatable":"^1.3.1","@ckeditor/ckeditor5-build-classic":"^12.3.1","@ckeditor/ckeditor5-build-decoupled-document":"^12.3.1","@ckeditor/ckeditor5-editor-decoupled":"^12.2.1","@ckeditor/ckeditor5-react":"^1.1.3","axios":"^0.19.0","bootstrap":"^4.4.1","browserslist":"^4.12.0","caniuse-lite":"^1.0.30001062","chart.js":"^2.8.0","ckeditor4-react":"^1.0.0-beta","crypto-js":"^3.1.9-1","dotenv":"^8.0.0","exceljs":"^1.14.0","export-from-json":"^1.1.4","file-save":"^0.2.0","file-saver":"^2.0.2","js-file-download":"^0.4.7","js-htmlencode":"^0.3.0","jspdf":"^1.5.3","jspdf-autotable":"^3.1.4","moment":"^2.24.0","query-string":"^6.7.0","react":"^16.8.6","react-app-polyfill":"^1.0.1","react-beautiful-dnd":"^13.0.0","react-bootstrap":"^1.0.0","react-chartjs-2":"^2.7.6","react-data-table-component":"^6.0.4","react-datepicker":"^2.7.0","react-dom":"^16.8.6","react-dropzone":"^10.1.5","react-md":"^1.12.2","react-modal":"^3.8.1","react-moment":"^0.9.2","react-pdf":"^4.1.0","react-router-dom":"^5.0.0","react-scripts":"^3.4.1","react-select":"^3.1.0","react-select-async-paginate":"^0.3.7","react-sortable-hoc":"^1.10.1","react-tabs":"^3.1.0","react-time-picker":"^4.0.1","react-tooltip":"^3.11.1","reactstrap":"^8.0.0","simple-react-validator":"^1.2.2","sortablejs":"^1.6.1","styled-components":"^4.3.2"},"scripts":{"start":"react-scripts start","copy":"cp .htaccess build/","build":"react-scripts build && npm run copy","test":"react-scripts test","eject":"react-scripts eject"},"eslintConfig":{"extends":"react-app"},"browserslist":{"production":[">0.2%","not dead","not op_mini all","ie 11"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version","ie 11"]}}')},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){e.exports=a(1659)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return N}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=a(15),h=a.n(p),f=a(13),g=a(71),v=a.n(g),b=a(19),y=a.n(b),S=a(23),E=a(18),w=(a(995),a(21),a(77)),k=a(8),N=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),codeFind:"",titleFind:""},e.reset=e.reset.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(n,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")});var e=y.a.parse(this.props.location.search);this.setPage(+e.page||0,e.filter)}},{key:"componentDidUpdate",value:function(e){if(this.props.location.search!==e.location.search){var t=y.a.parse(this.props.location.search);this.setPage(+t.page||0,t.filter||null)}}},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i,o,c=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:0,a=c.length>1&&void 0!==c[1]?c[1]:this.state.filter,n=c.length>2&&void 0!==c[2]?c[2]:10,r=new w.a,e.next=6,r.findCampaignByParam(this.state,t,n);case 6:(l=e.sent)&&200===l.status&&l.data?(console.log(JSON.stringify(l)),i=l.data.data.campaignList,o=Math.ceil(l.data.data.count/10),this.setState({page:t,filter:a,list:i,totalPage:o}),this.setState({loading:!1})):l&&l.data&&k.a===l.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):this.setState({error:!0,errorMessage:l&&l.data?l.data.message:l,loading:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteRow",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.state.list[t],!window.confirm("Are you sure you want to ended ".concat(a.code,"?"))){e.next=7;break}return n=new w.a,e.next=5,n.deleteCampaign(a,this.state.token);case 5:200===(r=e.sent).status&&r.data.success?(alert("data ".concat(a.code," waiting approve to ended")),window.location=window.location.href):r&&r.data&&k.a===r.data.data?this.clearSession():alert("error, data ".concat(a.code," cannot ended"));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"editRow",value:function(e){var t=this.state.list[e];this.props.history.push("edit-campaign",{data:t})}},{key:"search",value:function(){this.setState({loading:!0,search:!0}),this.setPage(0,"")}},{key:"reset",value:function(){var e=this;this.setState({loading:!0}),h.a.findDOMNode(this.refs.form1).value="",h.a.findDOMNode(this.refs.form2).value="",this.setState({codeFind:"",titleFind:""},(function(){setTimeout((function(){e.setPage(0,"")}),1)}))}},{key:"render",value:function(){for(var e=this,t=JSON.parse(this.state.userPrivilege)||[],n=!1,s=!1,r=!1,l=0;l<t.length;l++)"create_pic"===t[l].name+"_"+t[l].vgroup&&(n=!0),"update_pic"===t[l].name+"_"+t[l].vgroup&&(s=!0),"delete_pic"===t[l].name+"_"+t[l].vgroup&&(r=!0);return m.a.createElement("div",{id:"ListCampaign"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?m.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,m.a.createElement("h3",null,"Campaign Info List"),m.a.createElement("div",{id:"search-menu"},m.a.createElement("table",{style:{width:"50%"}},m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-4"},"Campaign Code"),m.a.createElement("input",{className:"col-6 form-input",type:"text",ref:"form1",onChange:function(t){return e.setState({codeFind:t.target.value})},defaultValue:this.state.codeFind})),m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-4"},"Campaign Name"),m.a.createElement("input",{className:"col-6 form-input",type:"text",ref:"form2",onChange:function(t){return e.setState({titleFind:t.target.value})},defaultValue:this.state.titleFind})))))),m.a.createElement("div",null,m.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.search.bind(this)},"search"),m.a.createElement("button",{type:"button",className:"reset-btn btn btn-secondary btn-sm",onClick:this.reset},"reset"))),this.state.loading?m.a.createElement(E.a,null):m.a.createElement(S.a,{page:this.state.page,totalPage:this.state.totalPage,filter:this.state.filter},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,"Campaign Code"),m.a.createElement("th",null,"Campaign name"),m.a.createElement("th",null,"Description"),m.a.createElement("th",null,"Categories"),m.a.createElement("th",null,"Start Date"),m.a.createElement("th",null,"End Date"),m.a.createElement("th",null,"Actions"))),m.a.createElement("tbody",null,this.state.list.map((function(t,n){return m.a.createElement("tr",{key:n},m.a.createElement("td",null,t.code),m.a.createElement("td",{style:{width:"15%"}},t.title),m.a.createElement("td",{style:{width:"20%"}},t.description),m.a.createElement("td",null,t.category?t.category.name:null),m.a.createElement("td",null,m.a.createElement(v.a,{format:"DD MMM YYYY"},t.startDate)),m.a.createElement("td",null,m.a.createElement(v.a,{format:"DD MMM YYYY"},t.endDate)),m.a.createElement("td",null,r?m.a.createElement("input",{type:"image",alt:"Delete",height:20,className:"mr-3",src:a(67),onClick:function(){return e.deleteRow(n)}}):null,s?m.a.createElement("input",{type:"image",alt:"Edit",height:20,src:a(40),onClick:function(){return e.editRow(n)}}):null))})))),n?m.a.createElement(f.b,{to:"create-campaign",className:"d-flex justify-content-end"},m.a.createElement("button",{className:"button-red"},"CREATE NEW CAMPAIGN")):null)}}]),n}(d.Component)},,,,,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return w}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=a(15),h=a.n(p),f=a(13),g=a(19),v=a.n(g),b=a(23),y=a(18),S=(a(998),a(21),a(77)),E=a(8),w=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),codeFind:"",nameFind:""},e.reset=e.reset.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(n,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")});var e=v.a.parse(this.props.location.search);this.setPage(+e.page||0,e.filter)}},{key:"componentDidUpdate",value:function(e){if(this.props.location.search!==e.location.search){var t=v.a.parse(this.props.location.search);this.setPage(+t.page||0,t.filter||null)}}},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i,o=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:0,a=o.length>1&&void 0!==o[1]?o[1]:this.state.filter,n=new S.a,e.next=5,n.findListCampignCategoryByParam(this.state);case 5:(r=e.sent)&&200===r.status&&r.data&&r.data.success?(l=r.data.data,a&&(l=l.filter((function(e){return e.name.toLowerCase().includes(a)}))),i=Math.ceil(l.length/10),l=l.slice(10*t,10*(t+1)),this.setState({page:t,filter:a,list:l,totalPage:i}),this.setState({loading:!1})):r&&r.data&&E.a===r.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):this.setState({error:!0,errorMessage:r&&r.data?r.data.message:r,loading:!1});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteRow",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.state.list[t],!window.confirm("Are you sure you want to inactive ".concat(a.code,"?"))){e.next=7;break}return n=new S.a,e.next=5,n.deleteCampaignCategory(a,this.state.token);case 5:200===(r=e.sent).status&&r.data.success?(alert("data ".concat(a.code," inactive")),window.location=window.location.href):r&&r.data&&E.a===r.data.data?this.clearSession():alert("error, data ".concat(a.code," cannot inactive"));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"editRow",value:function(e){var t=this.state.list[e];this.props.history.push("edit-campaign-category",{data:t})}},{key:"search",value:function(){this.setState({loading:!0,search:!0}),this.setPage(0,"")}},{key:"reset",value:function(){var e=this;this.setState({loading:!0}),h.a.findDOMNode(this.refs.form1).value="",h.a.findDOMNode(this.refs.form2).value="",this.setState({codeFind:"",nameFind:""},(function(){setTimeout((function(){e.setPage(0,"")}),1)}))}},{key:"render",value:function(){for(var e=this,t=JSON.parse(this.state.userPrivilege)||[],n=!1,s=!1,r=!1,l=0;l<t.length;l++)"create_pic"===t[l].name+"_"+t[l].vgroup&&(n=!0),"update_pic"===t[l].name+"_"+t[l].vgroup&&(s=!0),"delete_pic"===t[l].name+"_"+t[l].vgroup&&(r=!0);return m.a.createElement("div",{id:"ListCampaignCategory"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?m.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,m.a.createElement("h3",null,"Campaign Category List"),m.a.createElement("div",{id:"search-menu"},m.a.createElement("table",{style:{width:"50%"}},m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-4"},"Category Code"),m.a.createElement("input",{className:"col-6 form-input",type:"text",ref:"form1",onChange:function(t){return e.setState({codeFind:t.target.value})},defaultValue:this.state.codeFind})),m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-4"},"Category Name"),m.a.createElement("input",{className:"col-6 form-input",type:"text",ref:"form2",onChange:function(t){return e.setState({nameFind:t.target.value})},defaultValue:this.state.nameFind})))))),m.a.createElement("div",null,m.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.search.bind(this)},"search"),m.a.createElement("button",{type:"button",className:"reset-btn btn btn-secondary btn-sm",onClick:this.reset},"reset"))),this.state.loading?m.a.createElement(y.a,null):m.a.createElement(b.a,{page:this.state.page,totalPage:this.state.totalPage,filter:this.state.filter},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,"Campaign Code"),m.a.createElement("th",null,"Description"),m.a.createElement("th",null,"Name"),m.a.createElement("th",null,"Priority"),m.a.createElement("th",null,"Short Name"),m.a.createElement("th",null,"Status"),m.a.createElement("th",null,"Actions"))),m.a.createElement("tbody",null,this.state.list.map((function(t,n){return m.a.createElement("tr",{key:n},m.a.createElement("td",null,t.code),m.a.createElement("td",{style:{width:"20%"}},t.description),m.a.createElement("td",null,t.name),m.a.createElement("td",null,t.priority),m.a.createElement("td",null,t.shortname),m.a.createElement("td",null,t.status.code),m.a.createElement("td",null,r?m.a.createElement("input",{type:"image",alt:"Delete",height:20,className:"mr-3",src:a(67),onClick:function(){return e.deleteRow(n)}}):null,s?m.a.createElement("input",{type:"image",alt:"Edit",height:20,src:a(40),onClick:function(){return e.editRow(n)}}):null))})))),n?m.a.createElement(f.b,{to:"create-campaign-category",className:"d-flex justify-content-end"},m.a.createElement("button",{className:"button-red"},"ADD CAMPAIGN CATEGORIES")):null)}}]),n}(d.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return f}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(349),p=(a(1024),a(8)),h=a(77),f=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={isSuccess:!1,message:"",token:localStorage.getItem("accessToken")},e}return Object(i.a)(a,[{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new h.a,e.next=3,a.addCampaign(t);case 3:(n=e.sent)&&(n.data.success?(this.setState({isSuccess:!0,message:n.data.message}),this.props.history.push("campaign",this.state)):n&&n.data&&p.a===n.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0)));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return d.a.createElement("div",{id:"CreateCampaign"},this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement("h3",{className:"mb-4"},"Add New Campaign"),d.a.createElement(m.a,{history:this.props.history,onSubmit:this.submit.bind(this)}))}}]),a}(u.Component)},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return f}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(354),p=(a(1026),a(8)),h=a(77),f=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={isSuccess:!1,message:"",token:localStorage.getItem("accessToken")},e}return Object(i.a)(a,[{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new h.a,e.next=3,a.createCampaignCategory(t);case 3:(n=e.sent)&&(n.data.success?(this.setState({isSuccess:!0,message:n.data.message}),this.props.history.push("campaign-category",this.state)):n&&n.data&&p.a===n.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0)));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return d.a.createElement("div",{id:"CreateCampaignCategory"},d.a.createElement("h3",{className:"mb-4"},"Add New Campaign Catagories"),this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement(m.a,{history:this.props.history,onSubmit:this.submit.bind(this)}))}}]),a}(u.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return f}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(241),p=(a(1028),a(32)),h=a(8),f=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={isSuccess:!1,message:"",token:localStorage.getItem("accessToken")},e}return Object(i.a)(a,[{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new p.a,e.next=3,a.addUser(t);case 3:(n=e.sent)&&(n.data.success?(this.setState({isSuccess:!0,message:n.data.message}),this.props.history.push("user",this.state)):n&&n.data&&h.a===n.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0)));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return d.a.createElement("div",{id:"CreateUser"},d.a.createElement("h3",{className:"mb-4"},"Add New User"),this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement(m.a,{history:this.props.history,onSubmit:this.submit.bind(this)}))}}]),a}(u.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return b}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(14),p=a.n(m),h=(a(1030),a(32)),f=a(18),g=a(8),v=a(130),b=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={file:null,error:"",alertState:"alert alert-primary",loading:!1,token:localStorage.getItem("accessToken"),userType:JSON.parse(localStorage.getItem("userType")),channel:[],channelFind:JSON.parse(localStorage.getItem("userType")),isSuperAdmin:JSON.parse(localStorage.getItem("isSuperAdmin"))},e.getCMSChannel=function(){var t=e.state.token;Object(v.a)(t).then((function(t){if(console.log("AVAILABLE CHANNEL",t),t.success){var a=p.a.result(t,"data",[]);e.setState({channel:a})}else alert("Failed get Available CMS Channel")})).catch((function(e){alert("Error get Available CMS Channel")}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){window.scrollTo(0,0),this.getCMSChannel()}},{key:"validate",value:function(e){return!!e.file||(this.setState({error:"Please select file to upload!",alertState:"alert alert-danger"}),!1)}},{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validate(this.state)){e.next=2;break}return e.abrupt("return");case 2:return this.setState({loading:!0}),t=new h.a,e.next=6,t.bulkUploadUser(this.state);case 6:(a=e.sent)&&200===a.status&&a.data.success?this.setState({error:a.data.message,alertState:"alert alert-primary",loading:!1}):a&&a.data&&g.a===a.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):this.setState({error:a&&a.data.message?a.data.message:"Error bulk upload User, Please contact Administrator",alertState:"alert alert-danger",loading:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.channel,n=t.isSuperAdmin,s=t.channelFind;return d.a.createElement("div",{id:"BulkUploadUser"},this.state.error?d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.error):null,d.a.createElement("h3",{className:"mb-4"},"Bulk Upload User"),this.state.loading?d.a.createElement(f.a,null):d.a.createElement("div",null,n&&d.a.createElement("div",{className:"row mb-2"},d.a.createElement("label",{className:"col-2"},"Channel"),d.a.createElement("select",{onChange:function(t){return e.setState({channelFind:t.target.value})},value:s,className:"col-6 form-input"},d.a.createElement("option",{value:""},"Select Channel"),a.length>0?a.map((function(e){return d.a.createElement("option",{key:e.id,value:e.code},e.name)})):null)),d.a.createElement("div",{className:"row mb-3 box-area"},d.a.createElement("input",{type:"file",accept:".csv",onChange:function(t){return e.setState({file:t.target.files[0]})}}),d.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.submit.bind(this)},"submit"))))}}]),a}(u.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return f}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=(a(1032),a(32)),p=a(18),h=a(8),f=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={file:null,error:"",alertState:"alert alert-primary",loading:!1,token:localStorage.getItem("accessToken")},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"validate",value:function(e){return!!e.file||(this.setState({error:"Please select file to upload!",alertState:"alert alert-danger"}),!1)}},{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validate(this.state)){e.next=2;break}return e.abrupt("return");case 2:return this.setState({loading:!0}),t=new m.a,e.next=6,t.bulkUploadLeads(this.state);case 6:(a=e.sent)&&200===a.status&&a.data.success?this.setState({error:a.data.message,alertState:"alert alert-primary",loading:!1}):a&&a.data&&h.a===a.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):this.setState({error:a&&a.data.message?a.data.message:"Error bulk upload Lead, Please contact Administrator",alertState:"alert alert-danger",loading:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return d.a.createElement("div",{id:"BulkUploadLead"},this.state.error?d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.error):null,d.a.createElement("h3",{className:"mb-4"},"Bulk Upload Leads"),this.state.loading?d.a.createElement(p.a,null):d.a.createElement("div",{className:"row mb-3 box-area"},d.a.createElement("input",{type:"file",accept:".csv",onChange:function(t){return e.setState({file:t.target.files[0]})}}),d.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.submit.bind(this)},"submit")))}}]),a}(u.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return f}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(355),p=a(8),h=(a(1034),a(32)),f=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={isSuccess:!1,message:"",token:localStorage.getItem("accessToken")},e}return Object(i.a)(a,[{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new h.a,e.next=3,a.addLead(t);case 3:(n=e.sent)&&(n.data.success?(this.setState({isSuccess:!0,message:n.data.message}),this.props.history.push("lead",this.state)):n&&n.data&&p.a===n.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0)));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return d.a.createElement("div",{id:"CreateLead"},d.a.createElement("h3",{className:"mb-4"},"Add New Lead"),this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement(m.a,{history:this.props.history,onSubmit:this.submit.bind(this)}))}}]),a}(u.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return f}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(384),p=a(8),h=(a(1044),a(63)),f=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={isSuccess:!1,message:"",token:localStorage.getItem("accessToken")},e}return Object(i.a)(a,[{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new h.a,e.next=3,a.addProduct(t);case 3:(n=e.sent)&&(n.data.success?(this.setState({isSuccess:!0,message:n.data.message}),this.props.history.push("product",this.state)):n&&n.data&&p.a===n.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0)));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return d.a.createElement("div",{id:"CreateProduct"},this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement("h3",{className:"mb-4"},"Add New Product"),d.a.createElement(m.a,{history:this.props.history,onSubmit:this.submit.bind(this)}))}}]),a}(u.Component)},function(e,t,a){var n={"./approve.png":327,"./arrow-right.svg":1037,"./calendar.png":563,"./clock.png":564,"./close.png":1038,"./close.svg":580,"./default-profile-picture.png":417,"./delete.svg":328,"./deleted.svg":329,"./edit.png":40,"./export.png":169,"./leads.png":1039,"./loader.svg":1040,"./logo-cimb-niaga.png":542,"./notification.png":543,"./pdf.png":581,"./place.png":1041,"./search.png":1042,"./trash.png":67,"./user.png":1043,"./view.png":430,"./view.svg":582};function s(e){var t=r(e);return a(t)}function r(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}s.keys=function(){return Object.keys(n)},s.resolve=r,e.exports=s,s.id=1036},function(e,t,a){e.exports=a.p+"static/media/arrow-right.a0e061b5.svg"},function(e,t,a){e.exports=a.p+"static/media/close.4415525f.png"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAABV1JREFUaAXtWF9MW1UYP+fetrSl5e9KS6HQAk0LVIljDjWS2M2ZjGx7GK6ygfiHqC8miy9mvpjFaGJ8GHPLHogPBhMSo8ke5pPLVB42eFHnZMKYTuaCBayMZND/997P77IV4fbe9rZMh7Enubn3+3O+8/2+853vnHMJKbRCBAoRKESgEIH/cwToZsEP2uue5oHvpkA7gRI7GtQTIHOEkgmL1zP5cE8gWmQyu5BXiTwUwyIBep2l7CW3vWqM+v3cZnzIG8BJm+NRnsApIPBYJgd0BkO8we+/0bjb/3uaHiVBDdEMuY8ExtNkKhl5AThhq3sBqDAEAEUqxyHWlpbg9v6+SUarBWkfAeinLb09H1NK02RSXSnNShnZ6EFbzbMY9REcSZNNd708HAqZl2eDBnv7I3+s54vflBJfaGKCnjl79opUlo1msimsl5+ur3cJlAyj83nN3MK1qepfLnxVu95m6huXR9/UyEh7ilb7zglAIsG/B0CMao3L6d0YHW1MRqIKM8+8CseP5+STauWTLpcVc/45Oady4XHRmO7W2JhNvg+4Jj2eNnmZPFc1AC6e3I8mVOvLD3eXOz91rUpJrgF4XEkmx1ftEBVITpGRGyzFi4ZCptS39C0AaZTyMtGqAeCyrc5kKBdZIhJRLr/ihpdDUw+AkEQOdjOqUoZRrPdYUpMZO0uEqgEAhaCkb96k1miMK3XG48ifSjI5vmoAuH4vyhnIh1fmcCwp9cMN5iclmRxfNQAzqTqPBsJyRnLl2Xytabvxmg2Ou7T2reJDNYDXgt9FcCEPqrCZUaW4snK5tmNnSFYJyLi3v39GVqbAVA1A7F9eYvoAt/xfFWxlZYuHteYD+6ZlFYFENaToI1lZBmZOAAamp5epjjmAIO5ksKkocu/ZPW31+dLyH/NewC3yfXdf96xiZwVBXoeyDx0OXzIJ5/By4lKwu4GNZVPwdO2davQ/lVbJ8HgSYVjmXe/hw99u6KSSyAuAaHuooaE0HE0cw4J+FJ0wKI1X4XKFMG1+LqurkxQAvMNRuBDnuOG2/n7lRa1k+B4/bwApu6eamkqSkfheIkAnLnI7AtLjtWQO6/mP9hbPN9sHBuwEGA/OFu6weBgHuoiOX9cTMl7f25uWTim7hfd/JQKbSiFMn6JEhHNpGK4UBMYMIJgFQox4W4lqTaZEmdOpNW2zcM72HUsGu0XMoCKOgTjlmQiPZZMhiTDR6+dbA4G8z1mqAZyorTWgA50gwC7M9YfwZibmtQtnKmspxkFAZyqOGysqwsUWy0pFU9OSzee7rTUaeLyd4rKBeXxmQaAzDNAf2G2lE+6uLsXz0vrsyAjgntM9AghHcKAnCQCuvfvTcFMTzDbrHWtry4KzszOoM5nW/g+hU0n8j3QVKPu1ptw8mgmMLIAzTqctGuffxKi8iE6X3x+Xla2wGpa3eL3zTc/suVlaUxPZoAlkBef4S0Gj+RxT7fYGGRIbAHx26BB76+L46zip7+CvkxKp8j9NixtefcfOm959+2dYvQ6X098Nd/8IZcjwFZY9FwgEMPXutjUAmC4VwMMXmNtPpIQP6q0vKwt3vPLyZZOtOir1AR2eZEF4293Xt3qcWQVw2uGwJ5JwHqPeKu3woGgdXnp2DLz0fbnTuSL1AZ3+zWTQH6s9eHBxtYLEk+Kftq3jvOiweG++/MlIm5BIpFU5LFv1y5HYW6IeO1hd8zwy3hCJrda4eEzLxWJQ1dycfuSgxHq0OzDHCIRiidy6beHqZLWSdzzld2mw3jrwT4DsDYnV6//1SiR1lk/EGSEWW2EN4qYnaQC4vRdaIQKFCBQiUIjAJiLwFxnPqBEHhQ1gAAAAAElFTkSuQmCC"},function(e,t,a){e.exports=a.p+"static/media/loader.ca19dd37.svg"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAk9JREFUaAXtmb1KxEAUhf3BQhtrtbMUbESwEhYLBVGsfBNfQER8BmsfQC0ttFAQQbBWwVIrC9FKRfR8sCkcMzs3uzNJFnPgsJmZO+fcuZkku9mBgQZNBf53BQYjL39OehviojglTorgSXwUL8Rj8UasFTaVzZ34bSSxzKkc08rgSrQm7sYxF41K0JLrs+gmVbSNBlqloiW3D7Fosr54tNAsBZzyGJV3F4NmKduplz3vJu220U4K7hyuaex20rtTkVtltwvDIwl4SFmTOlfsujjRJsf0WefjFR3bUrQksKu4oRx3+hizaOAVHWdSDJlT5bzks2QYIyakg1d0WPY/WyUEYkILSHIdvBmM2fMhEBNaAF4mdDrdrsCw25GwbfYqsgCelCHMhwI0bomxeBmsfoecqhk69VygnYrCGDEhHbxM6GTmCly7HTltfsjsiHm69DFGTAgWr5DGn/EV9YQql41T5V4eZHhFx4gUX8QsyVSfeOBlQt6p9k381MChbzBiPx54JcGCVFNVPtPFIym4wDKz2J9JLl63GqsJF4B2KbiUS+zqo1kaluQUewFolgrL12vrIpN8fQ5VY1YBMV6toIFWJdiTq7XKvjg0KsOonB9EX3KhfuaiUSmW5R5K1DfO3FpgX1n4kvT1M6c2GFMmt6IvWbefWObUCrzLeRfdZN02MUne+8SoxpZhAcTUFvxldSS6Vc/ajMX+Wyt6McaleJ+zCPoY6wvMKMtXMas8x/T1FdaU7VebHCeB+QVSF+5sGSp/Ih50Mb+Z0lSgqYChAj/TCV35EewaiAAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAAXNSR0IArs4c6QAAAdtJREFUOBGtkrFrFEEUxn8zG49ozkqUEFHQO3KBQGwsxC6VFsEgmNgpxshJxH/AXrBQkCAmXEjAKy9WabS0EBT0RJCApyaFhVhcQJTEXAw7frNyBNcdOdCBx86++d7vffN24T8t0+bUxoiada7r/aKipGgZwysHt6dWeNTWhZ4JaKHAoRbUnOOEEnrwHkMeR58vVG5h4DDl4Sdsh0BWVUaQqoeooronx/6pVUpycTCCIRW+EHii8ZEbIYjPm5kiEy5mXpBFFY+nxfMl9rZ+8EbX7DOOwaurcpuxrCDnfT5HdsfLDb5ZuCXHu5zhbAYjSVk5Oar4OrnCh6Coi7o/0xWPBDWyu67oqQ7RExK5bQ74Mw39U0hjZfeZOkUb64yERLFhNAG5X86ydFazuaNOG4JNVwboT4tmi5zTnSZlp16+wOP0eftdDLhf5Box97T9rpjB8tzG5OX2tIacfEl9tZs24m75HU1fk14JyCfVeTSOmdW2NyV6ag1zseOBxG+7dzN8aZnPKY2f386qDZJf2+KUht8vJ80o4vWVBi8rx+mKv/BQuTMh2G+gHeSfOzXJrW2yGIJ1DPLov8H003a+xpfZ2tfNmAa/pKEUNlsc67w6Q+mdVQqczDj699RP3GSaJ14Ya1EAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAAAXNSR0IArs4c6QAAAztJREFUWAntmD9oU0Ecx5M0bQgVTAZdDAVjqTooxUVwUASpEHXpUJCiEJfgUtJAQuoibo01cRAyKIJCcXIRFKFW3QQdxEGU1lKiiFbBBgwSbWLi56TQ18vdy6Wv9Q/kwXF339+/7/vdvbsfz+VqP+0M/N0MuNcj/MTExN5arZbC1yHaFtoH2v16vZ5Jp9PvGK/5cUwwk8kMEv0WZHwyC7fbvejxeCLJZPKpLDOdOyKYy+W2VSqVGch16wJC8r3f7+8dGRn5odOxwz12wmaypaWlYTtywh55qFwuH2vmSyd3RJDsDOscS7ipnmTmcjkiiLedDR7VgKleg7Ujgiyf0R421WtgB+CIIPY1lVMZYyvUZcx07ogggV8ZBpox1GtQc0QQbw8aPCoAXuSRAjaCHBHkEJ40iFLt6uq6baCnVHFEkBviJV7vKT2vgJPxePzTyrS1kSOCIhTZidMVVWFZ2gWfz3dOJTPFHBNMJBJzBDsOmbdS0Dmv1xsZHR39KOEtTY3OMROPVDTiPj5CVdPL3pzt6OiYhnzZxPa/1mkpg9lstq9arZ7kZjjIW4dY1judnZ3n7TJFORZC9xo2++nnsbnLvr3B0heYN32MCObz+WCpVLpIkDN4lPftPMsZ44uelqNBLorNZfDNVhkkRel1KRAIXIjFYhWrTB43Jcje2s6+EtWx7YVP0Jtkk2QmFpfrxKvYROSA1jk2D6kVB6kVv1px69iW4Pj4uHjzZ7Q+q5FuTMDPyK7TzkIuoNOT8KlwOBwZGhr6KeG/p/JyrdIh4BUAI3LCEFJbaWMtkBNmA4VCYUwMVI82g2RvDwYvaLYvoXLaKkYivtF6U6nUgmyrDc5ZdvpPkBOEyHg37ZRMTsy1BPkwjqoMNhA7ofKtJYhyj8pgA7EdKt92BFedXSrj9cR0H5YdwfWMv2ZfbYJrTt2y4T+fQa/uDblX+6lcBpAfZgMfoN+Ij+YLfp9w5j7mWJtScdHeJFZlCLoptXbT78NRP/0uTn5xBfYw9ll1VWN0ReFaQHeW/jWExA31nJvjjUrfihkRtBrIYyoXP3+4ggQPIgsSfBN9ib5IGVakpCpGo9Hvsl173s7AcgZ+AQDS/XWJplivAAAAAElFTkSuQmCC"},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return f}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(349),p=a(77),h=(a(1046),a(8)),f=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={isSuccess:!1,message:"",token:localStorage.getItem("accessToken"),htmlContent:""},e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.props.location.state.data||this.props.history.push("campaign")}},{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new p.a,e.next=3,a.updateCampaign(t);case 3:(n=e.sent)&&(n.data.success?(this.setState({isSuccess:!0,message:n.data.message}),this.props.history.push("campaign",this.state)):n&&n.data&&h.a===n.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0)));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.location.state.data;return d.a.createElement("div",{id:"EditCampaign"},this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement("h3",{className:"mb-4"},"Edit Campaign Info"),d.a.createElement(m.a,{mode:"edit",data:e,history:this.props.history,onSubmit:this.submit.bind(this)}))}}]),a}(u.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return f}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(354),p=a(8),h=(a(1048),a(77)),f=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={isSuccess:!1,message:"",token:localStorage.getItem("accessToken")},e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.props.location.state.data||this.props.history.push("campaign-category")}},{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new h.a,e.next=3,a.updateCampaignCategory(t);case 3:(n=e.sent)&&(n.data.success?(this.setState({isSuccess:!0,message:n.data.message}),this.props.history.push("campaign-category",this.state)):n&&n.data&&p.a===n.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0)));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.location.state.data;return d.a.createElement("div",{id:"EditCampaignCategory"},d.a.createElement("h3",{className:"mb-4"},"Edit Campaign Catagories"),this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement(m.a,{mode:"edit",data:e,history:this.props.history,onSubmit:this.submit.bind(this)}))}}]),a}(u.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return f}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(241),p=(a(579),a(32)),h=a(8),f=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={isSuccess:!1,message:"",token:localStorage.getItem("accessToken")},e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.props.location.state.data||this.props.history.push("user")}},{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new p.a,e.next=3,a.updateUser(t);case 3:(n=e.sent)&&(n.data.success?(this.setState({isSuccess:!0,message:n.data.message}),this.props.history.push("user",this.state)):n&&n.data&&h.a===n.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0)));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.location.state.data;return d.a.createElement("div",{id:"EditUser"},d.a.createElement("h3",{className:"mb-4"},"Edit User"),this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement(m.a,{mode:"edit",data:e,history:this.props.history,onSubmit:this.submit.bind(this)}))}}]),a}(u.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return f}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(355),p=(a(1051),a(32)),h=a(8),f=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={isSuccess:!1,message:"",token:localStorage.getItem("accessToken")},e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.props.location.state.data||this.props.history.push("lead")}},{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new p.a,e.next=3,a.updateLead(t);case 3:(n=e.sent)&&(n.data.success?(this.setState({isSuccess:!0,message:n.data.message}),this.props.history.push("lead",this.state)):n&&n.data&&h.a===n.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0)));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.location.state.data;return d.a.createElement("div",{id:"EditLead"},d.a.createElement("h3",{className:"mb-4"},"Edit Lead"),this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement(m.a,{mode:"edit",data:e,history:this.props.history,onSubmit:this.submit.bind(this)}))}}]),a}(u.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return d}));var n=a(4),s=a(3),r=a(6),l=a(5),i=a(0),o=a.n(i),c=a(356),u=a(241),d=(a(1053),function(e){Object(r.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(n.a)(this,a);for(var s=arguments.length,r=new Array(s),l=0;l<s;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(s.a)(a,[{key:"componentWillMount",value:function(){this.props.location.state.data||this.props.history.push("user")}},{key:"onChangePassword",value:function(e){console.log("Change Password"),console.log(e)}},{key:"onEditProfile",value:function(e){console.log("Edit"),console.log(e)}},{key:"render",value:function(){var e=this.props.location.state.data;return o.a.createElement("div",{id:"EditSelfProfile"},o.a.createElement("h3",{className:"mb-4"},"Edit Profile"),o.a.createElement(c.a,{onSubmit:this.onChangePassword.bind(this)}),o.a.createElement(u.a,{mode:"edit",data:e,onSubmit:this.onEditProfile.bind(this)}))}}]),a}(i.Component))},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return f}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(384),p=(a(1055),a(8)),h=a(63),f=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={isSuccess:!1,message:"",token:localStorage.getItem("accessToken"),htmlContent:""},e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.props.location.state.data||this.props.history.push("product")}},{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new h.a,e.next=3,a.updateProduct(t);case 3:(n=e.sent)&&(n.data.success?(this.setState({isSuccess:!0,message:n.data.message}),this.props.history.push("product",this.state)):n&&n.data&&p.a===n.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0)));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.location.state.data;return d.a.createElement("div",{id:"EditProduct"},this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement("h3",{className:"mb-4"},"Edit Product"),d.a.createElement(m.a,{mode:"edit",data:e,history:this.props.history,onSubmit:this.submit.bind(this)}))}}]),a}(u.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return j}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=a(15),h=a.n(p),f=a(13),g=a(19),v=a.n(g),b=a(18),y=a(23),S=(a(1057),a(21),a(32)),E=a(8),w=a(7),k=a.n(w),N=a(16),C=a.n(N),A=a(14),x=a.n(A),O=a(130),j=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).getCMSChannel=function(){var t=e.state.token;Object(O.a)(t).then((function(t){if(console.log("AVAILABLE CHANNEL",t),t.success){var a=x.a.result(t,"data",[]);e.setState({channel:a})}else alert("Failed get Available CMS Channel")})).catch((function(e){alert("Error get Available CMS Channel")}))},e.state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),userType:JSON.parse(localStorage.getItem("userType")),channel:[],nipFind:"",nameFind:"",salesCodeFind:"",emailFind:"",channelFind:JSON.parse(localStorage.getItem("userType")),isSuperAdmin:JSON.parse(localStorage.getItem("isSuperAdmin"))},e.reset=e.reset.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(n,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")});var e=v.a.parse(this.props.location.search);this.setPage(+e.page||0,e.filter),this.getCMSChannel()}},{key:"componentDidUpdate",value:function(e){if(this.props.location.search!==e.location.search){var t=v.a.parse(this.props.location.search);this.setPage(+t.page||0,t.filter||null)}}},{key:"clearSession",value:function(){alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")}},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i,o,c=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:0,a=c.length>1&&void 0!==c[1]?c[1]:this.state.filter,n=c.length>2&&void 0!==c[2]?c[2]:10,r=new S.a,e.next=6,r.findListUser(this.state,t,n);case 6:(l=e.sent)&&200===l.status&&l.data?(i=l.data.data,o=Math.ceil(l.data.count/n),this.setState({page:t,filter:a,list:i,totalPage:o}),this.setState({loading:!1})):l&&l.data&&E.a===l.data.data?this.clearSession():this.setState({error:!0,errorMessage:l&&l.data?l.data.message:l,loading:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteRow",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.state.list[t],!window.confirm("Are you sure you want to delete ".concat(a.name,"?"))){e.next=7;break}return n=new S.a,e.next=5,n.deleteUser(a,this.state.token);case 5:200===(r=e.sent).status&&r.data.success?(alert("data ".concat(a.name," waiting approve to delete")),window.location=window.location.href):r&&r.data&&E.a===r.data.data?this.clearSession():alert("error, data ".concat(a.name," cannot deleted"));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"editRow",value:function(e){var t=this.state.list[e];this.props.history.push("edit-user",{data:t})}},{key:"search",value:function(){this.setState({loading:!0,search:!0}),this.setPage(0,"")}},{key:"reset",value:function(){var e=this;this.setState({loading:!0}),h.a.findDOMNode(this.refs.form1).value="",h.a.findDOMNode(this.refs.form2).value="",h.a.findDOMNode(this.refs.form3).value="",h.a.findDOMNode(this.refs.form4).value="",this.setState({emailFind:"",nameFind:"",nipFind:"",salesCodeFind:""},(function(){setTimeout((function(){e.setPage(0,"")}),1)}))}},{key:"download",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,n,r,l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=C()(),n=t.format("YYYYMMDD"),r="Report-User-"+n+".csv",l=new S.a,e.next=6,l.downloadReport(this.state.token);case 6:200===(i=e.sent).status&&(o=a(190),k.a.get(i.config.url,{headers:{token:this.state.token}}).then((function(e){o(e.data,r)})));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){for(var e=this,t=JSON.parse(this.state.userPrivilege)||[],n=!1,s=!1,r=!1,l=!1,i=!1,o=0;o<t.length;o++)"create_uam"===t[o].name+"_"+t[o].vgroup&&(n=!0),"update_uam"===t[o].name+"_"+t[o].vgroup&&(s=!0),"delete_uam"===t[o].name+"_"+t[o].vgroup&&(r=!0),"upload_uam"===t[o].name+"_"+t[o].vgroup&&(l=!0),"download_userList"===t[o].name+"_"+t[o].vgroup&&(i=!0);var c=this.state,u=c.channel,d=c.isSuperAdmin;return m.a.createElement("div",{id:"ListUser"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?m.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,m.a.createElement("h3",null,"User List"),m.a.createElement("div",{id:"search-menu"},m.a.createElement("table",{style:{width:"100%"}},m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-2"},"NIP"),m.a.createElement("input",{className:"col-6 form-input",type:"text",ref:"form1",onChange:function(t){return e.setState({nipFind:t.target.value})},defaultValue:this.state.nipFind})),m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-2"},"Name"),m.a.createElement("input",{className:"col-6 form-input",type:"text",ref:"form2",onChange:function(t){return e.setState({nameFind:t.target.value})},defaultValue:this.state.nameFind}))),m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-3"},"Email"),m.a.createElement("input",{className:"col-6 form-input",type:"text",ref:"form3",onChange:function(t){return e.setState({emailFind:t.target.value})},defaultValue:this.state.emailFind})),m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-3"},"Sales Code"),m.a.createElement("input",{className:"col-6 form-input",type:"text",ref:"form4",onChange:function(t){return e.setState({salesCodeFind:t.target.value})},defaultValue:this.state.salesCodeFind})))),!0===d?m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-2"},"Channel"),m.a.createElement("select",{onChange:function(t){return e.setState({channelFind:t.target.value})},value:this.state.channelFind,className:"col-6 form-input"},m.a.createElement("option",{value:""},"Select Channel"),u.length>0?u.map((function(e){return m.a.createElement("option",{key:e.id,value:e.code},e.name)})):null)))):null)),m.a.createElement("div",null,m.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.search.bind(this)},"search"),m.a.createElement("button",{type:"button",className:"reset-btn btn btn-secondary btn-sm",onClick:this.reset},"reset"))),this.state.loading?m.a.createElement(b.a,null):m.a.createElement(y.a,{page:this.state.page,totalPage:this.state.totalPage,filter:this.state.filter},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,"NIP"),m.a.createElement("th",null,"Name"),m.a.createElement("th",null,"Email Address"),m.a.createElement("th",null,"Sales Code"),m.a.createElement("th",null,"User Type"),m.a.createElement("th",null,"Level"),m.a.createElement("th",null,"Phone Number"),m.a.createElement("th",null,"Actions"))),m.a.createElement("tbody",null,this.state.list.map((function(t,n){return m.a.createElement("tr",{key:n},m.a.createElement("td",null,t.nip),m.a.createElement("td",{style:{width:"15%"}},t.name),m.a.createElement("td",{style:{width:"15%"}},t.email),m.a.createElement("td",null,t.sales_code),m.a.createElement("td",null,t.type?t.type.code:t.type),m.a.createElement("td",{style:{width:"15%"}},t.level?t.level.name:t.level),m.a.createElement("td",null,t.phoneNumber),m.a.createElement("td",null,r?m.a.createElement("input",{type:"image",alt:"Delete",height:20,className:"mr-3",src:a(67),onClick:function(){return e.deleteRow(n)}}):null,s?m.a.createElement("input",{type:"image",alt:"Edit",height:20,src:a(40),onClick:function(){return e.editRow(n)}}):null))})))),m.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},n?m.a.createElement(f.b,{to:"create-user",className:"d-flex justify-content-end"},m.a.createElement("button",{className:"button-red-small"},"CREATE NEW USER")):null,l?m.a.createElement(f.b,{to:"bulk-upload-user",className:"justify-content-end"},m.a.createElement("button",{className:"button-red-small"},"BULK UPLOAD USER")):null,i?m.a.createElement("button",{className:"button-red-small",onClick:function(){return e.download()}},"DOWNLOAD LIST USER"):null))}}]),n}(d.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return w}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=a(15),h=a.n(p),f=a(13),g=a(19),v=a.n(g),b=a(18),y=a(23),S=(a(1059),a(21),a(141)),E=a(8),w=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),branchCodeFind:"",branchNameFind:""},e.reset=e.reset.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(n,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")});var e=v.a.parse(this.props.location.search);this.setPage(+e.page||0,e.filter)}},{key:"componentDidUpdate",value:function(e){if(this.props.location.search!==e.location.search){var t=v.a.parse(this.props.location.search);this.setPage(+t.page||0,t.filter||null)}}},{key:"clearSession",value:function(){alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")}},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i,o,c=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:0,a=c.length>1&&void 0!==c[1]?c[1]:this.state.filter,n=c.length>2&&void 0!==c[2]?c[2]:10,r=new S.a,e.next=6,r.findBranchByParam(this.state,t,n);case 6:(l=e.sent)&&200===l.status&&l.data?(i=l.data.data.branchList,o=Math.ceil(l.data.data.count/10),this.setState({page:t,filter:a,list:i,totalPage:o}),this.setState({loading:!1})):l&&l.data&&E.a===l.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):this.setState({error:!0,errorMessage:l&&l.data?l.data.message:l,loading:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteRow",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.state.list[t],this.setState({message:null}),!window.confirm("Are you sure you want to delete data ".concat(a.name," ?"))){e.next=8;break}return n=new S.a,e.next=6,n.deleteBranch(a,this.state.token);case 6:200===(r=e.sent).status&&r.data.success?(alert("".concat(r.data.message)),window.location=window.location.href):r&&r.data&&E.a===r.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):(alert("Error, ".concat(r.data.message," ! Data ").concat(a.name," can not be deleted !")),window.location=window.location.href);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"editRow",value:function(e){var t=this.state.list[e];this.props.history.push("edit-branch",{data:t})}},{key:"search",value:function(){this.setState({loading:!0}),this.setPage(0,"")}},{key:"reset",value:function(){var e=this;this.setState({loading:!0}),h.a.findDOMNode(this.refs.form1).value="",h.a.findDOMNode(this.refs.form2).value="",this.setState({branchCodeFind:"",branchNameFind:""},(function(){setTimeout((function(){e.setPage(0,"")}),1)}))}},{key:"render",value:function(){for(var e=this,t=JSON.parse(this.state.userPrivilege)||[],n=!1,s=!1,r=!1,l=0;l<t.length;l++)"create_brc"===t[l].name+"_"+t[l].vgroup&&(n=!0),"update_brc"===t[l].name+"_"+t[l].vgroup&&(s=!0),"delete_brc"===t[l].name+"_"+t[l].vgroup&&(r=!0);return m.a.createElement("div",{id:"ListBranch"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?m.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,m.a.createElement("h3",null,"Branch List"),m.a.createElement("div",{id:"search-menu"},m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-2"},"Branch Code"),m.a.createElement("input",{className:"col-4 form-input",ref:"form1",type:"text",onChange:function(t){return e.setState({branchCodeFind:t.target.value})},defaultValue:this.state.branchCodeFind})),m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-2"},"Branch Name"),m.a.createElement("input",{className:"col-4 form-input",ref:"form2",type:"text",onChange:function(t){return e.setState({branchNameFind:t.target.value})},defaultValue:this.state.branchNameFind})),m.a.createElement("div",null,m.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.search.bind(this)},"search"),m.a.createElement("button",{type:"button",className:"reset-btn btn btn-secondary btn-sm",onClick:this.reset},"reset"))),this.state.loading?m.a.createElement(b.a,null):m.a.createElement(y.a,{page:this.state.page,totalPage:this.state.totalPage,filter:this.state.filter},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,"Code"),m.a.createElement("th",null,"Description"),m.a.createElement("th",null,"Name"),m.a.createElement("th",null,"Email Branch"),m.a.createElement("th",null,"Email BSO"),m.a.createElement("th",null,"Email CS"),m.a.createElement("th",null,"Area"),m.a.createElement("th",null,"Region"),m.a.createElement("th",null,"Division"),s||r?m.a.createElement("th",null,"Actions"):null)),m.a.createElement("tbody",null,this.state.list.map((function(t,n){return m.a.createElement("tr",{key:n},m.a.createElement("td",null,t.code),m.a.createElement("td",null,t.description),m.a.createElement("td",null,t.name),m.a.createElement("td",null,t.email),m.a.createElement("td",null,t.emailBso),m.a.createElement("td",null,t.emailCs),m.a.createElement("td",null,null!==t.area?t.area.name:""),m.a.createElement("td",null,null!==t.region?t.region.name:""),m.a.createElement("td",null,null!==t.region&&t.region.divisionCode?t.region.divisionCode.toUpperCase():""),s||r?m.a.createElement("td",null,r?m.a.createElement("input",{type:"image",alt:"Delete",height:20,className:"mr-0",src:a(67),onClick:function(){return e.deleteRow(n)}}):null,s?m.a.createElement("input",{type:"image",alt:"Edit",height:20,src:a(40),onClick:function(){return e.editRow(n)}}):null):null)})))),n?m.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},m.a.createElement(f.b,{to:"create-branch"},m.a.createElement("button",{className:"button-red-small"},"CREATE NEW BRANCH"))):null)}}]),n}(d.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return f}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(357),p=a(8),h=(a(1061),a(141)),f=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={isSuccess:!1,message:"",token:localStorage.getItem("accessToken")},e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.props.location.state.data||this.props.history.push("branch")}},{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new h.a,e.next=3,a.updateBranch(t);case 3:(n=e.sent)&&(n.data.success?(this.setState({isSuccess:!0,message:n.data.message}),this.props.history.push("branch",this.state)):n&&n.data&&p.a===n.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0)));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.location.state.data;return d.a.createElement("div",{id:"EditBranch"},d.a.createElement("h3",{className:"mb-4"},"Edit Branch"),this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,status:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement(m.a,{mode:"edit",data:e,history:this.props.history,onSubmit:this.submit.bind(this)}))}}]),a}(u.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return f}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(357),p=(a(1063),a(8)),h=a(141),f=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={isSuccess:!1,message:"",token:localStorage.getItem("accessToken")},e}return Object(i.a)(a,[{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new h.a,e.next=3,a.addBranch(t);case 3:(n=e.sent)&&(n.data.success?(this.setState({isSuccess:!0,message:n.data.message}),this.props.history.push("branch",this.state)):n&&n.data&&p.a===n.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0)));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return d.a.createElement("div",{id:"CreateBranch"},this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement("h3",{className:"mb-4"},"Add New Branch"),d.a.createElement(m.a,{history:this.props.history,onSubmit:this.submit.bind(this)}))}}]),a}(u.Component)},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return w}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=a(15),h=a.n(p),f=a(13),g=a(19),v=a.n(g),b=a(18),y=a(23),S=(a(191),a(21),a(63)),E=a(8),w=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),codeFind:"",nameFind:""},e.reset=e.reset.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(n,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")});var e=v.a.parse(this.props.location.search);this.setPage(+e.page||0,e.filter)}},{key:"componentDidUpdate",value:function(e){if(this.props.location.search!==e.location.search){var t=v.a.parse(this.props.location.search);this.setPage(+t.page||0,t.filter||null)}}},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i,o,c=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:0,a=c.length>1&&void 0!==c[1]?c[1]:this.state.filter,n=c.length>2&&void 0!==c[2]?c[2]:10,r=new S.a,e.next=6,r.findProductByParam(this.state,t,n);case 6:(l=e.sent)&&200===l.status&&l.data?(i=l.data.data.productList,o=Math.ceil(l.data.data.count/10),this.setState({page:t,filter:a,list:i,totalPage:o}),this.setState({loading:!1})):l&&l.data&&E.a===l.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):this.setState({error:!0,errorMessage:l&&l.data?l.data.message:l,loading:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteRow",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.state.list[t],!window.confirm("Are you sure you want to delete ".concat(a.name,"?"))){e.next=7;break}return n=new S.a,e.next=5,n.deleteProduct(a,this.state.token);case 5:200===(r=e.sent).status&&r.data.success?(alert("data ".concat(a.name," waiting approve to delete")),window.location=window.location.href):r&&r.data&&E.a===r.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):alert("error, data ".concat(a.name," cannot deleted"));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"editRow",value:function(e){var t=this.state.list[e];this.props.history.push("edit-product",{data:t})}},{key:"search",value:function(){this.setState({loading:!0,search:!0}),this.setPage(0,"")}},{key:"reset",value:function(){var e=this;this.setState({loading:!0}),h.a.findDOMNode(this.refs.form1).value="",h.a.findDOMNode(this.refs.form2).value="",this.setState({codeFind:"",nameFind:""},(function(){setTimeout((function(){e.setPage(0,"")}),1)}))}},{key:"render",value:function(){for(var e=this,t=JSON.parse(this.state.userPrivilege)||[],n=!1,s=!1,r=!1,l=0;l<t.length;l++)"create_pic"===t[l].name+"_"+t[l].vgroup&&(n=!0),"update_pic"===t[l].name+"_"+t[l].vgroup&&(s=!0),"delete_pic"===t[l].name+"_"+t[l].vgroup&&(r=!0);return m.a.createElement("div",{id:"ListProduct"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?m.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,m.a.createElement("h3",null,"Product List"),m.a.createElement("div",{id:"search-menu"},m.a.createElement("table",{style:{width:"50%"}},m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-4"},"Product Code"),m.a.createElement("input",{className:"col-6 form-input",type:"text",ref:"form1",onChange:function(t){return e.setState({codeFind:t.target.value})},defaultValue:this.state.codeFind})),m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-4"},"Product Name"),m.a.createElement("input",{className:"col-6 form-input",type:"text",ref:"form2",onChange:function(t){return e.setState({nameFind:t.target.value})},defaultValue:this.state.nameFind})))))),m.a.createElement("div",null,m.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.search.bind(this)},"search"),m.a.createElement("button",{type:"button",className:"reset-btn btn btn-secondary btn-sm",onClick:this.reset},"reset"))),this.state.loading?m.a.createElement(b.a,null):m.a.createElement(y.a,{page:this.state.page,totalPage:this.state.totalPage,filter:this.state.filter},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,"Code"),m.a.createElement("th",null,"Name"),m.a.createElement("th",null,"Description"),m.a.createElement("th",null,"Segment"),m.a.createElement("th",null,"Category"),m.a.createElement("th",null,"Sub Category"),m.a.createElement("th",null,"Status"),m.a.createElement("th",null,"Actions"))),m.a.createElement("tbody",null,this.state.list.map((function(t,n){return m.a.createElement("tr",{key:n},m.a.createElement("td",null,t.code),m.a.createElement("td",null,t.name),m.a.createElement("td",{style:{width:"15%"}},t.description),m.a.createElement("td",null,t.segment?t.segment.name:null),m.a.createElement("td",null,t.category?t.category.name:null),m.a.createElement("td",null,t.subcategory?t.subcategory.name:null),m.a.createElement("td",null,t.status?t.status.name:null),m.a.createElement("td",null,r?m.a.createElement("input",{type:"image",alt:"Delete",height:20,className:"mr-3",src:a(67),onClick:function(){return e.deleteRow(n)}}):null,s?m.a.createElement("input",{type:"image",alt:"Edit",height:20,src:a(40),onClick:function(){return e.editRow(n)}}):null))})))),n?m.a.createElement(f.b,{to:"create-product",className:"d-flex justify-content-end"},m.a.createElement("button",{className:"button-red"},"CREATE NEW PRODUCT")):null)}}]),n}(d.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return N}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=a(15),h=a.n(p),f=a(13),g=a(19),v=a.n(g),b=a(18),y=a(23),S=(a(1067),a(21),a(63)),E=a(8),w=a(71),k=a.n(w),N=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),codeFind:"",nameFind:""},e.reset=e.reset.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(n,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")});var e=v.a.parse(this.props.location.search);this.setPage(+e.page||0,e.filter)}},{key:"componentDidUpdate",value:function(e){if(this.props.location.search!==e.location.search){var t=v.a.parse(this.props.location.search);this.setPage(+t.page||0,t.filter||null)}}},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i,o,c=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:0,a=c.length>1&&void 0!==c[1]?c[1]:this.state.filter,n=c.length>2&&void 0!==c[2]?c[2]:10,r=new S.a,e.next=6,r.findProductBundlingByParam(this.state,t,n);case 6:(l=e.sent)&&200===l.status&&l.data?(i=l.data.data.productBundlingList,o=Math.ceil(l.data.data.count/10),this.setState({page:t,filter:a,list:i,totalPage:o}),this.setState({loading:!1})):l&&l.data&&E.a===l.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):this.setState({error:!0,errorMessage:l&&l.data?l.data.message:l,loading:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteRow",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.state.list[t],!window.confirm("Are you sure you want to delete ".concat(a.name,"?"))){e.next=7;break}return n=new S.a,e.next=5,n.deleteProduct(a,this.state.token);case 5:200===(r=e.sent).status&&r.data.success?(alert("data ".concat(a.name," waiting approve to delete")),window.location=window.location.href):r&&r.data&&E.a===r.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):alert("error, data ".concat(a.name," cannot deleted"));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"editRow",value:function(e){var t=this.state.list[e];this.props.history.push("edit-cc-bundling",{data:t})}},{key:"search",value:function(){this.setState({loading:!0,search:!0}),this.setPage(0,"")}},{key:"reset",value:function(){var e=this;this.setState({loading:!0}),h.a.findDOMNode(this.refs.form1).value="",h.a.findDOMNode(this.refs.form2).value="",this.setState({codeFind:"",nameFind:""},(function(){setTimeout((function(){e.setPage(0,"")}),1)}))}},{key:"render",value:function(){for(var e=this,t=JSON.parse(this.state.userPrivilege)||[],n=!1,s=!1,r=0;r<t.length;r++)"create_creditCardBundling"===t[r].name+"_"+t[r].vgroup&&(n=!0),"update_creditCardBundling"===t[r].name+"_"+t[r].vgroup&&(s=!0);return m.a.createElement("div",{id:"ListProduct"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?m.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,m.a.createElement("h3",null,"Credit Card Bundling List"),m.a.createElement("div",{id:"search-menu"},m.a.createElement("table",{style:{width:"50%"}},m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-4"},"Kode Bundling"),m.a.createElement("input",{className:"col-6 form-input",type:"text",ref:"form1",onChange:function(t){return e.setState({codeFind:t.target.value})},defaultValue:this.state.codeFind})),m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-4"},"Nama Bundling"),m.a.createElement("input",{className:"col-6 form-input",type:"text",ref:"form2",onChange:function(t){return e.setState({nameFind:t.target.value})},defaultValue:this.state.nameFind})))))),m.a.createElement("div",null,m.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.search.bind(this)},"search"),m.a.createElement("button",{type:"button",className:"reset-btn btn btn-secondary btn-sm",onClick:this.reset},"reset"))),this.state.loading?m.a.createElement(b.a,null):m.a.createElement(y.a,{page:this.state.page,totalPage:this.state.totalPage,filter:this.state.filter},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,"Kode"),m.a.createElement("th",null,"Nama Bundling"),m.a.createElement("th",null,"Kartu Kredit 1"),m.a.createElement("th",null,"Kartu Kredit 2"),m.a.createElement("th",null,"Tanggal Aktif"),m.a.createElement("th",null,"Tanggal Nonaktif"),m.a.createElement("th",null,"Actions"))),m.a.createElement("tbody",null,this.state.list.map((function(t,n){return m.a.createElement("tr",{key:n},m.a.createElement("td",null,t.code),m.a.createElement("td",null,t.name),m.a.createElement("td",null,t.product1?t.product1.name:null),m.a.createElement("td",null,t.product2?t.product2.name:null),m.a.createElement("td",null,m.a.createElement(k.a,{format:"YYYY-DD-MM"},t.tanggalAktif)),m.a.createElement("td",null,m.a.createElement(k.a,{format:"YYYY-DD-MM"},t.tanggalNonAktif)),m.a.createElement("td",null,s?m.a.createElement("input",{type:"image",alt:"Edit",height:20,src:a(40),onClick:function(){return e.editRow(n)}}):null))})))),n?m.a.createElement(f.b,{to:"create-cc-bundling",className:"d-flex justify-content-end"},m.a.createElement("button",{className:"button-red"},"Tambah Bundling")):null)}}]),n}(d.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return f}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(358),p=(a(1069),a(8)),h=a(63),f=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={isSuccess:!1,message:"",token:localStorage.getItem("accessToken"),htmlContent:""},e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.props.location.state.data||this.props.history.push("product")}},{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new h.a,e.next=3,a.updateCcBundlingProduct(t);case 3:(n=e.sent)&&(n.data.success?(this.setState({isSuccess:!0,message:n.data.message}),this.props.history.push("cc-bundling",this.state)):n&&n.data&&p.a===n.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0)));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.location.state.data;return d.a.createElement("div",{id:"EditProduct"},this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement("h3",{className:"mb-4"},"Edit Bundling"),d.a.createElement(m.a,{mode:"edit",data:e,history:this.props.history,onSubmit:this.submit.bind(this)}))}}]),a}(u.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return f}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(358),p=a(8),h=(a(1071),a(63)),f=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={isSuccess:!1,message:"",token:localStorage.getItem("accessToken")},e}return Object(i.a)(a,[{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new h.a,e.next=3,a.addCcBundling(t);case 3:(n=e.sent)&&(n.data.success?(this.setState({isSuccess:!0,message:n.data.message}),this.props.history.push("cc-bundling",this.state)):n&&n.data&&p.a===n.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0)));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return d.a.createElement("div",{id:"CreateProduct"},this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement("h3",{className:"mb-4"},"Add New Credit Card Bundling"),d.a.createElement(m.a,{history:this.props.history,onSubmit:this.submit.bind(this)}))}}]),a}(u.Component)},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return E}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(14),p=a.n(m),h=a(130),f=a(23),g=a(16),v=a.n(g),b=a(18),y=a(32),S=a(8),E=(a(587),function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).getCMSChannel=function(){var t=e.state.token;Object(h.a)(t).then((function(t){if(console.log("AVAILABLE CHANNEL",t),t.success){var a=p.a.result(t,"data",[]);e.setState({channel:a})}else alert("Failed get Available CMS Channel")})).catch((function(e){alert("Error get Available CMS Channel")}))},e.state={list:[],loading:!0,token:localStorage.getItem("accessToken"),userType:JSON.parse(localStorage.getItem("userType")),channel:[],channelFind:JSON.parse(localStorage.getItem("userType")),isSuperAdmin:JSON.parse(localStorage.getItem("isSuperAdmin"))},window.scrollTo(0,0),e}return Object(i.a)(n,[{key:"componentWillMount",value:function(){this.getData(),this.getCMSChannel()}},{key:"getData",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),t=new y.a,e.next=4,t.getListTaskUpload(this.state);case 4:(a=e.sent)&&200===a.status&&a.data&&a.data.success?(n=a.data.data,r=Math.ceil(n.length/10),this.setState({list:n,totalPage:r}),this.setState({loading:!1})):(this.setState({loading:!1}),a&&a.data&&S.a===a.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):this.setState({error:!0,errorMessage:a&&a.data?a.data.message:a,loading:!1}));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"editRow",value:function(e){var t={id:this.state.list[e].id};this.props.history.push("TaskApprovalDetail",t)}},{key:"search",value:function(){this.getData()}},{key:"render",value:function(){var e=this,t=this.state,n=t.channel,s=t.isSuperAdmin;return d.a.createElement("div",{id:"ListApproval"},d.a.createElement("h3",null,"Task Approval"),s&&d.a.createElement("div",{id:"search-menu"},d.a.createElement("div",{className:"row mb-2"},d.a.createElement("label",{className:"col-2"},"Channel"),d.a.createElement("select",{onChange:function(t){return e.setState({channelFind:t.target.value})},value:this.state.channelFind,className:"col-4 form-input"},d.a.createElement("option",{value:""},"Select Channel"),n.length>0?n.map((function(e){return d.a.createElement("option",{key:e.id,value:e.code},e.name)})):null)),d.a.createElement("div",null,d.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.search.bind(this)},"search"))),this.state.loading?d.a.createElement(b.a,null):d.a.createElement(f.a,{page:this.state.page,totalPage:this.state.totalPage,filter:this.state.filter},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",null,"Created Date"),d.a.createElement("th",null,"Created By"),d.a.createElement("th",null,"Operation"),d.a.createElement("th",null,"Status"),d.a.createElement("th",null,"Modul"),d.a.createElement("th",null,"Actions"))),d.a.createElement("tbody",null,this.state.list.map((function(t,n){return d.a.createElement("tr",{key:n},d.a.createElement("td",null,v()(t.createdAt,"YYYY-MM-DDTHH:mm:ss",!0).format("DD MMMM YYYY HH:mm:ss")),d.a.createElement("td",null,t.createdBy),d.a.createElement("td",null,t.operationType),d.a.createElement("td",null,t.status),d.a.createElement("td",null,t.entityName),d.a.createElement("td",null,d.a.createElement("input",{type:"image",alt:"Edit",height:20,src:a(327),onClick:function(){return e.editRow(n)}})))})))))}}]),n}(u.Component))},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return y}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(32),p=a(8),h=a(16),f=a.n(h),g=(a(587),a(18)),v=a(94),b=a(179),y=(a(588),function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={list:[],token:localStorage.getItem("accessToken"),status:"",flag:"",startDate:"startDate",endDate:"endDate",loading:!1,showPopup:!1,previewIsOpen:!1,htmlViewBefore:null},e}return Object(i.a)(a,[{key:"getSingleEventLog",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new m.a,this.setState({loading:!0}),e.next=4,a.getSingleEventLog(this.state.token,t);case 4:(n=e.sent)&&200===n.status&&n.data&&n.data.success?(this.setState({loading:!1}),n||this.props.history.push("TaskApproval"),this.setState({list:n.data.data[0]})):(this.setState({loading:!1}),n&&n.data&&p.a===n.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):(alert("error, Data failed to load"),this.props.history.push("task-approval")));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentWillMount",value:function(){var e=this.props.location.state.id;this.getSingleEventLog(e)}},{key:"approveData",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Approve This Data ?")){e.next=9;break}return this.setState({loading:!0}),a=new m.a,e.next=5,a.getApproveData(this.state,t);case 5:(n=e.sent)&&200===n.status&&n.data&&n.data.success?(this.setState({loading:!1}),alert("Data has been approved"),this.props.history.push("task-approval")):(this.setState({loading:!1}),n&&n.data&&p.a===n.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):(alert("error, Data can not approved"),this.props.history.push("task-approval"))),e.next=9;break;case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Reject",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Reject This Data ?")){e.next=9;break}return this.setState({loading:!0}),a=new m.a,e.next=5,a.getApproveData(this.state,t);case 5:(n=e.sent)&&200===n.status&&n.data&&n.data.success?(this.setState({loading:!1}),alert("Data has been rejected"),this.props.history.push("task-approval")):(this.setState({loading:!1}),n&&n.data&&p.a===n.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):alert("error, Data cannot reject")),e.next=9;break;case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Cancel",value:function(){this.props.history.push("task-approval")}},{key:"togglePopup",value:function(e){this.setState({showPopup:!0,previewIsOpen:!0,htmlViewBefore:e})}},{key:"closePreview",value:function(){this.setState({previewIsOpen:!1})}},{key:"renderTableData",value:function(){var e=this;return this.state.list.dataListOrigin.map((function(t,a){console.log("DATA LIST ORIGIN",t);var n="#d9d9d9",s="";if(a%2===0&&(n="white"),"user"===e.state.list.entityName){var r,l,i,o=t.name,c=t.email,u=t.nip,m=t.phoneNumber,p=t.regionCode,h=t.areaCode,f=t.divisionCode,g=t.salesCode,v=t.branchCode,b=t.roleCode,y=t.levelCode,S=t.userTypeCode,E=t.action;s=d.a.createElement("tr",{style:{backgroundColor:n},key:o},d.a.createElement("td",null,o),d.a.createElement("td",null,c),d.a.createElement("td",null,u),d.a.createElement("td",null,m),d.a.createElement("td",null,null!==p&&void 0!==p?p:"-"),d.a.createElement("td",null,null!==h&&void 0!==h?h:"-"),d.a.createElement("td",null,null!==f?f.toUpperCase():"-"),d.a.createElement("td",null,g),d.a.createElement("td",null,v),d.a.createElement("td",null,b),d.a.createElement("td",null,y),d.a.createElement("td",null,S),d.a.createElement("td",null,null!==(r=t.domainId)&&void 0!==r?r:"-"),d.a.createElement("td",null,null!==(l=t.loginMethod)&&void 0!==l?l:"-"),d.a.createElement("td",null,E),d.a.createElement("td",null,null!==(i=t.cmsChannelCode)&&void 0!==i?i:"-"))}else if("leads"===e.state.list.entityName){var w=t.fullName,k=t.phoneNumber,N=t.productTypeCode,C=t.customerToBank,A=t.salesCode,x=t.sourceLead,O=t.defaultBranchCode,j=t.targetAmount,P=t.status,_=t.notes;s=d.a.createElement("tr",{style:{backgroundColor:n},key:w},d.a.createElement("td",null,w),d.a.createElement("td",null,k),d.a.createElement("td",null,N),d.a.createElement("td",null,C),d.a.createElement("td",null,A),d.a.createElement("td",null,x),d.a.createElement("td",null,O),d.a.createElement("td",null,j),d.a.createElement("td",null,P),d.a.createElement("td",null,_))}else if("sales_gamification"===e.state.list.entityName){var D=t.month,T=t.year,I=t.incentive,M=t.salesCode,R=t.action;s=d.a.createElement("tr",{style:{backgroundColor:n},key:M},d.a.createElement("td",null,D),d.a.createElement("td",null,T),d.a.createElement("td",null,I),d.a.createElement("td",null,M),d.a.createElement("td",null,R))}else if("bulk_delete_leads"===e.state.list.entityName){var L=t.leadId,F=t.sourceLead,B=t.status;s=d.a.createElement("tr",{style:{backgroundColor:n},key:L},d.a.createElement("td",null,L),d.a.createElement("td",null,F),d.a.createElement("td",null,B))}return s}))}},{key:"render",value:function(){var e=this,t=!1;if("BULK_UPLOAD"===this.state.list.operationType){t=!0;for(var a=this.state.list.dataListOrigin,n=[],s=0;s<a.length;s++)for(var r in a[s])if(0===s){var l=r.replace(/([A-Z])/g," $1"),i=l.charAt(0).toUpperCase()+l.slice(1);n.push(d.a.createElement("th",{key:r},i))}}else{var o,c,u,m,p,h,y,S,E,w,k,N,C,A,x,O,j,P,_,D,T,I,M;!function(){o=e.state.list.dataOrigin;var t="",a="";for(u in c=[],o)if(m=u,"cmsChannel"!==u)if(p=m.replace(/([A-Z])/g," $1"),h=p.charAt(0).toUpperCase()+p.slice(1),y=o[u],u!==e.state.startDate&&u!==e.state.endDate||(S=f()(o[u],"YYYY-MM-DDTHH:mm:ss").toDate(),y=f()(S,"YYYY-MM-DDTHH:mm:ss",!0).format("DD MMMM YYYY")),"statusDetail"===u||"roleProductEventData"===u||"statusLookup"===u){for(E in w=[],y)w.push(d.a.createElement("tr",{key:E},d.a.createElement("td",null,y[E].name)));c.push(d.a.createElement("tr",{key:u},d.a.createElement("td",null,h),d.a.createElement("td",null," :",d.a.createElement("table",null,w))))}else if("rolePrivilegeEventData"===u){for(k in w=[],y)w.push(d.a.createElement("tr",{key:k},d.a.createElement("td",null,y[k].name+"-"+y[k].vgroup)));c.push(d.a.createElement("tr",{key:u},d.a.createElement("td",null,h),d.a.createElement("td",null," :",d.a.createElement("table",null,w))))}else if("htmlContentDetail"===u)t=y,c.push(d.a.createElement("tr",{key:u},d.a.createElement("td",null,h),d.a.createElement("td",null," : \xa0\xa0",d.a.createElement("button",{className:"btn btn-primary",style:{width:"100px"},onClick:function(){e.togglePopup(t)}},"Preview"))));else{if("productBriefContentDetail"===u)continue;if("productBriefContentId"===u||"htmlContentId"===u||"id"===u||"categoryId"===u||"shareToEmailId"===u||"categoryCode"===u||"subcategoryCode"===u||"segmentCode"===u||"statusCode"===u||"segmentSACode"===u)continue;c.push(d.a.createElement("tr",{key:u},d.a.createElement("td",null,h),d.a.createElement("td",null," : ",y)))}if(N=e.state.list.dataUpdated,C=[],null!==e.state.list.dataUpdated)for(A in N)if("cmsChannel"!==A)if(x=A.replace(/([A-Z])/g," $1"),O=x.charAt(0).toUpperCase()+x.slice(1),j=N[A],A!==e.state.startDate&&A!==e.state.endDate||(P=f()(N[A],"YYYY-MM-DDTHH:mm:ss").toDate(),j=f()(P,"YYYY-MM-DDTHH:mm:ss",!0).format("DD MMMM YYYY")),"statusDetail"===A||"roleProductEventData"===A||"statusLookup"===A)if(T=[],o[A]===N[A]){for(_ in j)T.push(d.a.createElement("tr",{key:_},d.a.createElement("td",null,j[_].name)));C.push(d.a.createElement("tr",{key:A},d.a.createElement("td",null,O),d.a.createElement("td",null," :",d.a.createElement("table",null,T))))}else{for(D in j)T.push(d.a.createElement("tr",{style:{color:"blue"},key:D},d.a.createElement("td",null,j[D].name)));C.push(d.a.createElement("tr",{key:A},d.a.createElement("td",null,O),d.a.createElement("td",null," :",d.a.createElement("table",null,T))))}else if("rolePrivilegeEventData"===A)if(T=[],o[A]===N[A]){for(I in j)T.push(d.a.createElement("tr",{key:I},d.a.createElement("td",null,j[I].name+"-"+j[I].vgroup)));C.push(d.a.createElement("tr",{key:A},d.a.createElement("td",null,O),d.a.createElement("td",null," :",d.a.createElement("table",null,T))))}else{for(M in j)T.push(d.a.createElement("tr",{style:{color:"blue"},key:M},d.a.createElement("td",null,j[M].name+"-"+j[M].vgroup)));C.push(d.a.createElement("tr",{key:A},d.a.createElement("td",null,O),d.a.createElement("td",null," :",d.a.createElement("table",null,T))))}else if("htmlContentDetail"===A){a=j;var n=(null===o[A]||""===o[A]?"":o[A])!==(null===N[A]||""===N[A]?"":N[A]);C.push(d.a.createElement("tr",{style:{color:n?"blue":"black"},key:A},d.a.createElement("td",null,O),d.a.createElement("td",null," : \xa0\xa0",d.a.createElement("button",{className:"btn btn-primary",style:{width:"100px",display:n?"inline-block":"none"},onClick:function(){e.togglePopup(a)}},"Preview"))))}else{if("productBriefContentDetail"===A)continue;if("productBriefContentId"===A||"htmlContentId"===A||"id"===A||"categoryId"===A||"shareToEmailId"===A||"categoryCode"===A||"subcategoryCode"===A||"segmentCode"===A||"statusCode"===A||"segmentSACode"===A)continue;o[A]===N[A]?C.push(d.a.createElement("tr",{key:A},d.a.createElement("td",null,O),d.a.createElement("td",null," : ",j))):C.push(d.a.createElement("tr",{style:{color:"blue"},key:A},d.a.createElement("td",null,O),d.a.createElement("td",null," : ",j)))}}()}return d.a.createElement("div",{id:"ListApprovalDetail"},d.a.createElement("h3",null,"Task Approval Detail"),d.a.createElement("div",{id:"buttonApproval",style:{display:this.state.loading?"none":"block"}},d.a.createElement("button",{type:"Button",alt:"Approve",value:"Approve",onClick:function(){return e.approveData("APPROVE")}},"Approve"),"\xa0\xa0",d.a.createElement("button",{type:"Button",alt:"Reject",value:"Reject",onClick:function(){return e.Reject("REJECT")}},"Reject"),"\xa0\xa0",d.a.createElement("button",{type:"Button",alt:"Cancel",value:"Cancel",onClick:function(){return e.Cancel()}},"Cancel")),this.state.loading?d.a.createElement(g.a,null):d.a.createElement("div",{id:"ProductForm",style:{width:"100%",minHeight:400}},t?d.a.createElement("table",null,d.a.createElement("thead",null,d.a.createElement("tr",null,n)),d.a.createElement("tbody",null,this.renderTableData())):null,!1===t?d.a.createElement("table",{style:{float:"left",width:"50%"}},d.a.createElement("tbody",{style:{backgroundColor:"#e4e1e1"}},d.a.createElement("tr",null,d.a.createElement("td",{colSpan:"2"},"New Data")),c)):null,!1===t?d.a.createElement("table",{style:{width:"50%",minHeight:"30"}},d.a.createElement("tbody",{style:{backgroundColor:"#e4e1e1"}},null!==this.state.list.dataUpdated?d.a.createElement("tr",null,d.a.createElement("td",{colSpan:"2"},"Updated Data")):null,C)):null,this.state.showPopup?d.a.createElement(v.a,{backdrop:"static",toggle:this.closePreview.bind(this),size:"lg","aria-labelledby":"contained-modal-title-vcenter",show:this.state.previewIsOpen},d.a.createElement(v.a.Body,{className:"modal-body"},d.a.createElement("div",{className:"modal-body-inner"},this.state.htmlViewBefore?d.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.state.htmlViewBefore}}):d.a.createElement("div",null,"No Detail"))),d.a.createElement(v.a.Footer,null,d.a.createElement(b.a,{onClick:this.closePreview.bind(this)},"Close"))):null))}}]),a}(u.Component))},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return h}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(32),p=a(8),h=(a(589),function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={roleId:"",list:[],list2:[],columns:[],columns2:[],toggledClearRows:!1,loading:!0,token:localStorage.getItem("accessToken")},window.scrollTo(0,0),e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){var e=this;this.getData();var t=[{name:"Code",selector:"code",sortable:!0,onRowClicked:!0},{name:"Name",selector:"name",sortable:!0,right:!0},{name:"Description",selector:"description",sortable:!0,right:!0},{name:"Type",selector:"type",sortable:!0,right:!0},{name:"Action",sortable:!0,cell:function(t){return d.a.createElement(u.Fragment,null,d.a.createElement("input",{onClick:function(){return e.editRow(t)},type:"button",alt:"Edit",height:40,value:"Detail"}),"\xa0",d.a.createElement("input",{onClick:function(){return e.updateRow(t)},type:"button",alt:"Edit",height:40,value:"Update"}))}}];this.setState({columns:t});this.setState({columns2:[{name:"Id",selector:"id",sortable:!0},{name:"Code",selector:"code",sortable:!0,right:!0},{name:"Name",selector:"name",sortable:!0,right:!0},{name:"Description",selector:"description",sortable:!0,right:!0}]})}},{key:"getData",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new m.a,e.next=3,t.getRoleData(this.state);case 3:(a=e.sent)&&200===a.status&&a.data&&a.data.success?(n=a.data.data,this.setState({list:n}),this.setState({loading:!1})):a&&a.data&&p.a===a.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):this.setState({error:!0,errorMessage:a&&a.data?a.data.message:a,loading:!1});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getProductData",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new m.a,e.next=3,a.getRoleProduct(this.state,t);case 3:(n=e.sent)&&200===n.status&&n.data&&n.data.success?(r=n.data.data,this.setState({list2:r}),this.setState({loading:!1})):n&&n.data&&p.a===n.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):this.setState({error:!0,errorMessage:n&&n.data?n.data.message:n,loading:!1});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"editRow",value:function(e){this.getProductData(e.id)}},{key:"updateRow",value:function(e){var t=e;this.props.history.push("role-product-detail",{data:t})}},{key:"render",value:function(){return d.a.createElement("div",{id:"RoleProduct"})}}]),a}(u.Component))},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return b}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(19),p=a.n(m),h=a(18),f=a(23),g=(a(1081),a(202)),v=a(8),b=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken")},window.scrollTo(0,0),e}return Object(i.a)(n,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")});var e=p.a.parse(this.props.location.search);this.setPage(+e.page||0,e.filter)}},{key:"componentDidUpdate",value:function(e){if(this.props.location.search!==e.location.search){var t=p.a.parse(this.props.location.search);this.setPage(+t.page||0,t.filter||null)}}},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i,o=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:0,a=o.length>1&&void 0!==o[1]?o[1]:this.state.filter,n=new g.a,e.next=5,n.getListRole(this.state);case 5:(r=e.sent)&&200===r.status&&r.data&&r.data.success?(l=r.data.data,a&&(l=l.filter((function(e){return e.name.toLowerCase().includes(a)}))),i=Math.ceil(l.length/10),l=l.slice(10*t,10*(t+1)),this.setState({page:t,filter:a,list:l,totalPage:i}),this.setState({loading:!1})):r&&r.data&&v.a===r.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):this.setState({error:!0,errorMessage:r&&r.data?r.data.message:r,loading:!1});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"editRow",value:function(e){localStorage.removeItem("roleId");var t=this.state.list[e];localStorage.setItem("roleId",t.id),this.props.history.push("role-privilege-management-edit",{data:t})}},{key:"render",value:function(){var e=this;return d.a.createElement("div",{id:"ListRolePrivilege"},this.props.location.state&&this.props.location.state.isSuccess?d.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,d.a.createElement("h3",null,"Role List"),this.state.loading?d.a.createElement(h.a,null):d.a.createElement(f.a,{page:this.state.page,totalPage:this.state.totalPage,filter:this.state.filter},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",null,"Code"),d.a.createElement("th",null,"Description"),d.a.createElement("th",null,"Actions"))),d.a.createElement("tbody",null,this.state.list.map((function(t,n){return d.a.createElement("tr",{key:n},d.a.createElement("td",null,t.code),d.a.createElement("td",null,t.name),d.a.createElement("td",null,d.a.createElement("input",{type:"image",alt:"Edit",height:20,src:a(40),onClick:function(){return e.editRow(n)}})))})))))}}]),n}(u.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return w}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(19),p=a.n(m),h=a(14),f=a.n(h),g=a(18),v=a(23),b=(a(1083),a(202)),y=a(8),S=a(15),E=a.n(S),w=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),id:null,code:null,name:null,channel:null,checked:!1,listSelectedPrivilege:[],message:"",isSuccess:!1,codeFind:"",nameFind:"",descFind:"",channelFind:""},window.scrollTo(0,0),e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.getListRolePrivilegeByRoleId(localStorage.getItem("id"));var e=this.props.location.state.channel;console.log(e),this.setState({userPrivilege:localStorage.getItem("userPrivilege"),id:localStorage.getItem("id"),code:localStorage.getItem("code"),name:localStorage.getItem("name"),channel:e})}},{key:"componentDidUpdate",value:function(e){if(this.props.location.search!==e.location.search){var t=p.a.parse(this.props.location.search);this.setPage(+t.page||0,t.filter||null,localStorage.getItem("id"))}if(""===this.state.channel){var a=this.props.location.state.channel;this.setState({channel:a})}}},{key:"changeChecked",value:function(e,t){var a=this.state.list.slice(),n=this.state.listSelectedPrivilege.slice();if(e.target.checked)n.push(a.filter((function(e){return e.id===t}))[0]);else{for(var s,r=0;r<n.length;r++)if(n[r].id===t){s=r;break}n.splice(s,1)}this.setState({listSelectedPrivilege:n})}},{key:"checkSelectedPrivilege",value:function(e){return!!this.state.listSelectedPrivilege&&this.state.listSelectedPrivilege.filter((function(t){return t.id===(e||0)})).length>0}},{key:"onSubmit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new b.a,e.next=3,a.updateRolePrivilege(this.state);case 3:(n=e.sent)&&(n.data.success?(this.setState({isSuccess:!0,message:n.data.message}),window.scrollTo(0,0),this.setPage(0,null,localStorage.getItem("id"))):n&&n.data&&y.a===n.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0)));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getListRolePrivilegeByRoleId",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new b.a,e.next=3,a.getListRolePrivilegeByRoleId(this.state,t);case 3:(n=e.sent)&&200===n.status&&n.data&&n.data.success?(r=n.data.data,this.setState({listSelectedPrivilege:r.length>0?r[0].privileges:r,channel:f.a.result(this.props.location.state.data.cmsChannel,"code",""),channelFind:f.a.result(this.props.location.state.data.cmsChannel,"code","")},(function(){var e=p.a.parse(l.props.location.search);l.setPage(+e.page||0,e.filter,localStorage.getItem("id"))}))):n&&n.data&&y.a===n.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):this.setState({error:!0,errorMessage:n&&n.data?n.data.message:n,loading:!1});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i,o=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:0,a=o.length>1&&void 0!==o[1]?o[1]:this.state.filter,o.length>2?o[2]:void 0,n=new b.a,e.next=6,n.RolePrivilegeByParam(this.state);case 6:(r=e.sent)&&200===r.status&&r.data?(l=r.data,a&&(l=l.filter((function(e){return e.description.toLowerCase().includes(a)}))),i=Math.ceil(l.length/1e3),l=l.slice(1e3*t,1e3*(t+1)),this.setState({page:t,filter:a,list:l,totalPage:i}),this.setState({loading:!1})):r&&r.data&&y.a===r.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):this.setState({error:!0,errorMessage:r&&r.data?r.data.message:r,loading:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"search",value:function(){this.setState({loading:!0}),this.setPage(0,"")}},{key:"reset",value:function(){var e=this;this.setState({loading:!0}),E.a.findDOMNode(this.refs.text1).value="",this.setState({descFind:""},(function(){setTimeout((function(){e.setPage(0,"")}),1)}))}},{key:"render",value:function(){for(var e=this,t=JSON.parse(this.state.userPrivilege)||[],a=!1,n=0;n<t.length;n++)"update_rpl"===t[n].name+"_"+t[n].vgroup&&(a=!0);return console.log("Channel",this.state.channel),d.a.createElement("div",{id:"EditRolePrivilege"},this.state.isSuccess?d.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message):null,d.a.createElement("h3",null,"Role Privilege Edit"),d.a.createElement("div",{id:"search-menu"},d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Role Code"),d.a.createElement("input",{readOnly:!0,ref:function(t){return e.title=t},name:"title",className:"col-4 form-input",type:"text",maxLength:"100",onClick:this.myClick,value:this.state.code||""})),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Role Name"),d.a.createElement("input",{readOnly:!0,className:"col-4 form-input",type:"text",maxLength:"100",onChange:function(t){return e.setState({name:t.target.value})},value:this.state.name||""})),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Channel"),d.a.createElement("input",{readOnly:!0,className:"col-4 form-input",type:"text",maxLength:"100",value:this.state.channel}))),d.a.createElement("div",{id:"search-menu"},d.a.createElement("div",{className:"row mb-2"},d.a.createElement("label",{className:"col-2"},"Privilege Description"),d.a.createElement("input",{className:"col-4 form-input",type:"text",ref:"text1",onChange:function(t){return e.setState({descFind:t.target.value})},defaultValue:this.state.descFind})),d.a.createElement("div",null,d.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.search.bind(this)},"search"),d.a.createElement("button",{type:"button",className:"reset-btn btn btn-secondary btn-sm",onClick:this.reset.bind(this)},"reset"))),this.state.loading?d.a.createElement(g.a,null):d.a.createElement(v.a,{page:this.state.page,totalPage:this.state.totalPage,filter:this.state.filter},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",null,"Privilege Name"),d.a.createElement("th",null,"Privilege Description"),a?d.a.createElement("th",null,"Actions"):null)),d.a.createElement("tbody",null,this.state.list.map((function(t,n){return d.a.createElement("tr",{key:t.id},d.a.createElement("td",null," ",t.name," "),d.a.createElement("td",null," ",t.description," "),a?d.a.createElement("td",null,d.a.createElement("input",{key:t.id,id:t.name+"_"+t.vgroup+"_"+t.id,name:t.name+"_"+t.vgroup+"_"+t.id,type:"checkbox",alt:"Edit",height:20,checked:e.checkSelectedPrivilege(t.id),onChange:function(a){return e.changeChecked(a,t.id)}})):null)})))),d.a.createElement("br",null),this.state.loading?d.a.createElement(g.a,null):a?d.a.createElement("button",{className:"button-red-small",type:"button",onClick:this.onSubmit.bind(this)},"SAVE"):null)}}]),a}(u.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return N}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(19),p=a.n(m),h=a(14),f=a.n(h),g=a(18),v=a(23),b=(a(1085),a(202)),y=a(8),S=a(13),E=a(15),w=a.n(E),k=a(130),N=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).getCMSChannel=function(){var t=e.state.token;Object(k.a)(t).then((function(t){if(console.log("AVAILABLE CHANNEL",t),t.success){var a=f.a.result(t,"data",[]);e.setState({channel:a})}else alert("Failed get Available CMS Channel")})).catch((function(e){alert("Error get Available CMS Channel")}))},e.state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),userType:JSON.parse(localStorage.getItem("userType")),channel:[],roleCodeFind:"",roleNameFind:"",channelFind:JSON.parse(localStorage.getItem("userType")),isSuperAdmin:JSON.parse(localStorage.getItem("isSuperAdmin"))},window.scrollTo(0,0),e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")});var e=p.a.parse(this.props.location.search);this.setPage(+e.page||0,e.filter),this.getCMSChannel()}},{key:"componentDidUpdate",value:function(e){if(this.props.location.search!==e.location.search){var t=p.a.parse(this.props.location.search);this.setPage(+t.page||0,t.filter||null)}}},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i,o=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:0,a=o.length>1&&void 0!==o[1]?o[1]:this.state.filter,n=new b.a,e.next=5,n.findRoleByParam(this.state);case 5:(r=e.sent)&&200===r.status&&r.data?(l=r.data,a&&(l=l.filter((function(e){return e.name.toLowerCase().includes(a)}))),i=Math.ceil(l.length/10),l=l.slice(10*t,10*(t+1)),this.setState({page:t,filter:a,list:l,totalPage:i}),this.setState({loading:!1})):r&&r.data&&y.a===r.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):this.setState({error:!0,errorMessage:r&&r.data?r.data.message:r,loading:!1});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"editRow",value:function(e){var t=this.state.list[e];this.props.history.push("role-detail",{data:t})}},{key:"search",value:function(){this.setState({loading:!0,search:!0}),this.setPage(0,"")}},{key:"reset",value:function(){var e=this;this.setState({loading:!0}),w.a.findDOMNode(this.refs.text1).value="",w.a.findDOMNode(this.refs.text2).value="",this.setState({roleCodeFind:"",roleNameFind:""},(function(){setTimeout((function(){e.setPage(0,"")}),1)}))}},{key:"render",value:function(){for(var e=this,t=JSON.parse(this.state.userPrivilege)||[],a=!1,n=!1,s=0;s<t.length;s++)"view_rol"===t[s].name+"_"+t[s].vgroup&&(n=!0),"create_rol"===t[s].name+"_"+t[s].vgroup&&(a=!0);var r=this.state,l=r.channel,i=r.isSuperAdmin;return d.a.createElement("div",{id:"ListRole"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?d.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,d.a.createElement("h3",null,"Role List"),d.a.createElement("div",{id:"search-menu"},d.a.createElement("div",{className:"row mb-2"},d.a.createElement("label",{className:"col-2"},"Role Code"),d.a.createElement("input",{className:"col-4 form-input",type:"text",ref:"text1",onChange:function(t){return e.setState({roleCodeFind:t.target.value})},defaultValue:this.state.roleCodeFind})),d.a.createElement("div",{className:"row mb-2"},d.a.createElement("label",{className:"col-2"},"Role Name"),d.a.createElement("input",{className:"col-4 form-input",type:"text",ref:"text2",onChange:function(t){return e.setState({roleNameFind:t.target.value})},defaultValue:this.state.roleNameFind})),i?d.a.createElement("div",{className:"row mb-2"},d.a.createElement("label",{className:"col-2"},"Channel"),d.a.createElement("select",{onChange:function(t){return e.setState({channelFind:t.target.value})},value:this.state.channelFind,className:"col-4 form-input"},d.a.createElement("option",{value:""},"Select Channel"),l.length>0?l.map((function(e){return d.a.createElement("option",{key:e.id,value:e.code},e.name)})):null)):null,d.a.createElement("div",null,d.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.search.bind(this)},"search"),d.a.createElement("button",{type:"button",className:"reset-btn btn btn-secondary btn-sm",onClick:this.reset.bind(this)},"reset"))),this.state.loading?d.a.createElement(g.a,null):d.a.createElement(v.a,{page:this.state.page,totalPage:this.state.totalPage,filter:this.state.filter},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",null,"Code"),d.a.createElement("th",null,"Name"),d.a.createElement("th",null,"Description"),n?d.a.createElement("th",null,"Actions"):null)),d.a.createElement("tbody",null,this.state.list.map((function(t,a){return d.a.createElement("tr",{key:a},d.a.createElement("td",null,t.code),d.a.createElement("td",null,t.name),d.a.createElement("td",null,t.description),n?d.a.createElement("td",null,d.a.createElement("input",{type:"button",alt:"Detail",height:20,value:"Detail",onClick:function(){return e.editRow(a)}})):null)})))),a?d.a.createElement(S.b,{to:"role-create",className:"d-flex justify-content-end"},d.a.createElement("button",{className:"button-red"},"ADD ROLE")):null)}}]),a}(u.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return c}));var n=a(4),s=a(3),r=a(6),l=a(5),i=a(0),o=a.n(i),c=(a(589),function(e){Object(r.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(n.a)(this,a),(e=t.call(this)).state={role:[],id:"",code:"",name:"",description:"",type:"",channelFind:"",loading:!0,token:localStorage.getItem("accessToken")},window.scrollTo(0,0),e}return Object(s.a)(a,[{key:"componentWillMount",value:function(){var e=this.props.location.state.data;console.log("DATA",e);var t="";e.cmsChannels.map((function(e){var a=e.description;t+="".concat(a,", ")})),t=t.slice(0,-2),localStorage.setItem("id",e.id),localStorage.setItem("code",e.code),localStorage.setItem("name",e.name),this.setState({role:e}),this.setState({id:e.id}),this.setState({code:e.code}),this.setState({name:e.name}),this.setState({description:e.description}),this.setState({type:e.type,channelFind:t})}},{key:"editData",value:function(e){this.props.history.push("role-edit",{data:e})}},{key:"editRoleProduct",value:function(e){this.props.history.push("role-product-detail",{data:e})}},{key:"editRolePrivilege",value:function(e){this.props.history.push("role-privilege-management-edit",{data:e,channel:this.state.channelFind})}},{key:"myClick",value:function(){alert("Role Code Is Read Only!")}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{id:"RoleProduct"},o.a.createElement("h4",null,"Role Detail"),o.a.createElement("br",null),o.a.createElement("div",{id:"CampaignCategoryForm"},o.a.createElement("div",{className:"row mb-3"},o.a.createElement("label",{className:"col-3"},"Role Code"),o.a.createElement("input",{readOnly:!0,ref:function(t){return e.title=t},name:"title",className:"col-4 form-input",type:"text",maxLength:"100",onClick:this.myClick,value:this.state.code||""})),o.a.createElement("div",{className:"row mb-3"},o.a.createElement("label",{className:"col-3"},"Role Name"),o.a.createElement("input",{readOnly:!0,className:"col-4 form-input",type:"text",maxLength:"100",onChange:function(t){return e.setState({name:t.target.value})},value:this.state.name||""})),o.a.createElement("div",{className:"row mb-3"},o.a.createElement("label",{className:"col-3"},"Description"),o.a.createElement("textarea",{className:"col-8 form-input",rows:"3",readOnly:!0,value:this.state.description,onChange:function(t){return e.setState({description:t.target.value})}})),o.a.createElement("div",{className:"row mb-3"},o.a.createElement("label",{className:"col-3"},"Role Type"),o.a.createElement("input",{readOnly:!0,className:"col-4 form-input",type:"text",maxLength:"100",onChange:function(t){return e.setState({type:t.target.value})},value:this.state.type||""})),o.a.createElement("div",{className:"row mb-3"},o.a.createElement("label",{className:"col-3"},"Channel"),o.a.createElement("input",{readOnly:!0,className:"col-4 form-input",type:"text",maxLength:"100",value:this.state.channelFind||""}))),o.a.createElement("div",null,o.a.createElement("input",{type:"button",alt:"Edit",value:"Edit Role",height:20,onClick:function(){return e.editData(e.state.role)}}),"\xa0",o.a.createElement("input",{type:"button",alt:"Edit",value:"Edit Role Product",height:20,onClick:function(){return e.editRoleProduct(e.state.role)}}),"\xa0",o.a.createElement("input",{type:"button",alt:"Edit",value:"Edit Role Privilege",height:20,onClick:function(){return e.editRolePrivilege(e.state.role)}})))}}]),a}(i.Component))},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return f}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(360),p=(a(1088),a(8)),h=a(361),f=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={isSuccess:!1,message:"",token:localStorage.getItem("accessToken")},e}return Object(i.a)(a,[{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new h.a,e.next=3,a.addRole(t);case 3:(n=e.sent)&&(n.data.success?(this.setState({isSuccess:!0,message:n.data.message}),this.props.history.push("role",this.state)):n&&n.data&&p.a===n.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0)));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return d.a.createElement("div",{id:"CreateCampaignCategory"},d.a.createElement("h3",{className:"mb-4"},"Add New Role"),this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement(m.a,{mode:"create",history:this.props.history,onSubmit:this.submit.bind(this)}))}}]),a}(u.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return f}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(360),p=a(8),h=(a(1090),a(361)),f=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={isSuccess:!1,message:"",token:localStorage.getItem("accessToken")},e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.props.location.state.data||this.props.history.push("role")}},{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new h.a,e.next=3,a.updateRole(t);case 3:(n=e.sent)&&(n.data.success?(this.setState({isSuccess:!0,message:n.data.message}),this.props.history.push("role",this.state)):n&&n.data&&p.a===n.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0)));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.location.state.data;return d.a.createElement("div",{id:"EditRole"},d.a.createElement("h3",{className:"mb-4"},"Edit Role"),this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement(m.a,{mode:"edit",data:e,history:this.props.history,onSubmit:this.submit.bind(this)}))}}]),a}(u.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return w}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=a(15),h=a.n(p),f=a(13),g=a(19),v=a.n(g),b=a(23),y=a(18),S=(a(1092),a(21),a(174)),E=a(8),w=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),message:"",parameterFind:"",vgroupFind:"",codeFind:""},e.reset=e.reset.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(n,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")});var e=v.a.parse(this.props.location.search);this.setPage(+e.page||0,e.filter)}},{key:"componentDidUpdate",value:function(e){if(this.props.location.search!==e.location.search){var t=v.a.parse(this.props.location.search);this.setPage(+t.page||0,t.filter||null)}}},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i,o=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:0,a=o.length>1&&void 0!==o[1]?o[1]:this.state.filter,n=new S.a,e.next=5,n.findSystemParameterByParam(this.state);case 5:(r=e.sent)&&200===r.status&&r.data?(l=r.data,a&&(l=l.filter((function(e){return e.code.toLowerCase().includes(a)}))),i=Math.ceil(l.length/10),l=l.slice(10*t,10*(t+1)),this.setState({page:t,filter:a,list:l,totalPage:i}),this.setState({loading:!1}),window.scrollTo(0,0)):r&&r.data&&E.a===r.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):this.setState({error:!0,errorMessage:r&&r.data?r.data.message:r,loading:!1});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteRow",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.state.list[t],!window.confirm("Are you sure you want to inactive Parameter : ".concat(a.parameter," and Vgroup : ").concat(a.vgroup," ?"))){e.next=7;break}return n=new S.a,e.next=5,n.deleteSystemParameter(a,this.state);case 5:200===(r=e.sent).status&&r.data.success?(alert("".concat(r.data.message)),window.location=window.location.href):r&&r.data&&E.a===r.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):(alert("error, Parameter : ".concat(a.parameter," and Vgroup : ").concat(a.vgroup," cannot set to inactive")),window.location=window.location.href);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"editRow",value:function(e){var t=this.state.list[e];this.props.history.push("edit-system-parameter",{data:t})}},{key:"search",value:function(){this.setState({loading:!0,search:!0}),this.setPage(0,"")}},{key:"reset",value:function(){var e=this;this.setState({loading:!0}),h.a.findDOMNode(this.refs.form1).value="",h.a.findDOMNode(this.refs.form2).value="",h.a.findDOMNode(this.refs.form3).value="",this.setState({parameterFind:"",vgroupFind:"",codeFind:""},(function(){setTimeout((function(){e.setPage(0,"")}),1)}))}},{key:"render",value:function(){for(var e=this,t=JSON.parse(this.state.userPrivilege)||[],n=!1,s=!1,r=!1,l=0;l<t.length;l++)"create_sys"===t[l].name+"_"+t[l].vgroup&&(n=!0),"update_sys"===t[l].name+"_"+t[l].vgroup&&(s=!0),"delete_sys"===t[l].name+"_"+t[l].vgroup&&(r=!0);return m.a.createElement("div",{id:"ListSystemParameter"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?m.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,m.a.createElement("h3",null,"System Parameter List"),m.a.createElement("div",{id:"search-menu"},m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-2"},"Parameter"),m.a.createElement("input",{className:"col-4 form-input",type:"text",ref:"form1",onChange:function(t){return e.setState({parameterFind:t.target.value})},defaultValue:this.state.parameterFind})),m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-2"},"Vgroup"),m.a.createElement("input",{className:"col-4 form-input",type:"text",ref:"form2",onChange:function(t){return e.setState({vgroupFind:t.target.value})},defaultValue:this.state.vgroupFind})),m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-2"},"Status"),m.a.createElement("input",{className:"col-4 form-input",type:"text",ref:"form3",onChange:function(t){return e.setState({codeFind:t.target.value})},defaultValue:this.state.codeFind})),m.a.createElement("div",null,m.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.search.bind(this)},"search"),m.a.createElement("button",{type:"button",className:"reset-btn btn btn-secondary btn-sm",onClick:this.reset},"reset"))),this.state.loading?m.a.createElement(y.a,null):m.a.createElement(b.a,{page:this.state.page,totalPage:this.state.totalPage,filter:this.state.filter},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,"Parameter"),m.a.createElement("th",null,"Vgroup"),m.a.createElement("th",null,"Status"),s||r?m.a.createElement("th",null,"Actions"):null)),m.a.createElement("tbody",null,this.state.list.map((function(t,n){return m.a.createElement("tr",{key:n},m.a.createElement("td",null,t.parameter),m.a.createElement("td",null,t.vgroup),m.a.createElement("td",null,t.status?t.status.code:null),s||r?m.a.createElement("td",null,r?m.a.createElement("input",{type:"image",alt:"Delete",height:20,className:"mr-3",src:a(67),onClick:function(){return e.deleteRow(n)}}):null,s?m.a.createElement("input",{type:"image",alt:"Edit",height:20,src:a(40),onClick:function(){return e.editRow(n)}}):null):null)})))),n?m.a.createElement(f.b,{to:"create-system-parameter",className:"d-flex justify-content-end"},m.a.createElement("button",{className:"button-red"},"CREATE NEW SYSTEM PARAMETER")):null)}}]),n}(d.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return f}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(362),p=a(174),h=(a(1094),a(8)),f=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={isSuccess:!1,message:"",token:localStorage.getItem("accessToken"),htmlContent:""},e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.props.location.state.data||this.props.history.push("system-parameter")}},{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new p.a,e.next=3,a.updateSystemParameter(t);case 3:(n=e.sent)&&(n.data.success?(this.setState({isSuccess:!0,message:n.data.message}),this.props.history.push("system-parameter",this.state)):n&&n.data&&h.a===n.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0)));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.location.state.data;return d.a.createElement("div",{id:"EditSystemParameter"},this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement("h3",{className:"mb-4"},"Edit System Parameter"),d.a.createElement(m.a,{mode:"edit",data:e,history:this.props.history,onSubmit:this.submit.bind(this)}))}}]),a}(u.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return f}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(362),p=(a(1096),a(8)),h=a(174),f=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={isSuccess:!1,message:"",token:localStorage.getItem("accessToken")},e}return Object(i.a)(a,[{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new h.a,e.next=3,a.addSystemParameter(t);case 3:(n=e.sent)&&(n.data.success?(this.setState({isSuccess:!0,message:n.data.message}),this.props.history.push("system-parameter",this.state)):n&&n.data&&p.a===n.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0)));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return d.a.createElement("div",{id:"CreateSystemParameter"},this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement("h3",{className:"mb-4"},"Add New System Parameter"),d.a.createElement(m.a,{history:this.props.history,onSubmit:this.submit.bind(this)}))}}]),a}(u.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return E}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(19),p=a.n(m),h=a(18),f=a(23),g=(a(1098),a(17)),v=a(8),b=a(13),y=a(15),S=a.n(y),E=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),typeFind:"",codeFind:"",nameFind:"",descFind:""},window.scrollTo(0,0),e}return Object(i.a)(n,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")});var e=p.a.parse(this.props.location.search);this.setPage(+e.page||0,e.filter)}},{key:"componentDidUpdate",value:function(e){if(this.props.location.search!==e.location.search){var t=p.a.parse(this.props.location.search);this.setPage(+t.page||0,t.filter||null)}}},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i,o=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:0,a=o.length>1&&void 0!==o[1]?o[1]:this.state.filter,n=new g.a,e.next=5,n.findStatusByParam(this.state);case 5:(r=e.sent)&&200===r.status&&r.data?(l=r.data,a&&(l=l.filter((function(e){return e.name.toLowerCase().includes(a)}))),i=Math.ceil(l.length/10),l=l.slice(10*t,10*(t+1)),this.setState({page:t,filter:a,list:l,totalPage:i}),this.setState({loading:!1}),window.scrollTo(0,0)):r&&r.data&&v.a===r.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):this.setState({error:!0,errorMessage:r&&r.data?r.data.message:r,loading:!1});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteRow",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.state.list[t],!window.confirm("Are you sure you want to delete data type ".concat(a.type," and code ").concat(a.code," ?"))){e.next=7;break}return n=new g.a,e.next=5,n.deleteStatus(a,this.state.token);case 5:200===(r=e.sent).status&&r.data.success?(alert("".concat(r.data.message)),window.location=window.location.href):r&&r.data&&v.a===r.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):(alert("Error, ".concat(r.data.message," ! Data type ").concat(a.type," and code ").concat(a.code," can not be deleted !")),window.location=window.location.href);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"editRow",value:function(e){var t=this.state.list[e];this.props.history.push("edit-status",{data:t})}},{key:"search",value:function(){this.setState({loading:!0,search:!0}),this.setPage(0,"")}},{key:"reset",value:function(){var e=this;this.setState({loading:!0}),S.a.findDOMNode(this.refs.text1).value="",S.a.findDOMNode(this.refs.text2).value="",S.a.findDOMNode(this.refs.text3).value="",S.a.findDOMNode(this.refs.text4).value="",this.setState({typeFind:"",codeFind:"",nameFind:"",descFind:""},(function(){setTimeout((function(){e.setPage(0,"")}),1)}))}},{key:"render",value:function(){for(var e=this,t=JSON.parse(this.state.userPrivilege)||[],n=!1,s=!1,r=!1,l=0;l<t.length;l++)"create_sta"===t[l].name+"_"+t[l].vgroup&&(n=!0),"update_sta"===t[l].name+"_"+t[l].vgroup&&(s=!0),"delete_sta"===t[l].name+"_"+t[l].vgroup&&(r=!0);return d.a.createElement("div",{id:"ListStatus"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?d.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,d.a.createElement("h3",null,"Status List"),d.a.createElement("div",{id:"search-menu"},d.a.createElement("table",{style:{width:"100%"}},d.a.createElement("tbody",null,d.a.createElement("tr",null,d.a.createElement("td",null,d.a.createElement("div",{className:"row mb-2"},d.a.createElement("label",{className:"col-2"},"Type"),d.a.createElement("input",{className:"col-6 form-input",type:"text",ref:"text1",onChange:function(t){return e.setState({typeFind:t.target.value})},defaultValue:this.state.typeFind})),d.a.createElement("div",{className:"row mb-2"},d.a.createElement("label",{className:"col-2"},"Code"),d.a.createElement("input",{className:"col-6 form-input",type:"text",ref:"text2",onChange:function(t){return e.setState({codeFind:t.target.value})},defaultValue:this.state.codeFind}))),d.a.createElement("td",null,d.a.createElement("div",{className:"row mb-2"},d.a.createElement("label",{className:"col-3"},"Name"),d.a.createElement("input",{className:"col-6 form-input",type:"text",ref:"text3",onChange:function(t){return e.setState({nameFind:t.target.value})},defaultValue:this.state.nameFind})),d.a.createElement("div",{className:"row mb-2"},d.a.createElement("label",{className:"col-3"},"Description"),d.a.createElement("input",{className:"col-6 form-input",type:"text",ref:"text4",onChange:function(t){return e.setState({descFind:t.target.value})},defaultValue:this.state.descFind})))))),d.a.createElement("div",null,d.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.search.bind(this)},"search"),d.a.createElement("button",{type:"button",className:"reset-btn btn btn-secondary btn-sm",onClick:this.reset.bind(this)},"reset"))),this.state.loading?d.a.createElement(h.a,null):d.a.createElement(f.a,{page:this.state.page,totalPage:this.state.totalPage,filter:this.state.filter},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",null,"Type"),d.a.createElement("th",null,"Code"),d.a.createElement("th",null,"Name"),d.a.createElement("th",null,"Description"),s||r?d.a.createElement("th",null,"Actions"):null)),d.a.createElement("tbody",null,this.state.list.map((function(t,n){return d.a.createElement("tr",{key:n},d.a.createElement("td",null,t.type),d.a.createElement("td",null,t.code),d.a.createElement("td",null,t.name),d.a.createElement("td",null,t.description),s||r?d.a.createElement("td",null,r?d.a.createElement("input",{type:"image",alt:"Delete",height:20,className:"mr-3",src:a(67),onClick:function(){return e.deleteRow(n)}}):null,s?d.a.createElement("input",{type:"image",alt:"Edit",height:20,src:a(40),onClick:function(){return e.editRow(n)}}):null):null)})))),n?d.a.createElement(b.b,{to:"create-status",className:"d-flex justify-content-end"},d.a.createElement("button",{className:"button-red"},"ADD NEW STATUS")):null)}}]),n}(u.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return S}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(19),p=a.n(m),h=a(18),f=a(23),g=(a(1100),a(17)),v=a(8),b=a(15),y=a.n(b),S=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),typeFind:"",codeFind:"",nameFind:"",descFind:""},window.scrollTo(0,0),e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")});var e=p.a.parse(this.props.location.search);this.setPage(+e.page||0,e.filter)}},{key:"componentDidUpdate",value:function(e){if(this.props.location.search!==e.location.search){var t=p.a.parse(this.props.location.search);this.setPage(+t.page||0,t.filter||null)}}},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i,o=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:0,a=o.length>1&&void 0!==o[1]?o[1]:this.state.filter,n=new g.a,e.next=5,n.findStatusLeadsByParam(this.state);case 5:(r=e.sent)&&200===r.status&&r.data?(l=r.data,a&&(l=l.filter((function(e){return e.name.toLowerCase().includes(a)}))),i=Math.ceil(l.length/10),l=l.slice(10*t,10*(t+1)),this.setState({page:t,filter:a,list:l,totalPage:i}),this.setState({loading:!1}),window.scrollTo(0,0)):r&&r.data&&v.a===r.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):this.setState({error:!0,errorMessage:r&&r.data?r.data.message:r,loading:!1});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteRow",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.state.list[t],!window.confirm("Are you sure you want to delete data type ".concat(a.type," and code ").concat(a.code," ?"))){e.next=7;break}return n=new g.a,e.next=5,n.deleteStatus(a,this.state.token);case 5:200===(r=e.sent).status&&r.data.success?window.location=window.location.href:r&&r.data&&v.a===r.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):alert("error, data type ".concat(a.type," and code ").concat(a.code," cannot deleted"));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"editRow",value:function(e){var t=this.state.list[e];this.props.history.push("create-status-detail",{data:t})}},{key:"search",value:function(){this.setState({loading:!0,search:!0}),this.setPage(0,"")}},{key:"reset",value:function(){var e=this;this.setState({loading:!0}),y.a.findDOMNode(this.refs.text1).value="",y.a.findDOMNode(this.refs.text2).value="",y.a.findDOMNode(this.refs.text3).value="",y.a.findDOMNode(this.refs.text4).value="",this.setState({typeFind:"",codeFind:"",nameFind:"",descFind:""},(function(){setTimeout((function(){e.setPage(0,"")}),1)}))}},{key:"render",value:function(){for(var e=this,t=JSON.parse(this.state.userPrivilege)||[],a=!1,n=0;n<t.length;n++)"update_sld"===t[n].name+"_"+t[n].vgroup&&(a=!0);return d.a.createElement("div",{id:"ListStatusLeads"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?d.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,d.a.createElement("h3",null,"Status Leads List"),d.a.createElement("div",{id:"search-menu"},d.a.createElement("table",{style:{width:"100%"}},d.a.createElement("tbody",null,d.a.createElement("tr",null,d.a.createElement("td",null,d.a.createElement("div",{className:"row mb-2"},d.a.createElement("label",{className:"col-2"},"Type"),d.a.createElement("input",{className:"col-6 form-input",type:"text",ref:"text1",onChange:function(t){return e.setState({typeFind:t.target.value})},defaultValue:this.state.typeFind})),d.a.createElement("div",{className:"row mb-2"},d.a.createElement("label",{className:"col-2"},"Code"),d.a.createElement("input",{className:"col-6 form-input",type:"text",ref:"text2",onChange:function(t){return e.setState({codeFind:t.target.value})},defaultValue:this.state.codeFind}))),d.a.createElement("td",null,d.a.createElement("div",{className:"row mb-2"},d.a.createElement("label",{className:"col-3"},"Name"),d.a.createElement("input",{className:"col-6 form-input",type:"text",ref:"text3",onChange:function(t){return e.setState({nameFind:t.target.value})},defaultValue:this.state.nameFind})),d.a.createElement("div",{className:"row mb-2"},d.a.createElement("label",{className:"col-3"},"Description"),d.a.createElement("input",{className:"col-6 form-input",type:"text",ref:"text4",onChange:function(t){return e.setState({descFind:t.target.value})},defaultValue:this.state.descFind})))))),d.a.createElement("div",null,d.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.search.bind(this)},"search"),d.a.createElement("button",{type:"button",className:"reset-btn btn btn-secondary btn-sm",onClick:this.reset.bind(this)},"reset"))),this.state.loading?d.a.createElement(h.a,null):d.a.createElement(f.a,{page:this.state.page,totalPage:this.state.totalPage,filter:this.state.filter},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",null,"Type"),d.a.createElement("th",null,"Code"),d.a.createElement("th",null,"Name"),d.a.createElement("th",null,"Description"),a?d.a.createElement("th",null,"Actions"):null)),d.a.createElement("tbody",null,this.state.list.map((function(t,n){return d.a.createElement("tr",{key:n},d.a.createElement("td",null,t.type),d.a.createElement("td",null,t.code),d.a.createElement("td",null,t.name),d.a.createElement("td",null,t.description),a?d.a.createElement("td",null,d.a.createElement("input",{type:"button",alt:"Detail",height:20,value:"Detail",onClick:function(){return e.editRow(n)}})):null)})))))}}]),a}(u.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return f}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(363),p=a(8),h=(a(1102),a(17)),f=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={isSuccess:!1,message:"",token:localStorage.getItem("accessToken")},e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.props.location.state.data||this.props.history.push("status")}},{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new h.a,e.next=3,a.updateStatus(t);case 3:(n=e.sent)&&(n.data.success?(this.setState({isSuccess:!0,message:n.data.message}),this.props.history.push("status",this.state)):n&&n.data&&p.a===n.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0)));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.location.state.data;return d.a.createElement("div",{id:"EditStatus"},d.a.createElement("h3",{className:"mb-4"},"Edit Status"),this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,status:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement(m.a,{mode:"edit",data:e,history:this.props.history,onSubmit:this.submit.bind(this)}))}}]),a}(u.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return f}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(363),p=(a(1104),a(8)),h=a(17),f=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={isSuccess:!1,message:"",token:localStorage.getItem("accessToken")},e}return Object(i.a)(a,[{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new h.a,e.next=3,a.addStatus(t);case 3:(n=e.sent)&&(n.data.success?(this.setState({isSuccess:!0,message:n.data.message}),this.props.history.push("status",this.state)):n&&n.data&&p.a===n.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0)));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return d.a.createElement("div",{id:"CreateCampaignCategory"},d.a.createElement("h3",{className:"mb-4"},"Add New Status"),this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,status:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement(m.a,{mode:"create",history:this.props.history,onSubmit:this.submit.bind(this)}))}}]),a}(u.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return S}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(19),p=a.n(m),h=a(18),f=a(23),g=(a(1106),a(17)),v=a(8),b=a(15),y=a.n(b),S=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),id:null,code:null,name:null,checked:!1,listSelectedStatusDetail:[],message:"",isSuccess:!1,codeFind:"",nameFind:"",descFind:"",typeFind:""},window.scrollTo(0,0),e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){var e=this.props.location.state.data;this.getListStatusDetailByStatusId(e.id),this.setState({userPrivilege:localStorage.getItem("userPrivilege"),id:e.id,code:e.code,name:e.name});var t=p.a.parse(this.props.location.search);this.setPage(+t.page||0,t.filter,e.id)}},{key:"componentDidUpdate",value:function(e){if(this.props.location.search!==e.location.search){var t=p.a.parse(this.props.location.search);this.setPage(+t.page||0,t.filter||null,this.state.id)}}},{key:"changeChecked",value:function(e,t){var a=this.state.list.slice(),n=this.state.listSelectedStatusDetail.slice();if(e.target.checked)n.push(a.filter((function(e){return e.id===t}))[0]);else{for(var s,r=0;r<n.length;r++)if(n[r].id===t){s=r;break}n.splice(s,1)}this.setState({listSelectedStatusDetail:n})}},{key:"checkSelectedStatusDetail",value:function(e){return!!this.state.listSelectedStatusDetail&&this.state.listSelectedStatusDetail.filter((function(t){return t.id===(e||0)})).length>0}},{key:"onSubmit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new g.a,e.next=3,a.updateStatusDetail(this.state);case 3:(n=e.sent)&&(n.data.success?(this.setState({isSuccess:!0,message:n.data.message}),window.scrollTo(0,0),this.setPage(0,null,localStorage.getItem("id"))):n&&n.data&&v.a===n.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0)));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getListStatusDetailByStatusId",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new g.a,e.next=3,a.getListStatusDetailByStatusId(this.state,t);case 3:(n=e.sent)&&200===n.status&&n.data&&n.data.success?(console.log(JSON.stringify(n.data.data)),r=[],r="[]"===JSON.stringify(n.data.data)?[]:n.data.data[0].statusDetail,this.setState({listSelectedStatusDetail:r})):n&&n.data&&v.a===n.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):this.setState({error:!0,errorMessage:n&&n.data?n.data.message:n,loading:!1});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i,o=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:0,a=o.length>1&&void 0!==o[1]?o[1]:this.state.filter,o.length>2?o[2]:void 0,n=new g.a,e.next=6,n.StatusDetailByParam(this.state);case 6:(r=e.sent)&&200===r.status&&r.data?(l=r.data,a&&(l=l.filter((function(e){return e.description.toLowerCase().includes(a)}))),i=Math.ceil(l.length/1e3),l=l.slice(1e3*t,1e3*(t+1)),this.setState({page:t,filter:a,list:l,totalPage:i}),this.setState({loading:!1})):r&&r.data&&v.a===r.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):this.setState({error:!0,errorMessage:r&&r.data?r.data.message:r,loading:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"search",value:function(){this.setState({loading:!0}),this.setPage(0,"")}},{key:"reset",value:function(){var e=this;this.setState({loading:!0}),y.a.findDOMNode(this.refs.text1).value="",this.setState({descFind:""},(function(){setTimeout((function(){e.setPage(0,"")}),1)}))}},{key:"render",value:function(){for(var e=this,t=JSON.parse(this.state.userPrivilege)||[],a=!1,n=0;n<t.length;n++)"update_sld"===t[n].name+"_"+t[n].vgroup&&(a=!0);return d.a.createElement("div",{id:"EditStatusDetail"},this.state.isSuccess?d.a.createElement("div",{className:"alert alert-primary",status:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message):null,d.a.createElement("h3",null,"Status Detail Edit"),d.a.createElement("div",{id:"search-menu"},d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Status Code"),d.a.createElement("input",{readOnly:!0,ref:function(t){return e.title=t},name:"title",className:"col-4 form-input",type:"text",maxLength:"100",onClick:this.myClick,value:this.state.code||""})),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Status Name"),d.a.createElement("input",{readOnly:!0,className:"col-4 form-input",type:"text",maxLength:"100",onChange:function(t){return e.setState({name:t.target.value})},value:this.state.name||""}))),d.a.createElement("div",{id:"search-menu"},d.a.createElement("div",{className:"row mb-2"},d.a.createElement("label",{className:"col-2"},"Status Name"),d.a.createElement("input",{className:"col-4 form-input",type:"text",ref:"text1",onChange:function(t){return e.setState({nameFind:t.target.value})},defaultValue:this.state.nameFind})),d.a.createElement("div",{className:"row mb-2"},d.a.createElement("label",{className:"col-2"},"Status Desc"),d.a.createElement("input",{className:"col-4 form-input",type:"text",ref:"text1",onChange:function(t){return e.setState({descFind:t.target.value})},defaultValue:this.state.descFind})),d.a.createElement("div",{className:"row mb-2"},d.a.createElement("label",{className:"col-2"},"Status Type"),d.a.createElement("input",{className:"col-4 form-input",type:"text",ref:"text1",onChange:function(t){return e.setState({typeFind:t.target.value})},defaultValue:this.state.typeFind})),d.a.createElement("div",null,d.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.search.bind(this)},"search"),d.a.createElement("button",{type:"button",className:"reset-btn btn btn-secondary btn-sm",onClick:this.reset.bind(this)},"reset"))),this.state.loading?d.a.createElement(h.a,null):d.a.createElement(f.a,{page:this.state.page,totalPage:this.state.totalPage,filter:this.state.filter},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",null,"Status Name"),d.a.createElement("th",null,"Status Description"),d.a.createElement("th",null,"Status Type"),a?d.a.createElement("th",null,"Actions"):null)),d.a.createElement("tbody",null,this.state.list.map((function(t,n){return d.a.createElement("tr",{key:t.id},d.a.createElement("td",null," ",t.name," "),d.a.createElement("td",null," ",t.description," "),d.a.createElement("td",null," ",t.type," "),a?d.a.createElement("td",null,d.a.createElement("input",{key:t.id,id:t.name+"_"+t.vgroup+"_"+t.id,name:t.name+"_"+t.vgroup+"_"+t.id,type:"checkbox",alt:"Edit",height:20,checked:e.checkSelectedStatusDetail(t.id),onChange:function(a){return e.changeChecked(a,t.id)}})):null)})))),d.a.createElement("br",null),this.state.loading?d.a.createElement(h.a,null):a?d.a.createElement("button",{className:"button-red-small",type:"button",onClick:this.onSubmit.bind(this)},"SAVE"):null)}}]),a}(u.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return w}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=a(15),h=a.n(p),f=a(13),g=a(19),v=a.n(g),b=a(23),y=a(18),S=(a(1108),a(21),a(175)),E=a(8),w=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),message:"",codeFind:"",typeFind:"",nameFind:"",statusFind:""},e.reset=e.reset.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(n,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")});var e=v.a.parse(this.props.location.search);this.setPage(+e.page||0,e.filter)}},{key:"componentDidUpdate",value:function(e){if(this.props.location.search!==e.location.search){var t=v.a.parse(this.props.location.search);this.setPage(+t.page||0,t.filter||null)}}},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i,o=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:0,a=o.length>1&&void 0!==o[1]?o[1]:this.state.filter,n=new S.a,e.next=5,n.findLookupByParam(this.state);case 5:(r=e.sent)&&200===r.status&&r.data?(l=r.data,a&&(l=l.filter((function(e){return e.code.toLowerCase().includes(a)}))),i=Math.ceil(l.length/10),l=l.slice(10*t,10*(t+1)),this.setState({page:t,filter:a,list:l,totalPage:i}),this.setState({loading:!1}),window.scrollTo(0,0)):r&&r.data&&E.a===r.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):this.setState({error:!0,errorMessage:r&&r.data?r.data.message:r,loading:!1});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteRow",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.state.list[t],!window.confirm("Are you sure you want to inactive Type : ".concat(a.type," and Code : ").concat(a.code," ?"))){e.next=7;break}return n=new S.a,e.next=5,n.deleteLookup(a,this.state);case 5:200===(r=e.sent).status&&r.data.success?(alert("".concat(r.data.message)),window.location=window.location.href):r&&r.data&&E.a===r.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):alert("error, Type : ".concat(a.type," and Code : ").concat(a.code," cannot set to inactive"));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"editRow",value:function(e){var t=this.state.list[e];this.props.history.push("edit-lookup",{data:t})}},{key:"search",value:function(){this.setState({loading:!0,search:!0}),this.setPage(0,"")}},{key:"reset",value:function(){var e=this;this.setState({loading:!0}),h.a.findDOMNode(this.refs.form1).value="",h.a.findDOMNode(this.refs.form2).value="",h.a.findDOMNode(this.refs.form3).value="",h.a.findDOMNode(this.refs.form4).value="",this.setState({codeFind:"",typeFind:"",nameFind:"",statusFind:""},(function(){setTimeout((function(){e.setPage(0,"")}),1)}))}},{key:"render",value:function(){for(var e=this,t=JSON.parse(this.state.userPrivilege)||[],n=!1,s=!1,r=!1,l=0;l<t.length;l++)"create_loo"===t[l].name+"_"+t[l].vgroup&&(n=!0),"update_loo"===t[l].name+"_"+t[l].vgroup&&(s=!0),"delete_loo"===t[l].name+"_"+t[l].vgroup&&(r=!0);return m.a.createElement("div",{id:"ListLookup"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?m.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,m.a.createElement("h3",null,"Lookup List"),m.a.createElement("div",{id:"search-menu"},m.a.createElement("table",{style:{width:"100%"}},m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-2"},"Type"),m.a.createElement("input",{className:"col-6 form-input",type:"text",ref:"form1",onChange:function(t){return e.setState({typeFind:t.target.value})},defaultValue:this.state.typeFind})),m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-2"},"Code"),m.a.createElement("input",{className:"col-6 form-input",type:"text",ref:"form2",onChange:function(t){return e.setState({codeFind:t.target.value})},defaultValue:this.state.codeFind}))),m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-3"},"Name"),m.a.createElement("input",{className:"col-6 form-input",type:"text",ref:"form3",onChange:function(t){return e.setState({nameFind:t.target.value})},defaultValue:this.state.nameFind})),m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-3"},"Status"),m.a.createElement("input",{className:"col-6 form-input",type:"text",ref:"form4",onChange:function(t){return e.setState({statusFind:t.target.value})},defaultValue:this.state.statusFind})))))),m.a.createElement("div",null,m.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.search.bind(this)},"search"),m.a.createElement("button",{type:"button",className:"reset-btn btn btn-secondary btn-sm",onClick:this.reset},"reset"))),this.state.loading?m.a.createElement(y.a,null):m.a.createElement(b.a,{page:this.state.page,totalPage:this.state.totalPage,filter:this.state.filter},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,"Type"),m.a.createElement("th",null,"Code"),m.a.createElement("th",null,"Name"),m.a.createElement("th",null,"Status"),s||r?m.a.createElement("th",null,"Actions"):null)),m.a.createElement("tbody",null,this.state.list.map((function(t,n){return m.a.createElement("tr",{key:n},m.a.createElement("td",null,t.type),m.a.createElement("td",null,t.code),m.a.createElement("td",null,t.name),m.a.createElement("td",null,t.status?t.status.code:null),s||r?m.a.createElement("td",null,r?m.a.createElement("input",{type:"image",alt:"Delete",height:20,className:"mr-3",src:a(67),onClick:function(){return e.deleteRow(n)}}):null,s?m.a.createElement("input",{type:"image",alt:"Edit",height:20,src:a(40),onClick:function(){return e.editRow(n)}}):null):null)})))),n?m.a.createElement(f.b,{to:"create-lookup",className:"d-flex justify-content-end"},m.a.createElement("button",{className:"button-red"},"CREATE NEW LOOKUP")):null)}}]),n}(d.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return f}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(364),p=a(175),h=(a(1110),a(8)),f=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={isSuccess:!1,message:"",token:localStorage.getItem("accessToken"),htmlContent:""},e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.props.location.state.data||this.props.history.push("lookup")}},{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new p.a,e.next=3,a.updateLookup(t);case 3:(n=e.sent)&&(n.data.success?(this.setState({isSuccess:!0,message:n.data.message}),this.props.history.push("lookup",this.state)):n&&n.data&&h.a===n.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0)));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.location.state.data;return d.a.createElement("div",{id:"EditLookup"},this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement("h3",{className:"mb-4"},"Edit Lookup"),d.a.createElement(m.a,{mode:"edit",data:e,history:this.props.history,onSubmit:this.submit.bind(this)}))}}]),a}(u.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return f}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(364),p=(a(1112),a(8)),h=a(175),f=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={isSuccess:!1,message:"",token:localStorage.getItem("accessToken")},e}return Object(i.a)(a,[{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new h.a,e.next=3,a.addLookup(t);case 3:(n=e.sent)&&(n.data.success?(this.setState({isSuccess:!0,message:n.data.message}),this.props.history.push("lookup",this.state)):n&&n.data&&p.a===n.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0)));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return d.a.createElement("div",{id:"CreateLookup"},this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement("h3",{className:"mb-4"},"Add New Lookup"),d.a.createElement(m.a,{history:this.props.history,onSubmit:this.submit.bind(this)}))}}]),a}(u.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return w}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=a(15),h=a.n(p),f=a(13),g=a(19),v=a.n(g),b=a(18),y=a(23),S=(a(1114),a(21),a(176)),E=a(8),w=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),areaCodeFind:"",areaNameFind:""},e.reset=e.reset.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(n,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")});var e=v.a.parse(this.props.location.search);this.setPage(+e.page||0,e.filter)}},{key:"componentDidUpdate",value:function(e){if(this.props.location.search!==e.location.search){var t=v.a.parse(this.props.location.search);this.setPage(+t.page||0,t.filter||null)}}},{key:"clearSession",value:function(){alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")}},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i,o,c=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:0,a=c.length>1&&void 0!==c[1]?c[1]:this.state.filter,n=c.length>2&&void 0!==c[2]?c[2]:10,r=new S.a,e.next=6,r.findAreaByParam(this.state,t,n);case 6:(l=e.sent)&&200===l.status&&l.data?(i=l.data.data.areaList,o=Math.ceil(l.data.data.count/10),this.setState({page:t,filter:a,list:i,totalPage:o}),this.setState({loading:!1})):l&&l.data&&E.a===l.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):this.setState({error:!0,errorMessage:l&&l.data?l.data.message:l,loading:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteRow",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.state.list[t],this.setState({message:null}),!window.confirm("Are you sure you want to delete data ".concat(a.name," ?"))){e.next=8;break}return n=new S.a,e.next=6,n.deleteArea(a,this.state.token);case 6:200===(r=e.sent).status&&r.data.success?(alert("".concat(r.data.message)),window.location=window.location.href):r&&r.data&&E.a===r.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):(alert("Error, ".concat(r.data.message," ! Data ").concat(a.name," can not be deleted !")),window.location=window.location.href);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"editRow",value:function(e){var t=this.state.list[e];this.props.history.push("edit-area",{data:t})}},{key:"search",value:function(){this.setState({loading:!0}),this.setPage(0,"")}},{key:"reset",value:function(){var e=this;this.setState({loading:!0}),h.a.findDOMNode(this.refs.form1).value="",h.a.findDOMNode(this.refs.form2).value="",this.setState({areaCodeFind:"",areaNameFind:""},(function(){setTimeout((function(){e.setPage(0,"")}),1)}))}},{key:"render",value:function(){for(var e=this,t=JSON.parse(this.state.userPrivilege)||[],n=!1,s=!1,r=!1,l=0;l<t.length;l++)"create_are"===t[l].name+"_"+t[l].vgroup&&(n=!0),"update_are"===t[l].name+"_"+t[l].vgroup&&(s=!0),"delete_are"===t[l].name+"_"+t[l].vgroup&&(r=!0);return m.a.createElement("div",{id:"ListArea"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?m.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,m.a.createElement("h3",null,"Area List"),m.a.createElement("div",{id:"search-menu"},m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-2"},"Area Code"),m.a.createElement("input",{className:"col-4 form-input",ref:"form1",type:"text",onChange:function(t){return e.setState({branchCodeFind:t.target.value})},defaultValue:this.state.branchCodeFind})),m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-2"},"Area Name"),m.a.createElement("input",{className:"col-4 form-input",ref:"form2",type:"text",onChange:function(t){return e.setState({branchNameFind:t.target.value})},defaultValue:this.state.branchNameFind})),m.a.createElement("div",null,m.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.search.bind(this)},"search"),m.a.createElement("button",{type:"button",className:"reset-btn btn btn-secondary btn-sm",onClick:this.reset},"reset"))),this.state.loading?m.a.createElement(b.a,null):m.a.createElement(y.a,{page:this.state.page,totalPage:this.state.totalPage,filter:this.state.filter},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,"Code"),m.a.createElement("th",null,"Description"),m.a.createElement("th",null,"Name"),m.a.createElement("th",null,"Region"),m.a.createElement("th",null,"Division"),s||r?m.a.createElement("th",null,"Actions"):null)),m.a.createElement("tbody",null,this.state.list.map((function(t,n){return m.a.createElement("tr",{key:n},m.a.createElement("td",null,t.code),m.a.createElement("td",null,t.description),m.a.createElement("td",null,t.name),m.a.createElement("td",null,null!==t.region?t.region.name:""),m.a.createElement("td",null,null!==t.region&&t.region.divisionCode?t.region.divisionCode.toUpperCase():""),s||r?m.a.createElement("td",null,r?m.a.createElement("input",{type:"image",alt:"Delete",height:20,className:"mr-3",src:a(67),onClick:function(){return e.deleteRow(n)}}):null,s?m.a.createElement("input",{type:"image",alt:"Edit",height:20,src:a(40),onClick:function(){return e.editRow(n)}}):null):null)})))),n?m.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},m.a.createElement(f.b,{to:"create-area"},m.a.createElement("button",{className:"button-red-small"},"CREATE NEW AREA"))):null)}}]),n}(d.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return f}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(365),p=a(8),h=(a(1116),a(176)),f=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={isSuccess:!1,message:"",token:localStorage.getItem("accessToken")},e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.props.location.state.data||this.props.history.push("area")}},{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new h.a,e.next=3,a.updateArea(t);case 3:(n=e.sent)&&(n.data.success?(this.setState({isSuccess:!0,message:n.data.message}),this.props.history.push("area",this.state)):n&&n.data&&p.a===n.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0)));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.location.state.data;return d.a.createElement("div",{id:"EditArea"},d.a.createElement("h3",{className:"mb-4"},"Edit Area"),this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,status:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement(m.a,{mode:"edit",data:e,history:this.props.history,onSubmit:this.submit.bind(this)}))}}]),a}(u.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return f}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(365),p=(a(1118),a(8)),h=a(176),f=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={isSuccess:!1,message:"",token:localStorage.getItem("accessToken")},e}return Object(i.a)(a,[{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new h.a,e.next=3,a.addArea(t);case 3:(n=e.sent)&&(n.data.success?(this.setState({isSuccess:!0,message:n.data.message}),this.props.history.push("area",this.state)):n&&n.data&&p.a===n.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0)));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return d.a.createElement("div",{id:"CreateArea"},this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement("h3",{className:"mb-4"},"Add New Area"),d.a.createElement(m.a,{history:this.props.history,onSubmit:this.submit.bind(this)}))}}]),a}(u.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return E}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(19),p=a.n(m),h=a(18),f=a(23),g=(a(1120),a(177)),v=a(8),b=a(13),y=a(15),S=a.n(y),E=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),regionCodeFind:"",regionNameFind:""},window.scrollTo(0,0),e}return Object(i.a)(n,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")});var e=p.a.parse(this.props.location.search);this.setPage(+e.page||0,e.filter)}},{key:"componentDidUpdate",value:function(e){if(this.props.location.search!==e.location.search){var t=p.a.parse(this.props.location.search);this.setPage(+t.page||0,t.filter||null)}}},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i,o=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:0,a=o.length>1&&void 0!==o[1]?o[1]:this.state.filter,n=new g.a,e.next=5,n.findListRegionByParam(this.state);case 5:(r=e.sent)&&200===r.status&&r.data?(l=r.data,a&&(l=l.filter((function(e){return e.name.toLowerCase().includes(a)}))),i=Math.ceil(l.length/10),l=l.slice(10*t,10*(t+1)),this.setState({page:t,filter:a,list:l,totalPage:i}),this.setState({loading:!1})):r&&r.data&&v.a===r.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):this.setState({error:!0,errorMessage:r&&r.data?r.data.message:r,loading:!1});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteRow",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.state.list[t],!window.confirm("Are you sure you want to delete data ".concat(a.name," ?"))){e.next=7;break}return n=new g.a,e.next=5,n.deleteRegion(a,this.state.token);case 5:200===(r=e.sent).status&&r.data.success?(alert("".concat(r.data.message)),window.location=window.location.href):r&&r.data&&v.a===r.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):(alert("Error, ".concat(r.data.message," ! Data ").concat(a.name," can not be deleted ! ")),window.location=window.location.href);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"editRow",value:function(e){var t=this.state.list[e];this.props.history.push("edit-region",{data:t})}},{key:"search",value:function(){this.setState({loading:!0,search:!0}),this.setPage(0,"")}},{key:"reset",value:function(){var e=this;this.setState({loading:!0}),S.a.findDOMNode(this.refs.text1).value="",S.a.findDOMNode(this.refs.text2).value="",this.setState({regionCodeFind:"",regionNameFind:""},(function(){setTimeout((function(){e.setPage(0,"")}),1)}))}},{key:"render",value:function(){for(var e=this,t=JSON.parse(this.state.userPrivilege)||[],n=!1,s=!1,r=!1,l=0;l<t.length;l++)"create_reg"===t[l].name+"_"+t[l].vgroup&&(n=!0),"update_reg"===t[l].name+"_"+t[l].vgroup&&(s=!0),"delete_reg"===t[l].name+"_"+t[l].vgroup&&(r=!0);return d.a.createElement("div",{id:"ListRegion"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?d.a.createElement("div",{className:"alert alert-primary",region:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,d.a.createElement("h3",null,"Region List"),d.a.createElement("div",{id:"search-menu"},d.a.createElement("div",{className:"row mb-2"},d.a.createElement("label",{className:"col-2"},"Region Code"),d.a.createElement("input",{className:"col-4 form-input",type:"text",ref:"text1",onChange:function(t){return e.setState({regionCodeFind:t.target.value})},defaultValue:this.state.regionCodeFind})),d.a.createElement("div",{className:"row mb-2"},d.a.createElement("label",{className:"col-2"},"Region Name"),d.a.createElement("input",{className:"col-4 form-input",type:"text",ref:"text2",onChange:function(t){return e.setState({regionNameFind:t.target.value})},defaultValue:this.state.regionNameFind})),d.a.createElement("div",null,d.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.search.bind(this)},"search"),d.a.createElement("button",{type:"button",className:"reset-btn btn btn-secondary btn-sm",onClick:this.reset.bind(this)},"reset"))),this.state.loading?d.a.createElement(h.a,null):d.a.createElement(f.a,{page:this.state.page,totalPage:this.state.totalPage,filter:this.state.filter},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",null,"Code"),d.a.createElement("th",null,"Name"),d.a.createElement("th",null,"Description"),d.a.createElement("th",null,"Division"),s||r?d.a.createElement("th",null,"Actions"):null)),d.a.createElement("tbody",null,this.state.list.map((function(t,n){return d.a.createElement("tr",{key:n},d.a.createElement("td",null,t.code),d.a.createElement("td",null,t.name),d.a.createElement("td",null,t.description),d.a.createElement("td",null,null!==t&&t.divisionCode?t.divisionCode.toUpperCase():""),s||r?d.a.createElement("td",null,r?d.a.createElement("input",{type:"image",alt:"Delete",height:20,className:"mr-3",src:a(67),onClick:function(){return e.deleteRow(n)}}):null,s?d.a.createElement("input",{type:"image",alt:"Edit",height:20,src:a(40),onClick:function(){return e.editRow(n)}}):null):null)})))),n?d.a.createElement(b.b,{to:"create-region",className:"d-flex justify-content-end"},d.a.createElement("button",{className:"button-red"},"ADD REGION")):null)}}]),n}(u.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return f}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(366),p=a(8),h=(a(1122),a(177)),f=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={isSuccess:!1,message:"",token:localStorage.getItem("accessToken")},e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.props.location.state.data||this.props.history.push("region")}},{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new h.a,e.next=3,a.updateRegion(t);case 3:(n=e.sent)&&(n.data.success?(this.setState({isSuccess:!0,message:n.data.message}),this.props.history.push("region",this.state)):n&&n.data&&p.a===n.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0)));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.location.state.data;return d.a.createElement("div",{id:"EditRegion"},d.a.createElement("h3",{className:"mb-4"},"Edit Region"),this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,region:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement(m.a,{mode:"edit",data:e,history:this.props.history,onSubmit:this.submit.bind(this)}))}}]),a}(u.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return f}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(366),p=(a(1124),a(8)),h=a(177),f=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={isSuccess:!1,message:"",token:localStorage.getItem("accessToken")},e}return Object(i.a)(a,[{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new h.a,e.next=3,a.addRegion(t);case 3:(n=e.sent)&&(n.data.success?(this.setState({isSuccess:!0,message:n.data.message}),this.props.history.push("region",this.state)):n&&n.data&&p.a===n.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0)));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return d.a.createElement("div",{id:"CreateCampaignCategory"},d.a.createElement("h3",{className:"mb-4"},"Add New Region"),this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,region:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement(m.a,{mode:"create",history:this.props.history,onSubmit:this.submit.bind(this)}))}}]),a}(u.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return E}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=a(15),h=a.n(p),f=a(19),g=a.n(f),v=a(23),b=a(18),y=(a(1126),a(21),a(251)),S=a(8),E=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),message:"",codeFind:"",nameFind:"",statusFind:""},e.reset=e.reset.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")});var e=g.a.parse(this.props.location.search);this.setPage(+e.page||0,e.filter)}},{key:"componentDidUpdate",value:function(e){if(this.props.location.search!==e.location.search){var t=g.a.parse(this.props.location.search);this.setPage(+t.page||0,t.filter||null)}}},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i,o=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:0,a=o.length>1&&void 0!==o[1]?o[1]:this.state.filter,n=new y.a,e.next=5,n.findLookupByParam(this.state);case 5:(r=e.sent)&&200===r.status&&r.data?(l=r.data,a&&(l=l.filter((function(e){return e.code.toLowerCase().includes(a)}))),i=Math.ceil(l.length/10),l=l.slice(10*t,10*(t+1)),this.setState({page:t,filter:a,list:l,totalPage:i}),this.setState({loading:!1}),window.scrollTo(0,0)):r&&r.data&&S.a===r.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):this.setState({error:!0,errorMessage:r&&r.data?r.data.message:r,loading:!1});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteRow",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.state.list[t],!window.confirm("Are you sure you want to delete : ".concat(a.name," ?"))){e.next=7;break}return n=new y.a,e.next=5,n.deleteLookup(a,this.state);case 5:200===(r=e.sent).status&&r.data.success?window.location=window.location.href:r&&r.data&&S.a===r.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):alert("error, Type : ".concat(a.type," and Code : ").concat(a.code," cannot set to inactive"));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"editRow",value:function(e){var t=this.state.list[e];this.props.history.push("edit-lookup-status",{data:t})}},{key:"search",value:function(){this.setState({loading:!0,search:!0}),this.setPage(0,"")}},{key:"reset",value:function(){var e=this;this.setState({loading:!0}),h.a.findDOMNode(this.refs.form2).value="",h.a.findDOMNode(this.refs.form3).value="",h.a.findDOMNode(this.refs.form4).value="",this.setState({codeFind:"",nameFind:"",statusFind:""},(function(){setTimeout((function(){e.setPage(0,"")}),1)}))}},{key:"render",value:function(){for(var e=this,t=JSON.parse(this.state.userPrivilege)||[],a=!1,n=0;n<t.length;n++)"update_lks"===t[n].name+"_"+t[n].vgroup&&(a=!0);return m.a.createElement("div",{id:"ListLookup"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?m.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,m.a.createElement("h3",null,"Lookup Status List"),m.a.createElement("div",{id:"search-menu"},m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-2"},"Code"),m.a.createElement("input",{className:"col-4 form-input",type:"text",ref:"form2",onChange:function(t){return e.setState({codeFind:t.target.value})},defaultValue:this.state.codeFind})),m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-2"},"Name"),m.a.createElement("input",{className:"col-4 form-input",type:"text",ref:"form3",onChange:function(t){return e.setState({nameFind:t.target.value})},defaultValue:this.state.nameFind})),m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-2"},"Status"),m.a.createElement("input",{className:"col-4 form-input",type:"text",ref:"form4",onChange:function(t){return e.setState({statusFind:t.target.value})},defaultValue:this.state.statusFind})),m.a.createElement("div",null,m.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.search.bind(this)},"search"),m.a.createElement("button",{type:"button",className:"reset-btn btn btn-secondary btn-sm",onClick:this.reset},"reset"))),this.state.loading?m.a.createElement(b.a,null):m.a.createElement(v.a,{page:this.state.page,totalPage:this.state.totalPage,filter:this.state.filter},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,"Type"),m.a.createElement("th",null,"Code"),m.a.createElement("th",null,"Name"),m.a.createElement("th",null,"Status"),a?m.a.createElement("th",null,"Actions"):null)),m.a.createElement("tbody",null,this.state.list.map((function(t,n){return m.a.createElement("tr",{key:n},m.a.createElement("td",null,t.type),m.a.createElement("td",null,t.code),m.a.createElement("td",null,t.name),m.a.createElement("td",null,t.status?t.status.code:null),a?m.a.createElement("td",null,m.a.createElement("input",{type:"button",alt:"Edit",height:20,value:"Detail",onClick:function(){return e.editRow(n)}})):null)})))))}}]),a}(d.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return E}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(19),p=a.n(m),h=a(18),f=a(23),g=(a(1128),a(17)),v=a(251),b=a(8),y=a(15),S=a.n(y),E=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),id:null,code:null,name:null,checked:!1,listSelectedStatusDetail:[],message:"",isSuccess:!1,codeFind:"",nameFind:"",descFind:"",typeFind:""},window.scrollTo(0,0),e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){var e=this.props.location.state.data;this.getListStatusDetailByLookupId(e.id),this.setState({userPrivilege:localStorage.getItem("userPrivilege"),id:e.id,code:e.code,name:e.name,type:e.type});var t=p.a.parse(this.props.location.search);this.setPage(+t.page||0,t.filter,e.id)}},{key:"componentDidUpdate",value:function(e){if(this.props.location.search!==e.location.search){var t=p.a.parse(this.props.location.search);this.setPage(+t.page||0,t.filter||null,this.state.id)}}},{key:"changeChecked",value:function(e,t){var a=this.state.list.slice(),n=this.state.listSelectedStatusDetail.slice();if(e.target.checked)n.push(a.filter((function(e){return e.id===t}))[0]);else{for(var s,r=0;r<n.length;r++)if(n[r].id===t){s=r;break}n.splice(s,1)}this.setState({listSelectedStatusDetail:n})}},{key:"checkSelectedStatusDetail",value:function(e){return!!this.state.listSelectedStatusDetail&&this.state.listSelectedStatusDetail.filter((function(t){return t.id===(e||0)})).length>0}},{key:"onSubmit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new v.a,e.next=3,a.updateStatusLookup(this.state);case 3:(n=e.sent)&&(n.data.success?(this.setState({isSuccess:!0,message:n.data.message}),window.scrollTo(0,0),this.setPage(0,null,localStorage.getItem("id"))):n&&n.data&&b.a===n.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0)));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getListStatusDetailByLookupId",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new v.a,e.next=3,a.getListStatusDetailByLookupId(this.state,t);case 3:(n=e.sent)&&200===n.status&&n.data&&n.data.success?(r=[],r="[]"===JSON.stringify(n.data.data)?[]:n.data.data[0].statusLookup,this.setState({listSelectedStatusDetail:r})):n&&n.data&&b.a===n.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):this.setState({error:!0,errorMessage:n&&n.data?n.data.message:n,loading:!1});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i,o=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:0,a=o.length>1&&void 0!==o[1]?o[1]:this.state.filter,o.length>2?o[2]:void 0,n=new g.a,e.next=6,n.StatusDetailByParam(this.state);case 6:(r=e.sent)&&200===r.status&&r.data?(l=r.data,a&&(l=l.filter((function(e){return e.description.toLowerCase().includes(a)}))),i=Math.ceil(l.length/1e3),l=l.slice(1e3*t,1e3*(t+1)),this.setState({page:t,filter:a,list:l,totalPage:i}),this.setState({loading:!1})):r&&r.data&&b.a===r.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):this.setState({error:!0,errorMessage:r&&r.data?r.data.message:r,loading:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"search",value:function(){this.setState({loading:!0}),this.setPage(0,"")}},{key:"reset",value:function(){var e=this;this.setState({loading:!0}),S.a.findDOMNode(this.refs.text1).value="",S.a.findDOMNode(this.refs.text2).value="",S.a.findDOMNode(this.refs.text3).value="",this.setState({nameFind:"",descFind:"",typeFind:""},(function(){setTimeout((function(){e.setPage(0,"")}),1)}))}},{key:"render",value:function(){for(var e=this,t=JSON.parse(this.state.userPrivilege)||[],a=!1,n=0;n<t.length;n++)"update_lks"===t[n].name+"_"+t[n].vgroup&&(a=!0);return d.a.createElement("div",{id:"EditLookupStatus"},this.state.isSuccess?d.a.createElement("div",{className:"alert alert-primary",status:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message):null,d.a.createElement("h3",null,"Status Lookup Edit"),d.a.createElement("div",{id:"search-menu"},d.a.createElement("div",{className:"row mb-2"},d.a.createElement("label",{className:"col-2"},"Lookup Name"),d.a.createElement("input",{readOnly:!0,className:"col-4 form-input",type:"text",maxLength:"100",onChange:function(t){return e.setState({name:t.target.value})},value:this.state.name||""})),d.a.createElement("div",{className:"row mb-2"},d.a.createElement("label",{className:"col-2"},"Lookup Type"),d.a.createElement("input",{readOnly:!0,name:"title",className:"col-4 form-input",type:"text",maxLength:"100",onClick:this.myClick,value:this.state.type||""})),d.a.createElement("div",{className:"row mb-2"},d.a.createElement("label",{className:"col-2"},"Lookup Code"),d.a.createElement("input",{readOnly:!0,name:"title",className:"col-4 form-input",type:"text",maxLength:"100",onClick:this.myClick,value:this.state.code||""}))),d.a.createElement("div",{id:"search-menu"},d.a.createElement("div",{className:"row mb-2"},d.a.createElement("label",{className:"col-2"},"Status Name"),d.a.createElement("input",{className:"col-4 form-input",type:"text",ref:"text1",onChange:function(t){return e.setState({nameFind:t.target.value})},defaultValue:this.state.nameFind})),d.a.createElement("div",{className:"row mb-2"},d.a.createElement("label",{className:"col-2"},"Status Desc"),d.a.createElement("input",{className:"col-4 form-input",type:"text",ref:"text2",onChange:function(t){return e.setState({descFind:t.target.value})},defaultValue:this.state.descFind})),d.a.createElement("div",{className:"row mb-2"},d.a.createElement("label",{className:"col-2"},"Status Type"),d.a.createElement("input",{className:"col-4 form-input",type:"text",ref:"text3",onChange:function(t){return e.setState({typeFind:t.target.value})},defaultValue:this.state.typeFind})),d.a.createElement("div",null,d.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.search.bind(this)},"search"),d.a.createElement("button",{type:"button",className:"reset-btn btn btn-secondary btn-sm",onClick:this.reset.bind(this)},"reset"))),this.state.loading?d.a.createElement(h.a,null):d.a.createElement(f.a,{page:this.state.page,totalPage:this.state.totalPage,filter:this.state.filter},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",null,"Status Name"),d.a.createElement("th",null,"Status Description"),d.a.createElement("th",null,"Status Type"),a?d.a.createElement("th",null,"Actions"):null)),d.a.createElement("tbody",null,this.state.list.map((function(t,n){return d.a.createElement("tr",{key:t.id},d.a.createElement("td",null," ",t.name," "),d.a.createElement("td",null," ",t.description," "),d.a.createElement("td",null," ",t.type," "),a?d.a.createElement("td",null,d.a.createElement("input",{key:t.id,id:t.name+"_"+t.vgroup+"_"+t.id,name:t.name+"_"+t.vgroup+"_"+t.id,type:"checkbox",alt:"Edit",height:20,checked:e.checkSelectedStatusDetail(t.id),onChange:function(a){return e.changeChecked(a,t.id)}})):null)})))),d.a.createElement("br",null),d.a.createElement("button",{className:"button-red-small",type:"button",onClick:this.onSubmit.bind(this)},"SAVE"))}}]),a}(u.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return w}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=a(15),h=a.n(p),f=a(13),g=a(19),v=a.n(g),b=a(18),y=a(23),S=(a(1130),a(21),a(367)),E=a(8),w=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),monthFind:"",yearFind:"",salesCodeFind:""},e.reset=e.reset.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")});var e=v.a.parse(this.props.location.search);this.setPage(+e.page||0,e.filter)}},{key:"componentDidUpdate",value:function(e){if(this.props.location.search!==e.location.search){var t=v.a.parse(this.props.location.search);this.setPage(+t.page||0,t.filter||null)}}},{key:"clearSession",value:function(){alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")}},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i,o,c=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:0,a=c.length>1&&void 0!==c[1]?c[1]:this.state.filter,n=c.length>2&&void 0!==c[2]?c[2]:10,r=new S.a,e.next=6,r.findSalesGamificationByParam(this.state,t,n);case 6:(l=e.sent)&&200===l.status&&l.data?(i=l.data.data.salesGamificationList,o=Math.ceil(l.data.data.count/10),this.setState({page:t,filter:a,list:i,totalPage:o}),this.setState({loading:!1})):l&&l.data&&E.a===l.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):this.setState({error:!0,errorMessage:l&&l.data?l.data.message:l,loading:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"search",value:function(){this.setState({loading:!0}),this.setPage(0,"")}},{key:"reset",value:function(){var e=this;this.setState({loading:!0}),h.a.findDOMNode(this.refs.form1).value="",h.a.findDOMNode(this.refs.form2).value="",this.setState({yearFind:"",monthFind:"",salesCodeFind:""},(function(){setTimeout((function(){e.setPage(0,"")}),1)}))}},{key:"render",value:function(){for(var e=this,t=JSON.parse(this.state.userPrivilege)||[],a=!1,n=0;n<t.length;n++)"upload_sales_gamification"===t[n].name+"_"+t[n].vgroup&&(a=!0);return m.a.createElement("div",{id:"ListIncentiveDSR"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?m.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,m.a.createElement("h3",null,"Incentive DSR"),m.a.createElement("div",{id:"search-menu"},m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-2"},"Bulan"),m.a.createElement("input",{className:"col-4 form-input",ref:"form1",type:"text",onChange:function(t){return e.setState({monthFind:t.target.value})},defaultValue:this.state.monthFind})),m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-2"},"Tahun"),m.a.createElement("input",{className:"col-4 form-input",ref:"form2",type:"text",onChange:function(t){return e.setState({yearFind:t.target.value})},defaultValue:this.state.yearFind})),m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-2"},"Sales Code"),m.a.createElement("input",{className:"col-4 form-input",ref:"form2",type:"text",onChange:function(t){return e.setState({salesCodeFind:t.target.value})},defaultValue:this.state.salesCodeFind})),m.a.createElement("div",null,m.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.search.bind(this)},"search"),m.a.createElement("button",{type:"button",className:"reset-btn btn btn-secondary btn-sm",onClick:this.reset},"reset"))),this.state.loading?m.a.createElement(b.a,null):m.a.createElement(y.a,{page:this.state.page,totalPage:this.state.totalPage,filter:this.state.filter},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,"Bulan"),m.a.createElement("th",null,"Tahun"),m.a.createElement("th",null,"Incentive"),m.a.createElement("th",null,"Sales code"),m.a.createElement("th",null,"Uploaded by"),m.a.createElement("th",null,"Datetime"))),m.a.createElement("tbody",null,this.state.list.map((function(e,t){return m.a.createElement("tr",{key:t},m.a.createElement("td",null,e.month),m.a.createElement("td",null,e.year),m.a.createElement("td",null,e.incentive),m.a.createElement("td",null,e.salesCode),m.a.createElement("td",null,e.updatedBy),m.a.createElement("td",null,e.createdAt))})))),a?m.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},m.a.createElement(f.b,{to:"incentive-bulk-upload"},m.a.createElement("button",{className:"button-red-small"},"UPLOAD INCENTIVE"))):null)}}]),a}(d.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return g}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=(a(590),a(367)),p=a(18),h=a(8);function f(e){return d.a.createElement("div",{id:"notes",className:"box-area "+e.className},d.a.createElement("h4",{className:"mb-3"},"Catatan :"),d.a.createElement("div",{className:"col-8"},d.a.createElement("div",null,"1. Pastikan File dengan Format  CSV dan menggunakan separator koma"),d.a.createElement("div",null,"2. Pastikan Sales Code terdaftar, jika tidak maka upload akan gagal")))}var g=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={file:null,error:"",alertState:"alert alert-primary",loading:!1,token:localStorage.getItem("accessToken")},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"validate",value:function(e){return!!e.file||(this.setState({error:"Please select file to upload!",alertState:"alert alert-danger"}),!1)}},{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validate(this.state)){e.next=2;break}return e.abrupt("return");case 2:return this.setState({loading:!0}),t=new m.a,e.next=6,t.bulkUploadSalesGamification(this.state);case 6:(a=e.sent)&&200===a.status&&a.data.success?this.setState({error:a.data.message,alertState:"alert alert-primary",loading:!1}):a&&a.data&&h.a===a.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):this.setState({error:a&&a.data.message?a.data.message:"Error upload Incentive, Please contact Administrator",alertState:"alert alert-danger",loading:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return d.a.createElement("div",{id:"PhotoBulkUpload"},this.state.error?d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.error):null,d.a.createElement("h3",{className:"mb-4"},"Upload Incentive"),this.state.loading?d.a.createElement(p.a,null):d.a.createElement("div",{className:"row mb-3 box-area"},d.a.createElement("input",{type:"file",accept:".csv",onChange:function(t){return e.setState({file:t.target.files[0]})}}),d.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.submit.bind(this)},"submit")),d.a.createElement("div",{className:"row mb-3"},d.a.createElement(f,{className:"col mr-1"})))}}]),a}(u.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return w}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=a(15),h=a.n(p),f=a(13),g=a(24),v=a.n(g),b=(a(431),a(21),a(68)),y=a(17),S=a(8),E=a(65),w=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).setValueSearch=function(t){e.setState({search_key:t})},e.state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),totalRows:0,perPage:10,page:1,totalPage:0,sort_by:"parent_cif",sort:"asc",typeFind:"rmwbData",search_key:""},e.reset=e.reset.bind(Object(o.a)(e)),e.handlePageChange=e.handlePageChange.bind(Object(o.a)(e)),e.handleChange=e.handleChange.bind(Object(o.a)(e)),e.handlePerRowsChange=e.handlePerRowsChange.bind(Object(o.a)(e)),e.handleSort=e.handleSort.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(n,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),this.getdataMaster(),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage)}},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=!0,n=new y.a,e.next=5,n.findStatusByParam(this.state);case 5:(r=e.sent)&&200===r.status&&r.data?this.setState({listDataStatus:r.data}):t=!1,t||this.clearSession(),a||this.errorConectionToBe();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadOptions",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var r,l,i,o,c,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.page,l=new b.a,e.next=4,l.findSelectClient(r,10,t);case 4:for(i=e.sent,o=[],c=0;c<i.data.data.length;c++)o.push({value:i.data.data[c].client_cif,label:i.data.data[c].name});return u=r<i.data.totalPage,e.abrupt("return",{options:o,hasMore:u,additional:{page:r+1}});case 9:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r){var l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=!0,this.setState({loading:!0}),i=new b.a,e.next=5,i.findSupplierByParam(t,a,n,r,this.state);case 5:(o=e.sent)&&200===o.status&&o.data&&o.data.data.length>0?(this.setState({list:o.data.data}),this.setState({totalRows:o.data.total_result}),this.setState({totalPage:o.data.total_page}),this.setState({loading:!1})):(o&&o.data&&S.a===o.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):this.setState({error:!0,errorMessage:o&&o.data?o.data.message:o,loading:!1}),this.setState({list:[]}),this.setState({totalRows:0}),this.setState({totalPage:0}),this.setState({loading:!1})),l||this.errorConectionToBe();case 8:case"end":return e.stop()}}),e,this)})));return function(t,a,n,s){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleSort",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({sort:a});case 2:return e.next=4,this.setState({sort_by:t.selector});case 4:return e.next=6,this.setPage(this.state.page,a,t.selector,this.state.perPage);case 6:document.getElementById("column-"+t.selector).classList.add("sorted");case 8:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"handlePageChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({page:t}),this.setPage(t,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handlePerRowsChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({perPage:t}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"editRow",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t?this.props.history.push("rmwb-edit-supplier",{data:t}):alert("Some thing wrong with selected data pelase refresh your browser or contact admin!")||window.location.reload();case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteRow",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to delete ".concat(t.supplier_name+" ?"))){e.next=6;break}return a=new b.a,e.next=4,a.deleteSupplier(t);case 4:200===(n=e.sent).status&&"Success"===n.data.message?(alert("data ".concat(t.supplier_name," waiting approve to delete")),window.location=window.location.href):n&&n.data&&S.a===n.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):alert("error, data ".concat(t.supplier_name," cannot deleted"));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"search",value:function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({loading:!0,search:!0}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"reset",value:function(){var e=this;this.setState({loading:!0}),h.a.findDOMNode(this.refs.search_key).value="",this.setState({search_key:""},(function(){setTimeout((function(){e.setPage(e.state.page,e.state.sort,e.state.sort_by,e.state.perPage)}),100)}))}},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"render",value:function(){for(var e=this,t=JSON.parse(this.state.userPrivilege)||[],n=!1,s=!1,r=!1,l=0;l<t.length;l++)"create_rmwb_supplier"===t[l].name+"_"+t[l].vgroup&&(n=!0),"delete_rmwb_supplier"===t[l].name+"_"+t[l].vgroup&&(s=!0),"upload_rmwb_supplier"===t[l].name+"_"+t[l].vgroup&&(r=!0);var i=[{name:"Parent CIF",selector:"parent_cif",sortable:!0,width:"200px"},{name:"Parent Name",selector:"parent_name",sortable:!0,width:"250px"},{name:"supplier Cif",selector:"supplier_cif",sortable:!0,width:"200px"},{name:"Supplier Name",selector:"supplier_name",sortable:!0,width:"250px"},{name:"Product",selector:"supplier_product_draft",sortable:!0},{name:"COGS",selector:"cogs_draft",sortable:!0,width:"70px"},{name:"Year of Relationship",selector:"year_of_relationship_draft",sortable:!0},{name:"Term Days",selector:"term_days_draft",sortable:!0},{name:"Currency",selector:"currency_draft",sortable:!0},{name:"Status",selector:"status",sortable:!0},{name:"Action",sortable:!1,cell:function(t){return m.a.createElement("div",null,s&&"requestDelete"!==t.status?m.a.createElement("input",{type:"image",alt:"Delete",height:20,className:"mr-3",value:t.supplier_cif,src:a(67),onClick:function(a){return e.deleteRow(t)}}):null,m.a.createElement("input",{type:"image",alt:"Edit",height:20,value:t.supplier_cif,src:a(40),onClick:function(a){return e.editRow(t)}}))},button:!0}];return m.a.createElement("div",{id:"ListUser"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?m.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,m.a.createElement("h3",null,"Supplier List"),m.a.createElement("div",{id:"search-menu"},m.a.createElement("table",{style:{width:"100%"}},m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-2"},"Search Parent CIF"),m.a.createElement(E.a,{className:"col-6 p-0",ref:"search_key",value:this.state.search_key,loadOptions:this.loadOptions,onChange:this.setValueSearch,debounceTimeout:300,additional:{page:1}})))))),m.a.createElement("div",null,m.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.search.bind(this)},"search"),m.a.createElement("button",{type:"button",className:"reset-btn btn btn-secondary btn-sm",onClick:this.reset},"reset"))),m.a.createElement(v.a,{id:"tableData",className:"mb-4",defaultSortField:this.state.sort_by,columns:i,progressPending:this.state.loading,pagination:!0,paginationServer:!0,sortServer:!0,paginationTotalRows:this.state.totalRows,onChangeRowsPerPage:this.handlePerRowsChange,onChangePage:this.handlePageChange,onSort:this.handleSort,data:this.state.list}),m.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},n?m.a.createElement(f.b,{to:"rmwb-create-supplier",className:"d-flex justify-content-end mr-2"},m.a.createElement("button",{className:"button-red"},"CREATE NEW SUPPLIER")):null,r?m.a.createElement(f.b,{to:"rmwb-list-upload-supplier",className:"justify-content-end"},m.a.createElement("button",{className:"button-red"},"BULK UPLOAD SUPPLIER")):null),this.state.loading?m.a.createElement("div",{className:"loading-overlay"},m.a.createElement("div",{className:"loader"})):null)}}]),n}(d.Component)},,,,,,,,function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return f}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(369),p=(a(591),a(8)),h=a(68),f=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={isSuccess:!1,message:"",token:localStorage.getItem("accessToken"),htmlContent:""},e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.props.location.state.data||this.props.history.push("rmwb-supplier")}},{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=[],n=new h.a,!t.submitOnly){e.next=9;break}return t.status="drafted",e.next=6,n.updateSupplier(t);case 6:a=e.sent,e.next=42;break;case 9:if(!t.submitAndSave){e.next=16;break}return t.status="submitted",e.next=13,n.updateSupplier(t);case 13:a=e.sent,e.next=42;break;case 16:if(!t.submitApprove){e.next=23;break}return t.status="approved",e.next=20,n.approveSupplier(t);case 20:a=e.sent,e.next=42;break;case 23:if(!t.submitReject){e.next=30;break}return t.status="rejected",e.next=27,n.rejectSupplier(t);case 27:a=e.sent,e.next=42;break;case 30:if(!t.rejectDelete){e.next=37;break}return t.status="rejected",e.next=34,n.rejectSupplier(t);case 34:a=e.sent,e.next=42;break;case 37:if(!t.approveDelete){e.next=42;break}return t.status="deleted",e.next=41,n.approveSupplier(t);case 41:a=e.sent;case 42:a&&(200===a.status&&"Success"===a.data.message?(this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-supplier",this.state)):a&&a.data&&p.a===a.data.data?(alert("Save Data Failed, Please try again !"),this.setState({loading:!1}),window.location.reload()):(this.setState({isSuccess:!1,message:"Save Data Failed",alertState:"alert alert-danger"}),window.scrollTo(0,0)));case 43:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.location.state.data;return d.a.createElement("div",{id:"EditSupplier"},this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement("h3",{className:"mb-4"},"Edit Supplier"),d.a.createElement(m.a,{mode:"edit",data:e,history:this.props.history,onSubmit:this.submit.bind(this),onSubmitAndSave:this.submit.bind(this)}))}}]),a}(u.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return f}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(369),p=a(8),h=(a(1143),a(68)),f=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={isSuccess:!1,message:"",is_deleted_draft:"",token:localStorage.getItem("accessToken")},e}return Object(i.a)(a,[{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.submitOnly?t.status="drafted":t.status="submitted",a=new h.a,e.next=4,a.addSupplier(t);case 4:(n=e.sent)&&(200===n.status&&"Success"===n.data.message?(this.setState({isSuccess:!0,message:"Data saved"}),this.props.history.push("rmwb-supplier",this.state)):n&&n.data&&p.a===n.data.data?(alert("Save Data Failed, Please try again !"),this.setState({loading:!1}),window.location.reload()):(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0)));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return d.a.createElement("div",{id:"CreateSupplier"},this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement("h3",{className:"mb-4"},"Add New Supplier"),d.a.createElement(m.a,{history:this.props.history,onSubmit:this.submit.bind(this),onSubmitAndSave:this.submit.bind(this)}))}}]),a}(u.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return N}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=a(15),h=a.n(p),f=a(13),g=a(24),v=a.n(g),b=a(27),y=a(16),S=a.n(y),E=(a(431),a(21),a(68)),w=a(17),k=a(8),N=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).setValueSearch=function(t){e.setState({search_key:t})},e.state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),totalRows:0,perPage:10,page:1,totalPage:0,sort_by:"file_name",sort:"asc",typeFind:"rmwbData",search_key:"",filterDataInsertAt:"",filterDataStatus:"",isChecker:!1},e.reset=e.reset.bind(Object(o.a)(e)),e.handlePageChange=e.handlePageChange.bind(Object(o.a)(e)),e.handleChange=e.handleChange.bind(Object(o.a)(e)),e.handlePerRowsChange=e.handlePerRowsChange.bind(Object(o.a)(e)),e.handleSort=e.handleSort.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(n,[{key:"componentWillMount",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),t=JSON.parse(localStorage.getItem("userPrivilege"))||[],a=0;a<t.length;a++)"approval_rmwb_supplier"===t[a].name+"_"+t[a].vgroup&&this.setState({isChecker:!0});return e.next=5,this.setState({loggedUser:localStorage.getItem("userNip")});case 5:this.getdataMaster(),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=!0,n=new w.a,e.next=5,n.findStatusByParam(this.state);case 5:(r=e.sent)&&200===r.status&&r.data?this.setState({listDataStatus:r.data}):t=!1,t||this.clearSession(),a||this.errorConectionToBe();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadOptions",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var r,l,i,o,c,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.page,l=new E.a,e.next=4,l.findSelectClient(r,10,t);case 4:for(i=e.sent,o=[],c=0;c<i.data.data.length;c++)o.push({value:i.data.data[c].client_cif,label:i.data.data[c].name});return u=r<i.data.totalPage,e.abrupt("return",{options:o,hasMore:u,additional:{page:r+1}});case 9:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r){var l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=!0,this.setState({loading:!0}),i=new E.a,e.next=5,i.findUploadSupplierByParam(t,a,n,r,this.state);case 5:(o=e.sent)&&200===o.status&&o.data&&o.data.data.length>0?(this.setState({list:o.data.data}),this.setState({totalRows:o.data.total_result}),this.setState({totalPage:o.data.total_page}),this.setState({loading:!1})):(o&&o.data&&k.a===o.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):this.setState({error:!0,errorMessage:o&&o.data?o.data.message:o,loading:!1}),this.setState({list:[]}),this.setState({totalRows:0}),this.setState({totalPage:0}),this.setState({loading:!1})),l||this.errorConectionToBe();case 8:case"end":return e.stop()}}),e,this)})));return function(t,a,n,s){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleSort",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({sort:a});case 2:return e.next=4,this.setState({sort_by:t.selector});case 4:return e.next=6,this.setPage(this.state.page,a,t.selector,this.state.perPage);case 6:document.getElementById("column-"+t.selector).classList.add("sorted");case 8:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"handlePageChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({page:t}),this.setPage(t,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handlePerRowsChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({perPage:t}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"editRow",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t?this.props.history.push("rmwb-detail-upload-supplier",{data:t}):alert("Some thing wrong with selected data pelase refresh your browser or contact admin!")||window.location.reload();case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"donwloadTemplate",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new E.a,e.next=3,t.donwloadTemplate();case 3:(a=e.sent)?((n=document.createElement("a")).href=a,n.target="_blank",document.body.appendChild(n),n.click(),document.body.removeChild(n)):alert("Error cant download data");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteRow",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to delete ".concat(t.supplier_name+" ?"))){e.next=6;break}return a=new E.a,e.next=4,a.deleteSupplier(t);case 4:200===(n=e.sent).status&&"Success"===n.data.message?(alert("data ".concat(t.supplier_name," waiting approve to delete")),window.location=window.location.href):n&&n.data&&k.a===n.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):alert("error, data ".concat(t.supplier_name," cannot deleted"));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"search",value:function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({loading:!0,search:!0}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"reset",value:function(){var e=this;h.a.findDOMNode(this.refs.search_status).value="",h.a.findDOMNode(this.refs.insert_date).value="",this.setState({search_status:"",insert_date:""},(function(){setTimeout((function(){e.setPage(e.state.page,e.state.sort,e.state.sort_by,e.state.perPage)}),100)}))}},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"render",value:function(){for(var e=this,t=this.state.insert_date?S()(this.state.insert_date,"YYYY-MM-DDTHH:mm:ss").toDate():null,n=JSON.parse(this.state.userPrivilege)||[],s=!1,r=0;r<n.length;r++)"upload_rmwb_supplier"===n[r].name+"_"+n[r].vgroup&&(s=!0);var l=[{name:"File Name",selector:"file_name",sortable:!0},{name:"Insert By",selector:"insert_by",sortable:!0},{name:"Insert At",selector:"insert_at",sortable:!0},{name:"Status",selector:"status",sortable:!0},{name:"Action",sortable:!1,cell:function(t){return m.a.createElement("div",null,m.a.createElement("input",{type:"image",alt:"Edit",height:20,value:t.supplier_cif,src:a(40),onClick:function(a){return e.editRow(t)}}))},button:!0}];return m.a.createElement("div",{id:"ListUser"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?m.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,m.a.createElement("h3",null,"List Upload Data Supplier"),m.a.createElement("div",{id:"search-menu"},m.a.createElement("table",{style:{width:"100%"}},m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-2"},"Status File"),m.a.createElement("select",{ref:"search_status",className:"form-input col-4",onChange:function(t){return e.setState({search_status:t.target.value})}},m.a.createElement("option",{value:""},"Please select status!"),m.a.createElement("option",{value:"submitted"},"Submitted"),m.a.createElement("option",{value:"rejected"},"Rejected"))))),m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-2"},"Insert Date"),m.a.createElement("div",{className:"col-4 p-0"},m.a.createElement(b.a,{ref:"insert_date",className:"form-input",dateFormat:"yyyy-MM-dd",selected:t,onChange:function(t){return e.setState({insert_date:t})}}))))))),m.a.createElement("div",null,m.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.search.bind(this)},"search"),m.a.createElement("button",{type:"button",className:"reset-btn btn btn-secondary btn-sm",onClick:this.reset},"reset"))),m.a.createElement(v.a,{id:"tableData",className:"mb-4",defaultSortField:this.state.sort_by,columns:l,progressPending:this.state.loading,pagination:!0,paginationServer:!0,sortServer:!0,paginationTotalRows:this.state.totalRows,onChangeRowsPerPage:this.handlePerRowsChange,onChangePage:this.handlePageChange,onSort:this.handleSort,data:this.state.list}),m.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},m.a.createElement("div",{className:"d-flex justify-content-end my-4 mr-3"},m.a.createElement("button",{className:"button-red",onClick:this.donwloadTemplate},m.a.createElement("img",{src:"./../../../assets/images/export.png",alt:""}),"Download Template File")),s?m.a.createElement(f.b,{to:"rmwb-upload-supplier",className:"d-flex justify-content-end my-4"},m.a.createElement("button",{className:"button-red"},"Upload New Data Supplier")):null),this.state.loading?m.a.createElement("div",{className:"loading-overlay"},m.a.createElement("div",{className:"loader"})):null)}}]),n}(d.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return A}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=a(15),h=a.n(p),f=a(13),g=a(24),v=a.n(g),b=a(30),y=a.n(b),S=(a(431),a(21),a(68)),E=a(17),w=a(8),k=a(65),N=a(31),C=a.n(N),A=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).setValueSearch=function(t){e.setState({search_key:t})},e.state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),totalRows:0,perPage:10,page:1,totalPage:0,sort_by:"parent_cif",sort:"asc",typeFind:"rmwbData",search_key:""},e.reset=e.reset.bind(Object(o.a)(e)),e.handlePageChange=e.handlePageChange.bind(Object(o.a)(e)),e.handleChange=e.handleChange.bind(Object(o.a)(e)),e.handlePerRowsChange=e.handlePerRowsChange.bind(Object(o.a)(e)),e.handleSort=e.handleSort.bind(Object(o.a)(e)),e.handleOpenModal=e.handleOpenModal.bind(Object(o.a)(e)),e.handleCloseModal=e.handleCloseModal.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=this.props.location.state.data)||this.props.history.push("rmwb-rmwb-list-upload-supplier"),this.setState({selectedFile:t}),this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),e.next=6,this.setState({loggedUser:localStorage.getItem("userNip")});case 6:this.getdataMaster(),this.getListDataStatus(t.status),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage),this.validator=new C.a({autoForceUpdate:this,element:function(e){return m.a.createElement("div",{className:"row col-12 validator-error-message"},m.a.createElement("div",{className:"col-4"}),m.a.createElement("div",{className:"col-8"},e))}});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleOpenModal",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({showModal:!0,modalName:t});case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleCloseModal",value:function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({showModal:!1});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=!0,n=new E.a,e.next=5,n.findStatusByParam(this.state);case 5:(r=e.sent)&&200===r.status&&r.data?this.setState({listDataStatus:r.data}):t=!1,t||this.clearSession(),a||this.errorConectionToBe();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadOptions",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var r,l,i,o,c,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.page,l=new S.a,e.next=4,l.findSelectClient(r,10,t);case 4:for(i=e.sent,o=[],c=0;c<i.data.data.length;c++)o.push({value:i.data.data[c].client_cif,label:i.data.data[c].name});return u=r<i.data.totalPage,e.abrupt("return",{options:o,hasMore:u,additional:{page:r+1}});case 9:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r){var l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=!0,this.setState({loading:!0}),i=new S.a,e.next=5,i.findUploadDetailSupplierByParam(t,a,n,r,this.state);case 5:(o=e.sent)&&200===o.status&&o.data&&o.data.data.length>0?(this.setState({list:o.data.data}),this.setState({totalRows:o.data.total_result}),this.setState({totalPage:o.data.total_page}),this.setState({loading:!1})):(o&&o.data&&w.a===o.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):this.setState({error:!0,errorMessage:o&&o.data?o.data.message:o,loading:!1}),this.setState({list:[]}),this.setState({totalRows:0}),this.setState({totalPage:0}),this.setState({loading:!1})),l||this.errorConectionToBe();case 8:case"end":return e.stop()}}),e,this)})));return function(t,a,n,s){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleSort",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({sort:a});case 2:return e.next=4,this.setState({sort_by:t.selector});case 4:return e.next=6,this.setPage(this.state.page,a,t.selector,this.state.perPage);case 6:document.getElementById("column-"+t.selector).classList.add("sorted");case 8:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"handlePageChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({page:t}),this.setPage(t,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handlePerRowsChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({perPage:t}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"editRow",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t?this.props.history.push("rmwb-detail-upload-supplier",{data:t}):alert("Some thing wrong with selected data pelase refresh your browser or contact admin!")||window.location.reload();case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getListDataStatus",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!0,n=new E.a,e.next=4,n.findStatusByParam(this.state);case 4:(r=e.sent)&&200===r.status&&r.data.length>0?(this.setState({listDataStatus:r.data}),l=r.data.filter((function(e){return e.code===t})),this.setState({currentDataStatus:l[0]})):(this.setState({listDataStatus:""}),this.setState({currentDataStatus:""}),r&&r.data&&w.a===r.data.data?a=!1:this.setState({listDataStatus:""})),a||this.clearSession();case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"donwloadTemplate",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new S.a,e.next=3,t.donwloadTemplate();case 3:(a=e.sent)?((n=document.createElement("a")).href=a,n.target="_blank",document.body.appendChild(n),n.click(),document.body.removeChild(n)):alert("Error cant download data");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteRow",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to delete ".concat(t.supplier_name+" ?"))){e.next=6;break}return a=new S.a,e.next=4,a.deleteSupplier(t);case 4:200===(n=e.sent).status&&"Success"===n.data.message?(alert("data ".concat(t.supplier_name," waiting approve to delete")),window.location=window.location.href):n&&n.data&&w.a===n.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):alert("error, data ".concat(t.supplier_name," cannot deleted"));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"search",value:function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({loading:!0,search:!0}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"reset",value:function(){var e=this;this.setState({loading:!0}),h.a.findDOMNode(this.refs.search_key).value="",this.setState({search_key:""},(function(){setTimeout((function(){e.setPage(e.state.page,e.state.sort,e.state.sort_by,e.state.perPage)}),100)}))}},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"onSubmitApprove",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),t=new S.a,(a=this.state).status="approved",e.next=6,t.approveFileSupplier(a);case 6:(n=e.sent)&&(200===n.status&&"Success"===n.data.message?(this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-list-upload-supplier",this.state),this.setState({loading:!1})):n&&n.data&&w.a===n.data.data?(alert("Save Data Failed, Please try again !"),this.setState({loading:!1}),window.location.reload()):(this.setState({isSuccess:!1,message:"Save Data Failed",alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1})));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onSubmitReject",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({loading:!0}),t=new S.a,(a=this.state).status="rejected",this.validator.allValid()){e.next=8;break}return this.validator.showMessages(),this.setState({loading:!1}),e.abrupt("return");case 8:return e.next=10,t.rejectFileSupplier(a);case 10:(n=e.sent)&&(200===n.status&&"Success"===n.data.message?(this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-list-upload-supplier",this.state),this.setState({loading:!1})):n&&n.data&&w.a===n.data.data?(alert("Save Data Failed, Please try again !"),this.setState({loading:!1}),window.location.reload()):(this.setState({isSuccess:!1,message:"Save Data Failed",alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1})));case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){for(var e=this,t=JSON.parse(this.state.userPrivilege)||[],a=!1,n=0;n<t.length;n++)"approval_rmwb_supplier"===t[n].name+"_"+t[n].vgroup&&(a=!0);var s=this.state.currentDataStatus?this.state.currentDataStatus:[],r=!1,l=!1;s&&("rmwbData_submitted"===s.type+"_"+s.code&&(r=!0),"rmwbData_rejected"===s.type+"_"+s.code&&(l=!0));return m.a.createElement("div",{id:"ListUser"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?m.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-6"},m.a.createElement("h3",null,"Detail Upload Data Supplier")),m.a.createElement("div",{className:"col-6"},m.a.createElement(f.b,{to:"rmwb-list-upload-supplier",className:"d-flex justify-content-end"},m.a.createElement("button",{className:"btn btn-info"},"Back to Upload List")))),m.a.createElement("p",null,"File name : ",this.state.selectedFile.file_name," || Uploaded by : ",this.state.selectedFile.insert_by," || At : ",this.state.selectedFile.insert_at," || Status : ",this.state.selectedFile.status),l?m.a.createElement("p",null,"Remarks : ",this.state.selectedFile.remarks):null,m.a.createElement("div",{id:"search-menu"},m.a.createElement("table",{style:{width:"100%"}},m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-2"},"Search Parent CIF"),m.a.createElement(k.a,{className:"col-6",ref:"search_key",value:this.state.search_key,loadOptions:this.loadOptions,onChange:this.setValueSearch,debounceTimeout:300,additional:{page:1}})))))),m.a.createElement("div",null,m.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.search.bind(this)},"search"),m.a.createElement("button",{type:"button",className:"reset-btn btn btn-secondary btn-sm",onClick:this.reset},"reset"))),m.a.createElement(v.a,{id:"tableData",className:"mb-4",defaultSortField:this.state.sort_by,columns:[{name:"Parent CIF",selector:"parent_cif",sortable:!0,width:"200px"},{name:"Parent Name",selector:"parent_name",sortable:!0,width:"250px"},{name:"Supplier Cif",selector:"supplier_cif",sortable:!0,width:"200px"},{name:"Supplier Name",selector:"supplier_name",sortable:!0,width:"250px"},{name:"Product",selector:"supplier_product_draft",sortable:!0},{name:"Cogs",selector:"cogs_draft",sortable:!0,width:"70px"},{name:"Year Of Relationship",selector:"year_of_relationship_draft",sortable:!0},{name:"Term Days",selector:"term_days_draft",sortable:!0,width:"60px"},{name:"Currency",selector:"currency_draft",sortable:!0,width:"100px"}],progressPending:this.state.loading,pagination:!0,paginationServer:!0,sortServer:!0,paginationTotalRows:this.state.totalRows,onChangeRowsPerPage:this.handlePerRowsChange,onChangePage:this.handlePageChange,onSort:this.handleSort,data:this.state.list}),m.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},a&&r?m.a.createElement("div",null,m.a.createElement("button",{className:"button-red mr-2",onClick:function(){return e.handleOpenModal("reject-data")}},"Reject"),m.a.createElement("button",{className:"button-green",onClick:function(){return e.handleOpenModal("approve-data")}},"Approve")):null),this.state.loading?m.a.createElement("div",{className:"loading-overlay"},m.a.createElement("div",{className:"loader"})):null,m.a.createElement(y.a,{closeTimeoutMS:300,isOpen:this.state.showModal,contentLabel:"onRequestClose Example",onRequestClose:this.handleCloseModal,className:"Modal",overlayClassName:"Overlay"},"approve-data"===this.state.modalName?m.a.createElement("div",null,m.a.createElement("div",{className:"row mx-0 justify-content-center"},m.a.createElement("h4",null,"Are You Sure To Approve This Data ?")),m.a.createElement("div",{className:"d-flex justify-content-center mx-2 mt-5"},m.a.createElement("button",{className:"button-red mr-5",onClick:this.handleCloseModal},"Cancel"),m.a.createElement("button",{className:"button-red",onClick:this.onSubmitApprove.bind(this)},"Approve"))):null,"reject-data"===this.state.modalName?m.a.createElement("div",null,m.a.createElement("div",{className:"row mx-0 justify-content-center"},m.a.createElement("h4",{className:"mb-4"},"Please fill Remark to data Maker !"),this.state.error?m.a.createElement("div",{className:"col-12 ".concat(this.state.alertState),role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.errorMessage):null,m.a.createElement("textarea",{className:"col-12 form-input",type:"text",onChange:function(t){return e.setState({remarks:t.target.value})},value:this.state.remarks||"",placeholder:"Remarks",onBlur:function(){return e.validator.showMessageFor("remarks")}}),this.validator.message("remarks",this.state.remarks,"required")),m.a.createElement("div",{className:"d-flex justify-content-center mx-2 mt-4"},m.a.createElement("button",{className:"button-red mr-5",onClick:this.handleCloseModal},"Cancel"),m.a.createElement("button",{className:"button-red",onClick:this.onSubmitReject.bind(this)},"Reject"))):null))}}]),a}(d.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return b}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=(a(591),a(13)),p=a(8),h=a(68),f=a(17),g=a(31),v=a.n(g),b=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).onChangeHandler=function(t){e.setState({selectedFile:t.target.files[0],loaded:0})},e.state={isSuccess:!1,message:"",token:localStorage.getItem("accessToken"),selectedFile:null},e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),this.setState({loggedUser:localStorage.getItem("userNip")}),this.getdataMaster(),this.validator=new v.a({autoForceUpdate:this,element:function(e){return d.a.createElement("div",{className:"row col-12 validator-error-message"},d.a.createElement("div",{className:"col-2"}),d.a.createElement("div",{className:"col-10"},e))}})}},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=!0,n=new f.a,e.next=5,n.findStatusByParam(this.state);case 5:(r=e.sent)&&200===r.status&&r.data?this.setState({listDataStatus:r.data}):t=!1,t||this.clearSession(),a||this.errorConectionToBe();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"errorConectionToBe",value:function(){alert("Connection to Server Octobench interupted!\nPlease check your conection or contact administrator!")}},{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=new h.a,this.validator.allValid()){e.next=4;break}return this.validator.showMessages(),e.abrupt("return");case 4:return(a=new FormData).append("file",this.state.selectedFile),e.next=8,t.uploadFileSupplier(a,this.state);case 8:(n=e.sent)&&(200===n.status&&"Succeed"===n.data.message?(this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-list-upload-supplier",this.state)):n&&n.data&&p.a===n.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):(this.setState({isSuccess:!1,message:"Save Data Failed, "+n.data.data.remarks,alertState:"alert alert-danger"}),window.scrollTo(0,0)));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return d.a.createElement("div",{id:"EditSupplier"},this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-6"},d.a.createElement("h3",{className:"mb-4"},"Upload New Data Supplier")),d.a.createElement("div",{className:"col-6"},d.a.createElement(m.b,{to:"rmwb-list-upload-supplier",className:"d-flex justify-content-end"},d.a.createElement("button",{className:"btn btn-info"},"Back to Upload List")))),d.a.createElement("div",{className:"form-box-area mb-4"},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"row col-12"},d.a.createElement("h4",{className:"mb-4 col-6"},"Please select file to be upload")),d.a.createElement("div",{className:"row mb-3 col-12"},d.a.createElement("label",{className:"col-2"},"New File Supplier ",d.a.createElement("span",{className:"text-danger"},"*")),d.a.createElement("input",{className:"col-6 px-0",type:"file",id:"upload-new-file",onChange:function(t){return e.setState({selectedFile:t.target.files[0],loaded:0})},onBlur:function(){return e.validator.showMessageFor("file")}}),d.a.createElement("div",{className:"col-4 d-flex justify-content-end"},d.a.createElement("button",{type:"button",className:"button-red",onClick:function(t){return e.submit()}},"Upload")),this.validator.message("file",this.state.selectedFile,"required")))),this.state.loading?d.a.createElement("div",{className:"loading-overlay"},d.a.createElement("div",{className:"loader"})):null)}}]),a}(u.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return w}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=a(15),h=a.n(p),f=a(13),g=a(24),v=a.n(g),b=(a(432),a(21),a(69)),y=a(17),S=a(8),E=a(65),w=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).setValueSearch=function(t){e.setState({search_key:t})},e.state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),totalRows:0,perPage:10,page:1,totalPage:0,sort_by:"parent_cif",sort:"asc",typeFind:"rmwbData",search_key:""},e.reset=e.reset.bind(Object(o.a)(e)),e.handlePageChange=e.handlePageChange.bind(Object(o.a)(e)),e.handleChange=e.handleChange.bind(Object(o.a)(e)),e.handlePerRowsChange=e.handlePerRowsChange.bind(Object(o.a)(e)),e.handleSort=e.handleSort.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(n,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),this.getdataMaster(),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage)}},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=!0,n=new y.a,e.next=5,n.findStatusByParam(this.state);case 5:(r=e.sent)&&200===r.status&&r.data?this.setState({listDataStatus:r.data}):t=!1,t||this.clearSession(),a||this.errorConectionToBe();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadOptions",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var r,l,i,o,c,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.page,l=new b.a,e.next=4,l.findSelectClient(r,10,t);case 4:for(i=e.sent,o=[],c=0;c<i.data.data.length;c++)o.push({value:i.data.data[c].client_cif,label:i.data.data[c].name+" ("+i.data.data[c].client_cif+")"});return u=r<i.data.totalPage,e.abrupt("return",{options:o,hasMore:u,additional:{page:r+1}});case 9:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r){var l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=!0,this.setState({loading:!0}),i=new b.a,e.next=5,i.findBuyerByParam(t,a,n,r,this.state);case 5:(o=e.sent)&&200===o.status&&o.data&&o.data.data.length>0?(this.setState({list:o.data.data}),this.setState({totalRows:o.data.total_result}),this.setState({totalPage:o.data.total_page}),this.setState({loading:!1})):(o&&o.data&&S.a===o.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):this.setState({error:!0,errorMessage:o&&o.data?o.data.message:o,loading:!1}),this.setState({list:[]}),this.setState({totalRows:0}),this.setState({totalPage:0}),this.setState({loading:!1})),l||this.errorConectionToBe();case 8:case"end":return e.stop()}}),e,this)})));return function(t,a,n,s){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleSort",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({sort:a});case 2:return e.next=4,this.setState({sort_by:t.selector});case 4:return e.next=6,this.setPage(this.state.page,a,t.selector,this.state.perPage);case 6:document.getElementById("column-"+t.selector).classList.add("sorted");case 8:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"handlePageChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({page:t}),this.setPage(t,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handlePerRowsChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({perPage:t}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"editRow",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t?this.props.history.push("rmwb-edit-buyer",{data:t}):alert("Some thing wrong with selected data pelase refresh your browser or contact admin!")||window.location.reload();case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteRow",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to delete ".concat(t.buyer_name+" ?"))){e.next=6;break}return a=new b.a,e.next=4,a.deleteBuyer(t);case 4:200===(n=e.sent).status&&"Success"===n.data.message?(alert("data ".concat(t.buyer_name," waiting approve to delete")),window.location=window.location.href):n&&n.data&&S.a===n.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):alert("error, data ".concat(t.buyer_name," cannot deleted"));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"search",value:function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({loading:!0,search:!0}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"reset",value:function(){var e=this;this.setState({loading:!0}),h.a.findDOMNode(this.refs.search_key).value="",this.setState({search_key:""},(function(){setTimeout((function(){e.setPage(e.state.page,e.state.sort,e.state.sort_by,e.state.perPage)}),100)}))}},{key:"errorConectionToBe",value:function(){alert("Connection to Server Octobench interupted!\nPlease check your conection or contact administrator!")}},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"render",value:function(){for(var e=this,t=JSON.parse(this.state.userPrivilege)||[],n=!1,s=!1,r=!1,l=0;l<t.length;l++)"create_rmwb_buyer"===t[l].name+"_"+t[l].vgroup&&(n=!0),"delete_rmwb_buyer"===t[l].name+"_"+t[l].vgroup&&(s=!0),"upload_rmwb_buyer"===t[l].name+"_"+t[l].vgroup&&(r=!0);var i=[{name:"Parent CIF",selector:"parent_cif",sortable:!0,width:"200px"},{name:"Parent Name",selector:"parent_name",sortable:!0,width:"250px"},{name:"Buyer Cif",selector:"buyer_cif",sortable:!0,width:"200px"},{name:"Buyer Name",selector:"buyer_name",sortable:!0,width:"250px"},{name:"Product",selector:"buyer_product_draft",sortable:!0},{name:"Sales",selector:"sales_draft",sortable:!0},{name:"Year of relationship",selector:"year_of_relationship_draft",sortable:!0},{name:"Term Days",selector:"term_days_draft",sortable:!0,width:"60px"},{name:"Currency",selector:"currency_draft",sortable:!0,width:"100px"},{name:"Status Data",selector:"status",sortable:!0,width:"100px"},{name:"Action",sortable:!1,cell:function(t){return m.a.createElement("div",null,s&&"requestDelete"!==t.status&&"deleted"!==t.status?m.a.createElement("input",{type:"image",alt:"Delete",height:20,className:"mr-3",value:t.buyer_cif,src:a(67),onClick:function(a){return e.deleteRow(t)}}):null,m.a.createElement("input",{type:"image",alt:"Edit",height:20,value:t.buyer_cif,src:a(40),onClick:function(a){return e.editRow(t)}}))},button:!0}];return m.a.createElement("div",{id:"ListUser"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?m.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,m.a.createElement("h3",null,"Buyer List"),m.a.createElement("div",{id:"search-menu"},m.a.createElement("table",{style:{width:"100%"}},m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-2"},"Search Parent CIF"),m.a.createElement(E.a,{className:"col-6 p-0",ref:"search_key",value:this.state.search_key,loadOptions:this.loadOptions,onChange:this.setValueSearch,debounceTimeout:300,additional:{page:1}})))))),m.a.createElement("div",null,m.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.search.bind(this)},"search"),m.a.createElement("button",{type:"button",className:"reset-btn btn btn-secondary btn-sm",onClick:this.reset},"reset"))),m.a.createElement(v.a,{id:"tableData",className:"mb-4",defaultSortField:this.state.sort_by,columns:i,progressPending:this.state.loading,pagination:!0,paginationServer:!0,sortServer:!0,paginationTotalRows:this.state.totalRows,onChangeRowsPerPage:this.handlePerRowsChange,onChangePage:this.handlePageChange,onSort:this.handleSort,data:this.state.list,responsive:!0}),m.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},n?m.a.createElement(f.b,{to:"rmwb-create-buyer",className:"d-flex justify-content-end mr-2"},m.a.createElement("button",{className:"button-red"},"CREATE NEW BUYER")):null,r?m.a.createElement(f.b,{to:"rmwb-list-upload-buyer",className:"justify-content-end"},m.a.createElement("button",{className:"button-red"},"BULK UPLOAD BUYER")):null),this.state.loading?m.a.createElement("div",{className:"loading-overlay"},m.a.createElement("div",{className:"loader"})):null)}}]),n}(d.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return f}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(370),p=(a(592),a(8)),h=a(69),f=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={isSuccess:!1,message:"",token:localStorage.getItem("accessToken"),htmlContent:""},e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.props.location.state.data||this.props.history.push("rmwb-buyer")}},{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=[],n=new h.a,!t.submitOnly){e.next=9;break}return t.status="drafted",e.next=6,n.updateBuyer(t);case 6:a=e.sent,e.next=42;break;case 9:if(!t.submitAndSave){e.next=16;break}return t.status="submitted",e.next=13,n.updateBuyer(t);case 13:a=e.sent,e.next=42;break;case 16:if(!t.submitApprove){e.next=23;break}return t.status="approved",e.next=20,n.approveBuyer(t);case 20:a=e.sent,e.next=42;break;case 23:if(!t.submitReject){e.next=30;break}return t.status="rejected",e.next=27,n.rejectBuyer(t);case 27:a=e.sent,e.next=42;break;case 30:if(!t.rejectDelete){e.next=37;break}return t.status="rejected",e.next=34,n.rejectBuyer(t);case 34:a=e.sent,e.next=42;break;case 37:if(!t.approveDelete){e.next=42;break}return t.status="deleted",e.next=41,n.approveBuyer(t);case 41:a=e.sent;case 42:a&&(200===a.status&&"Success"===a.data.message?(this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-buyer",this.state)):a&&a.data&&p.a===a.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):(this.setState({isSuccess:!1,message:"Save Data Failed",alertState:"alert alert-danger"}),window.scrollTo(0,0)));case 43:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.location.state.data;return d.a.createElement("div",{id:"EditBuyer"},this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement("h3",{className:"mb-4"},"Edit Buyer"),d.a.createElement(m.a,{mode:"edit",data:e,history:this.props.history,onSubmit:this.submit.bind(this),onSubmitAndSave:this.submit.bind(this)}))}}]),a}(u.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return f}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(370),p=a(8),h=(a(1151),a(69)),f=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={isSuccess:!1,message:"",is_deleted_draft:"",token:localStorage.getItem("accessToken")},e}return Object(i.a)(a,[{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.submitOnly?t.status="drafted":t.status="submitted",a=new h.a,e.next=4,a.addBuyer(t);case 4:(n=e.sent)&&(200===n.status&&"Success"===n.data.message?(this.setState({isSuccess:!0,message:"Data saved"}),this.props.history.push("rmwb-buyer",this.state)):n&&n.data&&p.a===n.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0)));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return d.a.createElement("div",{id:"CreateBuyer"},this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement("h3",{className:"mb-4"},"Add New Buyer"),d.a.createElement(m.a,{history:this.props.history,onSubmit:this.submit.bind(this),onSubmitAndSave:this.submit.bind(this)}))}}]),a}(u.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return N}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=a(15),h=a.n(p),f=a(13),g=a(24),v=a.n(g),b=a(27),y=a(16),S=a.n(y),E=(a(432),a(21),a(69)),w=a(17),k=a(8),N=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).setValueSearch=function(t){e.setState({search_key:t})},e.state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),totalRows:0,perPage:10,page:1,totalPage:0,sort_by:"file_name",sort:"asc",typeFind:"rmwbData",search_key:"",filterDataInsertAt:"",filterDataStatus:"",isChecker:!1},e.reset=e.reset.bind(Object(o.a)(e)),e.handlePageChange=e.handlePageChange.bind(Object(o.a)(e)),e.handleChange=e.handleChange.bind(Object(o.a)(e)),e.handlePerRowsChange=e.handlePerRowsChange.bind(Object(o.a)(e)),e.handleSort=e.handleSort.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(n,[{key:"componentWillMount",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),t=JSON.parse(localStorage.getItem("userPrivilege"))||[],a=0;a<t.length;a++)"approval_rmwb_buyer"===t[a].name+"_"+t[a].vgroup&&this.setState({isChecker:!0});return e.next=5,this.setState({loggedUser:localStorage.getItem("userNip")});case 5:this.getdataMaster(),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=!0,n=new w.a,e.next=5,n.findStatusByParam(this.state);case 5:(r=e.sent)&&200===r.status&&r.data?this.setState({listDataStatus:r.data}):t=!1,t||this.clearSession(),a||this.errorConectionToBe();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadOptions",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var r,l,i,o,c,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.page,l=new E.a,e.next=4,l.findSelectClient(r,10,t);case 4:for(i=e.sent,o=[],c=0;c<i.data.data.length;c++)o.push({value:i.data.data[c].client_cif,label:i.data.data[c].name});return u=r<i.data.totalPage,e.abrupt("return",{options:o,hasMore:u,additional:{page:r+1}});case 9:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r){var l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=!0,this.setState({loading:!0}),i=new E.a,e.next=5,i.findUploadBuyerByParam(t,a,n,r,this.state);case 5:(o=e.sent)&&200===o.status&&o.data&&o.data.data.length>0?(this.setState({list:o.data.data}),this.setState({totalRows:o.data.total_result}),this.setState({totalPage:o.data.total_page}),this.setState({loading:!1})):(o&&o.data&&k.a===o.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):this.setState({error:!0,errorMessage:o&&o.data?o.data.message:o,loading:!1}),this.setState({list:[]}),this.setState({totalRows:0}),this.setState({totalPage:0}),this.setState({loading:!1})),l||this.errorConectionToBe();case 8:case"end":return e.stop()}}),e,this)})));return function(t,a,n,s){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleSort",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({sort:a});case 2:return e.next=4,this.setState({sort_by:t.selector});case 4:return e.next=6,this.setPage(this.state.page,a,t.selector,this.state.perPage);case 6:document.getElementById("column-"+t.selector).classList.add("sorted");case 8:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"handlePageChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({page:t}),this.setPage(t,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handlePerRowsChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({perPage:t}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"editRow",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t?this.props.history.push("rmwb-detail-upload-buyer",{data:t}):alert("Some thing wrong with selected data pelase refresh your browser or contact admin!")||window.location.reload();case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"donwloadTemplate",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new E.a,e.next=3,t.donwloadTemplate();case 3:(a=e.sent)?((n=document.createElement("a")).href=a,n.target="_blank",document.body.appendChild(n),n.click(),document.body.removeChild(n)):alert("Error cant download data");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteRow",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to delete ".concat(t.buyer_name+" ?"))){e.next=6;break}return a=new E.a,e.next=4,a.deleteBuyer(t);case 4:200===(n=e.sent).status&&"Success"===n.data.message?(alert("data ".concat(t.buyer_name," waiting approve to delete")),window.location=window.location.href):n&&n.data&&k.a===n.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):alert("error, data ".concat(t.buyer_name," cannot deleted"));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"search",value:function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({loading:!0,search:!0}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"reset",value:function(){var e=this;h.a.findDOMNode(this.refs.search_status).value="",h.a.findDOMNode(this.refs.insert_date).value="",this.setState({search_status:"",insert_date:""},(function(){setTimeout((function(){e.setPage(e.state.page,e.state.sort,e.state.sort_by,e.state.perPage)}),100)}))}},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"render",value:function(){for(var e=this,t=this.state.insert_date?S()(this.state.insert_date,"YYYY-MM-DDTHH:mm:ss").toDate():null,n=JSON.parse(this.state.userPrivilege)||[],s=!1,r=0;r<n.length;r++)"upload_rmwb_buyer"===n[r].name+"_"+n[r].vgroup&&(s=!0);var l=[{name:"File Name",selector:"file_name",sortable:!0},{name:"Insert By",selector:"insert_by",sortable:!0},{name:"Insert At",selector:"insert_at",sortable:!0},{name:"Status",selector:"status",sortable:!0},{name:"Action",sortable:!1,cell:function(t){return m.a.createElement("div",null,m.a.createElement("input",{type:"image",alt:"Edit",height:20,value:t.buyer_cif,src:a(40),onClick:function(a){return e.editRow(t)}}))},button:!0}];return m.a.createElement("div",{id:"ListUser"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?m.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,m.a.createElement("h3",null,"List Upload Data Buyer"),m.a.createElement("div",{id:"search-menu"},m.a.createElement("table",{style:{width:"100%"}},m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-2"},"Status File"),m.a.createElement("select",{ref:"search_status",className:"form-input col-4",onChange:function(t){return e.setState({search_status:t.target.value})}},m.a.createElement("option",{value:""},"Please select status!"),m.a.createElement("option",{value:"submitted"},"Submitted"),m.a.createElement("option",{value:"rejected"},"Rejected"))))),m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-2"},"Insert Date"),m.a.createElement("div",{className:"col-4 p-0"},m.a.createElement(b.a,{ref:"insert_date",className:"form-input",dateFormat:"yyyy-MM-dd",selected:t,onChange:function(t){return e.setState({insert_date:t})}}))))))),m.a.createElement("div",null,m.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.search.bind(this)},"search"),m.a.createElement("button",{type:"button",className:"reset-btn btn btn-secondary btn-sm",onClick:this.reset},"reset"))),m.a.createElement(v.a,{id:"tableData",className:"mb-4",defaultSortField:this.state.sort_by,columns:l,progressPending:this.state.loading,pagination:!0,paginationServer:!0,sortServer:!0,paginationTotalRows:this.state.totalRows,onChangeRowsPerPage:this.handlePerRowsChange,onChangePage:this.handlePageChange,onSort:this.handleSort,data:this.state.list}),m.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},m.a.createElement("div",{className:"d-flex justify-content-end my-4 mr-3"},m.a.createElement("button",{className:"button-red",onClick:this.donwloadTemplate},m.a.createElement("img",{src:"./../../../assets/images/export.png",alt:""}),"Download Template File")),s?m.a.createElement(f.b,{to:"rmwb-upload-buyer",className:"d-flex justify-content-end my-4"},m.a.createElement("button",{className:"button-red"},"Upload New Data Buyer")):null),this.state.loading?m.a.createElement("div",{className:"loading-overlay"},m.a.createElement("div",{className:"loader"})):null)}}]),n}(d.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return A}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=a(15),h=a.n(p),f=a(13),g=a(24),v=a.n(g),b=a(30),y=a.n(b),S=(a(432),a(21),a(69)),E=a(17),w=a(8),k=a(65),N=a(31),C=a.n(N),A=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).setValueSearch=function(t){e.setState({search_key:t})},e.state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),totalRows:0,perPage:10,page:1,totalPage:0,sort_by:"parent_cif",sort:"asc",typeFind:"rmwbData",search_key:""},e.reset=e.reset.bind(Object(o.a)(e)),e.handlePageChange=e.handlePageChange.bind(Object(o.a)(e)),e.handleChange=e.handleChange.bind(Object(o.a)(e)),e.handlePerRowsChange=e.handlePerRowsChange.bind(Object(o.a)(e)),e.handleSort=e.handleSort.bind(Object(o.a)(e)),e.handleOpenModal=e.handleOpenModal.bind(Object(o.a)(e)),e.handleCloseModal=e.handleCloseModal.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(a,[{key:"handleOpenModal",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({showModal:!0,modalName:t});case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleCloseModal",value:function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({showModal:!1});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillMount",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=this.props.location.state.data)||this.props.history.push("rmwb-rmwb-list-upload-buyer"),this.setState({selectedFile:t}),this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),e.next=6,this.setState({loggedUser:localStorage.getItem("userNip")});case 6:this.getdataMaster(),this.getListDataStatus(t.status),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage),this.validator=new C.a({autoForceUpdate:this,element:function(e){return m.a.createElement("div",{className:"row col-12 validator-error-message"},m.a.createElement("div",{className:"col-4"}),m.a.createElement("div",{className:"col-8"},e))}});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=!0,n=new E.a,e.next=5,n.findStatusByParam(this.state);case 5:(r=e.sent)&&200===r.status&&r.data?this.setState({listDataStatus:r.data}):t=!1,t||this.clearSession(),a||this.errorConectionToBe();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadOptions",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var r,l,i,o,c,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.page,l=new S.a,e.next=4,l.findSelectClient(r,10,t);case 4:for(i=e.sent,o=[],c=0;c<i.data.data.length;c++)o.push({value:i.data.data[c].client_cif,label:i.data.data[c].name});return u=r<i.data.totalPage,e.abrupt("return",{options:o,hasMore:u,additional:{page:r+1}});case 9:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r){var l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=!0,this.setState({loading:!0}),i=new S.a,e.next=5,i.findUploadDetailBuyerByParam(t,a,n,r,this.state);case 5:(o=e.sent)&&200===o.status&&o.data&&o.data.data.length>0?(this.setState({list:o.data.data}),this.setState({totalRows:o.data.total_result}),this.setState({totalPage:o.data.total_page}),this.setState({loading:!1})):(o&&o.data&&w.a===o.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):this.setState({error:!0,errorMessage:o&&o.data?o.data.message:o,loading:!1}),this.setState({list:[]}),this.setState({totalRows:0}),this.setState({totalPage:0}),this.setState({loading:!1})),l||this.errorConectionToBe();case 8:case"end":return e.stop()}}),e,this)})));return function(t,a,n,s){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleSort",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({sort:a});case 2:return e.next=4,this.setState({sort_by:t.selector});case 4:return e.next=6,this.setPage(this.state.page,a,t.selector,this.state.perPage);case 6:document.getElementById("column-"+t.selector).classList.add("sorted");case 8:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"handlePageChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({page:t}),this.setPage(t,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handlePerRowsChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({perPage:t}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"editRow",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t?this.props.history.push("rmwb-detail-upload-buyer",{data:t}):alert("Some thing wrong with selected data pelase refresh your browser or contact admin!")||window.location.reload();case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getListDataStatus",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!0,n=new E.a,e.next=4,n.findStatusByParam(this.state);case 4:(r=e.sent)&&200===r.status&&r.data.length>0?(this.setState({listDataStatus:r.data}),l=r.data.filter((function(e){return e.code===t})),this.setState({currentDataStatus:l[0]})):(this.setState({listDataStatus:""}),this.setState({currentDataStatus:""}),r&&r.data&&w.a===r.data.data?a=!1:this.setState({listDataStatus:""})),a||this.clearSession();case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"donwloadTemplate",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new S.a,e.next=3,t.donwloadTemplate();case 3:(a=e.sent)?((n=document.createElement("a")).href=a,n.target="_blank",document.body.appendChild(n),n.click(),document.body.removeChild(n)):alert("Error cant download data");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteRow",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to delete ".concat(t.buyer_name+" ?"))){e.next=6;break}return a=new S.a,e.next=4,a.deleteBuyer(t);case 4:200===(n=e.sent).status&&"Success"===n.data.message?(alert("data ".concat(t.buyer_name," waiting approve to delete")),window.location=window.location.href):n&&n.data&&w.a===n.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):alert("error, data ".concat(t.buyer_name," cannot deleted"));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"search",value:function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({loading:!0,search:!0}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"reset",value:function(){var e=this;this.setState({loading:!0}),h.a.findDOMNode(this.refs.search_key).value="",this.setState({search_key:""},(function(){setTimeout((function(){e.setPage(e.state.page,e.state.sort,e.state.sort_by,e.state.perPage)}),100)}))}},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"onSubmitApprove",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),t=new S.a,(a=this.state).status="approved",e.next=6,t.approveFileBuyer(a);case 6:(n=e.sent)&&(200===n.status&&"Success"===n.data.message?(this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-list-upload-buyer",this.state),this.setState({loading:!1})):n&&n.data&&w.a===n.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):(this.setState({isSuccess:!1,message:"Save Data Failed",alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1})));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onSubmitReject",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({loading:!0}),t=new S.a,(a=this.state).status="rejected",this.validator.allValid()){e.next=8;break}return this.validator.showMessages(),this.setState({loading:!1}),e.abrupt("return");case 8:return e.next=10,t.rejectFileBuyer(a);case 10:(n=e.sent)&&(200===n.status&&"Success"===n.data.message?(this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-list-upload-buyer",this.state),this.setState({loading:!1})):n&&n.data&&w.a===n.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):(this.setState({isSuccess:!1,message:"Save Data Failed",alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1})));case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){for(var e=this,t=JSON.parse(this.state.userPrivilege)||[],a=!1,n=0;n<t.length;n++)"approval_rmwb_buyer"===t[n].name+"_"+t[n].vgroup&&(a=!0);var s=this.state.currentDataStatus?this.state.currentDataStatus:[],r=!1,l=!1;s&&("rmwbData_approved"===s.type+"_"+s.code&&(r=!0),"rmwbData_rejected"===s.type+"_"+s.code&&(l=!0));return m.a.createElement("div",{id:"ListUser"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?m.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-6"},m.a.createElement("h3",null,"Detail Upload Data Buyer")),m.a.createElement("div",{className:"col-6"},m.a.createElement(f.b,{to:"rmwb-list-upload-buyer",className:"d-flex justify-content-end"},m.a.createElement("button",{className:"btn btn-info"},"Back to Upload List")))),m.a.createElement("p",null,"File name : ",this.state.selectedFile.file_name," || Uploaded by : ",this.state.selectedFile.insert_by," || At : ",this.state.selectedFile.insert_at," || Status : ",this.state.selectedFile.status),l?m.a.createElement("p",null,"Remarks : ",this.state.selectedFile.remarks):null,m.a.createElement("div",{id:"search-menu"},m.a.createElement("table",{style:{width:"100%"}},m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-2"},"Search Parent CIF"),m.a.createElement(k.a,{className:"col-6",ref:"search_key",value:this.state.search_key,loadOptions:this.loadOptions,onChange:this.setValueSearch,debounceTimeout:300,additional:{page:1}})))))),m.a.createElement("div",null,m.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.search.bind(this)},"search"),m.a.createElement("button",{type:"button",className:"reset-btn btn btn-secondary btn-sm",onClick:this.reset},"reset"))),m.a.createElement(v.a,{id:"tableData",className:"mb-4",defaultSortField:this.state.sort_by,columns:[{name:"Parent CIF",selector:"parent_cif",sortable:!0,width:"200px"},{name:"Parent Name",selector:"parent_name",sortable:!0,width:"250px"},{name:"Buyer Cif",selector:"buyer_cif",sortable:!0,width:"200px"},{name:"Buyer Name",selector:"buyer_name",sortable:!0,width:"250px"},{name:"Product",selector:"buyer_product_draft",sortable:!0},{name:"Sales",selector:"sales_draft",sortable:!0,width:"70px"},{name:"Year Of Relationship",selector:"year_of_relationship_draft",sortable:!0},{name:"Term Days",selector:"term_days_draft",sortable:!0,width:"60px"},{name:"Currency",selector:"currency_draft",sortable:!0,width:"130px"}],progressPending:this.state.loading,pagination:!0,paginationServer:!0,sortServer:!0,paginationTotalRows:this.state.totalRows,onChangeRowsPerPage:this.handlePerRowsChange,onChangePage:this.handlePageChange,onSort:this.handleSort,data:this.state.list}),m.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},!a||l||r?null:m.a.createElement("div",null,m.a.createElement("button",{className:"button-red mr-2",onClick:function(){return e.handleOpenModal("reject-data")}},"Reject"),m.a.createElement("button",{className:"button-green",onClick:function(){return e.handleOpenModal("approve-data")}},"Approve"))),this.state.loading?m.a.createElement("div",{className:"loading-overlay"},m.a.createElement("div",{className:"loader"})):null,m.a.createElement(y.a,{closeTimeoutMS:300,isOpen:this.state.showModal,contentLabel:"onRequestClose Example",onRequestClose:this.handleCloseModal,className:"Modal",overlayClassName:"Overlay"},"approve-data"===this.state.modalName?m.a.createElement("div",null,m.a.createElement("div",{className:"row mx-0 justify-content-center"},m.a.createElement("h4",null,"Are You Sure To Approve This Data ?")),m.a.createElement("div",{className:"d-flex justify-content-center mx-2 mt-5"},m.a.createElement("button",{className:"button-red mr-5",onClick:this.handleCloseModal},"Cancel"),m.a.createElement("button",{className:"button-red",onClick:this.onSubmitApprove.bind(this)},"Approve"))):null,"reject-data"===this.state.modalName?m.a.createElement("div",null,m.a.createElement("div",{className:"row mx-0 justify-content-center"},m.a.createElement("h4",{className:"mb-4"},"Please fill Remark to data Maker !"),this.state.error?m.a.createElement("div",{className:"col-12 ".concat(this.state.alertState),role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.errorMessage):null,m.a.createElement("textarea",{className:"col-12 form-input",type:"text",onChange:function(t){return e.setState({remarks:t.target.value})},value:this.state.remarks||"",placeholder:"Remarks",onBlur:function(){return e.validator.showMessageFor("remarks")}}),this.validator.message("remarks",this.state.remarks,"required")),m.a.createElement("div",{className:"d-flex justify-content-center mx-2 mt-4"},m.a.createElement("button",{className:"button-red mr-5",onClick:this.handleCloseModal},"Cancel"),m.a.createElement("button",{className:"button-red",onClick:this.onSubmitReject.bind(this)},"Reject"))):null))}}]),a}(d.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return b}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=(a(592),a(13)),p=a(8),h=a(69),f=a(17),g=a(31),v=a.n(g),b=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={isSuccess:!1,message:"",token:localStorage.getItem("accessToken"),selectedFile:null,loading:!1},e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),this.setState({loggedUser:localStorage.getItem("userNip")}),this.getdataMaster(),this.validator=new v.a({autoForceUpdate:this,element:function(e){return d.a.createElement("div",{className:"row col-12 validator-error-message"},d.a.createElement("div",{className:"col-2"}),d.a.createElement("div",{className:"col-10"},e))}})}},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=!0,n=new f.a,e.next=5,n.findStatusByParam(this.state);case 5:(r=e.sent)&&200===r.status&&r.data?this.setState({listDataStatus:r.data}):t=!1,t||this.clearSession(),a||this.errorConectionToBe();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"errorConectionToBe",value:function(){alert("Connection to Server Octobench interupted!\nPlease check your conection or contact administrator!")}},{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({loading:!0}),t=new h.a,this.validator.allValid()){e.next=6;break}return this.validator.showMessages(),this.setState({loading:!1}),e.abrupt("return");case 6:return(a=new FormData).append("file",this.state.selectedFile),e.next=10,t.uploadFileBuyer(a,this.state);case 10:(n=e.sent)&&(200===n.status&&"Succeed"===n.data.message?(this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-list-upload-buyer",this.state),this.setState({loading:!1})):n&&n.data&&p.a===n.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):(this.setState({isSuccess:!1,message:"Save Data Failed, "+n.data.data.remarks,alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1})));case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return d.a.createElement("div",{id:"EditBuyer"},this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-6"},d.a.createElement("h3",{className:"mb-4"},"Upload New Data Buyer")),d.a.createElement("div",{className:"col-6"},d.a.createElement(m.b,{to:"rmwb-list-upload-buyer",className:"d-flex justify-content-end"},d.a.createElement("button",{className:"btn btn-info"},"Back to Upload List")))),d.a.createElement("div",{className:"form-box-area mb-4"},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"row col-12"},d.a.createElement("h4",{className:"mb-4 col-6"},"Please select file to be upload")),d.a.createElement("div",{className:"row mb-3 col-12"},d.a.createElement("label",{className:"col-2"},"New File Buyer ",d.a.createElement("span",{className:"text-danger"},"*")),d.a.createElement("input",{className:"col-6 px-0",type:"file",id:"upload-new-file",onChange:function(t){return e.setState({selectedFile:t.target.files[0],loaded:0})},onBlur:function(){return e.validator.showMessageFor("file")}}),d.a.createElement("div",{className:"col-4 d-flex justify-content-end"},d.a.createElement("button",{type:"button",className:"button-red",onClick:function(t){return e.submit()}},"Upload")),this.validator.message("file",this.state.selectedFile,"required")))),this.state.loading?d.a.createElement("div",{className:"loading-overlay"},d.a.createElement("div",{className:"loader"})):null)}}]),a}(u.Component)},,,,function(e,t){},,,,,,,,,,,,,,,,function(e,t){},,function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return b}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(27),p=a(16),h=a.n(p),f=(a(73),a(28),a(21),a(372)),g=a(109),v=a(17),b=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={userPrivilege:[],list:[],loading:!1,token:localStorage.getItem("accessToken")},window.scrollTo(0,0),e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),this.getDataMaster()}},{key:"getDataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=new v.a,e.next=4,a.findStatusByParam(this.state);case 4:if((n=e.sent)&&200===n.status&&n.data?(this.setState({listDataStatus:n.data}),this.setState({loading:!1})):t=!1,t){e.next=9;break}return this.clearSession(),e.abrupt("return");case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"ExportExcel",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({loading:!0}),t=new f.a,a=new g.a,n="Lead_Data",r=this.state,this.validate(r)){e.next=9;break}return window.scrollTo(0,0),this.setState({loading:!1}),e.abrupt("return");case 9:return e.next=11,t.getAllLead(this.state.startDate,this.state.endDate,this.state);case 11:if(!(l=e.sent)||200!==l.status||!l.data){e.next=19;break}return i=l.data,e.next=16,a.ExportExcel(i,n);case 16:this.setState({hasMessage:!0,alertState:"alert alert-success",messageContent:"Download Succeed",loading:!1}),e.next=20;break;case 19:this.setState({hasMessage:!0,messageContent:l&&l.data?l.data.message:l,loading:!1});case 20:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"validate",value:function(e){return this.setState({hasMessage:!0,alertState:"alert alert-danger"}),e.startDate?e.endDate?(this.setState({hasMessage:!1,alertState:"alert alert-primary"}),!0):(this.setState({messageContent:"Please enter End Date!"}),!1):(this.setState({messageContent:"Please enter Start Date!"}),!1)}},{key:"onChangeStartDate",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({startDate:t}),this.setState({endDate:""});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.startDate?h()(this.state.startDate,"YYYY-MM-DDTHH:mm:ss").toDate():null,a=this.state.endDate?h()(this.state.endDate,"YYYY-MM-DDTHH:mm:ss").toDate():null,n=h()(t).add(30,"d");h()(n,"YYYY-MM-DDTHH:mm:ss").toDate();return d.a.createElement("div",{id:"DownloadLead",className:"download default-rmwb-wrapper"},this.state.hasMessage?d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.messageContent):null,d.a.createElement("div",{className:"form-box-area mb-2"},d.a.createElement("h4",{className:"mb-4"},"Download All Lead by Range"),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Start Date"),d.a.createElement("div",{className:"col-4 p-0"},d.a.createElement(m.a,{className:"form-input",dateFormat:"yyyy-MM-dd",selected:t,onChange:function(t){return e.onChangeStartDate(t)}}))),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"End Date"),d.a.createElement("div",{className:"col-4 p-0"},d.a.createElement(m.a,{className:"form-input",dateFormat:"yyyy-MM-dd",selected:a,minDate:t,onChange:function(t){return e.setState({endDate:t})}}))),d.a.createElement("div",{className:"row m-0 justify-content-end"},d.a.createElement("button",{className:"button-red",onClick:this.ExportExcel.bind(this)},"download excel"))),this.state.loading?d.a.createElement("div",{className:"loading-overlay"},d.a.createElement("div",{className:"loader"})):null)}}]),a}(u.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return b}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(27),p=a(16),h=a.n(p),f=(a(73),a(28),a(21),a(372)),g=a(17),v=a(109),b=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={userPrivilege:[],list:[],loading:!1,token:localStorage.getItem("accessToken")},window.scrollTo(0,0),e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),this.getDataMaster()}},{key:"getDataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=new g.a,e.next=4,a.findStatusByParam(this.state);case 4:if((n=e.sent)&&200===n.status&&n.data?(this.setState({listDataStatus:n.data}),this.setState({loading:!1})):t=!1,t){e.next=9;break}return this.clearSession(),e.abrupt("return");case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"ExportExcel",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({loading:!0}),t=new f.a,a=new v.a,n="Lead_Data",r=this.state,this.validate(r)){e.next=9;break}return window.scrollTo(0,0),this.setState({loading:!1}),e.abrupt("return");case 9:return e.next=11,t.getAllLeadDetail(this.state.startDate,this.state.endDate,this.state);case 11:if(!(l=e.sent)||200!==l.status||!l.data){e.next=19;break}return i=l.data,e.next=16,a.ExportExcel(i,n);case 16:this.setState({hasMessage:!0,alertState:"alert alert-success",messageContent:"Download Succeed",loading:!1}),e.next=20;break;case 19:this.setState({hasMessage:!0,messageContent:l&&l.data?l.data.message:l,loading:!1});case 20:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"validate",value:function(e){return this.setState({hasMessage:!0,alertState:"alert alert-danger"}),e.startDate?e.endDate?(this.setState({hasMessage:!1,alertState:"alert alert-primary"}),!0):(this.setState({messageContent:"Please enter End Date!"}),!1):(this.setState({messageContent:"Please enter Start Date!"}),!1)}},{key:"onChangeStartDate",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({startDate:t}),this.setState({endDate:""});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.startDate?h()(this.state.startDate,"YYYY-MM-DDTHH:mm:ss").toDate():null,a=this.state.endDate?h()(this.state.endDate,"YYYY-MM-DDTHH:mm:ss").toDate():null,n=h()(t).add(30,"d");h()(n,"YYYY-MM-DDTHH:mm:ss").toDate();return d.a.createElement("div",{id:"DownloadLeadDetail",className:"download default-rmwb-wrapper"},this.state.hasMessage?d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.messageContent):null,d.a.createElement("div",{className:"form-box-area mb-2"},d.a.createElement("h4",{className:"mb-4"},"Download All Lead Detail"),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Start Date"),d.a.createElement("div",{className:"col-4 p-0"},d.a.createElement(m.a,{className:"form-input",dateFormat:"yyyy-MM-dd",selected:t,onChange:function(t){return e.onChangeStartDate(t)}}))),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"End Date"),d.a.createElement("div",{className:"col-4 p-0"},d.a.createElement(m.a,{className:"form-input",dateFormat:"yyyy-MM-dd",selected:a,minDate:t,onChange:function(t){return e.setState({endDate:t})}}))),d.a.createElement("div",{className:"row m-0 justify-content-end"},d.a.createElement("button",{className:"button-red",onClick:this.ExportExcel.bind(this)},"download excel"))),this.state.loading?d.a.createElement("div",{className:"loading-overlay"},d.a.createElement("div",{className:"loader"})):null)}}]),a}(u.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return E}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=a(15),h=a.n(p),f=a(13),g=a(24),v=a.n(g),b=(a(1377),a(21),a(86)),y=a(17),S=a(8),E=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),cn_draft:"",name:"",totalRows:0,perPage:10,page:1,totalPage:0,sort_by:"id",sort:"asc",typeFind:"rmwbData",roleName:localStorage.getItem("roleName"),superUser:!1},e.reset=e.reset.bind(Object(o.a)(e)),e.handlePageChange=e.handlePageChange.bind(Object(o.a)(e)),e.handleChange=e.handleChange.bind(Object(o.a)(e)),e.handlePerRowsChange=e.handlePerRowsChange.bind(Object(o.a)(e)),e.handleSort=e.handleSort.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(n,[{key:"componentWillMount",value:function(){this.setState({superUser:"SECADOCTOBENCH"===this.state.roleName||"SADMINOCTOBENCH"===this.state.roleName}),this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),this.getdataMaster(),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage)}},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i,o,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=!0,n=new b.a,r=new y.a,e.next=6,r.findStatusByParam(this.state);case 6:return(l=e.sent)&&200===l.status&&l.data?this.setState({listDataStatus:l.data}):t=!1,t||this.clearSession(),e.next=11,n.getRoleRmwb(this.state);case 11:return(i=e.sent)&&200===i.status&&i.data&&i.data.data.length>0?this.setState({roleUser:i.data.data}):(this.setState({roleUser:[]}),a=!1),e.next=15,n.getSeniorStatus(this.state);case 15:return(o=e.sent)&&200===o.status&&o.data&&o.data.data.length>0?this.setState({seniorStatus:o.data.data}):(this.setState({seniorStatus:[]}),a=!1),e.next=19,n.getBusinessUser();case 19:(c=e.sent)&&200===c.status&&c.data&&c.data.data.length>0?this.setState({businessUser:c.data.data}):(this.setState({businessUser:[]}),a=!1),a||this.conectionToBE();case 22:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r){var l,i,o,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),l=new b.a,e.next=4,l.findUserByParam(t,a,n,r,this.state);case 4:if((i=e.sent)&&200===i.status&&i.data&&i.data.data.length>0){for(c in o=i.data.data)!0===o[c].is_senior_draft?o[c].is_senior_draft_string="YES":!1===o[c].is_senior_draft?o[c].is_senior_draft_string="NO":null===o[c].is_senior_draft&&(o[c].is_senior_draft_string="N/A");this.setState({list:i.data.data}),this.setState({totalRows:i.data.total_result}),this.setState({totalPage:i.data.total_page}),this.setState({loading:!1})}else i&&i.data?this.setState({isSuccess:!1,message:i.data.message,alertState:"alert alert-danger"}):window.confirm("Something when wrong!\nCan't get data List User\nPlease check your conection or contact administrator!"),window.scrollTo(0,0),this.setState({list:[]}),this.setState({totalRows:0}),this.setState({totalPage:0}),this.setState({loading:!1});case 6:case"end":return e.stop()}}),e,this)})));return function(t,a,n,s){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleSort",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({sort:a});case 2:if("is_senior_draft_string"!==t.selector){e.next=8;break}return this.setState({sort_by:"is_senior_draft"}),e.next=6,this.setPage(this.state.page,a,"is_senior_draft",this.state.perPage);case 6:e.next=12;break;case 8:return e.next=10,this.setState({sort_by:t.selector});case 10:return e.next=12,this.setPage(this.state.page,a,t.selector,this.state.perPage);case 12:document.getElementById("column-"+t.selector).classList.add("sorted");case 14:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"handlePageChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({page:t}),this.setPage(t,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handlePerRowsChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({perPage:t}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"editRow",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=this.state.list.filter((function(e){return e.id===parseInt(t)}))).length>0?(n=a[0],this.props.history.push("edit-rmwb-user",{data:n})):alert("Some thing wrong with selected data pelase refresh your browser or contact admin!")||window.location.reload();case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"approveDelete",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),a=[],n=new b.a,t.status="deleted",e.next=6,n.approveUser(t);case 6:(a=e.sent)&&(200===a.status&&"Success"===a.data.message?(this.setState({isSuccess:!0,message:"Data Saved"}),this.setState({loading:!1}),this.props.history.push("rmwb-user",this.state)):a&&a.data&&S.a===a.data.data?(alert("Save Data Failed, Please try again !"),this.setState({loading:!1}),window.location.reload()):(this.setState({loading:!1}),this.setState({isSuccess:!1,message:"Save Data Failed",alertState:"alert alert-danger"}),window.scrollTo(0,0)));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteRow",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.superUser){e.next=16;break}if(!window.confirm("Are you sure you want to delete and approve delete ".concat(t.name_draft+" ?"))){e.next=14;break}return a=new b.a,e.next=5,a.deleteUser(t);case 5:if(200!==(n=e.sent).status||"Success"!==n.data.message){e.next=13;break}return e.next=9,this.approveDelete(t);case 9:alert("Data ".concat(t.name_draft," successfull deleted.")),window.location=window.location.href,e.next=14;break;case 13:n&&n.data&&S.a===n.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):alert("error, data ".concat(t.name_draft," cannot deleted"));case 14:e.next=22;break;case 16:if(!window.confirm("Are you sure you want to delete ".concat(t.name_draft+" ?"))){e.next=22;break}return r=new b.a,e.next=20,r.deleteUser(t);case 20:200===(l=e.sent).status&&"Success"===l.data.message?(alert("data ".concat(t.name_draft," waiting approve to delete")),window.location=window.location.href):l&&l.data&&S.a===l.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):alert("error, data ".concat(t.name_draft," cannot deleted"));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"search",value:function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({loading:!0,search:!0}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"reset",value:function(){var e=this;this.setState({loading:!0}),h.a.findDOMNode(this.refs.cn).value="",h.a.findDOMNode(this.refs.name).value="",h.a.findDOMNode(this.refs.bu).value="",h.a.findDOMNode(this.refs.role).value="",h.a.findDOMNode(this.refs.status).value="",this.setState({cn_draft:"",name:"",status:"",bu_id:"",role_id:""},(function(){setTimeout((function(){e.setPage(e.state.page,e.state.sort,e.state.sort_by,e.state.perPage)}),100)}))}},{key:"conectionToBE",value:function(){alert("Cant get data from backend Octo RM Bench, Please check your conection or contact admin!")}},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"render",value:function(){for(var e=this,t=JSON.parse(this.state.userPrivilege)||[],n=!1,s=!1,r=0;r<t.length;r++)"create_rmwb_user"===t[r].name+"_"+t[r].vgroup&&(n=!0),"delete_rmwb_user"===t[r].name+"_"+t[r].vgroup&&(s=!0);var l=[{name:"CN",selector:"cn_draft",sortable:!0},{name:"Office id",selector:"office_id_draft",sortable:!0},{name:"Name",selector:"name_draft",sortable:!0},{name:"Email",selector:"email_draft",sortable:!0},{name:"Role",selector:"role_draft",sortable:!0},{name:"BU",selector:"bu_draft",sortable:!0},{name:"Senior Type",selector:"is_senior_draft_string",sortable:!0},{name:"Status Data",selector:"status",sortable:!0},{name:"Action",sortable:!1,cell:function(t){return m.a.createElement("div",null,s&&"requestDelete"!==t.status&&"deleted"!==t.status?m.a.createElement("input",{type:"image",alt:"Delete",height:20,className:"mr-3",value:t.id,src:a(67),onClick:function(a){return e.deleteRow(t)}}):null,m.a.createElement("input",{type:"image",alt:"Edit",height:20,value:t.id,src:a(40),onClick:function(t){return e.editRow(t.target.value)}}))},button:!0}],i=this.state.roleUser||[];i=i.map((function(e){var t=e.id,a=e.name;return m.a.createElement("option",{key:t,"code-data":a,value:t},a)}));var o=this.state.businessUser||[];o=o.map((function(e){var t=e.id,a=e.name;return m.a.createElement("option",{key:t,"code-data":t,value:t},a)}));var c=this.state.listDataStatus||[];return c=c.map((function(e){var t=e.code,a=e.name;return"deleted"!==t?m.a.createElement("option",{key:t,"code-data":t,value:t},a):null})),m.a.createElement("div",{id:"ListUser"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?m.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,m.a.createElement("h3",null,"User List"),m.a.createElement("div",{id:"search-menu"},m.a.createElement("table",{style:{width:"100%"}},m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-2"},"CN"),m.a.createElement("input",{className:"col-6 form-input",type:"text",ref:"cn",onChange:function(t){return e.setState({cn_draft:t.target.value})},defaultValue:this.state.cn_draft})),m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-2"},"Name"),m.a.createElement("input",{className:"col-6 form-input",type:"text",ref:"name",onChange:function(t){return e.setState({name:t.target.value})},defaultValue:this.state.name})),m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-2"},"Status"),m.a.createElement("select",{ref:"status",className:"col-6 form-input",onChange:function(t){return e.setState({status:t.target.value})}},m.a.createElement("option",{key:"",value:""},"Select Data Status"),c))),m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-3"},"Business User"),m.a.createElement("select",{ref:"bu",className:"col-6 form-input",onChange:function(t){return e.setState({bu_id:t.target.value})}},m.a.createElement("option",{key:"",value:""},"Select Business User"),o)),m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-3"},"Role"),m.a.createElement("select",{ref:"role",className:"col-6 form-input",onChange:function(t){return e.setState({role_id:t.target.value})}},m.a.createElement("option",{key:"",value:""},"Select Role"),i)),m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-3"}," ")))))),m.a.createElement("div",null,m.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.search.bind(this)},"search"),m.a.createElement("button",{type:"button",className:"reset-btn btn btn-secondary btn-sm",onClick:this.reset},"reset"))),m.a.createElement(v.a,{id:"tableData",className:"mb-2 pt-2 table-rmwb",defaultSortField:this.state.sort_by,columns:l,progressPending:this.state.loading,pagination:!0,paginationServer:!0,sortServer:!0,paginationTotalRows:this.state.totalRows,onChangeRowsPerPage:this.handlePerRowsChange,onChangePage:this.handlePageChange,onSort:this.handleSort,data:this.state.list}),m.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},n?m.a.createElement(f.b,{to:"create-rmwb-user",className:"mt-3 d-flex justify-content-end"},m.a.createElement("button",{className:"button-red"},"CREATE NEW USER")):null),this.state.loading?m.a.createElement("div",{className:"loading-overlay"},m.a.createElement("div",{className:"loader"})):null)}}]),n}(d.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return f}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(373),p=(a(1380),a(8)),h=a(86),f=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={isSuccess:!1,message:"",token:localStorage.getItem("accessToken"),htmlContent:"",loading:!1,roleName:localStorage.getItem("roleName"),superUser:!1},e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){var e=this.props.location.state.data;this.setState(e),e||this.props.history.push("rmwb-user"),this.setState({superUser:"SECADOCTOBENCH"===this.state.roleName||"SADMINOCTOBENCH"===this.state.roleName})}},{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({loading:!0}),a=[],n=new h.a,!t.submitOnly){e.next=10;break}return t.status="drafted",e.next=7,n.updateUser(t);case 7:a=e.sent,e.next=56;break;case 10:if(!t.submitAndSave){e.next=30;break}if(!this.state.superUser){e.next=24;break}if(!window.confirm("Are you sure to submit and approve this data d?")){e.next=19;break}return t.status="submitted",e.next=16,n.updateUser(t);case 16:a=e.sent,e.next=22;break;case 19:return window.scrollTo(0,0),this.setState({loading:!1}),e.abrupt("return",!1);case 22:e.next=28;break;case 24:return t.status="submitted",e.next=27,n.updateUser(t);case 27:a=e.sent;case 28:e.next=56;break;case 30:if(!t.submitApprove){e.next=37;break}return t.status="approved",e.next=34,n.approveUser(t);case 34:a=e.sent,e.next=56;break;case 37:if(!t.submitReject){e.next=44;break}return t.status="rejected",e.next=41,n.rejectUser(t);case 41:a=e.sent,e.next=56;break;case 44:if(!t.rejectDelete){e.next=51;break}return t.status="rejected",e.next=48,n.rejectUser(t);case 48:a=e.sent,e.next=56;break;case 51:if(!t.approveDelete){e.next=56;break}return t.status="deleted",e.next=55,n.approveUser(t);case 55:a=e.sent;case 56:if(!a){e.next=69;break}if(200!==a.status||"Success"!==a.data.message){e.next=68;break}if(!this.state.superUser){e.next=63;break}return e.next=61,this.approve(this.state);case 61:e.next=66;break;case 63:this.setState({isSuccess:!0,message:"Data Saved"}),this.setState({loading:!1}),this.props.history.push("rmwb-user",this.state);case 66:e.next=69;break;case 68:a&&a.data&&p.a===a.data.data?(alert("Save Data Failed, Please try again !"),this.setState({loading:!1}),window.location.reload()):(this.setState({loading:!1}),this.setState({isSuccess:!1,message:"Save Data Failed",alertState:"alert alert-danger"}),window.scrollTo(0,0));case 69:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"approve",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),a=[],n=new h.a,t.status="approved",e.next=6,n.approveUser(t);case 6:(a=e.sent)&&(200===a.status&&"Success"===a.data.message?(this.setState({isSuccess:!0,message:"Data Saved"}),this.setState({loading:!1}),this.props.history.push("rmwb-user",this.state)):a&&a.data&&p.a===a.data.data?(alert("Save Data Failed, Please try again !"),this.setState({loading:!1}),window.location.reload()):(this.setState({loading:!1}),this.setState({isSuccess:!1,message:"Save Data Failed",alertState:"alert alert-danger"}),window.scrollTo(0,0)));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.location.state.data;return d.a.createElement("div",{id:"EditUser"},this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement("h3",{className:"mb-4"},"Edit User"),d.a.createElement(m.a,{mode:"edit",data:e,history:this.props.history,onSubmitAndSave:this.submit.bind(this)}),this.state.loading?d.a.createElement("div",{className:"loading-overlay"},d.a.createElement("div",{className:"loader"})):null)}}]),a}(u.Component)},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return f}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(373),p=a(8),h=(a(1382),a(86)),f=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={isSuccess:!1,message:"",token:localStorage.getItem("accessToken"),loading:!1,roleName:localStorage.getItem("roleName"),superUser:!1,_isMounted:!1},e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this._isMounted=!1,this.setState({superUser:"SECADOCTOBENCH"===this.state.roleName||"SADMINOCTOBENCH"===this.state.roleName})}},{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"prepareSubmit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.superUser){e.next=10;break}if(!window.confirm("Are you sure to submit and approve this data ?")){e.next=6;break}return e.next=4,this.submit(t);case 4:e.next=8;break;case 6:window.scrollTo(0,0),this.setState({loading:!1});case 8:e.next=12;break;case 10:return e.next=12,this.submit(t);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"approve",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),a=[],n=new h.a,t.status="approved",e.next=6,n.approveUser(t);case 6:(a=e.sent)&&(200===a.status&&"Success"===a.data.message?(this.setState({isSuccess:!0,message:"Data Saved"}),this.setState({loading:!1}),this.props.history.push("rmwb-user",this.state)):a&&a.data&&p.a===a.data.data?(alert("Save Data Failed, Please try again !"),this.setState({loading:!1}),window.location.reload()):(this.setState({loading:!1}),this.setState({isSuccess:!1,message:"Save Data Failed",alertState:"alert alert-danger"}),window.scrollTo(0,0)));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),t.submitOnly?t.status="drafted":t.status="submitted",a=new h.a,e.next=5,a.addUser(t);case 5:if(!(n=e.sent)){e.next=19;break}if(200!==n.status||"Success"!==n.data.message){e.next=18;break}if(!this.state.superUser){e.next=13;break}return r=n.data.data,this.setState(r),e.next=13,this.approve(this.state);case 13:this.setState({isSuccess:!0,message:"Data saved"}),this.props.history.push("rmwb-user",this.state),this.setState({loading:!1}),e.next=19;break;case 18:n&&n.data&&p.a===n.data.data?(alert("Save Data Failed, Please try again !"),this.setState({loading:!1}),window.location.reload()):(this.setState({loading:!1}),this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0));case 19:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return d.a.createElement("div",{id:"CreateUser"},this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement("h3",{className:"mb-4"},"Add New User"),d.a.createElement(m.a,{history:this.props.history,onSubmit:this.submit.bind(this),onSubmitAndSave:this.prepareSubmit.bind(this)}),this.state.loading?d.a.createElement("div",{className:"loading-overlay"},d.a.createElement("div",{className:"loader"})):null)}}]),a}(u.Component)},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return b}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=a(13),h=a(24),f=a.n(h),g=(a(28),a(341),a(21),a(132)),v=a(17),b=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),totalRows:0,perPage:10,page:1,totalPage:0,sort_by:"role_name_draft",sort:"asc",typeFind:"rmwbData",search_key:"",isSuccess:!0},e.handlePageChange=e.handlePageChange.bind(Object(o.a)(e)),e.handlePerRowsChange=e.handlePerRowsChange.bind(Object(o.a)(e)),e.handleSort=e.handleSort.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),this.getdataMaster(),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage)}},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=!0,n=new v.a,e.next=5,n.findStatusByParam(this.state);case 5:(r=e.sent)&&200===r.status&&r.data?this.setState({listDataStatus:r.data}):t=!1,t||this.clearSession(),a||this.errorConectionToBe();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r){var l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=!0,this.setState({loading:!0}),i=new g.a,e.next=5,i.findRoleByParam(t,a,n,r,this.state);case 5:(o=e.sent)&&200===o.status&&o.data&&o.data.data?(this.setState({list:o.data.data}),this.setState({totalRows:o.data.total_result}),this.setState({totalPage:o.data.total_page}),this.setState({isSuccess:!0}),this.setState({loading:!1})):(o&&o.data&&o.data.message?(this.setState({isSuccess:!1,message:o.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Get data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)),this.setState({list:[]}),this.setState({totalRows:0}),this.setState({totalPage:0}),this.setState({loading:!1})),l||this.errorConectionToBe();case 8:case"end":return e.stop()}}),e,this)})));return function(t,a,n,s){return e.apply(this,arguments)}}()},{key:"handleSort",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({sort:a});case 2:return e.next=4,this.setState({sort_by:t.selector});case 4:return e.next=6,this.setPage(this.state.page,a,t.selector,this.state.perPage);case 6:document.getElementById("column-"+t.selector).classList.add("sorted");case 8:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"handlePageChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({page:t}),this.setPage(t,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handlePerRowsChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({perPage:t}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"errorConectionToBe",value:function(){alert("Connection to Server Octobench interupted!\nPlease check your conection or contact administrator!")}},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"render",value:function(){for(var e=JSON.parse(this.state.userPrivilege)||[],t=!1,a=0;a<e.length;a++)"upload_rmwb_role"===e[a].name+"_"+e[a].vgroup&&(t=!0);return m.a.createElement("div",{id:"list-role",className:"default-rmwb-wrapper"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?m.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,this.state.isSuccess?null:m.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),m.a.createElement("h3",{className:"mb-4"},"Role List"),m.a.createElement(f.a,{id:"tableData",className:"mb-4",defaultSortField:this.state.sort_by,columns:[{name:"Role Name",selector:"role_name_draft",sortable:!0},{name:"Role Type",selector:"role_type_draft",sortable:!0}],progressPending:this.state.loading,pagination:!0,paginationServer:!0,sortServer:!0,paginationTotalRows:this.state.totalRows,onChangeRowsPerPage:this.handlePerRowsChange,onChangePage:this.handlePageChange,onSort:this.handleSort,data:this.state.list}),m.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},t?m.a.createElement(p.b,{to:"rmwb-list-upload-role",className:"justify-content-end"},m.a.createElement("button",{className:"button-red"},"BULK UPLOAD ROLE")):null),this.state.loading?m.a.createElement("div",{className:"loading-overlay"},m.a.createElement("div",{className:"loader"})):null)}}]),a}(d.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return k}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=a(15),h=a.n(p),f=a(13),g=a(24),v=a.n(g),b=a(27),y=a(16),S=a.n(y),E=(a(28),a(341),a(21),a(132)),w=a(17),k=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).setValueSearch=function(t){e.setState({search_key:t})},e.state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),totalRows:0,perPage:10,page:1,totalPage:0,sort_by:"file_name",sort:"asc",typeFind:"rmwbData",search_key:"",filterDataInsertAt:"",filterDataStatus:"",isChecker:!1},e.reset=e.reset.bind(Object(o.a)(e)),e.handlePageChange=e.handlePageChange.bind(Object(o.a)(e)),e.downloadTemplate=e.downloadTemplate.bind(Object(o.a)(e)),e.handleChange=e.handleChange.bind(Object(o.a)(e)),e.handlePerRowsChange=e.handlePerRowsChange.bind(Object(o.a)(e)),e.handleSort=e.handleSort.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(n,[{key:"componentWillMount",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),t=JSON.parse(localStorage.getItem("userPrivilege"))||[],a=0;a<t.length;a++)"approval_rmwb_role"===t[a].name+"_"+t[a].vgroup&&this.setState({isChecker:!0});return e.next=5,this.setState({loggedUser:localStorage.getItem("userNip")});case 5:this.getdataMaster(),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=!0,n=new w.a,e.next=5,n.findStatusByParam(this.state);case 5:(r=e.sent)&&200===r.status&&r.data?this.setState({listDataStatus:r.data}):t=!1,t||this.clearSession(),a||this.errorConectionToBe();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r){var l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=!0,this.setState({loading:!0}),i=new E.a,e.next=5,i.findUploadRoleByParam(t,a,n,r,this.state);case 5:(o=e.sent)&&200===o.status&&o.data&&o.data.data?(this.setState({list:o.data.data}),this.setState({totalRows:o.data.total_result}),this.setState({totalPage:o.data.total_page}),this.setState({isSuccess:!0}),this.setState({loading:!1})):(o&&o.data&&o.data.message?(this.setState({isSuccess:!1,message:o.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Get data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)),this.setState({list:[]}),this.setState({totalRows:0}),this.setState({totalPage:0}),this.setState({loading:!1})),l||this.errorConectionToBe();case 8:case"end":return e.stop()}}),e,this)})));return function(t,a,n,s){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleSort",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({sort:a});case 2:return e.next=4,this.setState({sort_by:t.selector});case 4:return e.next=6,this.setPage(this.state.page,a,t.selector,this.state.perPage);case 6:document.getElementById("column-"+t.selector).classList.add("sorted");case 8:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"handlePageChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({page:t}),this.setPage(t,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handlePerRowsChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({perPage:t}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"editRow",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t?this.props.history.push("rmwb-detail-upload-role",{data:t}):alert("Some thing wrong with selected data pelase refresh your browser or contact admin!")||window.location.reload();case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"downloadTemplate",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),t=new E.a,e.next=4,t.downloadTemplate();case 4:(a=e.sent)&&200===a.status&&a.data?(this.setState({isSuccess:!0}),n=new Blob([a.data],{type:"application/octet-stream"}),r=window.URL.createObjectURL(n),(l=document.createElement("a")).href=r,l.target="_blank",l.download="roles.xlsx",document.body.appendChild(l),l.click(),document.body.removeChild(l),this.setState({loading:!1})):(a&&a.data&&a.data.message?(this.setState({isSuccess:!1,message:a.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Error cant download data, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)),this.setState({loading:!1}));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"search",value:function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({loading:!0,search:!0}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"reset",value:function(){var e=this;h.a.findDOMNode(this.refs.search_status).value="",h.a.findDOMNode(this.refs.insert_date).value="",this.setState({search_status:"",insert_date:""},(function(){setTimeout((function(){e.setPage(e.state.page,e.state.sort,e.state.sort_by,e.state.perPage)}),100)}))}},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"render",value:function(){for(var e=this,t=this.state.insert_date?S()(this.state.insert_date,"YYYY-MM-DDTHH:mm:ss").toDate():null,n=JSON.parse(this.state.userPrivilege)||[],s=!1,r=0;r<n.length;r++)"upload_rmwb_role"===n[r].name+"_"+n[r].vgroup&&(s=!0);var l=[{name:"File Name",selector:"file_name",sortable:!0},{name:"Insert By",selector:"insert_by",sortable:!0},{name:"Insert At",selector:"insert_at",sortable:!0},{name:"Status",selector:"status",sortable:!0},{name:"Action",sortable:!1,cell:function(t){return m.a.createElement("div",null,m.a.createElement("input",{type:"image",alt:"Edit",height:20,value:t.role,src:a(40),onClick:function(a){return e.editRow(t)}}))},button:!0}];return m.a.createElement("div",{id:"list-upload-role",className:"default-rmwb-wrapper"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?m.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,this.state.isSuccess?null:m.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),m.a.createElement("h3",{className:"mb-4"},"List Upload Data Role"),m.a.createElement("div",{id:"search-menu"},m.a.createElement("table",{style:{width:"100%"}},m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-2"},"Status File"),m.a.createElement("select",{ref:"search_status",className:"form-input col-4",onChange:function(t){return e.setState({search_status:t.target.value})}},m.a.createElement("option",{value:""},"Please select status!"),m.a.createElement("option",{value:"submitted"},"Submitted"),m.a.createElement("option",{value:"rejected"},"Rejected"))))),m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-2"},"Insert Date"),m.a.createElement("div",{className:"col-4 p-0"},m.a.createElement(b.a,{ref:"insert_date",className:"form-input",dateFormat:"yyyy-MM-dd",selected:t,onChange:function(t){return e.setState({insert_date:t})}}))))))),m.a.createElement("div",null,m.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.search.bind(this)},"search"),m.a.createElement("button",{type:"button",className:"reset-btn btn btn-secondary btn-sm",onClick:this.reset},"reset"))),m.a.createElement(v.a,{id:"tableData",className:"mb-4",defaultSortField:this.state.sort_by,columns:l,progressPending:this.state.loading,pagination:!0,paginationServer:!0,sortServer:!0,paginationTotalRows:this.state.totalRows,onChangeRowsPerPage:this.handlePerRowsChange,onChangePage:this.handlePageChange,onSort:this.handleSort,data:this.state.list}),m.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},m.a.createElement("div",{className:"d-flex justify-content-end my-4 mr-3"},m.a.createElement("button",{className:"button-red",onClick:this.downloadTemplate},m.a.createElement("img",{src:"./../../../assets/images/export.png",alt:""}),"Download Template File")),s?m.a.createElement(f.b,{to:"rmwb-upload-role",className:"d-flex justify-content-end my-4"},m.a.createElement("button",{className:"button-red"},"Upload New Data Role")):null),this.state.loading?m.a.createElement("div",{className:"loading-overlay"},m.a.createElement("div",{className:"loader"})):null)}}]),n}(d.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return k}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=(a(15),a(13)),h=a(24),f=a.n(h),g=a(30),v=a.n(g),b=(a(28),a(341),a(21),a(132)),y=a(17),S=a(8),E=a(31),w=a.n(E),k=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),totalRows:0,perPage:10,page:1,totalPage:0,sort_by:"role",sort:"asc",typeFind:"rmwbData",search_key:""},e.handlePageChange=e.handlePageChange.bind(Object(o.a)(e)),e.handlePerRowsChange=e.handlePerRowsChange.bind(Object(o.a)(e)),e.handleSort=e.handleSort.bind(Object(o.a)(e)),e.handleOpenModal=e.handleOpenModal.bind(Object(o.a)(e)),e.handleCloseModal=e.handleCloseModal.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(a,[{key:"handleOpenModal",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({showModal:!0,modalName:t});case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleCloseModal",value:function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({showModal:!1});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillMount",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=this.props.location.state.data)||this.props.history.push("rmwb-rmwb-list-upload-role"),this.setState({selectedFile:t}),this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),e.next=6,this.setState({loggedUser:localStorage.getItem("userNip")});case 6:this.getdataMaster(),this.getListDataStatus(t.status),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage),this.validator=new w.a({autoForceUpdate:this,element:function(e){return m.a.createElement("div",{className:"row col-12 validator-error-message"},m.a.createElement("div",{className:"col-4"}),m.a.createElement("div",{className:"col-8"},e))}});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=!0,n=new y.a,e.next=5,n.findStatusByParam(this.state);case 5:(r=e.sent)&&200===r.status&&r.data?this.setState({listDataStatus:r.data}):t=!1,t||this.clearSession(),a||this.errorConectionToBe();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r){var l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=!0,this.setState({loading:!0}),i=new b.a,e.next=5,i.findUploadDetailRoleByParam(t,a,n,r,this.state);case 5:(o=e.sent)&&200===o.status&&o.data&&o.data.data?(this.setState({list:o.data.data}),this.setState({totalRows:o.data.total_result}),this.setState({totalPage:o.data.total_page}),this.setState({isSuccess:!0}),this.setState({loading:!1})):(o&&o.data&&o.data.message?(this.setState({isSuccess:!1,message:o.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Get data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)),this.setState({list:[]}),this.setState({totalRows:0}),this.setState({totalPage:0}),this.setState({loading:!1})),l||this.errorConectionToBe();case 8:case"end":return e.stop()}}),e,this)})));return function(t,a,n,s){return e.apply(this,arguments)}}()},{key:"handleSort",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({sort:a});case 2:return e.next=4,this.setState({sort_by:t.selector});case 4:return e.next=6,this.setPage(this.state.page,a,t.selector,this.state.perPage);case 6:document.getElementById("column-"+t.selector).classList.add("sorted");case 8:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"handlePageChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({page:t}),this.setPage(t,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handlePerRowsChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({perPage:t}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getListDataStatus",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!0,n=new y.a,e.next=4,n.findStatusByParam(this.state);case 4:(r=e.sent)&&200===r.status&&r.data.length>0?(this.setState({listDataStatus:r.data}),l=r.data.filter((function(e){return e.code===t})),this.setState({currentDataStatus:l[0]})):(this.setState({listDataStatus:""}),this.setState({currentDataStatus:""}),r&&r.data&&S.a===r.data.data?a=!1:this.setState({listDataStatus:""})),a||this.clearSession();case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"onSubmitApprove",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),t=new b.a,(a=this.state).status="approved",e.next=6,t.approveFileRole(a);case 6:(n=e.sent)&&(200===n.status&&"Success"===n.data.message?(this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-list-upload-role",this.state),this.setState({loading:!1})):n&&n.data&&S.a===n.data.data?(alert("Save Data Failed, Please try again !"),this.setState({loading:!1}),window.location.reload()):(this.setState({isSuccess:!1,message:"Save Data Failed",alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1})));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onSubmitReject",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({loading:!0}),t=new b.a,(a=this.state).status="rejected",this.validator.allValid()){e.next=8;break}return this.validator.showMessages(),this.setState({loading:!1}),e.abrupt("return");case 8:return e.next=10,t.rejectFileRole(a);case 10:(n=e.sent)&&(200===n.status&&"Success"===n.data.message?(this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-list-upload-role",this.state),this.setState({isSuccess:!0}),this.setState({loading:!1})):n&&n.data&&S.a===n.data.data?(alert("Save Data Failed, Please try again !"),this.setState({loading:!1}),window.location.reload()):(this.setState({isSuccess:!1,message:"Save Data Failed",alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1})));case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){for(var e=this,t=JSON.parse(this.state.userPrivilege)||[],a=!1,n=0;n<t.length;n++)"approval_rmwb_role"===t[n].name+"_"+t[n].vgroup&&(a=!0);var s=this.state.currentDataStatus?this.state.currentDataStatus:[],r=!1,l=!1;s&&("rmwbData_approved"===s.type+"_"+s.code&&(r=!0),"rmwbData_rejected"===s.type+"_"+s.code&&(l=!0));return m.a.createElement("div",{id:"list-upload-role-detail",className:"default-rmwb-wrapper"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?m.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,this.state.isSuccess?null:m.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-6"},m.a.createElement("h3",null,"Detail Upload Data Role")),m.a.createElement("div",{className:"col-6"},m.a.createElement(p.b,{to:"rmwb-list-upload-role",className:"d-flex justify-content-end"},m.a.createElement("button",{className:"btn btn-info"},"Back to Upload List")))),m.a.createElement("p",null,"File name : ",this.state.selectedFile.file_name," || Uploaded by : ",this.state.selectedFile.insert_by," || At : ",this.state.selectedFile.insert_at," || Status : ",this.state.selectedFile.status),l?m.a.createElement("p",null,"Remarks : ",this.state.selectedFile.remarks):null,m.a.createElement(f.a,{id:"tableData",className:"mb-4",defaultSortField:this.state.sort_by,columns:[{name:"Role Name",selector:"role_name_draft",sortable:!0},{name:"Type Role",selector:"role_type_draft",sortable:!0}],progressPending:this.state.loading,pagination:!0,paginationServer:!0,sortServer:!0,paginationTotalRows:this.state.totalRows,onChangeRowsPerPage:this.handlePerRowsChange,onChangePage:this.handlePageChange,onSort:this.handleSort,data:this.state.list}),m.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},!a||l||r?null:m.a.createElement("div",null,m.a.createElement("button",{className:"button-red mr-2",onClick:function(){return e.handleOpenModal("reject-data")}},"Reject"),m.a.createElement("button",{className:"button-green",onClick:function(){return e.handleOpenModal("approve-data")}},"Approve"))),this.state.loading?m.a.createElement("div",{className:"loading-overlay"},m.a.createElement("div",{className:"loader"})):null,m.a.createElement(v.a,{closeTimeoutMS:300,isOpen:this.state.showModal,contentLabel:"onRequestClose Example",onRequestClose:this.handleCloseModal,className:"Modal",overlayClassName:"Overlay"},"approve-data"===this.state.modalName?m.a.createElement("div",null,m.a.createElement("div",{className:"row mx-0 justify-content-center"},m.a.createElement("h4",null,"Are You Sure To Approve This Data ?")),m.a.createElement("div",{className:"d-flex justify-content-center mx-2 mt-5"},m.a.createElement("button",{className:"button-red mr-5",onClick:this.handleCloseModal},"Cancel"),m.a.createElement("button",{className:"button-red",onClick:this.onSubmitApprove.bind(this)},"Approve"))):null,"reject-data"===this.state.modalName?m.a.createElement("div",null,m.a.createElement("div",{className:"row mx-0 justify-content-center"},m.a.createElement("h4",{className:"mb-4"},"Please fill Remark to data Maker !"),this.state.error?m.a.createElement("div",{className:"col-12 ".concat(this.state.alertState),role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.errorMessage):null,m.a.createElement("textarea",{className:"col-12 form-input",type:"text",onChange:function(t){return e.setState({remarks:t.target.value})},value:this.state.remarks||"",placeholder:"Remarks",onBlur:function(){return e.validator.showMessageFor("remarks")}}),this.validator.message("remarks",this.state.remarks,"required")),m.a.createElement("div",{className:"d-flex justify-content-center mx-2 mt-4"},m.a.createElement("button",{className:"button-red mr-5",onClick:this.handleCloseModal},"Cancel"),m.a.createElement("button",{className:"button-red",onClick:this.onSubmitReject.bind(this)},"Reject"))):null))}}]),a}(d.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return b}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=(a(28),a(341),a(13)),p=a(8),h=a(132),f=a(17),g=a(31),v=a.n(g),b=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={isSuccess:!1,message:"",token:localStorage.getItem("accessToken"),selectedFile:null,loading:!1},e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),this.setState({loggedUser:localStorage.getItem("userNip")}),this.getdataMaster(),this.validator=new v.a({autoForceUpdate:this,element:function(e){return d.a.createElement("div",{className:"row col-12 validator-error-message"},d.a.createElement("div",{className:"col-2"}),d.a.createElement("div",{className:"col-10"},e))}})}},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=!0,n=new f.a,e.next=5,n.findStatusByParam(this.state);case 5:(r=e.sent)&&200===r.status&&r.data?this.setState({listDataStatus:r.data}):t=!1,t||this.clearSession(),a||this.errorConectionToBe();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"errorConectionToBe",value:function(){alert("Connection to Server Octobench interupted!\nPlease check your conection or contact administrator!")}},{key:"prepareSubmit",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("","SECADOCTOBENCH"!==(t=localStorage.getItem("roleName"))&&"SADMINOCTOBENCH"!==t){e.next=13;break}if(!window.confirm("Are you sure to submit and approve this data ?")){e.next=8;break}return e.next=6,this.submit();case 6:e.next=11;break;case 8:return window.scrollTo(0,0),this.setState({loading:!1}),e.abrupt("return",!1);case 11:e.next=15;break;case 13:return e.next=15,this.submit();case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({loading:!0}),t=new h.a,this.validator.allValid()){e.next=6;break}return this.validator.showMessages(),this.setState({loading:!1}),e.abrupt("return");case 6:return(a=new FormData).append("file",this.state.selectedFile),e.next=10,t.uploadFileRole(a,this.state);case 10:if(!(n=e.sent)){e.next=25;break}if(200!==n.status||"Succeed"!==n.data.message){e.next=24;break}if(r=n.data.data.file_id,"","SECADOCTOBENCH"!==(l=localStorage.getItem("roleName"))&&"SADMINOCTOBENCH"!==l){e.next=19;break}return e.next=19,this.onSubmitApprove(r);case 19:this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-list-upload-role",this.state),this.setState({loading:!1}),e.next=25;break;case 24:n&&n.data&&p.a===n.data.data?(alert("Save Data Failed, Please try again !"),this.setState({loading:!1}),window.location.reload()):(this.setState({isSuccess:!1,message:"Save Data Failed, "+n.data.data.remarks,alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1}));case 25:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onSubmitApprove",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),a=new h.a,(n=this.state).status="approved",n.selectedFile.id=t,e.next=7,a.approveFileRole(n);case 7:(r=e.sent)&&(200===r.status&&"Success"===r.data.message?(this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-role",this.state),this.setState({loading:!1})):r&&r.data&&p.a===r.data.data?(alert("Save Data Failed, Please try again !"),this.setState({loading:!1}),window.location.reload()):(this.setState({isSuccess:!1,message:"Save Data Failed",alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1})));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return d.a.createElement("div",{id:"upload-role",className:"default-rmwb-wrapper"},this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-6"},d.a.createElement("h3",{className:"mb-4"},"Upload New Data Role")),d.a.createElement("div",{className:"col-6"},d.a.createElement(m.b,{to:"rmwb-list-upload-role",className:"d-flex justify-content-end"},d.a.createElement("button",{className:"btn btn-info"},"Back to Upload List")))),d.a.createElement("div",{className:"form-box-area mb-4"},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"row col-12"},d.a.createElement("h4",{className:"mb-4 col-6"},"Please select file to be upload")),d.a.createElement("div",{className:"row mb-3 col-12"},d.a.createElement("label",{className:"col-2"},"New File Role ",d.a.createElement("span",{className:"text-danger"},"*")),d.a.createElement("input",{className:"col-6 px-0",type:"file",id:"upload-new-file",onChange:function(t){return e.setState({selectedFile:t.target.files[0],loaded:0})},onBlur:function(){return e.validator.showMessageFor("file")}}),d.a.createElement("div",{className:"col-4 d-flex justify-content-end"},d.a.createElement("button",{type:"button",className:"button-red",onClick:function(t){return e.prepareSubmit()}},"Upload")),this.validator.message("file",this.state.selectedFile,"required")))),this.state.loading?d.a.createElement("div",{className:"loading-overlay"},d.a.createElement("div",{className:"loader"})):null)}}]),a}(u.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return E}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=a(15),h=a.n(p),f=a(13),g=a(24),v=a.n(g),b=(a(28),a(278),a(21),a(89)),y=a(17),S=a(65),E=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).setValueSearch=function(t){e.setState({search_key:t})},e.state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),totalRows:0,perPage:10,page:1,totalPage:0,sort_by:"client_cif",sort:"asc",typeFind:"rmwbData",search_key:"",search:!1,isSuccess:!0},e.reset=e.reset.bind(Object(o.a)(e)),e.handlePageChange=e.handlePageChange.bind(Object(o.a)(e)),e.handlePerRowsChange=e.handlePerRowsChange.bind(Object(o.a)(e)),e.handleSort=e.handleSort.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(n,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),this.getdataMaster(),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage)}},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=!0,n=new y.a,e.next=5,n.findStatusByParam(this.state);case 5:(r=e.sent)&&200===r.status&&r.data?this.setState({listDataStatus:r.data}):t=!1,t||this.clearSession(),a||this.errorConectionToBe();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadOptions",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var r,l,i,o,c,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.page,l=new b.a,e.next=4,l.findSelectClient(r,10,t);case 4:for(i=e.sent,o=[],c=0;c<i.data.data.length;c++)o.push({value:i.data.data[c].client_cif,label:i.data.data[c].name+" ("+i.data.data[c].client_cif+")"});return u=r<i.data.total_page,e.abrupt("return",{options:o,hasMore:u,additional:{page:r+1}});case 9:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r){var l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=!0,this.setState({loading:!0}),i=new b.a,e.next=5,i.findClientProfileByParam(t,a,n,r,this.state);case 5:(o=e.sent)&&200===o.status&&o.data&&o.data.data?(this.setState({list:o.data.data}),this.setState({totalRows:o.data.total_result}),this.setState({totalPage:o.data.total_page}),this.setState({isSuccess:!0}),this.setState({loading:!1})):(o&&o.data&&o.data.message?(this.setState({isSuccess:!1,message:o.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Get Data Failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)),this.setState({list:[]}),this.setState({totalRows:0}),this.setState({totalPage:0}),this.setState({loading:!1})),l||this.errorConectionToBe();case 8:case"end":return e.stop()}}),e,this)})));return function(t,a,n,s){return e.apply(this,arguments)}}()},{key:"handleSort",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({sort:a});case 2:return e.next=4,this.setState({sort_by:t.selector});case 4:return e.next=6,this.setPage(this.state.page,a,t.selector,this.state.perPage);case 6:document.getElementById("column-"+t.selector).classList.add("sorted");case 8:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"handlePageChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({page:t}),this.setPage(t,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handlePerRowsChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({perPage:t}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"editRow",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t?this.props.history.push("rmwb-detail-client-profile",{data:t}):alert("Some thing wrong with selected data pelase refresh your browser or contact admin!")||window.location.reload();case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"search",value:function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({loading:!0,search:!0}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"reset",value:function(){var e=this;this.setState({loading:!0}),h.a.findDOMNode(this.refs.search_key).value="",this.setState({search_key:""},(function(){setTimeout((function(){e.setPage(e.state.page,e.state.sort,e.state.sort_by,e.state.perPage)}),100)}))}},{key:"errorConectionToBe",value:function(){alert("Connection to Server Octobench interupted!\nPlease check your conection or contact administrator!")}},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"render",value:function(){for(var e=this,t=JSON.parse(this.state.userPrivilege)||[],n=!1,s=0;s<t.length;s++)"upload_rmwb_clientProfile"===t[s].name+"_"+t[s].vgroup&&(n=!0);var r=[{name:"Client CIF",selector:"client_cif",sortable:!0},{name:"Name",selector:"name",sortable:!0},{name:"Core Business Description",selector:"core_business_description_draft",sortable:!0},{name:"Product",selector:"products_draft",sortable:!0},{name:"Production Capacity",selector:"production_capacity_draft",sortable:!0},{name:"Competitive Landscape",selector:"competitive_landscape_draft",sortable:!0},{name:"Supplier Overview",selector:"supplier_overview_draft",sortable:!0},{name:"Customer Overview",selector:"customer_overview_draft",sortable:!0},{name:"Status",selector:"status",sortable:!0},{name:"Action",sortable:!1,center:!0,cell:function(t){return m.a.createElement("input",{type:"image",alt:"Edit",height:20,value:t.clientProfile_cif,src:a(582),onClick:function(a){return e.editRow(t)}})},button:!0}];return m.a.createElement("div",{id:"ListClientProfile",className:"default-rmwb-wrapper"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?m.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?this.props.location.state.message:this.state.message):null,this.state.isSuccess?null:m.a.createElement("div",{className:"alert alert-danger",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),m.a.createElement("h3",null,"Client Profile List"),m.a.createElement("div",{id:"search-menu"},m.a.createElement("table",{style:{width:"100%"}},m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-2"},"Search CIF"),m.a.createElement(S.a,{className:"col-6 p-0",ref:"search_key",value:this.state.search_key,loadOptions:this.loadOptions,onChange:this.setValueSearch,debounceTimeout:300,additional:{page:1}})))))),m.a.createElement("div",null,m.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.search.bind(this)},"search"),m.a.createElement("button",{type:"button",className:"reset-btn btn btn-secondary btn-sm",onClick:this.reset},"reset"))),m.a.createElement(v.a,{id:"tableData",className:"mb-4",defaultSortField:this.state.sort_by,columns:r,progressPending:this.state.loading,pagination:!0,paginationServer:!0,sortServer:!0,paginationTotalRows:this.state.totalRows,onChangeRowsPerPage:this.handlePerRowsChange,onChangePage:this.handlePageChange,onSort:this.handleSort,data:this.state.list,responsive:!0}),m.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},n?m.a.createElement(f.b,{to:"rmwb-list-upload-client-profile",className:"justify-content-end"},m.a.createElement("button",{className:"button-red"},"Bulk Upload Client Profile")):null),this.state.loading?m.a.createElement("div",{className:"loading-overlay"},m.a.createElement("div",{className:"loader"})):null)}}]),n}(d.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return k}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=a(15),h=a.n(p),f=a(13),g=a(24),v=a.n(g),b=a(27),y=a(16),S=a.n(y),E=(a(28),a(278),a(21),a(89)),w=a(17),k=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).setValueSearch=function(t){e.setState({search_key:t})},e.state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),totalRows:0,perPage:10,page:1,totalPage:0,sort_by:"file_name",sort:"asc",typeFind:"rmwbData",search_key:"",filterDataInsertAt:"",filterDataStatus:"",isChecker:!1},e.reset=e.reset.bind(Object(o.a)(e)),e.handlePageChange=e.handlePageChange.bind(Object(o.a)(e)),e.handlePerRowsChange=e.handlePerRowsChange.bind(Object(o.a)(e)),e.handleSort=e.handleSort.bind(Object(o.a)(e)),e.downloadTemplate=e.downloadTemplate.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(n,[{key:"componentWillMount",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),t=JSON.parse(localStorage.getItem("userPrivilege"))||[],a=0;a<t.length;a++)"approval_rmwb_clientProfile"===t[a].name+"_"+t[a].vgroup&&this.setState({isChecker:!0});return e.next=5,this.setState({loggedUser:localStorage.getItem("userNip")});case 5:this.getdataMaster(),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=!0,n=new w.a,e.next=5,n.findStatusByParam(this.state);case 5:(r=e.sent)&&200===r.status&&r.data?this.setState({listDataStatus:r.data}):t=!1,t||this.clearSession(),a||this.errorConectionToBe();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadOptions",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var r,l,i,o,c,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.page,l=new E.a,e.next=4,l.findSelectClient(r,10,t);case 4:for(i=e.sent,o=[],c=0;c<i.data.data.length;c++)o.push({value:i.data.data[c].client_cif,label:i.data.data[c].name});return u=r<i.data.totalPage,e.abrupt("return",{options:o,hasMore:u,additional:{page:r+1}});case 9:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r){var l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=!0,this.setState({loading:!0}),i=new E.a,e.next=5,i.findUploadClientProfileByParam(t,a,n,r,this.state);case 5:(o=e.sent)&&200===o.status&&o.data&&o.data.data?(this.setState({list:o.data.data}),this.setState({totalRows:o.data.total_result}),this.setState({totalPage:o.data.total_page}),this.setState({isSuccess:!0}),this.setState({loading:!1})):(o&&o.data&&o.data.message?(this.setState({isSuccess:!1,message:o.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Get data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)),this.setState({list:[]}),this.setState({totalRows:0}),this.setState({totalPage:0}),this.setState({loading:!1})),l||this.errorConectionToBe();case 8:case"end":return e.stop()}}),e,this)})));return function(t,a,n,s){return e.apply(this,arguments)}}()},{key:"handleSort",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({sort:a});case 2:return e.next=4,this.setState({sort_by:t.selector});case 4:return e.next=6,this.setPage(this.state.page,a,t.selector,this.state.perPage);case 6:document.getElementById("column-"+t.selector).classList.add("sorted");case 8:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"handlePageChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({page:t}),this.setPage(t,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handlePerRowsChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({perPage:t}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"editRow",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t?this.props.history.push("rmwb-detail-upload-client-profile",{data:t}):alert("Some thing wrong with selected data pelase refresh your browser or contact admin!")||window.location.reload();case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"downloadTemplate",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),t=new E.a,e.next=4,t.downloadTemplate();case 4:(a=e.sent)&&200===a.status&&a.data?(this.setState({isSuccess:!0}),n=new Blob([a.data],{type:"application/octet-stream"}),r=window.URL.createObjectURL(n),(l=document.createElement("a")).href=r,l.target="_blank",l.download="client_profile.xlsx",document.body.appendChild(l),l.click(),document.body.removeChild(l),this.setState({loading:!1})):(a&&a.data&&a.data.message?(this.setState({isSuccess:!1,message:a.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Error cant download data, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)),this.setState({loading:!1}));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"search",value:function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({loading:!0,search:!0}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"reset",value:function(){var e=this;h.a.findDOMNode(this.refs.search_status).value="",h.a.findDOMNode(this.refs.insert_date).value="",this.setState({search_status:"",insert_date:""},(function(){setTimeout((function(){e.setPage(e.state.page,e.state.sort,e.state.sort_by,e.state.perPage)}),100)}))}},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"render",value:function(){for(var e=this,t=this.state.insert_date?S()(this.state.insert_date,"YYYY-MM-DDTHH:mm:ss").toDate():null,n=JSON.parse(this.state.userPrivilege)||[],s=!1,r=0;r<n.length;r++)"upload_rmwb_clientProfile"===n[r].name+"_"+n[r].vgroup&&(s=!0);var l=[{name:"File Name",selector:"file_name",sortable:!0},{name:"Insert By",selector:"insert_by",sortable:!0},{name:"Insert At",selector:"insert_at",sortable:!0},{name:"Status",selector:"status",sortable:!0},{name:"Action",sortable:!1,cell:function(t){return m.a.createElement("div",null,m.a.createElement("input",{type:"image",alt:"Edit",height:20,value:t.buyer_cif,src:a(40),onClick:function(a){return e.editRow(t)}}))},button:!0}];return m.a.createElement("div",{id:"list-upload-client-profile",className:"default-rmwb-wrapper"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?m.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,this.state.isSuccess?null:m.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),m.a.createElement("h3",null,"List Upload Data Client Profile"),m.a.createElement("div",{id:"search-menu"},m.a.createElement("table",{style:{width:"100%"}},m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-2"},"Status File"),m.a.createElement("select",{ref:"search_status",className:"form-input col-4",onChange:function(t){return e.setState({search_status:t.target.value})}},m.a.createElement("option",{value:""},"Please select status!"),m.a.createElement("option",{value:"submitted"},"Submitted"),m.a.createElement("option",{value:"rejected"},"Rejected"))))),m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-2"},"Insert Date"),m.a.createElement("div",{className:"col-4 p-0"},m.a.createElement(b.a,{ref:"insert_date",className:"form-input",dateFormat:"yyyy-MM-dd",selected:t,onChange:function(t){return e.setState({insert_date:t})}}))))))),m.a.createElement("div",null,m.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.search.bind(this)},"search"),m.a.createElement("button",{type:"button",className:"reset-btn btn btn-secondary btn-sm",onClick:this.reset},"reset"))),m.a.createElement(v.a,{id:"tableData",className:"mb-4",defaultSortField:this.state.sort_by,columns:l,progressPending:this.state.loading,pagination:!0,paginationServer:!0,sortServer:!0,paginationTotalRows:this.state.totalRows,onChangeRowsPerPage:this.handlePerRowsChange,onChangePage:this.handlePageChange,onSort:this.handleSort,data:this.state.list}),m.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},m.a.createElement("div",{className:"d-flex justify-content-end my-4 mr-3"},m.a.createElement("button",{className:"button-red",onClick:this.downloadTemplate},m.a.createElement("img",{src:"./../../../assets/images/export.png",alt:""}),"Download Template File")),s?m.a.createElement(f.b,{to:"rmwb-upload-client-profile",className:"d-flex justify-content-end my-4"},m.a.createElement("button",{className:"button-red"},"Upload New Data Client Profile")):null),this.state.loading?m.a.createElement("div",{className:"loading-overlay"},m.a.createElement("div",{className:"loader"})):null)}}]),n}(d.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return A}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=a(15),h=a.n(p),f=a(13),g=a(24),v=a.n(g),b=a(30),y=a.n(b),S=(a(28),a(278),a(21),a(89)),E=a(17),w=a(8),k=a(65),N=a(31),C=a.n(N),A=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).setValueSearch=function(t){e.setState({search_key:t})},e.state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),totalRows:0,perPage:10,page:1,totalPage:0,sort_by:"client_cif",sort:"asc",typeFind:"rmwbData",search_key:""},e.reset=e.reset.bind(Object(o.a)(e)),e.handlePageChange=e.handlePageChange.bind(Object(o.a)(e)),e.handleChange=e.handleChange.bind(Object(o.a)(e)),e.handlePerRowsChange=e.handlePerRowsChange.bind(Object(o.a)(e)),e.handleSort=e.handleSort.bind(Object(o.a)(e)),e.handleOpenModal=e.handleOpenModal.bind(Object(o.a)(e)),e.handleCloseModal=e.handleCloseModal.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(a,[{key:"handleOpenModal",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({showModal:!0,modalName:t});case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleCloseModal",value:function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({showModal:!1});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillMount",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=this.props.location.state.data)||this.props.history.push("rmwb-rmwb-list-upload-client-profile"),this.setState({selectedFile:t}),this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),e.next=6,this.setState({loggedUser:localStorage.getItem("userNip")});case 6:this.getdataMaster(),this.getListDataStatus(t.status),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage),this.validator=new C.a({autoForceUpdate:this,element:function(e){return m.a.createElement("div",{className:"row col-12 validator-error-message"},m.a.createElement("div",{className:"col-4"}),m.a.createElement("div",{className:"col-8"},e))}});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=!0,n=new E.a,e.next=5,n.findStatusByParam(this.state);case 5:(r=e.sent)&&200===r.status&&r.data?this.setState({listDataStatus:r.data}):t=!1,t||this.clearSession(),a||this.errorConectionToBe();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadOptions",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var r,l,i,o,c,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.page,l=new S.a,e.next=4,l.findSelectClient(r,10,t);case 4:for(i=e.sent,o=[],c=0;c<i.data.data.length;c++)o.push({value:i.data.data[c].client_cif,label:i.data.data[c].name});return u=r<i.data.totalPage,e.abrupt("return",{options:o,hasMore:u,additional:{page:r+1}});case 9:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r){var l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=!0,this.setState({loading:!0}),i=new S.a,e.next=5,i.findUploadDetailClientProfileByParam(t,a,n,r,this.state);case 5:(o=e.sent)&&200===o.status&&o.data&&o.data.data?(this.setState({list:o.data.data}),this.setState({totalRows:o.data.total_result}),this.setState({totalPage:o.data.total_page}),this.setState({isSuccess:!0}),this.setState({loading:!1})):(o&&o.data&&o.data.message?(this.setState({isSuccess:!1,message:o.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Get Data Failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)),this.setState({list:[]}),this.setState({totalRows:0}),this.setState({totalPage:0}),this.setState({loading:!1})),l||this.errorConectionToBe();case 8:case"end":return e.stop()}}),e,this)})));return function(t,a,n,s){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleSort",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({sort:a});case 2:return e.next=4,this.setState({sort_by:t.selector});case 4:return e.next=6,this.setPage(this.state.page,a,t.selector,this.state.perPage);case 6:document.getElementById("column-"+t.selector).classList.add("sorted");case 8:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"handlePageChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({page:t}),this.setPage(t,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handlePerRowsChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({perPage:t}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"editRow",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t?this.props.history.push("rmwb-detail-upload-client-profile",{data:t}):alert("Some thing wrong with selected data pelase refresh your browser or contact admin!")||window.location.reload();case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getListDataStatus",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!0,n=new E.a,e.next=4,n.findStatusByParam(this.state);case 4:(r=e.sent)&&200===r.status&&r.data.length>0?(this.setState({listDataStatus:r.data}),l=r.data.filter((function(e){return e.code===t})),this.setState({currentDataStatus:l[0]})):(this.setState({listDataStatus:""}),this.setState({currentDataStatus:""}),r&&r.data&&w.a===r.data.data?a=!1:this.setState({listDataStatus:""})),a||this.clearSession();case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"donwloadTemplate",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new S.a,e.next=3,t.donwloadTemplate();case 3:(a=e.sent)?((n=document.createElement("a")).href=a,n.target="_blank",document.body.appendChild(n),n.click(),document.body.removeChild(n)):alert("Error cant download data");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"search",value:function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({loading:!0,search:!0}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"reset",value:function(){var e=this;this.setState({loading:!0}),h.a.findDOMNode(this.refs.search_key).value="",this.setState({search_key:""},(function(){setTimeout((function(){e.setPage(e.state.page,e.state.sort,e.state.sort_by,e.state.perPage)}),100)}))}},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"onSubmitApprove",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),t=new S.a,(a=this.state).status="approved",e.next=6,t.approveFileClientProfile(a);case 6:(n=e.sent)&&(200===n.status&&"Success"===n.data.message?(this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-list-upload-client-profile",this.state),this.setState({loading:!1})):n&&n.data&&w.a===n.data.data?(alert("Save Data Failed, Please try again !"),this.setState({loading:!1}),window.location.reload()):(this.setState({isSuccess:!1,message:"Save Data Failed",alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1})));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onSubmitReject",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({loading:!0}),t=new S.a,(a=this.state).status="rejected",this.validator.allValid()){e.next=8;break}return this.validator.showMessages(),this.setState({loading:!1}),e.abrupt("return");case 8:return e.next=10,t.rejectFileClientProfile(a);case 10:(n=e.sent)&&(200===n.status&&"Success"===n.data.message?(this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-list-upload-client-profile",this.state),this.setState({loading:!1})):n&&n.data&&w.a===n.data.data?(alert("Save Data Failed, Please try again !"),this.setState({loading:!1}),window.location.reload()):(this.setState({isSuccess:!1,message:"Save Data Failed",alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1})));case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){for(var e=this,t=JSON.parse(this.state.userPrivilege)||[],a=!1,n=0;n<t.length;n++)"approval_rmwb_clientProfile"===t[n].name+"_"+t[n].vgroup&&(a=!0);var s=this.state.currentDataStatus?this.state.currentDataStatus:[],r=!1,l=!1;s&&("rmwbData_approved"===s.type+"_"+s.code&&(r=!0),"rmwbData_rejected"===s.type+"_"+s.code&&(l=!0));return m.a.createElement("div",{id:"ListUser"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?m.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?this.props.location.state.message:this.state.message):null,this.state.isSuccess?null:m.a.createElement("div",{className:"alert alert-danger",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-6"},m.a.createElement("h3",null,"Detail Upload Data Client Profile")),m.a.createElement("div",{className:"col-6"},m.a.createElement(f.b,{to:"rmwb-list-upload-client-profile",className:"d-flex justify-content-end"},m.a.createElement("button",{className:"btn btn-info"},"Back to Upload List")))),m.a.createElement("p",null,"File name : ",this.state.selectedFile.file_name," || Uploaded by : ",this.state.selectedFile.insert_by," || At : ",this.state.selectedFile.insert_at," || Status : ",this.state.selectedFile.status),l?m.a.createElement("p",null,"Remarks : ",this.state.selectedFile.remarks):null,m.a.createElement("div",{id:"search-menu"},m.a.createElement("table",{style:{width:"100%"}},m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-2"},"Search CIF"),m.a.createElement(k.a,{className:"col-6",ref:"search_key",value:this.state.search_key,loadOptions:this.loadOptions,onChange:this.setValueSearch,debounceTimeout:300,additional:{page:1}})))))),m.a.createElement("div",null,m.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.search.bind(this)},"search"),m.a.createElement("button",{type:"button",className:"reset-btn btn btn-secondary btn-sm",onClick:this.reset},"reset"))),m.a.createElement(v.a,{id:"tableData",className:"mb-4",defaultSortField:this.state.sort_by,columns:[{name:"Client CIF",selector:"client_cif",sortable:!0},{name:"Name",selector:"name",sortable:!0},{name:"Core Business Description",selector:"core_business_description_draft",sortable:!0},{name:"Product",selector:"products_draft",sortable:!0},{name:"Production Capacity",selector:"production_capacity_draft",sortable:!0},{name:"Competitive Landscape",selector:"competitive_landscape_draft",sortable:!0},{name:"Supplier Overview",selector:"supplier_overview_draft",sortable:!0},{name:"Customer Overview",selector:"customer_overview_draft",sortable:!0}],progressPending:this.state.loading,pagination:!0,paginationServer:!0,sortServer:!0,paginationTotalRows:this.state.totalRows,onChangeRowsPerPage:this.handlePerRowsChange,onChangePage:this.handlePageChange,onSort:this.handleSort,data:this.state.list}),m.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},!a||l||r?null:m.a.createElement("div",null,m.a.createElement("button",{className:"button-red mr-2",onClick:function(){return e.handleOpenModal("reject-data")}},"Reject"),m.a.createElement("button",{className:"button-green",onClick:function(){return e.handleOpenModal("approve-data")}},"Approve"))),this.state.loading?m.a.createElement("div",{className:"loading-overlay"},m.a.createElement("div",{className:"loader"})):null,m.a.createElement(y.a,{closeTimeoutMS:300,isOpen:this.state.showModal,contentLabel:"onRequestClose Example",onRequestClose:this.handleCloseModal,className:"Modal",overlayClassName:"Overlay"},"approve-data"===this.state.modalName?m.a.createElement("div",null,m.a.createElement("div",{className:"row mx-0 justify-content-center"},m.a.createElement("h4",null,"Are You Sure To Approve This Data ?")),m.a.createElement("div",{className:"d-flex justify-content-center mx-2 mt-5"},m.a.createElement("button",{className:"button-red mr-5",onClick:this.handleCloseModal},"Cancel"),m.a.createElement("button",{className:"button-red",onClick:this.onSubmitApprove.bind(this)},"Approve"))):null,"reject-data"===this.state.modalName?m.a.createElement("div",null,m.a.createElement("div",{className:"row mx-0 justify-content-center"},m.a.createElement("h4",{className:"mb-4"},"Please fill Remark to data Maker !"),this.state.error?m.a.createElement("div",{className:"col-12 ".concat(this.state.alertState),role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.errorMessage):null,m.a.createElement("textarea",{className:"col-12 form-input",type:"text",onChange:function(t){return e.setState({remarks:t.target.value})},value:this.state.remarks||"",placeholder:"Remarks",onBlur:function(){return e.validator.showMessageFor("remarks")}}),this.validator.message("remarks",this.state.remarks,"required")),m.a.createElement("div",{className:"d-flex justify-content-center mx-2 mt-4"},m.a.createElement("button",{className:"button-red mr-5",onClick:this.handleCloseModal},"Cancel"),m.a.createElement("button",{className:"button-red",onClick:this.onSubmitReject.bind(this)},"Reject"))):null))}}]),a}(d.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return b}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=(a(278),a(13)),p=a(8),h=a(89),f=a(17),g=a(31),v=a.n(g),b=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={isSuccess:!1,message:"",token:localStorage.getItem("accessToken"),selectedFile:null,loading:!1,roleName:localStorage.getItem("roleName"),isSadmin:!1},e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.setState({isSadmin:"SADMINOCTOBENCH"===this.state.roleName}),this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),this.setState({loggedUser:localStorage.getItem("userNip")}),this.getdataMaster(),this.validator=new v.a({autoForceUpdate:this,element:function(e){return d.a.createElement("div",{className:"row col-12 validator-error-message"},d.a.createElement("div",{className:"col-2"}),d.a.createElement("div",{className:"col-10"},e))}})}},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=!0,n=new f.a,e.next=5,n.findStatusByParam(this.state);case 5:(r=e.sent)&&200===r.status&&r.data?this.setState({listDataStatus:r.data}):t=!1,t||this.clearSession(),a||this.errorConectionToBe();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"errorConectionToBe",value:function(){alert("Connection to Server Octobench interupted!\nPlease check your conection or contact administrator!")}},{key:"onSubmitApprove",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),a=new h.a,(n=this.state).status="approved",n.selectedFile.id=t,e.next=7,a.approveFileClientProfile(n);case 7:(r=e.sent)&&(200===r.status&&"Success"===r.data.message?(this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-client-profile",this.state),this.setState({loading:!1})):r&&r.data&&p.a===r.data.data?(alert("Save Data Failed, Please try again !"),this.setState({loading:!1}),window.location.reload()):(this.setState({isSuccess:!1,message:"Save Data Failed",alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1})));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.isSadmin){e.next=21;break}if(!window.confirm("Are you sure to submit and approve this data ?")){e.next=17;break}if(this.setState({loading:!0}),t=new h.a,this.validator.allValid()){e.next=8;break}return this.validator.showMessages(),this.setState({loading:!1}),e.abrupt("return");case 8:return(a=new FormData).append("file",this.state.selectedFile),e.next=12,t.uploadFileClientProfile(a,this.state);case 12:n=e.sent,console.log(n),n&&(200===n.status&&"Succeed"===n.data.message?(r=n.data.data.file_id,this.onSubmitApprove(r),this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-list-upload-client-profile",this.state),this.setState({loading:!1})):n&&n.data&&p.a===n.data.data?(alert("Save Data Failed, Please try again !"),this.setState({loading:!1}),window.location.reload()):(this.setState({isSuccess:!1,message:"Save Data Failed, "+n.data.data.remarks,alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1}))),e.next=19;break;case 17:return this.setState({loaded:!1}),e.abrupt("return",!1);case 19:e.next=33;break;case 21:if(this.setState({loading:!0}),l=new h.a,this.validator.allValid()){e.next=27;break}return this.validator.showMessages(),this.setState({loading:!1}),e.abrupt("return");case 27:return(i=new FormData).append("file",this.state.selectedFile),e.next=31,l.uploadFileClientProfile(i,this.state);case 31:(o=e.sent)&&(200===o.status&&"Succeed"===o.data.message?(this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-list-upload-client-profile",this.state),this.setState({loading:!1})):o&&o.data&&p.a===o.data.data?(alert("Save Data Failed, Please try again !"),this.setState({loading:!1}),window.location.reload()):(this.setState({isSuccess:!1,message:"Save Data Failed, "+o.data.data.remarks,alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1})));case 33:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return d.a.createElement("div",{id:"EditBuyer"},this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-6"},d.a.createElement("h3",{className:"mb-4"},"Upload New Data Client Profile")),d.a.createElement("div",{className:"col-6"},d.a.createElement(m.b,{to:"rmwb-list-upload-client-profile",className:"d-flex justify-content-end"},d.a.createElement("button",{className:"btn btn-info"},"Back to Upload List")))),d.a.createElement("div",{className:"form-box-area mb-4"},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"row col-12"},d.a.createElement("h4",{className:"mb-4 col-6"},"Please select file to be upload")),d.a.createElement("div",{className:"row mb-3 col-12"},d.a.createElement("div",{className:"col-8"},d.a.createElement("label",{className:"mr-3"},"New File ",d.a.createElement("span",{className:"text-danger"},"*")),d.a.createElement("input",{className:"px-0",type:"file",id:"upload-new-file",onChange:function(t){return e.setState({selectedFile:t.target.files[0],loaded:0})},onBlur:function(){return e.validator.showMessageFor("file")}})),d.a.createElement("div",{className:"col-4 d-flex justify-content-end pr-0"},d.a.createElement("button",{type:"button",className:"button-red",onClick:function(t){return e.submit()}},"Upload")),this.validator.message("file",this.state.selectedFile,"required")))),this.state.loading?d.a.createElement("div",{className:"loading-overlay"},d.a.createElement("div",{className:"loader"})):null)}}]),a}(u.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return f}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=(a(28),a(657),a(21),a(120)),p=a(17),h=a(8),f=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),totalRows:0,perPage:10,page:1,totalPage:0,sort_by:"file_name",sort:"asc",typeFind:"rmwbData",search_key:""},window.scrollTo(0,0),e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),this.getdataMaster(),this.getData(this.state.perPage)}},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=!0,n=new p.a,e.next=5,n.findStatusByParam(this.state);case 5:(r=e.sent)&&200===r.status&&r.data?this.setState({listDataStatus:r.data}):t=!1,t||this.clearSession(),a||this.errorConectionToBe();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getData",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,this.setState({loading:!0}),a=new m.a,e.next=5,a.findProductPricingByParam(this.state);case 5:(n=e.sent)&&200===n.status&&n.data&&n.data.data.length>0?(this.setState({list:n.data.data}),this.setState({loading:!1})):(n&&n.data&&h.a===n.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):this.setState({error:!0,errorMessage:n&&n.data?n.data.message:n,loading:!1}),this.setState({list:[]}),this.setState({loading:!1})),t||this.errorConectionToBe();case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"errorConectionToBe",value:function(){alert("Connection to Server Octobench interupted!\nPlease check your conection or contact administrator!")}},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"render",value:function(){for(var e=this.state.list||[],t=[],a=0;a<e.length;a++){if(t.push('<li class="my-5">'),t.push('<div class="main-menu">'+e[a].title+"</div>"),void 0!==e[a].children){t.push('<ul class="my-3 row">');for(var n=0;n<e[a].children.length;n++){if(e[a].children[n].is_end_child){var s=null!==e[a].children[n].status?e[a].children[n].status:"new";t.push('<li class="last-menu-li col-4">'),t.push('<div data-id="'+e[a].children[n].id+'" class="last-menu">'+e[a].children[n].title+'<span class="status-label">'+s+"</span></div>")}else t.push('<li class="second-menu-li col-4">'),t.push('<div class="second-menu">'+e[a].children[n].title+"</div>");if(void 0!==e[a].children[n].children&&!e[a].children[n].is_end_child){t.push('<ul class="my-2">');for(var r=0;r<e[a].children[n].children.length;r++)t.push("<li>"),t.push('<div data-id="'+e[a].children[n].children[r].id+'" class="last-menu">'+e[a].children[n].children[r].title+"<span class='status-label'>"+s+"</span></div>"),t.push("</li>");t.push("</ul>")}t.push("</li>")}t.push("</ul>")}t.push("</li>")}t=t.join("");for(var l=document.getElementsByClassName("last-menu"),i=function(){var e=this.getAttribute("data-id");window.location.href="rmwb-edit-product-pricing/"+e},o=0;o<l.length;o++)l[o].addEventListener("click",i,!1);return d.a.createElement("div",{id:"list-product-pricing",className:"default-rmwb-wrapper"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?d.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,d.a.createElement("h3",null,"Product Pricing List"),d.a.createElement("ul",{id:"list-menu",className:"my-5",dangerouslySetInnerHTML:{__html:t}}),this.state.loading?d.a.createElement("div",{className:"loading-overlay"},d.a.createElement("div",{className:"loader"})):null)}}]),a}(u.Component)},function(e,t,a){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return k}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=a(15),h=a.n(p),f=a(13),g=a(16),v=a.n(g),b=a(24),y=a.n(b),S=(a(455),a(21),a(81)),E=a(17),w=a(8),k=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).setValueSearch=function(t){e.setState({search_key:t})},e.state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),totalRows:0,perPage:10,page:1,totalPage:0,sort_by:"key_performance",sort:"asc",typeFind:"rmwbData",search_key:"",year:""},e.reset=e.reset.bind(Object(o.a)(e)),e.handlePageChange=e.handlePageChange.bind(Object(o.a)(e)),e.handleChange=e.handleChange.bind(Object(o.a)(e)),e.handlePerRowsChange=e.handlePerRowsChange.bind(Object(o.a)(e)),e.handleSort=e.handleSort.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),this.getdataMaster(),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage)}},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=!0,n=new S.a,r=new E.a,e.next=6,r.findStatusByParam(this.state);case 6:return(l=e.sent)&&200===l.status&&l.data?this.setState({listDataStatus:l.data}):t=!1,t||this.clearSession(),e.next=11,n.getRoleRmwb(this.state);case 11:return(i=e.sent)&&200===i.status&&i.data&&i.data.data.length>0?this.setState({roleUser:i.data.data}):(this.setState({roleUser:[]}),a=!1),e.next=15,n.getBusinessUser(this.state);case 15:(o=e.sent)&&200===o.status&&o.data&&o.data.data.length>0?this.setState({businessUser:o.data.data}):(this.setState({businessUser:[]}),a=!1),a||this.errorConectionToBe();case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadOptions",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var r,l,i,o,c,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.page,l=new S.a,e.next=4,l.findSelectClient(r,10,t);case 4:for(i=e.sent,o=[],c=0;c<i.data.data.length;c++)o.push({value:i.data.data[c].client_cif,label:i.data.data[c].name+" ("+i.data.data[c].client_cif+")"});return u=r<i.data.totalPage,e.abrupt("return",{options:o,hasMore:u,additional:{page:r+1}});case 9:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r){var l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=!0,this.setState({loading:!0}),i=new S.a,e.next=5,i.findKpiSettingByParam(t,a,n,r,this.state);case 5:(o=e.sent)&&200===o.status&&o.data&&o.data.data.length>0?(this.setState({list:o.data.data}),this.setState({totalRows:o.data.total_result}),this.setState({totalPage:o.data.total_page}),this.setState({loading:!1})):(o&&o.data&&w.a===o.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):this.setState({error:!0,errorMessage:o&&o.data?o.data.message:o,loading:!1}),this.setState({list:[]}),this.setState({totalRows:0}),this.setState({totalPage:0}),this.setState({loading:!1})),l||this.errorConectionToBe();case 8:case"end":return e.stop()}}),e,this)})));return function(t,a,n,s){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleSort",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({sort:a});case 2:return e.next=4,this.setState({sort_by:t.selector});case 4:return e.next=6,this.setPage(this.state.page,a,t.selector,this.state.perPage);case 6:document.getElementById("column-"+t.selector).classList.add("sorted");case 8:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"handlePageChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({page:t}),this.setPage(t,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handlePerRowsChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({perPage:t}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"editRow",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t?this.props.history.push("rmwb-edit-kpi-setting",{data:t}):alert("Some thing wrong with selected data pelase refresh your browser or contact admin!")||window.location.reload();case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteRow",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to delete ".concat(t.key_performance+" ?"))){e.next=6;break}return a=new S.a,e.next=4,a.deleteKpi(t);case 4:200===(n=e.sent).status&&"Success"===n.data.message?(alert("data ".concat(t.key_performance," waiting approve to delete")),window.location=window.location.href):n&&n.data&&w.a===n.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):alert("error, data ".concat(t.key_performance," cannot deleted"));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"search",value:function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({loading:!0,search:!0}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"reset",value:function(){var e=this;this.setState({loading:!0}),h.a.findDOMNode(this.refs.year).value="",h.a.findDOMNode(this.refs.bu).value="",h.a.findDOMNode(this.refs.role).value="",this.setState({year:"",bu:"",role:""},(function(){setTimeout((function(){e.setPage(e.state.page,e.statesort,e.state.sort_by,e.state.perPage)}),100)}))}},{key:"errorConectionToBe",value:function(){alert("Connection to Server Octobench interupted!\nPlease check your conection or contact administrator!")}},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"render",value:function(){for(var e=this,t=v()().year(),a=[],n=parseInt(t)-5;n<parseInt(t)+5;n++)a.push({year:n});a=a.map((function(e){var t=e.year;return m.a.createElement("option",{key:t,"code-data":t,value:t},t)}));var s=this.state.businessUser||[];s=s.map((function(e){var t=e.name,a=e.id;return m.a.createElement("option",{key:a,"code-data":a,value:a},t)}));var r=this.state.roleUser||[];r=r.map((function(e){var t=e.name,a=e.id;return m.a.createElement("option",{key:a,"code-data":a,value:a},t)}));for(var l=JSON.parse(this.state.userPrivilege)||[],i=!1,o=0;o<l.length;o++)"upload_rmwb_kpi"===l[o].name+"_"+l[o].vgroup&&(i=!0);return m.a.createElement("div",{id:"ListKpi"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?m.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,m.a.createElement("h3",null,"Kpi Setting List"),m.a.createElement("div",{id:"search-menu"},m.a.createElement("table",{style:{width:"100%"}},m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-3"},"Year"),m.a.createElement("select",{ref:"year",className:"col-6 form-input",onChange:function(t){return e.setState({year:t.target.value})}},m.a.createElement("option",{key:"",value:""},"Select year"),a)),m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-3"},"Business User"),m.a.createElement("select",{ref:"bu",className:"col-6 form-input",onChange:function(t){return e.setState({bu:t.target.value})}},m.a.createElement("option",{key:"",value:""},"Select Business User"),s)),m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-3"},"Role"),m.a.createElement("select",{ref:"role",className:"col-6 form-input",onChange:function(t){return e.setState({role:t.target.value})}},m.a.createElement("option",{key:"",value:""},"Select Role"),r)),m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-3"}," ")))))),m.a.createElement("div",null,m.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.search.bind(this)},"search"),m.a.createElement("button",{type:"button",className:"reset-btn btn btn-secondary btn-sm",onClick:this.reset},"reset"))),m.a.createElement(y.a,{id:"tableData",className:"mb-4",defaultSortField:this.state.sort_by,columns:[{name:"Key Goal",selector:"key_performance",sortable:!0,width:"300px"},{name:"Business User",selector:"BU",sortable:!0},{name:"Segment",selector:"segment",width:"150px",sortable:!0},{name:"Weight",selector:"weight",sortable:!0},{name:"Year",selector:"kpi_year",sortable:!0},{name:"Floor 1",selector:"floor_1",sortable:!0},{name:"Ceiling 1",selector:"ceiling_1",sortable:!0},{name:"Floor 2",selector:"floor_2",sortable:!0},{name:"Ceiling 2",selector:"ceiling_2",sortable:!0},{name:"Floor 3",selector:"floor_3",sortable:!0},{name:"Ceiling 3",selector:"ceiling_3",sortable:!0},{name:"Floor 4",selector:"floor_4",sortable:!0},{name:"Ceiling 4",selector:"ceiling_4",sortable:!0},{name:"Floor 5",selector:"floor_5",sortable:!0},{name:"Ceiling 5",selector:"ceiling_5",sortable:!0}],progressPending:this.state.loading,pagination:!0,paginationServer:!0,sortServer:!0,paginationTotalRows:this.state.totalRows,onChangeRowsPerPage:this.handlePerRowsChange,onChangePage:this.handlePageChange,onSort:this.handleSort,data:this.state.list,responsive:!0}),m.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},i?m.a.createElement(f.b,{to:"rmwb-list-upload-kpi-setting",className:"justify-content-end"},m.a.createElement("button",{className:"button-red"},"BULK UPLOAD KPI SETTING")):null),this.state.loading?m.a.createElement("div",{className:"loading-overlay"},m.a.createElement("div",{className:"loader"})):null)}}]),a}(d.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return N}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=a(15),h=a.n(p),f=a(13),g=a(24),v=a.n(g),b=a(27),y=a(16),S=a.n(y),E=(a(455),a(21),a(81)),w=a(17),k=a(8),N=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).setValueSearch=function(t){e.setState({search_key:t})},e.state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),totalRows:0,perPage:10,page:1,totalPage:0,sort_by:"file_name",sort:"asc",typeFind:"rmwbData",search_key:"",filterDataInsertAt:"",filterDataStatus:"",isChecker:!1},e.reset=e.reset.bind(Object(o.a)(e)),e.handlePageChange=e.handlePageChange.bind(Object(o.a)(e)),e.handleChange=e.handleChange.bind(Object(o.a)(e)),e.handlePerRowsChange=e.handlePerRowsChange.bind(Object(o.a)(e)),e.handleSort=e.handleSort.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(n,[{key:"componentWillMount",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),t=JSON.parse(localStorage.getItem("userPrivilege"))||[],a=0;a<t.length;a++)"approval_rmwb_kpi"===t[a].name+"_"+t[a].vgroup&&this.setState({isChecker:!0});return e.next=5,this.setState({loggedUser:localStorage.getItem("userNip")});case 5:this.getdataMaster(),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=!0,n=new w.a,e.next=5,n.findStatusByParam(this.state);case 5:(r=e.sent)&&200===r.status&&r.data?this.setState({listDataStatus:r.data}):t=!1,t||this.clearSession(),a||this.errorConectionToBe();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadOptions",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var r,l,i,o,c,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.page,l=new E.a,e.next=4,l.findSelectClient(r,10,t);case 4:for(i=e.sent,o=[],c=0;c<i.data.data.length;c++)o.push({value:i.data.data[c].client_cif,label:i.data.data[c].name});return u=r<i.data.totalPage,e.abrupt("return",{options:o,hasMore:u,additional:{page:r+1}});case 9:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r){var l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=!0,this.setState({loading:!0}),i=new E.a,e.next=5,i.findUploadKpiSettingByParam(t,a,n,r,this.state);case 5:(o=e.sent)&&200===o.status&&o.data&&o.data.data.length>0?(this.setState({list:o.data.data}),this.setState({totalRows:o.data.total_result}),this.setState({totalPage:o.data.total_page}),this.setState({loading:!1})):(o&&o.data&&k.a===o.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):this.setState({error:!0,errorMessage:o&&o.data?o.data.message:o,loading:!1}),this.setState({list:[]}),this.setState({totalRows:0}),this.setState({totalPage:0}),this.setState({loading:!1})),l||this.errorConectionToBe();case 8:case"end":return e.stop()}}),e,this)})));return function(t,a,n,s){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleSort",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({sort:a});case 2:return e.next=4,this.setState({sort_by:t.selector});case 4:return e.next=6,this.setPage(this.state.page,a,t.selector,this.state.perPage);case 6:document.getElementById("column-"+t.selector).classList.add("sorted");case 8:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"handlePageChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({page:t}),this.setPage(t,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handlePerRowsChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({perPage:t}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"editRow",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t?this.props.history.push("rmwb-detail-upload-kpi-setting",{data:t}):alert("Some thing wrong with selected data pelase refresh your browser or contact admin!")||window.location.reload();case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"search",value:function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({loading:!0,search:!0}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"reset",value:function(){var e=this;h.a.findDOMNode(this.refs.search_status).value="",h.a.findDOMNode(this.refs.insert_date).value="",this.setState({search_status:"",insert_date:""},(function(){setTimeout((function(){e.setPage(e.state.page,e.state.sort,e.state.sort_by,e.state.perPage)}),100)}))}},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"render",value:function(){for(var e=this,t=this.state.insert_date?S()(this.state.insert_date,"YYYY-MM-DDTHH:mm:ss").toDate():null,n=JSON.parse(this.state.userPrivilege)||[],s=!1,r=0;r<n.length;r++)"upload_rmwb_kpi"===n[r].name+"_"+n[r].vgroup&&(s=!0);var l=[{name:"File Name",selector:"file_name",sortable:!0},{name:"Insert By",selector:"insert_by",sortable:!0},{name:"Insert At",selector:"insert_at",sortable:!0},{name:"Status",selector:"status",sortable:!0},{name:"Action",sortable:!1,cell:function(t){return m.a.createElement("div",null,m.a.createElement("input",{type:"image",alt:"Edit",height:20,value:"",src:a(40),onClick:function(a){return e.editRow(t)}}))},button:!0}];return m.a.createElement("div",{id:"ListUser"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?m.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,m.a.createElement("h3",null,"List Upload Data Kpi Setting"),m.a.createElement("div",{id:"search-menu"},m.a.createElement("table",{style:{width:"100%"}},m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-2"},"Status File"),m.a.createElement("select",{ref:"search_status",className:"form-input col-4",onChange:function(t){return e.setState({search_status:t.target.value})}},m.a.createElement("option",{value:""},"Please select status!"),m.a.createElement("option",{value:"submitted"},"Submitted"),m.a.createElement("option",{value:"rejected"},"Rejected"))))),m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-2"},"Insert Date"),m.a.createElement("div",{className:"col-4 p-0"},m.a.createElement(b.a,{ref:"insert_date",className:"form-input",dateFormat:"yyyy-MM-dd",selected:t,onChange:function(t){return e.setState({insert_date:t})}}))))))),m.a.createElement("div",null,m.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.search.bind(this)},"search"),m.a.createElement("button",{type:"button",className:"reset-btn btn btn-secondary btn-sm",onClick:this.reset},"reset"))),m.a.createElement(v.a,{id:"tableData",className:"mb-4",defaultSortField:this.state.sort_by,columns:l,progressPending:this.state.loading,pagination:!0,paginationServer:!0,sortServer:!0,paginationTotalRows:this.state.totalRows,onChangeRowsPerPage:this.handlePerRowsChange,onChangePage:this.handlePageChange,onSort:this.handleSort,data:this.state.list}),m.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},m.a.createElement("div",{className:"d-flex justify-content-end mr-3"},m.a.createElement(f.b,{to:"rmwb-download-kpi-setting",className:"d-flex justify-content-end my-4"},m.a.createElement("button",{className:"button-red"},"Download Template"))),s?m.a.createElement(f.b,{to:"rmwb-upload-kpi-setting",className:"d-flex justify-content-end my-4"},m.a.createElement("button",{className:"button-red"},"Upload New Data Kpi Setting")):null),this.state.loading?m.a.createElement("div",{className:"loading-overlay"},m.a.createElement("div",{className:"loader"})):null)}}]),n}(d.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return C}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=a(15),h=a.n(p),f=a(13),g=a(24),v=a.n(g),b=a(30),y=a.n(b),S=(a(455),a(21),a(81)),E=a(17),w=a(8),k=a(31),N=a.n(k),C=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).setValueSearch=function(t){e.setState({search_key:t})},e.state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),totalRows:0,perPage:10,page:1,totalPage:0,sort_by:"key_performance",sort:"asc",typeFind:"rmwbData",search_key:""},e.reset=e.reset.bind(Object(o.a)(e)),e.handlePageChange=e.handlePageChange.bind(Object(o.a)(e)),e.handleChange=e.handleChange.bind(Object(o.a)(e)),e.handlePerRowsChange=e.handlePerRowsChange.bind(Object(o.a)(e)),e.handleSort=e.handleSort.bind(Object(o.a)(e)),e.handleOpenModal=e.handleOpenModal.bind(Object(o.a)(e)),e.handleCloseModal=e.handleCloseModal.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(a,[{key:"handleOpenModal",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({showModal:!0,modalName:t});case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleCloseModal",value:function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({showModal:!1});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillMount",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=this.props.location.state.data)||this.props.history.push("rmwb-rmwb-list-upload-kpi-setting"),this.setState({selectedFile:t}),this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),e.next=6,this.setState({loggedUser:localStorage.getItem("userNip")});case 6:this.getdataMaster(),this.getListDataStatus(t.status),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage),this.validator=new N.a({autoForceUpdate:this,element:function(e){return m.a.createElement("div",{className:"row col-12 validator-error-message"},m.a.createElement("div",{className:"col-4"}),m.a.createElement("div",{className:"col-8"},e))}});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=!0,n=new E.a,e.next=5,n.findStatusByParam(this.state);case 5:(r=e.sent)&&200===r.status&&r.data?this.setState({listDataStatus:r.data}):t=!1,t||this.clearSession(),a||this.errorConectionToBe();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadOptions",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var r,l,i,o,c,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.page,l=new S.a,e.next=4,l.findSelectClient(r,10,t);case 4:for(i=e.sent,o=[],c=0;c<i.data.data.length;c++)o.push({value:i.data.data[c].client_cif,label:i.data.data[c].name});return u=r<i.data.totalPage,e.abrupt("return",{options:o,hasMore:u,additional:{page:r+1}});case 9:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r){var l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=!0,this.setState({loading:!0}),i=new S.a,e.next=5,i.findUploadDetailKpiSettingByParam(t,a,n,r,this.state);case 5:(o=e.sent)&&200===o.status&&o.data&&o.data.data.length>0?(this.setState({list:o.data.data}),this.setState({totalRows:o.data.total_result}),this.setState({totalPage:o.data.total_page}),this.setState({loading:!1})):(o&&o.data&&w.a===o.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):this.setState({error:!0,errorMessage:o&&o.data?o.data.message:o,loading:!1}),this.setState({list:[]}),this.setState({totalRows:0}),this.setState({totalPage:0}),this.setState({loading:!1})),l||this.errorConectionToBe();case 8:case"end":return e.stop()}}),e,this)})));return function(t,a,n,s){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleSort",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({sort:a});case 2:return e.next=4,this.setState({sort_by:t.selector});case 4:return e.next=6,this.setPage(this.state.page,a,t.selector,this.state.perPage);case 6:document.getElementById("column-"+t.selector).classList.add("sorted");case 8:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"handlePageChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({page:t}),this.setPage(t,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handlePerRowsChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({perPage:t}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"editRow",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t?this.props.history.push("rmwb-detail-upload-kpi-setting",{data:t}):alert("Some thing wrong with selected data pelase refresh your browser or contact admin!")||window.location.reload();case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getListDataStatus",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!0,n=new E.a,e.next=4,n.findStatusByParam(this.state);case 4:(r=e.sent)&&200===r.status&&r.data.length>0?(this.setState({listDataStatus:r.data}),l=r.data.filter((function(e){return e.code===t})),this.setState({currentDataStatus:l[0]})):(this.setState({listDataStatus:""}),this.setState({currentDataStatus:""}),r&&r.data&&w.a===r.data.data?a=!1:this.setState({listDataStatus:""})),a||this.clearSession();case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"donwloadTemplate",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new S.a,e.next=3,t.donwloadTemplate();case 3:(a=e.sent)?((n=document.createElement("a")).href=a,n.target="_blank",document.body.appendChild(n),n.click(),document.body.removeChild(n)):alert("Error cant download data");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"search",value:function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({loading:!0,search:!0}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"reset",value:function(){var e=this;this.setState({loading:!0}),h.a.findDOMNode(this.refs.search_key).value="",this.setState({search_key:""},(function(){setTimeout((function(){e.setPage(e.state.page,e.state.sort,e.state.sort_by,e.state.perPage)}),100)}))}},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"onSubmitApprove",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),t=new S.a,(a=this.state).status="approved",e.next=6,t.approveFileKpiSetting(a);case 6:(n=e.sent)&&(200===n.status&&"Success"===n.data.message?(this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-list-upload-kpi-setting",this.state),this.setState({loading:!1})):n&&n.data&&w.a===n.data.data?(alert("Save Data Failed, Please try again !"),this.setState({loading:!1}),window.location.reload()):(this.setState({isSuccess:!1,message:"Save Data Failed",alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1})));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onSubmitReject",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({loading:!0}),t=new S.a,(a=this.state).status="rejected",this.validator.allValid()){e.next=8;break}return this.validator.showMessages(),this.setState({loading:!1}),e.abrupt("return");case 8:return e.next=10,t.rejectFileKpiSetting(a);case 10:(n=e.sent)&&(200===n.status&&"Success"===n.data.message?(this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-list-upload-kpi-setting",this.state),this.setState({loading:!1})):n&&n.data&&w.a===n.data.data?(alert("Save Data Failed, Please try again !"),this.setState({loading:!1}),window.location.reload()):(this.setState({isSuccess:!1,message:"Save Data Failed",alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1})));case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){for(var e=this,t=JSON.parse(this.state.userPrivilege)||[],a=!1,n=0;n<t.length;n++)"approval_rmwb_kpi"===t[n].name+"_"+t[n].vgroup&&(a=!0);var s=this.state.currentDataStatus?this.state.currentDataStatus:[],r=!1,l=!1;s&&("rmwbData_approved"===s.type+"_"+s.code&&(r=!0),"rmwbData_rejected"===s.type+"_"+s.code&&(l=!0));return m.a.createElement("div",{id:"ListUser"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?m.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-6"},m.a.createElement("h3",null,"Detail Upload Data Kpi Setting")),m.a.createElement("div",{className:"col-6"},m.a.createElement(f.b,{to:"rmwb-list-upload-kpi-setting",className:"d-flex justify-content-end"},m.a.createElement("button",{className:"btn btn-info"},"Back to Upload List")))),m.a.createElement("p",null,"File name : ",this.state.selectedFile.file_name," || Uploaded by : ",this.state.selectedFile.insert_by," || At : ",this.state.selectedFile.insert_at," || Status : ",this.state.selectedFile.status),l?m.a.createElement("p",null,"Remarks : ",this.state.selectedFile.remarks):null,m.a.createElement(v.a,{id:"tableData",className:"mb-4",defaultSortField:this.state.sort_by,columns:[{name:"Key Goal",selector:"key_performance",sortable:!0,width:"300px"},{name:"Business User",selector:"BU",sortable:!0},{name:"Segment",selector:"segment",width:"150px",sortable:!0},{name:"Weight",selector:"weight",sortable:!0},{name:"Year",selector:"kpi_year",sortable:!0},{name:"Floor 1",selector:"floor_1",sortable:!0},{name:"Ceiling 1",selector:"ceiling_1",sortable:!0},{name:"Floor 2",selector:"floor_2",sortable:!0},{name:"Ceiling 2",selector:"ceiling_2",sortable:!0},{name:"Floor 3",selector:"floor_3",sortable:!0},{name:"Ceiling 3",selector:"ceiling_3",sortable:!0},{name:"Floor 4",selector:"floor_4",sortable:!0},{name:"Ceiling 4",selector:"ceiling_4",sortable:!0},{name:"Floor 5",selector:"floor_5",sortable:!0},{name:"Ceiling 5",selector:"ceiling_5",sortable:!0}],progressPending:this.state.loading,pagination:!0,paginationServer:!0,sortServer:!0,paginationTotalRows:this.state.totalRows,onChangeRowsPerPage:this.handlePerRowsChange,onChangePage:this.handlePageChange,onSort:this.handleSort,data:this.state.list}),m.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},!a||l||r?null:m.a.createElement("div",null,m.a.createElement("button",{className:"button-red mr-2",onClick:function(){return e.handleOpenModal("reject-data")}},"Reject"),m.a.createElement("button",{className:"button-green",onClick:function(){return e.handleOpenModal("approve-data")}},"Approve"))),this.state.loading?m.a.createElement("div",{className:"loading-overlay"},m.a.createElement("div",{className:"loader"})):null,m.a.createElement(y.a,{closeTimeoutMS:300,isOpen:this.state.showModal,contentLabel:"onRequestClose Example",onRequestClose:this.handleCloseModal,className:"Modal",overlayClassName:"Overlay"},"approve-data"===this.state.modalName?m.a.createElement("div",null,m.a.createElement("div",{className:"row mx-0 justify-content-center"},m.a.createElement("h4",null,"Are You Sure To Approve This Data ?")),m.a.createElement("div",{className:"d-flex justify-content-center mx-2 mt-5"},m.a.createElement("button",{className:"button-red mr-5",onClick:this.handleCloseModal},"Cancel"),m.a.createElement("button",{className:"button-red",onClick:this.onSubmitApprove.bind(this)},"Approve"))):null,"reject-data"===this.state.modalName?m.a.createElement("div",null,m.a.createElement("div",{className:"row mx-0 justify-content-center"},m.a.createElement("h4",{className:"mb-4"},"Please fill Remark to data Maker !"),this.state.error?m.a.createElement("div",{className:"col-12 ".concat(this.state.alertState),role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.errorMessage):null,m.a.createElement("textarea",{className:"col-12 form-input",type:"text",onChange:function(t){return e.setState({remarks:t.target.value})},value:this.state.remarks||"",placeholder:"Remarks",onBlur:function(){return e.validator.showMessageFor("remarks")}}),this.validator.message("remarks",this.state.remarks,"required")),m.a.createElement("div",{className:"d-flex justify-content-center mx-2 mt-4"},m.a.createElement("button",{className:"button-red mr-5",onClick:this.handleCloseModal},"Cancel"),m.a.createElement("button",{className:"button-red",onClick:this.onSubmitReject.bind(this)},"Reject"))):null))}}]),a}(d.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return b}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=(a(1434),a(13)),p=a(8),h=a(81),f=a(17),g=a(31),v=a.n(g),b=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={isSuccess:!1,message:"",token:localStorage.getItem("accessToken"),selectedFile:null,loading:!1,roleName:localStorage.getItem("roleName"),isSadmin:!1},e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.setState({isSadmin:"SADMINOCTOBENCH"===this.state.roleName}),this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),this.setState({loggedUser:localStorage.getItem("userNip")}),this.getdataMaster(),this.validator=new v.a({autoForceUpdate:this,element:function(e){return d.a.createElement("div",{className:"row col-12 validator-error-message"},d.a.createElement("div",{className:"col-2"}),d.a.createElement("div",{className:"col-10"},e))}})}},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=!0,n=new f.a,e.next=5,n.findStatusByParam(this.state);case 5:(r=e.sent)&&200===r.status&&r.data?this.setState({listDataStatus:r.data}):t=!1,t||this.clearSession(),a||this.errorConectionToBe();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"errorConectionToBe",value:function(){alert("Connection to Server Octobench interupted!\nPlease check your conection or contact administrator!")}},{key:"onSubmitApprove",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),a=new h.a,(n=this.state).selectedFile.id=t,n.status="approved",e.next=7,a.approveFileKpiSetting(n);case 7:(r=e.sent)&&(200===r.status&&"Success"===r.data.message?(this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-kpi-setting",this.state),this.setState({loading:!1})):r&&r.data&&p.a===r.data.data?(alert("Save Data Failed, Please try again !"),this.setState({loading:!1}),window.location.reload()):(this.setState({isSuccess:!1,message:"Save Data Failed",alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1})));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validator.allValid()){e.next=4;break}return this.validator.showMessages(),this.setState({loading:!1}),e.abrupt("return");case 4:if(!this.state.isSadmin){e.next=27;break}if(!window.confirm("Are you sure to submit and approve this data ?")){e.next=23;break}return this.setState({loading:!0}),t=new h.a,(a=new FormData).append("file",this.state.selectedFile),e.next=12,t.uploadFileKpiSetting(a,this.state);case 12:if(!(n=e.sent)){e.next=21;break}if(200!==n.status||"Succeed"!==n.data.message){e.next=20;break}return r=n.data.data.file_id,e.next=18,this.onSubmitApprove(r);case 18:e.next=21;break;case 20:n&&n.data&&p.a===n.data.data?(alert("Save Data Failed, Please try again !"),this.setState({loading:!1}),window.location.reload()):(this.setState({isSuccess:!1,message:"Save Data Failed, "+n.data.data.remarks,alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1}));case 21:e.next=25;break;case 23:return this.setState({loading:!1}),e.abrupt("return",!1);case 25:e.next=35;break;case 27:return this.setState({loading:!0}),l=new h.a,(i=new FormData).append("file",this.state.selectedFile),e.next=33,l.uploadFileKpiSetting(i,this.state);case 33:(o=e.sent)&&(200===o.status&&"Succeed"===o.data.message?(this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-list-upload-kpi-setting",this.state),this.setState({loading:!1})):o&&o.data&&p.a===o.data.data?(alert("Save Data Failed, Please try again !"),this.setState({loading:!1}),window.location.reload()):(this.setState({isSuccess:!1,message:"Save Data Failed, "+o.data.data.remarks,alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1})));case 35:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return d.a.createElement("div",{id:"EditKpiSetting"},this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-6"},d.a.createElement("h3",{className:"mb-4"},"Upload New Data Kpi Setting")),d.a.createElement("div",{className:"col-6"},d.a.createElement(m.b,{to:"rmwb-list-upload-kpi-setting",className:"d-flex justify-content-end"},d.a.createElement("button",{className:"btn btn-info"},"Back to Upload List")))),d.a.createElement("div",{className:"form-box-area mb-4"},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"row col-12"},d.a.createElement("h4",{className:"mb-4 col-6"},"Please select file to be upload")),d.a.createElement("div",{className:"row mb-3 col-12"},d.a.createElement("label",{className:"col-2"},"New File Kpi Setting ",d.a.createElement("span",{className:"text-danger"},"*")),d.a.createElement("input",{className:"col-6 px-0",type:"file",id:"upload-new-file",onChange:function(t){return e.setState({selectedFile:t.target.files[0],loaded:0})},onBlur:function(){return e.validator.showMessageFor("file")}}),d.a.createElement("div",{className:"col-4 d-flex justify-content-end"},d.a.createElement("button",{type:"button",className:"button-red",onClick:function(t){return e.submit()}},"Upload")),this.validator.message("file",this.state.selectedFile,"required")))),this.state.loading?d.a.createElement("div",{className:"loading-overlay"},d.a.createElement("div",{className:"loader"})):null)}}]),a}(u.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return h}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=(a(73),a(21),a(28),a(1436),a(81)),p=a(17),h=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={userPrivilege:[],list:[],loading:!0,documentType:"",bu:"",role:"",token:localStorage.getItem("accessToken")},window.scrollTo(0,0),e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),this.getdataMaster()}},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),t=!0,a=!0,n=new m.a,r=new p.a,e.next=7,r.findStatusByParam(this.state);case 7:if((l=e.sent)&&200===l.status&&l.data?this.setState({listDataStatus:l.data}):t=!1,t){e.next=12;break}return this.clearSession(),e.abrupt("return");case 12:return e.next=14,n.getRoleRmwb(this.state);case 14:return(i=e.sent)&&200===i.status&&i.data&&i.data.data.length>0?this.setState({roleUser:i.data.data}):(this.setState({roleUser:[]}),a=!1),e.next=18,n.getBusinessUser(this.state);case 18:(o=e.sent)&&200===o.status&&o.data&&o.data.data.length>0?this.setState({businessUser:o.data.data}):(this.setState({businessUser:[]}),a=!1),a||this.conectionToBE(),this.setState({loading:!1});case 22:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"conectionToBE",value:function(){alert("Cant get data from backend Octo RM Bench, Please check your conection or contact admin!")}},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"validate",value:function(e){return this.setState({error:!0,alertState:"alert alert-danger"}),e.bu?e.role?(this.setState({error:!1,alertState:"alert alert-primary"}),!0):(this.setState({errorMessage:"Please Select Role!"}),!1):(this.setState({errorMessage:"Please Select BU!"}),!1)}},{key:"downloadTemplate",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state,console.log(t),this.validate(t)){e.next=5;break}return window.scrollTo(0,0),e.abrupt("return");case 5:return this.setState({loading:!0}),a=new m.a,e.next=9,a.downloadTemplate(t);case 9:(n=e.sent)&&200===n.status&&n.data?(this.setState({isSuccess:!0}),r=new Blob([n.data],{type:"application/octet-stream"}),l=window.URL.createObjectURL(r),(i=document.createElement("a")).href=l,i.target="_blank",i.download="kpi_setting.xlsx",document.body.appendChild(i),i.click(),document.body.removeChild(i),this.setState({loading:!1})):(n&&n.data&&n.data.message?(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Error cant download data, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)),this.setState({loading:!1}));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.businessUser||[];t=t.map((function(e){var t=e.name,a=e.id;return d.a.createElement("option",{key:a,"code-data":a,value:a},t)}));var a=this.state.roleUser||[];return a=a.map((function(e){var t=e.name,a=e.id;return d.a.createElement("option",{key:a,"code-data":a,value:a},t)})),d.a.createElement("div",{id:"download_kpi_setting",className:"default-rmwb-wrapper"},this.state.error?d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.errorMessage):null,d.a.createElement("div",{className:"form-box-area mb-2"},d.a.createElement("h4",{className:"mb-4"},"Download Template for Kpi Setting"),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Business User"),d.a.createElement("select",{className:"col-2 form-input",onChange:function(t){return e.setState({bu:t.target.value})},value:this.state.bu},d.a.createElement("option",{key:"",value:""},"Select Business User"),t)),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Role User"),d.a.createElement("select",{className:"col-2 form-input",onChange:function(t){return e.setState({role:t.target.value})},value:this.state.role},d.a.createElement("option",{key:"",value:""},"Select Role User"),a)),d.a.createElement("div",{className:"row justify-content-end px-3"},d.a.createElement("button",{className:"button-red",onClick:this.downloadTemplate.bind(this)},"download template"))),this.state.loading?d.a.createElement("div",{className:"loading-overlay"},d.a.createElement("div",{className:"loader"})):null)}}]),a}(u.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return N}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=a(15),h=a.n(p),f=a(13),g=a(16),v=a.n(g),b=a(24),y=a.n(b),S=(a(28),a(281),a(21),a(85)),E=a(17),w=a(8),k=a(65),N=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).setValueSearch=function(t){e.setState({selectedUser:t})},e.state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),totalRows:0,perPage:10,page:1,totalPage:0,sort_by:"key_performance",sort:"asc",typeFind:"rmwbData",search_key:"",year:"",selectedUser:""},e.reset=e.reset.bind(Object(o.a)(e)),e.handlePageChange=e.handlePageChange.bind(Object(o.a)(e)),e.handlePerRowsChange=e.handlePerRowsChange.bind(Object(o.a)(e)),e.handleSort=e.handleSort.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),this.getdataMaster(),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage)}},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),t=!0,a=!0,n=new S.a,r=new E.a,e.next=7,r.findStatusByParam(this.state);case 7:return(l=e.sent)&&200===l.status&&l.data?(this.setState({listDataStatus:l.data}),this.setState({loading:!1})):(this.setState({loading:!1}),t=!1),t||this.clearSession(),e.next=12,n.getRoleRmwb(this.state);case 12:return(i=e.sent)&&200===i.status&&i.data&&i.data.data.length>0?(this.setState({roleUser:i.data.data}),this.setState({loading:!1})):(this.setState({loading:!1}),this.setState({roleUser:[]}),a=!1),e.next=16,n.getBusinessUser(this.state);case 16:(o=e.sent)&&200===o.status&&o.data&&o.data.data.length>0?(this.setState({businessUser:o.data.data}),this.setState({loading:!1})):(this.setState({loading:!1}),this.setState({businessUser:[]}),a=!1),a||this.errorConectionToBe();case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadOptions",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var r,l,i,o,c,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.page,l=new S.a,e.next=4,l.getAllUser(r,10,t);case 4:for(i=e.sent,o=[],c=0;c<i.data.data.length;c++)o.push({value:i.data.data[c].id,label:i.data.data[c].name+" ("+i.data.data[c].additional+")"});return u=r<i.data.total_page,e.abrupt("return",{options:o,hasMore:u,additional:{page:r+1}});case 9:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r){var l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=!0,this.setState({loading:!0}),i=new S.a,e.next=5,i.findKpiActualByParam(t,a,n,r,this.state);case 5:(o=e.sent)&&200===o.status&&o.data&&o.data.data.length>0?(this.setState({list:o.data.data}),this.setState({totalRows:o.data.total_result}),this.setState({totalPage:o.data.total_page}),this.setState({loading:!1})):(o&&o.data&&w.a===o.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):this.setState({error:!0,errorMessage:o&&o.data?o.data.message:o,loading:!1}),this.setState({list:[]}),this.setState({totalRows:0}),this.setState({totalPage:0}),this.setState({loading:!1})),l||this.errorConectionToBe();case 8:case"end":return e.stop()}}),e,this)})));return function(t,a,n,s){return e.apply(this,arguments)}}()},{key:"handleSort",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({sort:a});case 2:return e.next=4,this.setState({sort_by:t.selector});case 4:return e.next=6,this.setPage(this.state.page,a,t.selector,this.state.perPage);case 6:document.getElementById("column-"+t.selector).classList.add("sorted");case 8:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"handlePageChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({page:t}),this.setPage(t,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handlePerRowsChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({perPage:t}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"editRow",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t?this.props.history.push("rmwb-edit-kpi-actual",{data:t}):alert("Some thing wrong with selected data pelase refresh your browser or contact admin!")||window.location.reload();case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"search",value:function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({loading:!0,search:!0}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"reset",value:function(){var e=this;this.setState({loading:!0}),h.a.findDOMNode(this.refs.year).value="",h.a.findDOMNode(this.refs.bu).value="",h.a.findDOMNode(this.refs.role).value="",h.a.findDOMNode(this.refs.selectedUser).value="",this.setState({year:"",bu:"",role:"",selectedUser:""},(function(){setTimeout((function(){e.setPage(e.state.page,e.state.sort,e.state.sort_by,e.state.perPage)}),100)}))}},{key:"errorConectionToBe",value:function(){alert("Connection to Server Octobench interupted!\nPlease check your conection or contact administrator!")}},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"render",value:function(){for(var e=this,t=v()().year(),a=[],n=parseInt(t)-5;n<parseInt(t)+5;n++)a.push({year:n});a=a.map((function(e){var t=e.year;return m.a.createElement("option",{key:t,"code-data":t,value:t},t)}));var s=this.state.businessUser||[];s=s.map((function(e){var t=e.name,a=e.id;return m.a.createElement("option",{key:a,"code-data":a,value:a},t)}));var r=this.state.roleUser||[];r=r.map((function(e){var t=e.name,a=e.id;return m.a.createElement("option",{key:a,"code-data":a,value:a},t)}));for(var l=JSON.parse(this.state.userPrivilege)||[],i=!1,o=0;o<l.length;o++)"upload_rmwb_kpi"===l[o].name+"_"+l[o].vgroup&&(i=!0);return m.a.createElement("div",{id:"ListKpi",className:"default-rmwb-wrapper"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?m.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,m.a.createElement("h3",null,"Kpi Actual List"),m.a.createElement("div",{id:"search-menu"},m.a.createElement("table",{style:{width:"100%"}},m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-3"},"Search User"),m.a.createElement(k.a,{className:"col-6 p-0",ref:"selectedUser",value:this.state.selectedUser,loadOptions:this.loadOptions,onChange:this.setValueSearch,debounceTimeout:300,additional:{page:1}})),m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-3"},"Year"),m.a.createElement("select",{ref:"year",className:"col-6 form-input",onChange:function(t){return e.setState({year:t.target.value})}},m.a.createElement("option",{key:"",value:""},"Select year"),a)),m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-3"},"Business User"),m.a.createElement("select",{ref:"bu",className:"col-6 form-input",onChange:function(t){return e.setState({bu:t.target.value})}},m.a.createElement("option",{key:"",value:""},"Select Business User"),s)),m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-3"},"Role"),m.a.createElement("select",{ref:"role",className:"col-6 form-input",onChange:function(t){return e.setState({role:t.target.value})}},m.a.createElement("option",{key:"",value:""},"Select Role"),r)),m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-3"}," ")))))),m.a.createElement("div",null,m.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.search.bind(this)},"search"),m.a.createElement("button",{type:"button",className:"reset-btn btn btn-secondary btn-sm",onClick:this.reset},"reset"))),m.a.createElement(y.a,{id:"tableData",className:"mb-4",defaultSortField:this.state.sort_by,columns:[{name:"Name",selector:"name",width:"150px",sortable:!0},{name:"Office Id",selector:"employee_id",sortable:!0,width:"150px"},{name:"CN",selector:"officer_id",sortable:!0,width:"150px"},{name:"Key Goal",selector:"key_performance",sortable:!0,width:"400px"},{name:"Role",selector:"role",sortable:!0},{name:"Segment",selector:"segment",sortable:!0,width:"200px"},{name:"Year",selector:"year",sortable:!0},{name:"Month",selector:"month",sortable:!0},{name:"Target",selector:"target",sortable:!0},{name:"Actual",selector:"actual",sortable:!0}],progressPending:this.state.loading,pagination:!0,paginationServer:!0,sortServer:!0,paginationTotalRows:this.state.totalRows,onChangeRowsPerPage:this.handlePerRowsChange,onChangePage:this.handlePageChange,onSort:this.handleSort,data:this.state.list,responsive:!0}),m.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},i?m.a.createElement(f.b,{to:"rmwb-list-upload-kpi-actual",className:"justify-content-end"},m.a.createElement("button",{className:"button-red"},"BULK UPLOAD KPI ACTUAL")):null),this.state.loading?m.a.createElement("div",{className:"loading-overlay"},m.a.createElement("div",{className:"loader"})):null)}}]),a}(d.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return N}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=a(15),h=a.n(p),f=a(13),g=a(24),v=a.n(g),b=a(27),y=a(16),S=a.n(y),E=(a(28),a(281),a(21),a(85)),w=a(17),k=a(8),N=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).setValueSearch=function(t){e.setState({search_key:t})},e.state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),totalRows:0,perPage:10,page:1,totalPage:0,sort_by:"file_name",sort:"asc",typeFind:"rmwbData",search_key:"",filterDataInsertAt:"",filterDataStatus:"",isChecker:!1},e.reset=e.reset.bind(Object(o.a)(e)),e.handlePageChange=e.handlePageChange.bind(Object(o.a)(e)),e.handleChange=e.handleChange.bind(Object(o.a)(e)),e.handlePerRowsChange=e.handlePerRowsChange.bind(Object(o.a)(e)),e.handleSort=e.handleSort.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(n,[{key:"componentWillMount",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),t=JSON.parse(localStorage.getItem("userPrivilege"))||[],a=0;a<t.length;a++)"approval_rmwb_kpi"===t[a].name+"_"+t[a].vgroup&&this.setState({isChecker:!0});return e.next=5,this.setState({loggedUser:localStorage.getItem("userNip")});case 5:this.getdataMaster(),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=!0,n=new w.a,e.next=5,n.findStatusByParam(this.state);case 5:(r=e.sent)&&200===r.status&&r.data?this.setState({listDataStatus:r.data}):t=!1,t||this.clearSession(),a||this.errorConectionToBe();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadOptions",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var r,l,i,o,c,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.page,l=new E.a,e.next=4,l.findSelectClient(r,10,t);case 4:for(i=e.sent,o=[],c=0;c<i.data.data.length;c++)o.push({value:i.data.data[c].client_cif,label:i.data.data[c].name});return u=r<i.data.totalPage,e.abrupt("return",{options:o,hasMore:u,additional:{page:r+1}});case 9:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r){var l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=!0,this.setState({loading:!0}),i=new E.a,e.next=5,i.findUploadKpiActualByParam(t,a,n,r,this.state);case 5:(o=e.sent)&&200===o.status&&o.data&&o.data.data.length>0?(this.setState({list:o.data.data}),this.setState({totalRows:o.data.total_result}),this.setState({totalPage:o.data.total_page}),this.setState({loading:!1})):(o&&o.data&&k.a===o.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):this.setState({error:!0,errorMessage:o&&o.data?o.data.message:o,loading:!1}),this.setState({list:[]}),this.setState({totalRows:0}),this.setState({totalPage:0}),this.setState({loading:!1})),l||this.errorConectionToBe();case 8:case"end":return e.stop()}}),e,this)})));return function(t,a,n,s){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleSort",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({sort:a});case 2:return e.next=4,this.setState({sort_by:t.selector});case 4:return e.next=6,this.setPage(this.state.page,a,t.selector,this.state.perPage);case 6:document.getElementById("column-"+t.selector).classList.add("sorted");case 8:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"handlePageChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({page:t}),this.setPage(t,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handlePerRowsChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({perPage:t}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"editRow",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t?this.props.history.push("rmwb-detail-upload-kpi-actual",{data:t}):alert("Some thing wrong with selected data pelase refresh your browser or contact admin!")||window.location.reload();case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"search",value:function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({loading:!0,search:!0}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"reset",value:function(){var e=this;h.a.findDOMNode(this.refs.search_status).value="",h.a.findDOMNode(this.refs.insert_date).value="",this.setState({search_status:"",insert_date:""},(function(){setTimeout((function(){e.setPage(e.state.page,e.state.sort,e.state.sort_by,e.state.perPage)}),100)}))}},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"render",value:function(){for(var e=this,t=this.state.insert_date?S()(this.state.insert_date,"YYYY-MM-DDTHH:mm:ss").toDate():null,n=JSON.parse(this.state.userPrivilege)||[],s=!1,r=0;r<n.length;r++)"upload_rmwb_kpi"===n[r].name+"_"+n[r].vgroup&&(s=!0);var l=[{name:"File Name",selector:"file_name",sortable:!0},{name:"Insert By",selector:"insert_by",sortable:!0},{name:"Insert At",selector:"insert_at",sortable:!0},{name:"Status",selector:"status",sortable:!0},{name:"Action",sortable:!1,cell:function(t){return m.a.createElement("div",null,m.a.createElement("input",{type:"image",alt:"Edit",height:20,value:"",src:a(40),onClick:function(a){return e.editRow(t)}}))},button:!0}];return m.a.createElement("div",{id:"list-upload-kpi",className:"default-rmwb-wrapper"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?m.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,m.a.createElement("h3",null,"List Upload Data Kpi Actual"),m.a.createElement("div",{id:"search-menu"},m.a.createElement("table",{style:{width:"100%"}},m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-2"},"Status File"),m.a.createElement("select",{ref:"search_status",className:"form-input col-4",onChange:function(t){return e.setState({search_status:t.target.value})}},m.a.createElement("option",{value:""},"Please select status!"),m.a.createElement("option",{value:"submitted"},"Submitted"),m.a.createElement("option",{value:"rejected"},"Rejected"))))),m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-2"},"Insert Date"),m.a.createElement("div",{className:"col-4 p-0"},m.a.createElement(b.a,{ref:"insert_date",className:"form-input",dateFormat:"yyyy-MM-dd",selected:t,onChange:function(t){return e.setState({insert_date:t})}}))))))),m.a.createElement("div",null,m.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.search.bind(this)},"search"),m.a.createElement("button",{type:"button",className:"reset-btn btn btn-secondary btn-sm",onClick:this.reset},"reset"))),m.a.createElement(v.a,{id:"tableData",className:"mb-4",defaultSortField:this.state.sort_by,columns:l,progressPending:this.state.loading,pagination:!0,paginationServer:!0,sortServer:!0,paginationTotalRows:this.state.totalRows,onChangeRowsPerPage:this.handlePerRowsChange,onChangePage:this.handlePageChange,onSort:this.handleSort,data:this.state.list}),m.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},m.a.createElement("div",{className:"d-flex justify-content-end mr-3"},m.a.createElement(f.b,{to:"rmwb-download-kpi-actual",className:"d-flex justify-content-end my-4"},m.a.createElement("button",{className:"button-red"},"Download Template"))),s?m.a.createElement(f.b,{to:"rmwb-upload-kpi-actual",className:"d-flex justify-content-end my-4"},m.a.createElement("button",{className:"button-red"},"Upload New Data Kpi Actual")):null),this.state.loading?m.a.createElement("div",{className:"loading-overlay"},m.a.createElement("div",{className:"loader"})):null)}}]),n}(d.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return C}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=a(15),h=a.n(p),f=a(13),g=a(24),v=a.n(g),b=a(30),y=a.n(b),S=(a(28),a(281),a(21),a(85)),E=a(17),w=a(8),k=a(31),N=a.n(k),C=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).setValueSearch=function(t){e.setState({search_key:t})},e.state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),totalRows:0,perPage:10,page:1,totalPage:0,sort_by:"key_performance",sort:"asc",typeFind:"rmwbData",search_key:""},e.reset=e.reset.bind(Object(o.a)(e)),e.handlePageChange=e.handlePageChange.bind(Object(o.a)(e)),e.handleChange=e.handleChange.bind(Object(o.a)(e)),e.handlePerRowsChange=e.handlePerRowsChange.bind(Object(o.a)(e)),e.handleSort=e.handleSort.bind(Object(o.a)(e)),e.handleOpenModal=e.handleOpenModal.bind(Object(o.a)(e)),e.handleCloseModal=e.handleCloseModal.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(a,[{key:"handleOpenModal",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({showModal:!0,modalName:t});case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleCloseModal",value:function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({showModal:!1});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillMount",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=this.props.location.state.data)||this.props.history.push("rmwb-rmwb-list-upload-kpi-actual"),this.setState({selectedFile:t}),this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),e.next=6,this.setState({loggedUser:localStorage.getItem("userNip")});case 6:this.getdataMaster(),this.getListDataStatus(t.status),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage),this.validator=new N.a({autoForceUpdate:this,element:function(e){return m.a.createElement("div",{className:"row col-12 validator-error-message"},m.a.createElement("div",{className:"col-4"}),m.a.createElement("div",{className:"col-8"},e))}});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=!0,n=new E.a,e.next=5,n.findStatusByParam(this.state);case 5:(r=e.sent)&&200===r.status&&r.data?this.setState({listDataStatus:r.data}):t=!1,t||this.clearSession(),a||this.errorConectionToBe();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadOptions",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var r,l,i,o,c,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.page,l=new S.a,e.next=4,l.findSelectClient(r,10,t);case 4:for(i=e.sent,o=[],c=0;c<i.data.data.length;c++)o.push({value:i.data.data[c].client_cif,label:i.data.data[c].name});return u=r<i.data.totalPage,e.abrupt("return",{options:o,hasMore:u,additional:{page:r+1}});case 9:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r){var l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=!0,this.setState({loading:!0}),i=new S.a,e.next=5,i.findUploadDetailKpiActualByParam(t,a,n,r,this.state);case 5:(o=e.sent)&&200===o.status&&o.data&&o.data.data.length>0?(this.setState({list:o.data.data}),this.setState({totalRows:o.data.total_result}),this.setState({totalPage:o.data.total_page}),this.setState({loading:!1})):(o&&o.data&&w.a===o.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):this.setState({error:!0,errorMessage:o&&o.data?o.data.message:o,loading:!1}),this.setState({list:[]}),this.setState({totalRows:0}),this.setState({totalPage:0}),this.setState({loading:!1})),l||this.errorConectionToBe();case 8:case"end":return e.stop()}}),e,this)})));return function(t,a,n,s){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleSort",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({sort:a});case 2:return e.next=4,this.setState({sort_by:t.selector});case 4:return e.next=6,this.setPage(this.state.page,a,t.selector,this.state.perPage);case 6:document.getElementById("column-"+t.selector).classList.add("sorted");case 8:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"handlePageChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({page:t}),this.setPage(t,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handlePerRowsChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({perPage:t}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"editRow",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t?this.props.history.push("rmwb-detail-upload-kpi-actual",{data:t}):alert("Some thing wrong with selected data pelase refresh your browser or contact admin!")||window.location.reload();case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getListDataStatus",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),a=!0,n=new E.a,e.next=5,n.findStatusByParam(this.state);case 5:(r=e.sent)&&200===r.status&&r.data.length>0?(this.setState({listDataStatus:r.data}),l=r.data.filter((function(e){return e.code===t})),this.setState({currentDataStatus:l[0]}),this.setState({loading:!1})):(this.setState({loading:!1}),this.setState({listDataStatus:""}),this.setState({currentDataStatus:""}),r&&r.data&&w.a===r.data.data?a=!1:this.setState({listDataStatus:""})),a||this.clearSession();case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"search",value:function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({loading:!0,search:!0}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"reset",value:function(){var e=this;this.setState({loading:!0}),h.a.findDOMNode(this.refs.search_key).value="",this.setState({search_key:""},(function(){setTimeout((function(){e.setPage(e.state.page,e.state.sort,e.state.sort_by,e.state.perPage)}),100)}))}},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"onSubmitApprove",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),t=new S.a,(a=this.state).status="approved",e.next=6,t.approveFileKpiActual(a);case 6:(n=e.sent)&&(200===n.status&&"Success"===n.data.message?(this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-list-upload-kpi-actual",this.state),this.setState({loading:!1})):n&&n.data&&w.a===n.data.data?(alert("Save Data Failed, Please try again !"),this.setState({loading:!1}),window.location.reload()):(this.setState({isSuccess:!1,message:"Save Data Failed",alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1})));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onSubmitReject",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({loading:!0}),t=new S.a,(a=this.state).status="rejected",this.validator.allValid()){e.next=8;break}return this.validator.showMessages(),this.setState({loading:!1}),e.abrupt("return");case 8:return e.next=10,t.rejectFileKpiActual(a);case 10:(n=e.sent)&&(200===n.status&&"Success"===n.data.message?(this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-list-upload-kpi-actual",this.state),this.setState({loading:!1})):n&&n.data&&w.a===n.data.data?(alert("Save Data Failed, Please try again !"),this.setState({loading:!1}),window.location.reload()):(this.setState({isSuccess:!1,message:"Save Data Failed",alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1})));case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){for(var e=this,t=JSON.parse(this.state.userPrivilege)||[],a=!1,n=0;n<t.length;n++)"approval_rmwb_kpi"===t[n].name+"_"+t[n].vgroup&&(a=!0);var s=this.state.currentDataStatus?this.state.currentDataStatus:[],r=!1,l=!1;s&&("rmwbData_approved"===s.type+"_"+s.code&&(r=!0),"rmwbData_rejected"===s.type+"_"+s.code&&(l=!0));return m.a.createElement("div",{id:"list-kpi-upload-detail",className:"default-rmwb-wrapper"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?m.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-6"},m.a.createElement("h3",null,"Detail Upload Data Kpi Actual")),m.a.createElement("div",{className:"col-6"},m.a.createElement(f.b,{to:"rmwb-list-upload-kpi-actual",className:"d-flex justify-content-end"},m.a.createElement("button",{className:"btn btn-info"},"Back to Upload List")))),m.a.createElement("p",null,"File name : ",this.state.selectedFile.file_name," || Uploaded by : ",this.state.selectedFile.insert_by," || At : ",this.state.selectedFile.insert_at," || Status : ",this.state.selectedFile.status),l?m.a.createElement("p",null,"Remarks : ",this.state.selectedFile.remarks):null,m.a.createElement(v.a,{id:"tableData",className:"mb-4",defaultSortField:this.state.sort_by,columns:[{name:"Name",selector:"name",width:"150px",sortable:!0},{name:"Office Id",selector:"employee_id",sortable:!0,width:"150px"},{name:"CN",selector:"officer_id",sortable:!0,width:"150px"},{name:"Key Goal",selector:"key_performance",sortable:!0,width:"400px"},{name:"Role",selector:"role",sortable:!0},{name:"Segment",selector:"segment",sortable:!0,width:"200px"},{name:"Year",selector:"year",sortable:!0},{name:"Month",selector:"month",sortable:!0},{name:"Target",selector:"target",sortable:!0},{name:"Actual",selector:"actual",sortable:!0}],progressPending:this.state.loading,pagination:!0,paginationServer:!0,sortServer:!0,paginationTotalRows:this.state.totalRows,onChangeRowsPerPage:this.handlePerRowsChange,onChangePage:this.handlePageChange,onSort:this.handleSort,data:this.state.list}),m.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},!a||l||r?null:m.a.createElement("div",null,m.a.createElement("button",{className:"button-red mr-2",onClick:function(){return e.handleOpenModal("reject-data")}},"Reject"),m.a.createElement("button",{className:"button-green",onClick:function(){return e.handleOpenModal("approve-data")}},"Approve"))),this.state.loading?m.a.createElement("div",{className:"loading-overlay"},m.a.createElement("div",{className:"loader"})):null,m.a.createElement(y.a,{closeTimeoutMS:300,isOpen:this.state.showModal,contentLabel:"onRequestClose Example",onRequestClose:this.handleCloseModal,className:"Modal",overlayClassName:"Overlay"},"approve-data"===this.state.modalName?m.a.createElement("div",null,m.a.createElement("div",{className:"row mx-0 justify-content-center"},m.a.createElement("h4",null,"Are You Sure To Approve This Data ?")),m.a.createElement("div",{className:"d-flex justify-content-center mx-2 mt-5"},m.a.createElement("button",{className:"button-red mr-5",onClick:this.handleCloseModal},"Cancel"),m.a.createElement("button",{className:"button-red",onClick:this.onSubmitApprove.bind(this)},"Approve"))):null,"reject-data"===this.state.modalName?m.a.createElement("div",null,m.a.createElement("div",{className:"row mx-0 justify-content-center"},m.a.createElement("h4",{className:"mb-4"},"Please fill Remark to data Maker !"),this.state.error?m.a.createElement("div",{className:"col-12 ".concat(this.state.alertState),role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.errorMessage):null,m.a.createElement("textarea",{className:"col-12 form-input",type:"text",onChange:function(t){return e.setState({remarks:t.target.value})},value:this.state.remarks||"",placeholder:"Remarks",onBlur:function(){return e.validator.showMessageFor("remarks")}}),this.validator.message("remarks",this.state.remarks,"required")),m.a.createElement("div",{className:"d-flex justify-content-center mx-2 mt-4"},m.a.createElement("button",{className:"button-red mr-5",onClick:this.handleCloseModal},"Cancel"),m.a.createElement("button",{className:"button-red",onClick:this.onSubmitReject.bind(this)},"Reject"))):null))}}]),a}(d.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return b}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=(a(28),a(281),a(13)),p=a(8),h=a(85),f=a(17),g=a(31),v=a.n(g),b=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={isSuccess:!1,message:"",token:localStorage.getItem("accessToken"),selectedFile:null,loading:!1,roleName:localStorage.getItem("roleName"),isSadmin:!1},e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.setState({isSadmin:"SADMINOCTOBENCH"===this.state.roleName}),this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),this.setState({loggedUser:localStorage.getItem("userNip")}),this.getdataMaster(),this.validator=new v.a({autoForceUpdate:this,element:function(e){return d.a.createElement("div",{className:"row col-12 validator-error-message"},d.a.createElement("div",{className:"col-2"}),d.a.createElement("div",{className:"col-10"},e))}})}},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=!0,n=new f.a,e.next=5,n.findStatusByParam(this.state);case 5:(r=e.sent)&&200===r.status&&r.data?this.setState({listDataStatus:r.data}):t=!1,t||this.clearSession(),a||this.errorConectionToBe();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"errorConectionToBe",value:function(){alert("Connection to Server Octobench interupted!\nPlease check your conection or contact administrator!")}},{key:"onSubmitApprove",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),a=new h.a,(n=this.state).selectedFile.id=t,n.status="approved",e.next=7,a.approveFileKpiActual(n);case 7:(r=e.sent)&&(200===r.status&&"Success"===r.data.message?(this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-kpi-actual",this.state),this.setState({loading:!1})):r&&r.data&&p.a===r.data.data?(alert("Save Data Failed, Please try again !"),this.setState({loading:!1}),window.location.reload()):(this.setState({isSuccess:!1,message:"Save Data Failed",alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1})));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validator.allValid()){e.next=4;break}return this.validator.showMessages(),this.setState({loading:!1}),e.abrupt("return");case 4:if(!this.state.isSadmin){e.next=27;break}if(!window.confirm("Are you sure to submit and approve this data ?")){e.next=23;break}return this.setState({loading:!0}),t=new h.a,(a=new FormData).append("file",this.state.selectedFile),e.next=12,t.uploadFileKpiActual(a,this.state);case 12:if(!(n=e.sent)){e.next=21;break}if(200!==n.status||"Succeed"!==n.data.message){e.next=20;break}return r=n.data.data.file_id,e.next=18,this.onSubmitApprove(r);case 18:e.next=21;break;case 20:n&&n.data&&p.a===n.data.data?(alert("Save Data Failed, Please try again !"),this.setState({loading:!1}),window.location.reload()):(this.setState({isSuccess:!1,message:"Save Data Failed, "+n.data.data.remarks,alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1}));case 21:e.next=25;break;case 23:return this.setState({loading:!1}),e.abrupt("return",!1);case 25:e.next=35;break;case 27:return this.setState({loading:!0}),l=new h.a,(i=new FormData).append("file",this.state.selectedFile),e.next=33,l.uploadFileKpiActual(i,this.state);case 33:(o=e.sent)&&(200===o.status&&"Succeed"===o.data.message?(this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-list-upload-kpi-actual",this.state),this.setState({loading:!1})):o&&o.data&&p.a===o.data.data?(alert("Save Data Failed, Please try again !"),this.setState({loading:!1}),window.location.reload()):(this.setState({isSuccess:!1,message:"Save Data Failed, "+o.data.data.remarks,alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1})));case 35:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return d.a.createElement("div",{id:"EditKpiActual",className:"default-rmwb-wrapper"},this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-6"},d.a.createElement("h3",{className:"mb-4"},"Upload New Data Kpi Actual")),d.a.createElement("div",{className:"col-6"},d.a.createElement(m.b,{to:"rmwb-list-upload-kpi-actual",className:"d-flex justify-content-end"},d.a.createElement("button",{className:"btn btn-info"},"Back to Upload List")))),d.a.createElement("div",{className:"form-box-area mb-4"},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"row col-12"},d.a.createElement("h4",{className:"mb-4 col-6"},"Please select file to be upload")),d.a.createElement("div",{className:"row mb-3 col-12"},d.a.createElement("label",{className:"col-2"},"New File Kpi Actual ",d.a.createElement("span",{className:"text-danger"},"*")),d.a.createElement("input",{className:"col-6 px-0",type:"file",id:"upload-new-file",onChange:function(t){return e.setState({selectedFile:t.target.files[0],loaded:0})},onBlur:function(){return e.validator.showMessageFor("file")}}),d.a.createElement("div",{className:"col-4 d-flex justify-content-end"},d.a.createElement("button",{type:"button",className:"button-red",onClick:function(t){return e.submit()}},"Upload")),this.validator.message("file",this.state.selectedFile,"required")))),this.state.loading?d.a.createElement("div",{className:"loading-overlay"},d.a.createElement("div",{className:"loader"})):null)}}]),a}(u.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return h}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=(a(73),a(28),a(281),a(21),a(85)),p=a(17),h=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={userPrivilege:[],list:[],loading:!1,documentType:"",listYear:[],selectedYear:"",bu:"",role:"",token:localStorage.getItem("accessToken"),enableYear:!1,selectedBuLabel:"",selectedRoleLabel:""},window.scrollTo(0,0),e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),this.getdataMaster()}},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),t=!0,a=!0,n=new m.a,r=new p.a,e.next=7,r.findStatusByParam(this.state);case 7:if((l=e.sent)&&200===l.status&&l.data?(this.setState({listDataStatus:l.data}),this.setState({loading:!1})):(this.setState({loading:!1}),t=!1),t){e.next=12;break}return this.clearSession(),e.abrupt("return");case 12:return e.next=14,n.getRoleRmwb(this.state);case 14:return(i=e.sent)&&200===i.status&&i.data&&i.data.data.length>0?(this.setState({roleUser:i.data.data}),this.setState({loading:!1})):(this.setState({loading:!1}),this.setState({roleUser:[]}),a=!1),e.next=18,n.getBusinessUser(this.state);case 18:(o=e.sent)&&200===o.status&&o.data&&o.data.data.length>0?(this.setState({businessUser:o.data.data}),this.setState({loading:!1})):(this.setState({loading:!1}),this.setState({businessUser:[]}),a=!1),a||this.conectionToBE();case 21:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"conectionToBE",value:function(){alert("Cant get data from backend Octo RM Bench, Please check your conection or contact admin!")}},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"validate",value:function(e){return this.setState({error:!0,alertState:"alert alert-danger"}),e.bu?e.role?e.selectedYear||0!==e.listYear.length?e.selectedYear?(this.setState({error:!1,alertState:"alert alert-primary"}),!0):(this.setState({errorMessage:"Please Select Year!"}),!1):(this.setState({errorMessage:"Template KPI Actual for "+e.selectedBuLabel+" with role "+e.selectedRoleLabel+" unavailable"}),!1):(this.setState({errorMessage:"Please Select Role User!"}),!1):(this.setState({errorMessage:"Please Select Business User!"}),!1)}},{key:"filterOnChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r,l,i,o,c,u,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.selectedIndex,r=a.childNodes[n],l=r.getAttribute("data"),this.setState({selectedYear:""}),i=!0,o=new m.a,"bu"!==t){e.next=13;break}return e.next=9,this.setState({bu:a.value});case 9:return e.next=11,this.setState({selectedBuLabel:l});case 11:e.next=18;break;case 13:if("role"!==t){e.next=18;break}return e.next=16,this.setState({role:a.value});case 16:return e.next=18,this.setState({selectedRoleLabel:l});case 18:if(""===this.state.bu||""===this.state.role){e.next=25;break}return this.setState({loading:!0}),c=[],e.next=23,o.getListYearByRoleBu(this.state);case 23:if((u=e.sent)&&200===u.status&&u.data&&u.data.data){if(u.data.data.length>0)for(d in this.setState({enableYear:!0}),u.data.data)c.push({label:u.data.data[d],value:u.data.data[d]});this.setState({listYear:c}),this.setState({loading:!1})}else this.setState({listYear:[]}),i=!1,this.setState({loading:!1});case 25:i||this.conectionToBE();case 26:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"downloadTemplate",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({loading:!0}),t=this.state,this.validate(t)){e.next=6;break}return window.scrollTo(0,0),this.setState({loading:!1}),e.abrupt("return");case 6:return a=new m.a,e.next=9,a.downloadTemplate(t);case 9:(n=e.sent)&&200===n.status&&n.data?(this.setState({isSuccess:!0}),r=new Blob([n.data],{type:"application/octet-stream"}),l=window.URL.createObjectURL(r),(i=document.createElement("a")).href=l,i.target="_blank",i.download="kpi_actual.xlsx",document.body.appendChild(i),i.click(),document.body.removeChild(i),this.setState({loading:!1})):(n&&n.data&&n.data.message?(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Error cant download data, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)),this.setState({loading:!1}));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.businessUser||[];t=t.map((function(e){var t=e.name,a=e.id;return d.a.createElement("option",{key:a,data:t,"code-data":a,value:a},t)}));var a=this.state.roleUser||[];a=a.map((function(e){var t=e.name,a=e.id;return d.a.createElement("option",{key:a,data:t,"code-data":a,value:a},t)}));var n=this.state.listYear||[];return n=n.map((function(e){var t=e.label,a=e.value;return d.a.createElement("option",{key:a,"code-data":a,value:a},t)})),d.a.createElement("div",{id:"download_kpi_actual",className:"download default-rmwb-wrapper"},this.state.error?d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.errorMessage):null,d.a.createElement("div",{className:"form-box-area mb-2"},d.a.createElement("h4",{className:"mb-4"},"Download Template for Kpi Actual"),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Business User"),d.a.createElement("select",{className:"col-2 form-input",onChange:function(t){return e.filterOnChange("bu",t.target)},value:this.state.bu},d.a.createElement("option",{key:"",value:""},"Select Business User"),t)),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Role User"),d.a.createElement("select",{className:"col-2 form-input",onChange:function(t){return e.filterOnChange("role",t.target)},value:this.state.role},d.a.createElement("option",{key:"",value:""},"Select Role User"),a)),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Year"),d.a.createElement("select",{className:"col-2 form-input",onChange:function(t){return e.setState({selectedYear:t.target.value})},value:this.state.selectedYear},d.a.createElement("option",{key:"",value:""},"Select Year"),n)),d.a.createElement("div",{className:"row m-0 justify-content-end"},d.a.createElement("button",{className:"button-red",onClick:this.downloadTemplate.bind(this)},"download template"))),this.state.loading?d.a.createElement("div",{className:"loading-overlay"},d.a.createElement("div",{className:"loader"})):null)}}]),a}(u.Component)},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return E}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=a(15),h=a.n(p),f=a(13),g=a(24),v=a.n(g),b=(a(28),a(235),a(21),a(51)),y=a(17),S=a(65),E=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).setValueSearch=function(t){e.setState({search_key:t})},e.state={userPrivilege:[],list:[],listDesignation:[],loading:!0,token:localStorage.getItem("accessToken"),totalRows:0,perPage:10,page:1,totalPage:0,sort_by:"client_cif",sort:"asc",typeFind:"rmwbData",search_key:"",filterDesignation:"",filterStatus:"",isSuccess:!0,roleName:localStorage.getItem("roleName"),isSadmin:!1},e.reset=e.reset.bind(Object(o.a)(e)),e.handlePageChange=e.handlePageChange.bind(Object(o.a)(e)),e.handleChange=e.handleChange.bind(Object(o.a)(e)),e.handlePerRowsChange=e.handlePerRowsChange.bind(Object(o.a)(e)),e.handleSort=e.handleSort.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(n,[{key:"componentWillMount",value:function(){this.setState({isSadmin:"SADMINOCTOBENCH"===this.state.roleName}),this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),this.setState({loggedUser:localStorage.getItem("userNip")}),this.getdataMaster(),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage)}},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=!0,n=new y.a,r=new b.a,e.next=6,n.findStatusByParam(this.state);case 6:return(l=e.sent)&&200===l.status&&l.data?this.setState({listDataStatus:l.data}):t=!1,t||this.clearSession(),e.next=11,r.getDesignation(this.state);case 11:(i=e.sent)&&200===i.status&&i.data&&i.data.data.length>0?this.setState({listDesignation:i.data.data}):(this.setState({roleUser:[]}),a=!1),a||this.errorConectionToBe();case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadOptions",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var r,l,i,o,c,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.page,l=new b.a,e.next=4,l.findSelectClient(r,10,t);case 4:for(i=e.sent,o=[],c=0;c<i.data.data.length;c++)o.push({value:i.data.data[c].client_cif,label:i.data.data[c].name+" ("+i.data.data[c].client_cif+")"});return u=r<i.data.total_page,e.abrupt("return",{options:o,hasMore:u,additional:{page:r+1}});case 9:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r){var l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=!0,this.setState({loading:!0}),i=new b.a,e.next=5,i.findClientManagementByParam(t,a,n,r,this.state);case 5:(o=e.sent)&&o.status&&200===o.status&&o.data&&o.data.data?(this.setState({list:o.data.data}),this.setState({totalRows:o.data.total_result}),this.setState({totalPage:o.data.total_page}),this.setState({isSuccess:!0}),this.setState({loading:!1})):(o&&o.data&&o.data.message?(this.setState({isSuccess:!1,message:o.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Can't get data list client management!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)),this.setState({list:[]}),this.setState({totalRows:0}),this.setState({totalPage:0}),this.setState({loading:!1})),l||this.errorConectionToBe();case 8:case"end":return e.stop()}}),e,this)})));return function(t,a,n,s){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleSort",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({sort:a});case 2:return e.next=4,this.setState({sort_by:t.selector});case 4:return e.next=6,this.setPage(this.state.page,a,t.selector,this.state.perPage);case 6:document.getElementById("column-"+t.selector).classList.add("sorted");case 8:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"handlePageChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({page:t}),this.setPage(t,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handlePerRowsChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({perPage:t}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"editRow",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t?this.props.history.push("rmwb-edit-client-management",{data:t}):(alert("Some thing wrong with selected data pelase refresh your browser or contact admin!"),window.location.reload());case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"approveDelete",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),a=[],n=new b.a,t.status="deleted",e.next=6,n.approveClientManagement(t);case 6:(a=e.sent)&&200===a.status&&"Success"===a.data.message?(this.setState({isSuccess:!0,message:"Data Saved"}),this.setState({loading:!1}),window.location=window.location.href):a&&a.data&&a.data.message?(this.setState({isSuccess:!1,message:a.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Save data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteRow",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=26;break}if(!this.state.isSadmin){e.next=19;break}if(!window.confirm("Are you sure to delete and approve delete this data ?")){e.next=16;break}return this.setState({loading:!0}),a=new b.a,e.next=7,a.deleteClientManagement(t,this.state);case 7:if(!(n=e.sent)||200!==n.status||"Success"!==n.data.message){e.next=13;break}return e.next=11,this.approveDelete(t);case 11:e.next=14;break;case 13:n&&n.data&&n.data.message?(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(alert("error, data ".concat(t.name," cannot deleted")),this.setState({loading:!1}),window.scrollTo(0,0));case 14:e.next=17;break;case 16:this.setState({loading:!1});case 17:e.next=26;break;case 19:if(!window.confirm("Are you sure you want to delete ".concat(t.name+" ?"))){e.next=26;break}return this.setState({loading:!0}),r=new b.a,e.next=24,r.deleteClientManagement(t,this.state);case 24:(l=e.sent)&&200===l.status&&"Success"===l.data.message?(alert("data ".concat(t.name," waiting approve to delete")),window.location=window.location.href,this.setState({loading:!1})):l&&l.data&&l.data.message?(this.setState({isSuccess:!1,message:l.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(alert("error, data ".concat(t.name," cannot deleted")),this.setState({loading:!1}),window.scrollTo(0,0));case 26:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"search",value:function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({loading:!0,search:!0}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"reset",value:function(){var e=this;this.setState({loading:!0}),h.a.findDOMNode(this.refs.search_key).value="",h.a.findDOMNode(this.refs.status).value="",h.a.findDOMNode(this.refs.designation).value="",this.setState({search_key:"",filterDesignation:"",filterStatus:""},(function(){setTimeout((function(){e.setPage(e.state.page,e.state.sort,e.state.sort_by,e.state.perPage)}),100)}))}},{key:"errorConectionToBe",value:function(){alert("Connection to Server Octobench interupted!\nPlease check your conection or contact administrator!")}},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"render",value:function(){for(var e=this,t=JSON.parse(this.state.userPrivilege)||[],n=!1,s=!1,r=0;r<t.length;r++)"create_rmwb_clientManagement"===t[r].name+"_"+t[r].vgroup&&(n=!0),"delete_rmwb_clientManagement"===t[r].name+"_"+t[r].vgroup&&(s=!0);var l=[{name:"Name",selector:"name",sortable:!0},{name:"Client Cif",selector:"client_cif",sortable:!0},{name:"Management Name",selector:"management_name_draft",sortable:!0},{name:"Designation",selector:"designation_draft",sortable:!0},{name:"Designation Text",selector:"designation_draft_text",sortable:!0},{name:"Date Of Birth",selector:"date_of_birth_draft",sortable:!0},{name:"Status",selector:"status",sortable:!0,width:"120px"},{name:"Action",sortable:!1,cell:function(t){return m.a.createElement("div",null,s&&"requestDelete"!==t.status&&"deleted"!==t.status?m.a.createElement("input",{type:"image",alt:"Delete",height:20,className:"mr-3",value:t.client_cif,src:a(67),onClick:function(a){return e.deleteRow(t)}}):null,m.a.createElement("input",{type:"image",alt:"Edit",height:20,value:t.client_cif,src:a(40),onClick:function(a){return e.editRow(t)}}))},button:!0}],i=this.state.listDataStatus||[];i=i.map((function(e){var t=e.code,a=e.name;return m.a.createElement("option",{key:t,"code-data":t,value:t},a)}));var o=this.state.listDesignation||[];return o=o.map((function(e){var t=e.key,a=e.value;return m.a.createElement("option",{key:t,"code-data":t,value:t},a)})),m.a.createElement("div",{id:"ListClientManagement",className:"default-rmwb-wrapper"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?m.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,this.state.isSuccess?null:m.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),m.a.createElement("h3",null,"Client Management List"),m.a.createElement("div",{id:"search-menu"},m.a.createElement("table",{style:{width:"100%"}},m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-2"},"Search Client CIF"),m.a.createElement(S.a,{className:"col-6 p-0",ref:"search_key",value:this.state.search_key,loadOptions:this.loadOptions,onChange:this.setValueSearch,debounceTimeout:300,additional:{page:1}})))),m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-2"},"Status"),m.a.createElement("select",{ref:"status",className:"col-6 form-input",onChange:function(t){return e.setState({filterStatus:t.target.value})}},m.a.createElement("option",{key:"",value:""},"Select Data Status"),i)))),m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-2"},"Designation"),m.a.createElement("select",{ref:"designation",className:"col-6 form-input",onChange:function(t){return e.setState({filterDesignation:t.target.value})}},m.a.createElement("option",{key:"",value:""},"Select Designation"),o)))))),m.a.createElement("div",null,m.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.search.bind(this)},"search"),m.a.createElement("button",{type:"button",className:"reset-btn btn btn-secondary btn-sm",onClick:this.reset},"reset"))),m.a.createElement(v.a,{id:"tableData",className:"mb-4",defaultSortField:this.state.sort_by,columns:l,progressPending:this.state.loading,pagination:!0,paginationServer:!0,sortServer:!0,paginationTotalRows:this.state.totalRows,onChangeRowsPerPage:this.handlePerRowsChange,onChangePage:this.handlePageChange,onSort:this.handleSort,data:this.state.list,responsive:!0}),m.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},n?m.a.createElement(f.b,{to:"rmwb-create-client-management",className:"d-flex justify-content-end mr-2"},m.a.createElement("button",{className:"button-red"},"Create New Management")):null,n?m.a.createElement(f.b,{to:"rmwb-list-upload-client-management",className:"justify-content-end"},m.a.createElement("button",{className:"button-red"},"BULK UPLOAD Client Management")):null),this.state.loading?m.a.createElement("div",{className:"loading-overlay"},m.a.createElement("div",{className:"loader"})):null)}}]),n}(d.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return h}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(376),p=(a(28),a(235),a(51)),h=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={isSuccess:!1,message:"",token:localStorage.getItem("accessToken"),htmlContent:"",loading:!1,roleName:localStorage.getItem("roleName"),isSadmin:!1},e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.setState({isSadmin:"SADMINOCTOBENCH"===this.state.roleName});var e=this.props.location.state.data;e||this.props.history.push("rmwb-client-management"),this.setState(e)}},{key:"approve",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),a=[],n=new p.a,t.status="approved",e.next=6,n.approveClientManagement(t);case 6:(a=e.sent)&&200===a.status&&"Success"===a.data.message?(this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-client-management",this.state),this.setState({loading:!1})):a&&a.data&&a.data.message?(this.setState({isSuccess:!1,message:a.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Save data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({loading:!0}),a=[],n=new p.a,!t.submitOnly){e.next=10;break}return t.status="drafted",e.next=7,n.updateClientManagement(t);case 7:a=e.sent,e.next=55;break;case 10:if(!t.submitAndSave){e.next=29;break}if(!this.state.isSadmin){e.next=23;break}if(!window.confirm("Are you sure to submit and approve this data ?")){e.next=19;break}return t.status="submitted",e.next=16,n.updateClientManagement(t);case 16:a=e.sent,e.next=21;break;case 19:return this.setState({loading:!1}),e.abrupt("return",!1);case 21:e.next=27;break;case 23:return t.status="submitted",e.next=26,n.updateClientManagement(t);case 26:a=e.sent;case 27:e.next=55;break;case 29:if(!t.submitApprove){e.next=36;break}return t.status="approved",e.next=33,n.approveClientManagement(t);case 33:a=e.sent,e.next=55;break;case 36:if(!t.submitReject){e.next=43;break}return t.status="rejected",e.next=40,n.rejectClientManagement(t);case 40:a=e.sent,e.next=55;break;case 43:if(!t.rejectDelete){e.next=50;break}return t.status="rejected",e.next=47,n.rejectClientManagement(t);case 47:a=e.sent,e.next=55;break;case 50:if(!t.approveDelete){e.next=55;break}return t.status="deleted",e.next=54,n.approveClientManagement(t);case 54:a=e.sent;case 55:if(!a||200!==a.status||"Success"!==a.data.message){e.next=66;break}if(!this.state.isSadmin){e.next=61;break}return e.next=59,this.approve(this.state);case 59:e.next=64;break;case 61:this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-client-management",this.state),this.setState({loading:!1});case 64:e.next=67;break;case 66:a&&a.data&&a.data.message?(this.setState({isSuccess:!1,message:a.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Save data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0));case 67:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.location.state.data;return d.a.createElement("div",{id:"EditClientManagement",className:"default-rmwb-wrapper"},this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement("h3",{className:"mb-4"},"Edit Client Management"),d.a.createElement(m.a,{mode:"edit",data:e,history:this.props.history,onSubmit:this.submit.bind(this),onSubmitAndSave:this.submit.bind(this)}),this.state.loading?d.a.createElement("div",{className:"loading-overlay"},d.a.createElement("div",{className:"loader"})):null)}}]),a}(u.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return h}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(376),p=(a(28),a(235),a(51)),h=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={isSuccess:!1,message:"",is_deleted_draft:"",token:localStorage.getItem("accessToken"),loading:!1,roleName:localStorage.getItem("roleName"),isSadmin:!1},e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.setState({isSadmin:"SADMINOCTOBENCH"===this.state.roleName})}},{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.isSadmin){e.next=23;break}if(!window.confirm("Are you sure to submit and approve this data ?")){e.next=19;break}return this.setState({loading:!0}),t.submitOnly?t.status="drafted":t.status="submitted",a=new p.a,e.next=7,a.addClientManagement(t);case 7:if(!(n=e.sent)||200!==n.status||"Success"!==n.data.message){e.next=16;break}return e.next=11,this.approve(n.data.data);case 11:this.setState({isSuccess:!0,message:"Data saved"}),this.props.history.push("rmwb-client-management",this.state),this.setState({loading:!1}),e.next=17;break;case 16:n&&n.data&&n.data.message?(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Save data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0));case 17:e.next=21;break;case 19:return this.setState({loading:!1}),e.abrupt("return",!1);case 21:e.next=30;break;case 23:return this.setState({loading:!0}),t.submitOnly?t.status="drafted":t.status="submitted",r=new p.a,e.next=28,r.addClientManagement(t);case 28:(l=e.sent)&&200===l.status&&"Success"===l.data.message?(this.setState({isSuccess:!0,message:"Data saved"}),this.props.history.push("rmwb-client-management",this.state),this.setState({loading:!1})):l&&l.data&&l.data.message?(this.setState({isSuccess:!1,message:l.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Save data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0));case 30:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"approve",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),a=[],n=new p.a,t.status="approved",e.next=6,n.approveClientManagement(t);case 6:(a=e.sent)&&200===a.status&&"Success"===a.data.message?(this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-client-management",this.state),this.setState({loading:!1})):a&&a.data&&a.data.message?(this.setState({isSuccess:!1,message:a.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Save data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return d.a.createElement("div",{id:"CreateClientManagement",className:"default-rmwb-wrapper"},this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement("h3",{className:"mb-4"},"Add New Client Management"),d.a.createElement(m.a,{history:this.props.history,onSubmit:this.submit.bind(this),onSubmitAndSave:this.submit.bind(this)}),this.state.loading?d.a.createElement("div",{className:"loading-overlay"},d.a.createElement("div",{className:"loader"})):null)}}]),a}(u.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return N}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=a(15),h=a.n(p),f=a(13),g=a(24),v=a.n(g),b=a(27),y=a(16),S=a.n(y),E=(a(28),a(235),a(21),a(51)),w=a(17),k=a(8),N=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).setValueSearch=function(t){e.setState({search_key:t})},e.state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),totalRows:0,perPage:10,page:1,totalPage:0,sort_by:"file_name",sort:"asc",typeFind:"rmwbData",search_key:"",filterDataInsertAt:"",filterDataStatus:"",isChecker:!1,isSuccess:!0},e.reset=e.reset.bind(Object(o.a)(e)),e.handlePageChange=e.handlePageChange.bind(Object(o.a)(e)),e.handleChange=e.handleChange.bind(Object(o.a)(e)),e.handlePerRowsChange=e.handlePerRowsChange.bind(Object(o.a)(e)),e.downloadTemplate=e.downloadTemplate.bind(Object(o.a)(e)),e.handleSort=e.handleSort.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(n,[{key:"componentWillMount",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),t=JSON.parse(localStorage.getItem("userPrivilege"))||[],a=0;a<t.length;a++)"approval_rmwb_clientManagement"===t[a].name+"_"+t[a].vgroup&&this.setState({isChecker:!0});return e.next=5,this.setState({loggedUser:localStorage.getItem("userNip")});case 5:this.getdataMaster(),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=!0,n=new w.a,e.next=5,n.findStatusByParam(this.state);case 5:(r=e.sent)&&200===r.status&&r.data?this.setState({listDataStatus:r.data}):t=!1,t||this.clearSession(),a||this.errorConectionToBe();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadOptions",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var r,l,i,o,c,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.page,l=new E.a,e.next=4,l.findSelectClient(r,10,t);case 4:for(i=e.sent,o=[],c=0;c<i.data.data.length;c++)o.push({value:i.data.data[c].client_cif,label:i.data.data[c].name});return u=r<i.data.totalPage,e.abrupt("return",{options:o,hasMore:u,additional:{page:r+1}});case 9:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r){var l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=!0,this.setState({loading:!0}),i=new E.a,e.next=5,i.findUploadManagementByParam(t,a,n,r,this.state);case 5:(o=e.sent)&&200===o.status&&o.data&&o.data.data?(this.setState({list:o.data.data}),this.setState({totalRows:o.data.total_result}),this.setState({totalPage:o.data.total_page}),this.setState({isSuccess:!0}),this.setState({loading:!1})):(o&&o.data&&o.data.message?(this.setState({isSuccess:!1,message:o.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Can't get data list client management!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)),this.setState({list:[]}),this.setState({totalRows:0}),this.setState({totalPage:0}),this.setState({loading:!1})),l||this.errorConectionToBe();case 8:case"end":return e.stop()}}),e,this)})));return function(t,a,n,s){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleSort",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({sort:a});case 2:return e.next=4,this.setState({sort_by:t.selector});case 4:return e.next=6,this.setPage(this.state.page,a,t.selector,this.state.perPage);case 6:document.getElementById("column-"+t.selector).classList.add("sorted");case 8:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"handlePageChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({page:t}),this.setPage(t,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handlePerRowsChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({perPage:t}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"editRow",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t?this.props.history.push("rmwb-detail-upload-client-management",{data:t}):(alert("Some thing wrong with selected data pelase refresh your browser or contact admin!"),window.location.reload());case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"downloadTemplate",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),t=new E.a,e.next=4,t.downloadTemplate();case 4:(a=e.sent)&&200===a.status&&a.data?(n=new Blob([a.data],{type:"application/octet-stream"}),r=window.URL.createObjectURL(n),(l=document.createElement("a")).href=r,l.target="_blank",l.download="client_management.xlsx",document.body.appendChild(l),l.click(),document.body.removeChild(l),this.setState({loading:!1})):(a&&a.data&&a.data.message?(this.setState({isSuccess:!1,message:a.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Error cant download data, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)),this.setState({loading:!1}));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteRow",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to delete ".concat(t.management_name+" ?"))){e.next=6;break}return a=new E.a,e.next=4,a.deleteManagement(t);case 4:200===(n=e.sent).status&&"Success"===n.data.message?(alert("data ".concat(t.management_name," waiting approve to delete")),window.location=window.location.href):n&&n.data&&k.a===n.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):alert("error, data ".concat(t.management_name," cannot deleted"));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"search",value:function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({loading:!0,search:!0}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"reset",value:function(){var e=this;h.a.findDOMNode(this.refs.search_status).value="",h.a.findDOMNode(this.refs.insert_date).value="",this.setState({search_status:"",insert_date:""},(function(){setTimeout((function(){e.setPage(e.state.page,e.state.sort,e.state.sort_by,e.state.perPage)}),100)}))}},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"render",value:function(){for(var e=this,t=this.state.insert_date?S()(this.state.insert_date,"YYYY-MM-DDTHH:mm:ss").toDate():null,n=JSON.parse(this.state.userPrivilege)||[],s=!1,r=0;r<n.length;r++)"upload_rmwb_clientManagement"===n[r].name+"_"+n[r].vgroup&&(s=!0);var l=[{name:"File Name",selector:"file_name",sortable:!0},{name:"Insert By",selector:"insert_by",sortable:!0},{name:"Insert At",selector:"insert_at",sortable:!0},{name:"Status",selector:"status",sortable:!0},{name:"Action",sortable:!1,cell:function(t){return m.a.createElement("div",null,m.a.createElement("input",{type:"image",alt:"Edit",height:20,value:t,src:a(40),onClick:function(a){return e.editRow(t)}}))},button:!0}];return m.a.createElement("div",{id:"listUploadManagement",className:"default-rmwb-wrapper"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?m.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,this.state.isSuccess?null:m.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),m.a.createElement("h3",null,"List Upload Data Client Management"),m.a.createElement("div",{id:"search-menu"},m.a.createElement("table",{style:{width:"100%"}},m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-2"},"Status File"),m.a.createElement("select",{ref:"search_status",className:"form-input col-4",onChange:function(t){return e.setState({search_status:t.target.value})}},m.a.createElement("option",{value:""},"Please select status!"),m.a.createElement("option",{value:"submitted"},"Submitted"),m.a.createElement("option",{value:"rejected"},"Rejected"))))),m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-2"},"Insert Date"),m.a.createElement("div",{className:"col-4 p-0"},m.a.createElement(b.a,{ref:"insert_date",className:"form-input",dateFormat:"yyyy-MM-dd",selected:t,onChange:function(t){return e.setState({insert_date:t})}}))))))),m.a.createElement("div",null,m.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.search.bind(this)},"search"),m.a.createElement("button",{type:"button",className:"reset-btn btn btn-secondary btn-sm",onClick:this.reset},"reset"))),m.a.createElement(v.a,{id:"tableData",className:"mb-4",defaultSortField:this.state.sort_by,columns:l,progressPending:this.state.loading,pagination:!0,paginationServer:!0,sortServer:!0,paginationTotalRows:this.state.totalRows,onChangeRowsPerPage:this.handlePerRowsChange,onChangePage:this.handlePageChange,onSort:this.handleSort,data:this.state.list}),m.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},m.a.createElement("div",{className:"d-flex justify-content-end my-4 mr-3"},m.a.createElement("button",{className:"button-red",onClick:this.downloadTemplate},m.a.createElement("img",{src:"./../../../assets/images/export.png",alt:""}),"Download Template File")),s?m.a.createElement(f.b,{to:"rmwb-upload-client-management",className:"d-flex justify-content-end my-4"},m.a.createElement("button",{className:"button-red"},"Upload New Data Management")):null),this.state.loading?m.a.createElement("div",{className:"loading-overlay"},m.a.createElement("div",{className:"loader"})):null)}}]),n}(d.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return A}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=a(15),h=a.n(p),f=a(13),g=a(24),v=a.n(g),b=a(30),y=a.n(b),S=(a(21),a(28),a(235),a(51)),E=a(17),w=a(8),k=a(65),N=a(31),C=a.n(N),A=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).setValueSearch=function(t){e.setState({search_key:t})},e.state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),totalRows:0,perPage:10,page:1,totalPage:0,sort_by:"client_cif",sort:"asc",typeFind:"rmwbData",search_key:"",isSuccess:!0},e.reset=e.reset.bind(Object(o.a)(e)),e.handlePageChange=e.handlePageChange.bind(Object(o.a)(e)),e.handleChange=e.handleChange.bind(Object(o.a)(e)),e.handlePerRowsChange=e.handlePerRowsChange.bind(Object(o.a)(e)),e.handleSort=e.handleSort.bind(Object(o.a)(e)),e.handleOpenModal=e.handleOpenModal.bind(Object(o.a)(e)),e.handleCloseModal=e.handleCloseModal.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(a,[{key:"handleOpenModal",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({showModal:!0,modalName:t});case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleCloseModal",value:function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({showModal:!1});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillMount",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=this.props.location.state.data)||this.props.history.push("rmwb-rmwb-list-upload-client-management"),this.setState({selectedFile:t}),this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),e.next=6,this.setState({loggedUser:localStorage.getItem("userNip")});case 6:this.getdataMaster(),this.getListDataStatus(t.status),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage),this.validator=new C.a({autoForceUpdate:this,element:function(e){return m.a.createElement("div",{className:"row col-12 validator-error-message"},m.a.createElement("div",{className:"col-4"}),m.a.createElement("div",{className:"col-8"},e))}});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=!0,n=new E.a,e.next=5,n.findStatusByParam(this.state);case 5:(r=e.sent)&&200===r.status&&r.data?this.setState({listDataStatus:r.data}):t=!1,t||this.clearSession(),a||this.errorConectionToBe();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadOptions",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var r,l,i,o,c,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.page,l=new S.a,e.next=4,l.findSelectClient(r,10,t);case 4:for(i=e.sent,o=[],c=0;c<i.data.data.length;c++)o.push({value:i.data.data[c].client_cif,label:i.data.data[c].name});return u=r<i.data.totalPage,e.abrupt("return",{options:o,hasMore:u,additional:{page:r+1}});case 9:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r){var l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=!0,this.setState({loading:!0}),i=new S.a,e.next=5,i.findUploadDetailManagementByParam(t,a,n,r,this.state);case 5:(o=e.sent)&&200===o.status&&o.data&&o.data.data?(this.setState({list:o.data.data}),this.setState({totalRows:o.data.total_result}),this.setState({totalPage:o.data.total_page}),this.setState({isSuccess:!0}),this.setState({loading:!1})):(o&&o.data&&o.data.message?(this.setState({isSuccess:!1,message:o.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Cant get data list client management!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)),this.setState({list:[]}),this.setState({totalRows:0}),this.setState({totalPage:0}),this.setState({loading:!1})),l||this.errorConectionToBe();case 8:case"end":return e.stop()}}),e,this)})));return function(t,a,n,s){return e.apply(this,arguments)}}()},{key:"handleSort",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({sort:a});case 2:return e.next=4,this.setState({sort_by:t.selector});case 4:return e.next=6,this.setPage(this.state.page,a,t.selector,this.state.perPage);case 6:document.getElementById("column-"+t.selector).classList.add("sorted");case 8:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"handlePageChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({page:t}),this.setPage(t,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handlePerRowsChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({perPage:t}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"editRow",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t?this.props.history.push("rmwb-detail-upload-client-management",{data:t}):alert("Some thing wrong with selected data pelase refresh your browser or contact admin!")||window.location.reload();case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getListDataStatus",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!0,n=new E.a,e.next=4,n.findStatusByParam(this.state);case 4:(r=e.sent)&&200===r.status&&r.data.length>0?(this.setState({listDataStatus:r.data}),l=r.data.filter((function(e){return e.code===t})),this.setState({currentDataStatus:l[0]})):(this.setState({listDataStatus:""}),this.setState({currentDataStatus:""}),r&&r.data&&w.a===r.data.data?a=!1:this.setState({listDataStatus:""})),a||this.clearSession();case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"donwloadTemplate",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new S.a,e.next=3,t.donwloadTemplate();case 3:(a=e.sent)?((n=document.createElement("a")).href=a,n.target="_blank",document.body.appendChild(n),n.click(),document.body.removeChild(n)):alert("Error cant download data");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"search",value:function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({loading:!0,search:!0}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"reset",value:function(){var e=this;this.setState({loading:!0}),h.a.findDOMNode(this.refs.search_key).value="",this.setState({search_key:""},(function(){setTimeout((function(){e.setPage(e.state.page,e.state.sort,e.state.sort_by,e.state.perPage)}),100)}))}},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"onSubmitApprove",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),t=new S.a,(a=this.state).status="approved",e.next=6,t.approveFileManagement(a);case 6:(n=e.sent)&&200===n.status&&n.data&&"Success"===n.data.message?(this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-list-upload-client-management",this.state),this.setState({loading:!1})):n&&n.data&&n.data.message?(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Save data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onSubmitReject",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({loading:!0}),t=new S.a,(a=this.state).status="rejected",this.validator.allValid()){e.next=8;break}return this.validator.showMessages(),this.setState({loading:!1}),e.abrupt("return");case 8:return e.next=10,t.rejectFileManagement(a);case 10:(n=e.sent)&&200===n.status&&"Success"===n.data.message?(this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-list-upload-client-management",this.state),this.setState({loading:!1})):n&&n.data&&n.data.message?(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Save data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0));case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){for(var e=this,t=JSON.parse(this.state.userPrivilege)||[],a=!1,n=0;n<t.length;n++)"approval_rmwb_clientManagement"===t[n].name+"_"+t[n].vgroup&&(a=!0);var s=this.state.currentDataStatus?this.state.currentDataStatus:[],r=!1,l=!1;s&&("rmwbData_approved"===s.type+"_"+s.code&&(r=!0),"rmwbData_rejected"===s.type+"_"+s.code&&(l=!0));return m.a.createElement("div",{id:"ListUploadDetailManagement",className:"default-rmwb-wrapper"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?m.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,this.state.isSuccess?null:m.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-6"},m.a.createElement("h3",null,"Detail Upload Data Client Management")),m.a.createElement("div",{className:"col-6"},m.a.createElement(f.b,{to:"rmwb-list-upload-client-management",className:"d-flex justify-content-end"},m.a.createElement("button",{className:"btn btn-info"},"Back to Upload List")))),m.a.createElement("p",null,"File name : ",this.state.selectedFile.file_name," || Uploaded by : ",this.state.selectedFile.insert_by," || At : ",this.state.selectedFile.insert_at," || Status : ",this.state.selectedFile.status),l?m.a.createElement("p",null,"Remarks : ",this.state.selectedFile.remarks):null,m.a.createElement("div",{id:"search-menu"},m.a.createElement("table",{style:{width:"100%"}},m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-2"},"Search Client CIF"),m.a.createElement(k.a,{className:"col-6 p-0",ref:"search_key",value:this.state.search_key,loadOptions:this.loadOptions,onChange:this.setValueSearch,debounceTimeout:300,additional:{page:1}})))))),m.a.createElement("div",null,m.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.search.bind(this)},"search"),m.a.createElement("button",{type:"button",className:"reset-btn btn btn-secondary btn-sm",onClick:this.reset},"reset"))),m.a.createElement(v.a,{id:"tableData",className:"mb-4",defaultSortField:this.state.sort_by,columns:[{name:"Name",selector:"name",sortable:!0},{name:"Client Cif",selector:"client_cif",sortable:!0},{name:"Management Name",selector:"management_name_draft",sortable:!0},{name:"Designation",selector:"designation_draft",sortable:!0},{name:"Designation Text",selector:"designation_draft_text",sortable:!0},{name:"Date Of Birth",selector:"date_of_birth_draft",sortable:!0},{name:"Status",selector:"status",sortable:!0,width:"120px"}],progressPending:this.state.loading,pagination:!0,paginationServer:!0,sortServer:!0,paginationTotalRows:this.state.totalRows,onChangeRowsPerPage:this.handlePerRowsChange,onChangePage:this.handlePageChange,onSort:this.handleSort,data:this.state.list}),m.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},!a||l||r?null:m.a.createElement("div",null,m.a.createElement("button",{className:"button-red mr-2",onClick:function(){return e.handleOpenModal("reject-data")}},"Reject"),m.a.createElement("button",{className:"button-green",onClick:function(){return e.handleOpenModal("approve-data")}},"Approve"))),this.state.loading?m.a.createElement("div",{className:"loading-overlay"},m.a.createElement("div",{className:"loader"})):null,m.a.createElement(y.a,{closeTimeoutMS:300,isOpen:this.state.showModal,contentLabel:"onRequestClose Example",onRequestClose:this.handleCloseModal,className:"Modal",overlayClassName:"Overlay"},"approve-data"===this.state.modalName?m.a.createElement("div",null,m.a.createElement("div",{className:"row mx-0 justify-content-center"},m.a.createElement("h4",null,"Are You Sure To Approve This Data ?")),m.a.createElement("div",{className:"d-flex justify-content-center mx-2 mt-5"},m.a.createElement("button",{className:"button-red mr-5",onClick:this.handleCloseModal},"Cancel"),m.a.createElement("button",{className:"button-red",onClick:this.onSubmitApprove.bind(this)},"Approve"))):null,"reject-data"===this.state.modalName?m.a.createElement("div",null,m.a.createElement("div",{className:"row mx-0 justify-content-center"},m.a.createElement("h4",{className:"mb-4"},"Please fill Remark to data Maker !"),this.state.error?m.a.createElement("div",{className:"col-12 ".concat(this.state.alertState),role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.errorMessage):null,m.a.createElement("textarea",{className:"col-12 form-input",type:"text",onChange:function(t){return e.setState({remarks:t.target.value})},value:this.state.remarks||"",placeholder:"Remarks",onBlur:function(){return e.validator.showMessageFor("remarks")}}),this.validator.message("remarks",this.state.remarks,"required")),m.a.createElement("div",{className:"d-flex justify-content-center mx-2 mt-4"},m.a.createElement("button",{className:"button-red mr-5",onClick:this.handleCloseModal},"Cancel"),m.a.createElement("button",{className:"button-red",onClick:this.onSubmitReject.bind(this)},"Reject"))):null))}}]),a}(d.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return v}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=(a(28),a(235),a(13)),p=a(51),h=a(17),f=a(31),g=a.n(f),v=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={isSuccess:!1,message:"",token:localStorage.getItem("accessToken"),selectedFile:null,loading:!1,roleName:localStorage.getItem("roleName"),isSadmin:!1},e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.setState({isSadmin:"SADMINOCTOBENCH"===this.state.roleName}),this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),this.setState({loggedUser:localStorage.getItem("userNip")}),this.getdataMaster(),this.validator=new g.a({autoForceUpdate:this,element:function(e){return d.a.createElement("div",{className:"row col-12 validator-error-message"},d.a.createElement("div",{className:"col-12"},e))}})}},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=!0,n=new h.a,e.next=5,n.findStatusByParam(this.state);case 5:(r=e.sent)&&200===r.status&&r.data?this.setState({listDataStatus:r.data}):t=!1,t||this.clearSession(),a||this.errorConectionToBe();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"errorConectionToBe",value:function(){alert("Connection to Server Octobench interupted!\nPlease check your conection or contact administrator!")}},{key:"onSubmitApprove",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),a=new p.a,(n=this.state).selectedFile.id=t,n.status="approved",e.next=7,a.approveFileManagement(n);case 7:(r=e.sent)&&200===r.status&&r.data&&"Success"===r.data.message?(this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-client-management",this.state),this.setState({loading:!1})):r&&r.data&&r.data.message?(this.setState({isSuccess:!1,message:r.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Save data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({loading:!0}),t=new p.a,this.validator.allValid()){e.next=6;break}return this.validator.showMessages(),this.setState({loading:!1}),e.abrupt("return");case 6:if(!this.state.isSadmin){e.next=26;break}if(!window.confirm("Are you sure to submit and approve this data ?")){e.next=22;break}return(a=new FormData).append("file",this.state.selectedFile),e.next=12,t.uploadFileManagement(a,this.state);case 12:if(!(n=e.sent)||200!==n.status||"Succeed"!==n.data.message){e.next=19;break}return r=n.data.data.file_id,e.next=17,this.onSubmitApprove(r);case 17:e.next=20;break;case 19:n&&n.data&&n.data.message?(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Save data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0));case 20:e.next=24;break;case 22:return this.setState({loading:!1}),e.abrupt("return",!1);case 24:e.next=32;break;case 26:return(l=new FormData).append("file",this.state.selectedFile),e.next=30,t.uploadFileManagement(l,this.state);case 30:(i=e.sent)&&200===i.status&&"Succeed"===i.data.message?(this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-list-upload-client-management",this.state),this.setState({loading:!1})):i&&i.data&&i.data.message?(this.setState({isSuccess:!1,message:i.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Save data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0));case 32:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return d.a.createElement("div",{id:"uploadManagement",className:"default-rmwb-wrapper"},this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-6"},d.a.createElement("h3",{className:"mb-4"},"Upload New Data Management")),d.a.createElement("div",{className:"col-6"},d.a.createElement(m.b,{to:"rmwb-list-upload-client-management",className:"d-flex justify-content-end"},d.a.createElement("button",{className:"btn btn-info"},"Back to Upload List")))),d.a.createElement("div",{className:"form-box-area mb-4"},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"row col-12"},d.a.createElement("h4",{className:"mb-4 col-6"},"Please select file to be upload")),d.a.createElement("div",{className:"row mb-3 col-12"},d.a.createElement("div",{className:"col-8"},d.a.createElement("label",{className:"mr-3"},"New File ",d.a.createElement("span",{className:"text-danger"},"*")),d.a.createElement("input",{className:"px-0",type:"file",id:"upload-new-file",onChange:function(t){return e.setState({selectedFile:t.target.files[0],loaded:0})},onBlur:function(){return e.validator.showMessageFor("file")}})),d.a.createElement("div",{className:"col-4 d-flex justify-content-end pr-0"},d.a.createElement("button",{type:"button",className:"button-red",onClick:function(t){return e.submit()}},"Upload")),this.validator.message("file",this.state.selectedFile,"required")))),this.state.loading?d.a.createElement("div",{className:"loading-overlay"},d.a.createElement("div",{className:"loader"})):null)}}]),a}(u.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return g}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(24),p=a.n(m),h=(a(28),a(664),a(21),a(215)),f=a(17),g=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).state={userPrivilege:[],list:[],listData:[],loading:!0,token:localStorage.getItem("accessToken"),typeFind:"rmwbData",search_key:""},window.scrollTo(0,0),e}return Object(i.a)(n,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),this.setState({loggedUser:localStorage.getItem("userNip")}),this.getdataMaster()}},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=!0,n=new f.a,r=new h.a,e.next=6,n.findStatusByParam(this.state);case 6:return(l=e.sent)&&200===l.status&&l.data?this.setState({listDataStatus:l.data}):t=!1,t||this.clearSession(),e.next=11,r.getAllEmailConfig(this.state);case 11:if(!((i=e.sent)&&200===i.status&&i.data&&i.data.data.length>0)){e.next=18;break}return e.next=15,this.setState({list:i.data.data});case 15:this.searchEmailType(this.state.search_key),e.next=20;break;case 18:this.setState({list:[]}),a=!1;case 20:a||this.errorConectionToBe(),this.setState({loading:!1});case 22:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"searchEmailType",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:""!==t?(a=t.toLowerCase(),this.setState({search_key:a}),n=(n=this.state.list).filter((function(e){return e.type_value.toLowerCase().includes(a)})),this.setState({listData:n})):(r=t.toLowerCase(),this.setState({search_key:r}),this.setState({listData:this.state.list}));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"editRow",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t?this.props.history.push("rmwb-edit-email-config",{data:t}):(alert("Some thing wrong with selected data pelase refresh your browser or contact admin!"),window.location.reload());case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"errorConectionToBe",value:function(){alert("Connection to Server Octobench interupted!\nPlease check your conection or contact administrator!")}},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"render",value:function(){for(var e=this,t=JSON.parse(this.state.userPrivilege)||[],n=0;n<t.length;n++);var s=[{name:"Name",selector:"type_value",sortable:!0},{name:"Status",selector:"status",sortable:!0,width:"120px"},{name:"Action",sortable:!1,center:!0,cell:function(t){return d.a.createElement("div",null,d.a.createElement("input",{type:"image",alt:"Edit",height:20,value:t.type,src:a(40),onClick:function(a){return e.editRow(t)}}))},button:!0}];return d.a.createElement("div",{id:"EmailConfigManagement",className:"default-rmwb-wrapper"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?d.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,d.a.createElement("h3",null,"Email Config List"),d.a.createElement("div",{id:"search-menu"},d.a.createElement("table",{style:{width:"100%"}},d.a.createElement("tbody",null,d.a.createElement("tr",null,d.a.createElement("td",null,d.a.createElement("div",{className:"row mb-2"},d.a.createElement("label",{className:"col-2"},"Search Email Type"),d.a.createElement("input",{className:"col-6 form-input",type:"text",ref:"name",onChange:function(t){return e.searchEmailType(t.target.value)},value:this.state.search_key})))))),d.a.createElement("div",null)),d.a.createElement(p.a,{id:"tableData",className:"mb-4 my-4",columns:s,progressPending:this.state.loading,data:this.state.listData,responsive:!0}),this.state.loading?d.a.createElement("div",{className:"loading-overlay"},d.a.createElement("div",{className:"loader"})):null)}}]),n}(u.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return w}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=a(15),h=a.n(p),f=a(13),g=a(24),v=a.n(g),b=(a(28),a(282),a(21),a(78)),y=a(17),S=a(8),E=a(65),w=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).setValueSearch=function(t){e.setState({search_key:t})},e.state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),totalRows:0,perPage:10,page:1,totalPage:0,sort_by:"client_cif",sort:"asc",typeFind:"rmwbData",search_key:""},e.reset=e.reset.bind(Object(o.a)(e)),e.handlePageChange=e.handlePageChange.bind(Object(o.a)(e)),e.handlePerRowsChange=e.handlePerRowsChange.bind(Object(o.a)(e)),e.handleSort=e.handleSort.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),this.getdataMaster(),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage)}},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=!0,n=new y.a,e.next=5,n.findStatusByParam(this.state);case 5:(r=e.sent)&&200===r.status&&r.data?this.setState({listDataStatus:r.data}):t=!1,t||this.clearSession(),a||this.errorConectionToBe();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadOptions",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var r,l,i,o,c,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.page,l=new b.a,e.next=4,l.findSelectClient(r,10,t);case 4:for(i=e.sent,o=[],c=0;c<i.data.data.length;c++)o.push({value:i.data.data[c].client_cif,label:i.data.data[c].name+" ("+i.data.data[c].client_cif+")"});return u=r<i.data.totalPage,e.abrupt("return",{options:o,hasMore:u,additional:{page:r+1}});case 9:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r){var l,i,o,c,u,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=!0,this.setState({loading:!0}),i=new b.a,e.next=5,i.findIncomeByParam(t,a,n,r,this.state);case 5:if((o=e.sent)&&200===o.status&&o.data&&o.data.data.length>0){for(u in c=o.data.data)for(d in c[u])"value"===d&&(c[u][d]=c[u][d].toFixed(2),c[u][d]=this.numberWithCommas(c[u][d]));this.setState({list:c}),this.setState({totalRows:o.data.total_result}),this.setState({totalPage:o.data.total_page}),this.setState({loading:!1})}else o&&o.data&&S.a===o.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):this.setState({error:!0,errorMessage:o&&o.data?o.data.message:o,loading:!1}),this.setState({list:[]}),this.setState({totalRows:0}),this.setState({totalPage:0}),this.setState({loading:!1});l||this.errorConectionToBe();case 8:case"end":return e.stop()}}),e,this)})));return function(t,a,n,s){return e.apply(this,arguments)}}()},{key:"handleSort",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({sort:a});case 2:return e.next=4,this.setState({sort_by:t.selector});case 4:return e.next=6,this.setPage(this.state.page,a,t.selector,this.state.perPage);case 6:document.getElementById("column-"+t.selector).classList.add("sorted");case 8:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"handlePageChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({page:t}),this.setPage(t,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handlePerRowsChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({perPage:t}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"search",value:function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({loading:!0,search:!0}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"reset",value:function(){var e=this;this.setState({loading:!0}),h.a.findDOMNode(this.refs.search_key).value="",this.setState({search_key:""},(function(){setTimeout((function(){e.setPage(e.state.page,e.state.sort,e.state.sort_by,e.state.perPage)}),100)}))}},{key:"errorConectionToBe",value:function(){alert("Connection to Server Octobench interupted!\nPlease check your conection or contact administrator!")}},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"numberWithCommas",value:function(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")}},{key:"render",value:function(){for(var e=JSON.parse(this.state.userPrivilege)||[],t=!1,a=0;a<e.length;a++)"upload_rmwb_income"===e[a].name+"_"+e[a].vgroup&&(t=!0);return m.a.createElement("div",{id:"list-income",className:"default-rmwb-wrapper"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?m.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,m.a.createElement("h3",null,"Income List"),m.a.createElement("div",{id:"search-menu"},m.a.createElement("table",{style:{width:"100%"}},m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-2"},"Search Client CIF"),m.a.createElement(E.a,{className:"col-6 p-0",ref:"search_key",value:this.state.search_key,loadOptions:this.loadOptions,onChange:this.setValueSearch,debounceTimeout:300,additional:{page:1}})))))),m.a.createElement("div",null,m.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.search.bind(this)},"search"),m.a.createElement("button",{type:"button",className:"reset-btn btn btn-secondary btn-sm",onClick:this.reset},"reset"))),m.a.createElement(v.a,{id:"tableData",className:"mb-4",defaultSortField:this.state.sort_by,columns:[{name:"Client Name",selector:"name",sortable:!0,width:"200px"},{name:"Client Cif",selector:"client_cif",sortable:!0,width:"250px"},{name:"Segment",selector:"segment",sortable:!0,width:"250px"},{name:"Label",selector:"label",sortable:!0,width:"200px"},{name:"Value",selector:"value",sortable:!0},{name:"Date / Year",selector:"date",sortable:!0}],progressPending:this.state.loading,pagination:!0,paginationServer:!0,sortServer:!0,paginationTotalRows:this.state.totalRows,onChangeRowsPerPage:this.handlePerRowsChange,onChangePage:this.handlePageChange,onSort:this.handleSort,data:this.state.list,responsive:!0}),m.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},t?m.a.createElement(f.b,{to:"rmwb-list-upload-income",className:"justify-content-end"},m.a.createElement("button",{className:"button-red"},"Bulk upload Income")):null),this.state.loading?m.a.createElement("div",{className:"loading-overlay"},m.a.createElement("div",{className:"loader"})):null)}}]),a}(d.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return N}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=a(15),h=a.n(p),f=a(13),g=a(24),v=a.n(g),b=a(27),y=a(16),S=a.n(y),E=(a(28),a(282),a(21),a(78)),w=a(17),k=a(8),N=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).setValueSearch=function(t){e.setState({search_key:t})},e.state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),totalRows:0,perPage:10,page:1,totalPage:0,sort_by:"file_name",sort:"asc",typeFind:"rmwbData",search_key:"",filterDataInsertAt:"",filterDataStatus:"",selectedParamYear:"",isChecker:!1,hasParam:!1},e.reset=e.reset.bind(Object(o.a)(e)),e.handlePageChange=e.handlePageChange.bind(Object(o.a)(e)),e.handlePerRowsChange=e.handlePerRowsChange.bind(Object(o.a)(e)),e.handleSort=e.handleSort.bind(Object(o.a)(e)),e.downloadTemplate=e.downloadTemplate.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(n,[{key:"componentWillMount",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),t=JSON.parse(localStorage.getItem("userPrivilege"))||[],a=0;a<t.length;a++)"approval_rmwb_income"===t[a].name+"_"+t[a].vgroup&&this.setState({isChecker:!0});return e.next=5,this.setState({loggedUser:localStorage.getItem("userNip")});case 5:this.getdataMaster(),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"downloadTemplate",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),t=new E.a,e.next=4,t.downloadTemplate();case 4:(a=e.sent)&&200===a.status&&a.data?(this.setState({isSuccess:!0}),n=new Blob([a.data],{type:"application/octet-stream"}),r=window.URL.createObjectURL(n),(l=document.createElement("a")).href=r,l.target="_blank",l.download="income_facility.xlsx",document.body.appendChild(l),l.click(),document.body.removeChild(l),this.setState({loading:!1})):(a&&a.data&&a.data.message?(this.setState({isSuccess:!1,message:a.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Error cant download data, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)),this.setState({loading:!1}));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=!0,n=new w.a,e.next=5,n.findStatusByParam(this.state);case 5:return(r=e.sent)&&200===r.status&&r.data?this.setState({listDataStatus:r.data}):t=!1,t||this.clearSession(),l=new E.a,e.next=11,l.getIncomeParameter(this.state);case 11:(i=e.sent)&&200===i.status&&i.data?i.data.param_ori.length>0?this.setState({hasParam:!0}):this.setState({hasParam:!1}):a=!1,a||this.errorConectionToBe();case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"errorConectionToBe",value:function(){alert("Connection to Server Octobench interupted!\nPlease check your conection or contact administrator!")}},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r){var l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=!0,this.setState({loading:!0}),i=new E.a,e.next=5,i.findUploadIncomeByParam(t,a,n,r,this.state);case 5:(o=e.sent)&&200===o.status&&o.data&&o.data.data.length>0?(this.setState({list:o.data.data}),this.setState({totalRows:o.data.total_result}),this.setState({totalPage:o.data.total_page}),this.setState({loading:!1})):(o&&o.data&&k.a===o.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):this.setState({error:!0,errorMessage:o&&o.data?o.data.message:o,loading:!1}),this.setState({list:[]}),this.setState({totalRows:0}),this.setState({totalPage:0}),this.setState({loading:!1})),l||this.errorConectionToBe();case 8:case"end":return e.stop()}}),e,this)})));return function(t,a,n,s){return e.apply(this,arguments)}}()},{key:"handleSort",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({sort:a});case 2:return e.next=4,this.setState({sort_by:t.selector});case 4:return e.next=6,this.setPage(this.state.page,a,t.selector,this.state.perPage);case 6:document.getElementById("column-"+t.selector).classList.add("sorted");case 8:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"handlePageChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({page:t}),this.setPage(t,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handlePerRowsChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({perPage:t}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"editRow",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t?this.props.history.push("rmwb-detail-upload-income",{data:t}):alert("Some thing wrong with selected data pelase refresh your browser or contact admin!")||window.location.reload();case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"search",value:function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({loading:!0,search:!0}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"reset",value:function(){var e=this;h.a.findDOMNode(this.refs.search_status).value="",h.a.findDOMNode(this.refs.insert_date).value="",this.setState({search_status:"",insert_date:""},(function(){setTimeout((function(){e.setPage(e.state.page,e.state.sort,e.state.sort_by,e.state.perPage)}),100)}))}},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"render",value:function(){for(var e=this,t=this.state.insert_date?S()(this.state.insert_date,"YYYY-MM-DDTHH:mm:ss").toDate():null,n=JSON.parse(this.state.userPrivilege)||[],s=!1,r=0;r<n.length;r++)"upload_rmwb_income"===n[r].name+"_"+n[r].vgroup&&(s=!0);var l=[{name:"File Name",selector:"file_name",sortable:!0},{name:"Insert By",selector:"insert_by",sortable:!0},{name:"Insert At",selector:"insert_at",sortable:!0},{name:"Status",selector:"status",sortable:!0},{name:"Action",sortable:!1,cell:function(t){return m.a.createElement("div",null,m.a.createElement("input",{type:"image",alt:"Edit",height:20,value:t,src:a(40),onClick:function(a){return e.editRow(t)}}))},button:!0}];return m.a.createElement("div",{id:"list-upload-income",className:"default-rmwb-wrapper"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?m.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,m.a.createElement("h3",null,"List File Upload Data Income"),m.a.createElement("div",{id:"search-menu"},m.a.createElement("table",{style:{width:"100%"}},m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-2"},"Status File"),m.a.createElement("select",{ref:"search_status",className:"form-input col-4",onChange:function(t){return e.setState({search_status:t.target.value})}},m.a.createElement("option",{value:""},"Please select status!"),m.a.createElement("option",{value:"submitted"},"Submitted"),m.a.createElement("option",{value:"rejected"},"Rejected"))))),m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-2"},"Insert Date"),m.a.createElement("div",{className:"col-4 p-0"},m.a.createElement(b.a,{ref:"insert_date",className:"form-input",dateFormat:"yyyy-MM-dd",selected:t,onChange:function(t){return e.setState({insert_date:t})}}))))))),m.a.createElement("div",null,m.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.search.bind(this)},"search"),m.a.createElement("button",{type:"button",className:"reset-btn btn btn-secondary btn-sm",onClick:this.reset},"reset"))),m.a.createElement(v.a,{id:"tableData",className:"mb-4",defaultSortField:this.state.sort_by,columns:l,progressPending:this.state.loading,pagination:!0,paginationServer:!0,sortServer:!0,paginationTotalRows:this.state.totalRows,onChangeRowsPerPage:this.handlePerRowsChange,onChangePage:this.handlePageChange,onSort:this.handleSort,data:this.state.list}),m.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},m.a.createElement("div",{className:"d-flex justify-content-end my-4 mr-3"},m.a.createElement("button",{className:"button-red",onClick:this.downloadTemplate.bind(this)},"Download Template")),s?m.a.createElement(f.b,{to:"rmwb-upload-income",className:"d-flex justify-content-end my-4"},m.a.createElement("button",{className:"button-red"},"Upload New Data Income")):null),this.state.loading?m.a.createElement("div",{className:"loading-overlay"},m.a.createElement("div",{className:"loader"})):null)}}]),n}(d.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return A}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=a(15),h=a.n(p),f=a(13),g=a(24),v=a.n(g),b=a(30),y=a.n(b),S=(a(28),a(282),a(21),a(78)),E=a(17),w=a(8),k=a(65),N=a(31),C=a.n(N),A=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).setValueSearch=function(t){e.setState({search_key:t})},e.state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),totalRows:0,perPage:10,page:1,totalPage:0,sort_by:"client_cif",sort:"asc",typeFind:"rmwbData",search_key:""},e.reset=e.reset.bind(Object(o.a)(e)),e.handlePageChange=e.handlePageChange.bind(Object(o.a)(e)),e.handlePerRowsChange=e.handlePerRowsChange.bind(Object(o.a)(e)),e.handleSort=e.handleSort.bind(Object(o.a)(e)),e.handleOpenModal=e.handleOpenModal.bind(Object(o.a)(e)),e.handleCloseModal=e.handleCloseModal.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(a,[{key:"handleOpenModal",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({showModal:!0,modalName:t});case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleCloseModal",value:function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({showModal:!1});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillMount",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=this.props.location.state.data)||this.props.history.push("rmwb-rmwb-list-upload-income"),this.setState({selectedFile:t}),this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),e.next=6,this.setState({loggedUser:localStorage.getItem("userNip")});case 6:this.getdataMaster(),this.getListDataStatus(t.status),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage),this.validator=new C.a({autoForceUpdate:this,element:function(e){return m.a.createElement("div",{className:"row col-12 validator-error-message"},m.a.createElement("div",{className:"col-4"}),m.a.createElement("div",{className:"col-8"},e))}});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=!0,n=new E.a,e.next=5,n.findStatusByParam(this.state);case 5:(r=e.sent)&&200===r.status&&r.data?this.setState({listDataStatus:r.data}):t=!1,t||this.clearSession(),a||this.errorConectionToBe();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadOptions",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var r,l,i,o,c,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.page,l=new S.a,e.next=4,l.findSelectClient(r,10,t);case 4:for(i=e.sent,o=[],c=0;c<i.data.data.length;c++)o.push({value:i.data.data[c].client_cif,label:i.data.data[c].name});return u=r<i.data.totalPage,e.abrupt("return",{options:o,hasMore:u,additional:{page:r+1}});case 9:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"numberWithCommas",value:function(e){var t=e.toString().split(".");return t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),t.join(".")}},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r){var l,i,o,c,u,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=!0,this.setState({loading:!0}),i=new S.a,e.next=5,i.findUploadDetailIncomeByParam(t,a,n,r,this.state);case 5:if((o=e.sent)&&200===o.status&&o.data&&o.data.data.length>0){for(u in c=o.data.data)for(d in c[u])"value"===d&&(c[u][d]=c[u][d].toFixed(2),c[u][d]=this.numberWithCommas(c[u][d]));this.setState({list:c}),this.setState({totalRows:o.data.total_result}),this.setState({totalPage:o.data.total_page}),this.setState({loading:!1})}else o&&o.data&&w.a===o.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):this.setState({error:!0,errorMessage:o&&o.data?o.data.message:o,loading:!1}),this.setState({list:[]}),this.setState({totalRows:0}),this.setState({totalPage:0}),this.setState({loading:!1});l||this.errorConectionToBe();case 8:case"end":return e.stop()}}),e,this)})));return function(t,a,n,s){return e.apply(this,arguments)}}()},{key:"handleSort",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({sort:a});case 2:return e.next=4,this.setState({sort_by:t.selector});case 4:return e.next=6,this.setPage(this.state.page,a,t.selector,this.state.perPage);case 6:document.getElementById("column-"+t.selector).classList.add("sorted");case 8:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"handlePageChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({page:t}),this.setPage(t,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handlePerRowsChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({perPage:t}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getListDataStatus",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!0,n=new E.a,e.next=4,n.findStatusByParam(this.state);case 4:(r=e.sent)&&200===r.status&&r.data.length>0?(this.setState({listDataStatus:r.data}),l=r.data.filter((function(e){return e.code===t})),this.setState({currentDataStatus:l[0]})):(this.setState({listDataStatus:""}),this.setState({currentDataStatus:""}),r&&r.data&&w.a===r.data.data?a=!1:this.setState({listDataStatus:""})),a||this.clearSession();case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"search",value:function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({loading:!0,search:!0}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"reset",value:function(){var e=this;this.setState({loading:!0}),h.a.findDOMNode(this.refs.search_key).value="",this.setState({search_key:""},(function(){setTimeout((function(){e.setPage(e.state.page,e.state.sort,e.state.sort_by,e.state.perPage)}),100)}))}},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"onSubmitApprove",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),t=new S.a,(a=this.state).status="approved",e.next=6,t.approveFileIncome(a);case 6:(n=e.sent)&&(200===n.status&&"Success"===n.data.message?(this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-list-upload-income",this.state),this.setState({loading:!1})):n&&n.data&&w.a===n.data.data?(alert("Save Data Failed, Please try again !"),this.setState({loading:!1}),window.location.reload()):(this.setState({isSuccess:!1,message:"Save Data Failed",alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1})));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onSubmitReject",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({loading:!0}),t=new S.a,(a=this.state).status="rejected",this.validator.allValid()){e.next=8;break}return this.validator.showMessages(),this.setState({loading:!1}),e.abrupt("return");case 8:return e.next=10,t.rejectFileIncome(a);case 10:(n=e.sent)&&(200===n.status&&"Success"===n.data.message?(this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-list-upload-income",this.state),this.setState({loading:!1})):n&&n.data&&w.a===n.data.data?(alert("Save Data Failed, Please try again !"),this.setState({loading:!1}),window.location.reload()):(this.setState({isSuccess:!1,message:"Save Data Failed",alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1})));case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){for(var e=this,t=JSON.parse(this.state.userPrivilege)||[],a=!1,n=0;n<t.length;n++)"approval_rmwb_income"===t[n].name+"_"+t[n].vgroup&&(a=!0);var s=this.state.currentDataStatus?this.state.currentDataStatus:[],r=!1,l=!1;s&&("rmwbData_approved"===s.type+"_"+s.code&&(r=!0),"rmwbData_rejected"===s.type+"_"+s.code&&(l=!0));return m.a.createElement("div",{id:"list-upload-income-detail",className:"default-rmwb-wrapper"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?m.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-6"},m.a.createElement("h3",null,"Detail File Upload Data Income")),m.a.createElement("div",{className:"col-6"},m.a.createElement(f.b,{to:"rmwb-list-upload-income",className:"d-flex justify-content-end"},m.a.createElement("button",{className:"btn btn-info"},"Back to Upload List")))),m.a.createElement("p",null,"File name : ",this.state.selectedFile.file_name," || Uploaded by : ",this.state.selectedFile.insert_by," || At : ",this.state.selectedFile.insert_at," || Status : ",this.state.selectedFile.status),l?m.a.createElement("p",null,"Remarks : ",this.state.selectedFile.remarks):null,m.a.createElement("div",{id:"search-menu"},m.a.createElement("table",{style:{width:"100%"}},m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-2"},"Search Client CIF"),m.a.createElement(k.a,{className:"col-6 p-0",ref:"search_key",value:this.state.search_key,loadOptions:this.loadOptions,onChange:this.setValueSearch,debounceTimeout:300,additional:{page:1}})))))),m.a.createElement("div",null,m.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.search.bind(this)},"search"),m.a.createElement("button",{type:"button",className:"reset-btn btn btn-secondary btn-sm",onClick:this.reset},"reset"))),m.a.createElement(v.a,{id:"tableData",className:"mb-4",defaultSortField:this.state.sort_by,columns:[{name:"Client Name",selector:"name",sortable:!0,width:"200px"},{name:"Client Cif",selector:"client_cif",sortable:!0,width:"250px"},{name:"Segment",selector:"segment",sortable:!0,width:"250px"},{name:"Label",selector:"label",sortable:!0,width:"200px"},{name:"Value",selector:"value",sortable:!0},{name:"Date / Year",selector:"date",sortable:!0}],progressPending:this.state.loading,pagination:!0,paginationServer:!0,sortServer:!0,paginationTotalRows:this.state.totalRows,onChangeRowsPerPage:this.handlePerRowsChange,onChangePage:this.handlePageChange,onSort:this.handleSort,data:this.state.list}),m.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},!a||l||r?null:m.a.createElement("div",null,m.a.createElement("button",{className:"button-red mr-2",onClick:function(){return e.handleOpenModal("reject-data")}},"Reject"),m.a.createElement("button",{className:"button-green",onClick:function(){return e.handleOpenModal("approve-data")}},"Approve"))),this.state.loading?m.a.createElement("div",{className:"loading-overlay"},m.a.createElement("div",{className:"loader"})):null,m.a.createElement(y.a,{closeTimeoutMS:300,isOpen:this.state.showModal,contentLabel:"onRequestClose Example",onRequestClose:this.handleCloseModal,className:"Modal",overlayClassName:"Overlay"},"approve-data"===this.state.modalName?m.a.createElement("div",null,m.a.createElement("div",{className:"row mx-0 justify-content-center"},m.a.createElement("h4",null,"Are You Sure To Approve This Data ?")),m.a.createElement("div",{className:"d-flex justify-content-center mx-2 mt-5"},m.a.createElement("button",{className:"button-red mr-5",onClick:this.handleCloseModal},"Cancel"),m.a.createElement("button",{className:"button-red",onClick:this.onSubmitApprove.bind(this)},"Approve"))):null,"reject-data"===this.state.modalName?m.a.createElement("div",null,m.a.createElement("div",{className:"row mx-0 justify-content-center"},m.a.createElement("h4",{className:"mb-4"},"Please fill Remark to data Maker !"),this.state.error?m.a.createElement("div",{className:"col-12 ".concat(this.state.alertState),role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.errorMessage):null,m.a.createElement("textarea",{className:"col-12 form-input",type:"text",onChange:function(t){return e.setState({remarks:t.target.value})},value:this.state.remarks||"",placeholder:"Remarks",onBlur:function(){return e.validator.showMessageFor("remarks")}}),this.validator.message("remarks",this.state.remarks,"required")),m.a.createElement("div",{className:"d-flex justify-content-center mx-2 mt-4"},m.a.createElement("button",{className:"button-red mr-5",onClick:this.handleCloseModal},"Cancel"),m.a.createElement("button",{className:"button-red",onClick:this.onSubmitReject.bind(this)},"Reject"))):null))}}]),a}(d.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return b}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=(a(28),a(282),a(13)),p=a(8),h=a(78),f=a(17),g=a(31),v=a.n(g),b=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={isSuccess:!1,message:"",token:localStorage.getItem("accessToken"),selectedFile:null,loading:!1,roleName:localStorage.getItem("roleName"),isSadmin:!1},window.scrollTo(0,0),e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.setState({isSadmin:"SADMINOCTOBENCH"===this.state.roleName}),this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),this.setState({loggedUser:localStorage.getItem("userNip")}),this.getdataMaster(),this.validator=new v.a({autoForceUpdate:this,element:function(e){return d.a.createElement("div",{className:"row col-12 validator-error-message"},d.a.createElement("div",{className:"col-2"}),d.a.createElement("div",{className:"col-10"},e))}})}},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=!0,n=new f.a,e.next=5,n.findStatusByParam(this.state);case 5:(r=e.sent)&&200===r.status&&r.data?this.setState({listDataStatus:r.data}):t=!1,t||this.clearSession(),a||this.errorConectionToBe();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"errorConectionToBe",value:function(){alert("Connection to Server Octobench interupted!\nPlease check your conection or contact administrator!")}},{key:"onSubmitApprove",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),a=new h.a,(n=this.state).selectedFile.id=t,n.status="approved",e.next=7,a.approveFileIncome(n);case 7:(r=e.sent)&&(200===r.status&&"Success"===r.data.message?(this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-income-facilities",this.state),this.setState({loading:!1})):r&&r.data&&p.a===r.data.data?(alert("Save Data Failed, Please try again !"),this.setState({loading:!1}),window.location.reload()):(this.setState({isSuccess:!1,message:"Save Data Failed",alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1})));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validator.allValid()){e.next=4;break}return this.validator.showMessages(),this.setState({loading:!1}),e.abrupt("return");case 4:if(!this.state.isSadmin){e.next=26;break}if(!window.confirm("Are you sure to submit and approve this data ?")){e.next=22;break}return this.setState({loading:!0}),t=new h.a,(a=new FormData).append("file",this.state.selectedFile),e.next=12,t.uploadFileIncome(a,this.state);case 12:if(!(n=e.sent)||200!==n.status||"Succeed"!==n.data.message){e.next=19;break}return r=n.data.data.file_id,e.next=17,this.onSubmitApprove(r);case 17:e.next=20;break;case 19:n&&n.data&&n.data.data&&n.data.data.remarks?(this.setState({isSuccess:!1,message:"Save Data Failed, "+n.data.data.remarks,alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1})):(this.setState({isSuccess:!1,message:"Save Data Failed! Please contact administrator!",alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1}));case 20:e.next=24;break;case 22:return this.setState({loading:!1}),e.abrupt("return",!1);case 24:e.next=34;break;case 26:return this.setState({loading:!0}),l=new h.a,(i=new FormData).append("file",this.state.selectedFile),e.next=32,l.uploadFileIncome(i,this.state);case 32:(o=e.sent)&&200===o.status&&"Succeed"===o.data.message?(this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-list-upload-income",this.state),this.setState({loading:!1})):o&&o.data&&o.data.data&&o.data.data.remarks?(this.setState({isSuccess:!1,message:"Save Data Failed, "+o.data.data.remarks,alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1})):(this.setState({isSuccess:!1,message:"Save Data Failed! Please contact administrator!",alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1}));case 34:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return d.a.createElement("div",{id:"upload-income",className:"default-rmwb-wrapper"},this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-6"},d.a.createElement("h3",{className:"mb-4"},"Upload New Data Income")),d.a.createElement("div",{className:"col-6"},d.a.createElement(m.b,{to:"rmwb-list-upload-income",className:"d-flex justify-content-end"},d.a.createElement("button",{className:"btn btn-info"},"Back to Upload List")))),d.a.createElement("div",{className:"form-box-area mb-4"},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"row col-12"},d.a.createElement("h4",{className:"mb-4 col-6"},"Please select file to be upload")),d.a.createElement("div",{className:"row mb-3 col-12"},d.a.createElement("label",{className:"col-2"},"New File Income ",d.a.createElement("span",{className:"text-danger"},"*")),d.a.createElement("input",{className:"col-6 px-0",type:"file",id:"upload-new-file",onChange:function(t){return e.setState({selectedFile:t.target.files[0],loaded:0})},onBlur:function(){return e.validator.showMessageFor("file")}}),d.a.createElement("div",{className:"col-4 d-flex justify-content-end"},d.a.createElement("button",{type:"button",className:"button-red",onClick:function(t){return e.submit()}},"Upload")),this.validator.message("file",this.state.selectedFile,"required")))),this.state.loading?d.a.createElement("div",{className:"loading-overlay"},d.a.createElement("div",{className:"loader"})):null)}}]),a}(u.Component)},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return k}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=a(15),h=a.n(p),f=a(13),g=a(24),v=a.n(g),b=a(16),y=a.n(b),S=(a(28),a(283),a(21),a(79)),E=a(17),w=a(65),k=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).setValueSearch=function(t){e.setState({search_key:t})},e.state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),totalRows:0,perPage:10,page:1,totalPage:0,sort_by:"client_cif",sort:"asc",typeFind:"rmwbData",search_key:"",isSuccess:!0},e.reset=e.reset.bind(Object(o.a)(e)),e.handlePageChange=e.handlePageChange.bind(Object(o.a)(e)),e.handleChange=e.handleChange.bind(Object(o.a)(e)),e.handlePerRowsChange=e.handlePerRowsChange.bind(Object(o.a)(e)),e.handleSort=e.handleSort.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),this.getdataMaster(),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage)}},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=!0,n=new E.a,e.next=5,n.findStatusByParam(this.state);case 5:(r=e.sent)&&200===r.status&&r.data?this.setState({listDataStatus:r.data}):t=!1,t||this.clearSession(),a||this.errorConectionToBe();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadOptions",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var r,l,i,o,c,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.page,l=new S.a,e.next=4,l.findSelectClient(r,10,t);case 4:for(i=e.sent,o=[],c=0;c<i.data.data.length;c++)o.push({value:i.data.data[c].client_cif,label:i.data.data[c].name+" ("+i.data.data[c].client_cif+")"});return u=r<i.data.totalPage,e.abrupt("return",{options:o,hasMore:u,additional:{page:r+1}});case 9:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r){var l,i,o,c,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=!0,this.setState({loading:!0}),i=new S.a,e.next=5,i.findProductHoldingByParam(t,a,n,r,this.state);case 5:if((o=e.sent)&&200===o.status&&o.data&&o.data.data){for(u in c=o.data.data)c[u].data_date=y()(c[u].data_date).format("DD-MM-YYYY");this.setState({list:c}),this.setState({totalRows:o.data.total_result}),this.setState({totalPage:o.data.total_page}),this.setState({isSuccess:!0}),this.setState({loading:!1})}else o&&o.data&&o.data.message?(this.setState({isSuccess:!1,message:o.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Get data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)),this.setState({list:[]}),this.setState({totalRows:0}),this.setState({totalPage:0}),this.setState({loading:!1});l||this.errorConectionToBe();case 8:case"end":return e.stop()}}),e,this)})));return function(t,a,n,s){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleSort",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({sort:a});case 2:return e.next=4,this.setState({sort_by:t.selector});case 4:return e.next=6,this.setPage(this.state.page,a,t.selector,this.state.perPage);case 6:document.getElementById("column-"+t.selector).classList.add("sorted");case 8:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"handlePageChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({page:t}),this.setPage(t,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handlePerRowsChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({perPage:t}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"editRow",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t?this.props.history.push("rmwb-edit-product-holding",{data:t}):alert("Some thing wrong with selected data pelase refresh your browser or contact admin!")||window.location.reload();case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"search",value:function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({loading:!0,search:!0}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"reset",value:function(){var e=this;this.setState({loading:!0}),h.a.findDOMNode(this.refs.search_key).value="",this.setState({search_key:""},(function(){setTimeout((function(){e.setPage(e.state.page,e.state.sort,e.state.sort_by,e.state.perPage)}),100)}))}},{key:"errorConectionToBe",value:function(){alert("Connection to Server Octobench interupted!\nPlease check your conection or contact administrator!")}},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"render",value:function(){for(var e=JSON.parse(this.state.userPrivilege)||[],t=!1,a=0;a<e.length;a++)"upload_rmwb_productHolding"===e[a].name+"_"+e[a].vgroup&&(t=!0);return m.a.createElement("div",{id:"ListProductHolding",className:"default-rmwb-wrapper"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?m.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,this.state.isSuccess?null:m.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),m.a.createElement("h3",{className:"mb-4"},"Product Holding List"),m.a.createElement("div",{id:"search-menu"},m.a.createElement("table",{style:{width:"100%"}},m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-2"},"Search CIF"),m.a.createElement(w.a,{className:"col-6 p-0",ref:"search_key",value:this.state.search_key,loadOptions:this.loadOptions,onChange:this.setValueSearch,debounceTimeout:300,additional:{page:1}})))))),m.a.createElement("div",null,m.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.search.bind(this)},"search"),m.a.createElement("button",{type:"button",className:"reset-btn btn btn-secondary btn-sm",onClick:this.reset},"reset"))),m.a.createElement(v.a,{id:"tableData",className:"mb-4",defaultSortField:this.state.sort_by,columns:[{name:"Client Cif",selector:"client_cif",sortable:!0},{name:"Client Name",selector:"client_name",sortable:!0},{name:"Product Name",selector:"product_name",sortable:!0},{name:"Date",selector:"data_date",sortable:!0},{name:"Status",selector:"status_product_text",sortable:!0}],progressPending:this.state.loading,pagination:!0,paginationServer:!0,sortServer:!0,paginationTotalRows:this.state.totalRows,onChangeRowsPerPage:this.handlePerRowsChange,onChangePage:this.handlePageChange,onSort:this.handleSort,data:this.state.list}),m.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},t?m.a.createElement(f.b,{to:"rmwb-list-upload-product-holding",className:"justify-content-end"},m.a.createElement("button",{className:"button-red"},"Bulk Upload Product")):null),this.state.loading?m.a.createElement("div",{className:"loading-overlay"},m.a.createElement("div",{className:"loader"})):null)}}]),a}(d.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return w}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=a(15),h=a.n(p),f=a(30),g=a.n(f),v=(a(28),a(283),a(21),a(79)),b=a(17),y=a(31),S=a.n(y),E=a(118),w=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).state={userPrivilege:[],items:[],originalItems:[],showModal:!1,loading:!0,token:localStorage.getItem("accessToken"),selectedItem:[],modalName:"",status:"",remarks:"",typeFind:"rmwbData",showHoldingError:!1,tempList:[],roleName:localStorage.getItem("roleName"),isSadmin:!1},e.reset=e.reset.bind(Object(o.a)(e)),e.handleCloseModal=e.handleCloseModal.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(n,[{key:"handleCloseModal",value:function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({showModal:!1}),this.setState({showHoldingError:!1});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleOpenModal",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({showHoldingError:!1});case 2:"reject-data"===t?(this.setState({modalName:t}),this.setState({showModal:!0})):"new-data"===t?(n=this.state.items.length+1,this.setState({modalName:t}),r={product:null,approved_by:null,is_deleted:null,updated_by:null,id:null,is_deleted_draft:!1,remarks:null,product_draft:"",idx:n},this.setState({selectedItem:r}),this.setState({showModal:!0})):(a?(this.setState({modalName:a}),this.setState({selectedItem:t})):(this.setState({modalName:"detail-data"}),this.setState({selectedItem:t})),this.setState({showModal:!0}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"componentWillMount",value:function(){this.setState({isSadmin:"SADMINOCTOBENCH"===this.state.roleName}),this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),this.setState({loggedUser:localStorage.getItem("userNip")}),this.setPage(),this.validator=new S.a({autoForceUpdate:this,element:function(e){return m.a.createElement("div",{className:"row col-12 validator-error-message"},m.a.createElement("div",{className:"col-4"}),m.a.createElement("div",{className:"col-8"},e))}})}},{key:"getDataStatus",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!0,n=!0,r=new b.a,e.next=5,r.findStatusByParam(this.state);case 5:(l=e.sent)&&200===l.status&&l.data?(this.setState({listDataStatus:l.data}),i=l.data.filter((function(e){return e.code===t})),this.setState({currentDataStatus:i[0]})):a=!1,a||this.clearSession(),n||this.errorConectionToBe();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,this.setState({loading:!0}),a=new v.a,e.next=5,a.getAllProductHoldingParam();case 5:if((n=e.sent)&&200===n.status&&n.data.data&&n.data.data.list_data){for(l in r=n.data.data.list_data)r[l].idx=parseInt(l)+1;this.setState({items:r}),this.setState({originalItems:r}),this.setState(n.data.data),this.getDataStatus(n.data.data.status),this.setState({loading:!1})}else n&&n.data&&n.data.data?(this.setState({isSuccess:!1,message:"Product holding parameter unavailable!",alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1})):(this.setState({isSuccess:!1,message:"Cant get data!",alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1}),this.connectionToBE=!1),this.setState({items:[]}),this.setState({loading:!1});t||this.errorConectionToBe();case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"search",value:function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({loading:!0,search:!0}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"reset",value:function(){var e=this;this.setState({loading:!0}),h.a.findDOMNode(this.refs.search_key).value="",this.setState({search_key:""},(function(){setTimeout((function(){e.setPage(e.state.page,e.state.sort,e.state.sort_by,e.state.perPage)}),100)}))}},{key:"errorConectionToBe",value:function(){alert("Connection to Server Octobench interupted!\nPlease check your conection or contact administrator!")}},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"updateOnChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=this.state.selectedItem,""!==a&&null!==a?this.setState({showHoldingError:!1}):this.setState({showHoldingError:!0}),n.product_draft=a,this.setState({selectedItem:n});case 4:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"saveSingleProduct",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state.selectedItem,this.state.showHoldingError||""===t.product_draft||null===t.product_draft)this.setState({showHoldingError:!0});else{if(a=this.state.items,t&&a)if(null===t.id){for(r in n=!1,a)a[r].idx===t.idx&&(a[r]=t,n=!0);this.setState({selectedItem:t}),n||a.push(t)}else for(l in a)a[l].id===t.id&&(a[l]=t);this.setState({isSuccess:!0}),this.setState({list:a}),this.setState({showModal:!1})}case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"saveAndSubmit",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.isSadmin){e.next=19;break}if(!window.confirm("Are you sure to submit and approve this data ?")){e.next=15;break}return this.setState({loading:!0}),t=new v.a,e.next=6,t.updateListProduct(this.state);case 6:if(!(a=e.sent)||!a.status||200!==a.status||"Succeed"!==a.data.message){e.next=12;break}return e.next=10,this.onSubmitApprove();case 10:e.next=13;break;case 12:a&&a.data?(this.setState({isSuccess:!1,message:a.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1})):(this.setState({isSuccess:!1,message:"Save Data Failed",alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1}));case 13:e.next=17;break;case 15:return this.setState({loading:!1}),e.abrupt("return",!1);case 17:e.next=34;break;case 19:return this.setState({loading:!0}),n=new v.a,e.next=23,n.updateListProduct(this.state);case 23:if(!(r=e.sent)||!r.status||200!==r.status||"Succeed"!==r.data.message){e.next=33;break}return this.setState({isSuccess:!0,message:"Save Data Succeed",alertState:"alert alert-success"}),window.scrollTo(0,0),e.next=29,this.getDataStatus("submitted");case 29:this.setState({status:"submitted"}),this.setState({loading:!1}),e.next=34;break;case 33:r&&r.data?(this.setState({isSuccess:!1,message:r.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1})):(this.setState({isSuccess:!1,message:"Save Data Failed",alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1}));case 34:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onSubmitApprove",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.isSadmin){e.next=20;break}return this.setState({loading:!0}),t=new v.a,e.next=5,t.approveParamProductHolding(this.state);case 5:if(!(a=e.sent)||!a.status||200!==a.status||"Succeed"!==a.data.message){e.next=17;break}return this.setState({isSuccess:!0,message:"Save Data Succeed",alertState:"alert alert-success"}),this.setState({loading:!1}),e.next=11,this.getDataStatus("approved");case 11:this.setState({status:"approved"}),this.setPage(),window.scrollTo(0,0),this.handleCloseModal(),e.next=18;break;case 17:a&&a.data?(this.setState({isSuccess:!1,message:a.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1})):(this.setState({isSuccess:!1,message:"Save Data Failed",alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1}));case 18:e.next=38;break;case 20:if(!window.confirm("Are you sure to approve this product holding parameter?")){e.next=38;break}return this.setState({loading:!0}),n=new v.a,e.next=25,n.approveParamProductHolding(this.state);case 25:if(!(r=e.sent)||!r.status||200!==r.status||"Succeed"!==r.data.message){e.next=37;break}return this.setState({isSuccess:!0,message:"Save Data Succeed",alertState:"alert alert-success"}),this.setState({loading:!1}),e.next=31,this.getDataStatus("approved");case 31:this.setState({status:"approved"}),this.setPage(),window.scrollTo(0,0),this.handleCloseModal(),e.next=38;break;case 37:r&&r.data?(this.setState({isSuccess:!1,message:r.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1})):(this.setState({isSuccess:!1,message:"Save Data Failed",alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1}));case 38:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onSubmitReject",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validator.allValid()){e.next=3;break}return this.validator.showMessages(),e.abrupt("return");case 3:return this.setState({loading:!0}),t=new v.a,e.next=7,t.rejectParamProductHolding(this.state);case 7:(a=e.sent)&&a.status&&200===a.status&&"Succeed"===a.data.message?(this.setState({isSuccess:!0,message:"Save Data Succeed",alertState:"alert alert-success"}),this.setState({loading:!1}),this.getDataStatus("rejected"),this.setState({status:"rejected"}),window.scrollTo(0,0),this.handleCloseModal()):a&&a.data?(this.setState({isSuccess:!1,message:a.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1})):(this.setState({isSuccess:!1,message:"Save Data Failed",alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1}));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteSingleData",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm('Are you sure to delete "'+t.product_draft+'"')){for(r in a=this.state.items,(n=t).is_deleted_draft=!0,a)a[r].idx===n.idx&&(a[r]=n);this.setState({items:a})}case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"cancelDeleteSingleData",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm('Are you sure to cancel delete "'+t.product_draft+'"')){for(r in a=this.state.items,(n=t).is_deleted_draft=!1,a)a[r].idx===n.idx&&(a[r]=n);this.setState({items:a})}case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){E.a.rebuild()}},{key:"render",value:function(){var e=this,t=this.state.isSadmin;console.log(t);for(var n=JSON.parse(this.state.userPrivilege)||[],s=!1,r=!1,l=!1,i=0;i<n.length;i++)"create_rmwb_productHolding"===n[i].name+"_"+n[i].vgroup&&(s=!0),"approval_rmwb_productHolding"===n[i].name+"_"+n[i].vgroup&&(r=!0),"update_rmwb_productHolding"===n[i].name+"_"+n[i].vgroup&&(l=!0);var o=this.state.currentDataStatus?this.state.currentDataStatus:[],c=!1,u=!1;o&&("rmwbData_submitted"===o.type+"_"+o.code&&(c=!0),"rmwbData_rejected"===o.type+"_"+o.code&&(u=!0));var d=this.state.items.map((function(t){return m.a.createElement("div",{key:t.idx,className:"single-wrapper"},m.a.createElement(E.a,{place:"top",type:"dark",effect:"float"}),m.a.createElement("div",{className:"single-product",onClick:function(){return e.handleOpenModal(t)}},null!==t.product_draft?"  "+t.product_draft:null),s&&l&&!r&&!t.is_deleted_draft?m.a.createElement("div",{onClick:function(){return e.deleteSingleData(t)},className:"btn-edit","data-tip":"Delete this data"},m.a.createElement("img",{src:a(328),alt:""})):null,t.is_deleted_draft?m.a.createElement("div",{onClick:function(){return r?null:e.cancelDeleteSingleData(t)},className:"btn-edit","data-tip":r?"Request Delete Submitted and Waiting to Approve":"Request Delete Submitted and Waiting to Approve, To cancel click this button!"},m.a.createElement("img",{src:a(329),alt:""})):null)})),p=this.state.originalItems.map((function(e){return m.a.createElement("div",{key:e.idx,className:"single-wrapper"},null!==e.product&&""!==e.product?m.a.createElement("div",{className:"single-product"},null!==e.product&&""!==e.product?e.product:"-"):null)}));return m.a.createElement("div",{id:"ListParamProductHolding",className:"default-rmwb-wrapper"},m.a.createElement("div",{className:"row"},m.a.createElement("h3",{className:"col-6 mb-3"},"Parameter Product Holding List ",m.a.createElement("span",{className:"status-title"},"Status : ",this.state.status)),m.a.createElement("h3",{className:"col-6 mb-3"},"Original Data")),u?m.a.createElement("div",{className:"remark-title"},"Remarks : ",this.state.remarks):null,m.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"product-list col-6"},d),m.a.createElement("div",{className:"product-list col-6"},p)),s&&l?m.a.createElement("div",{className:"add-new-product d-flex justify-content-center",onClick:function(){return e.handleOpenModal("new-data")}},m.a.createElement("div",{className:"add-icon"},"+")," Add New Product"):null,s&&l?m.a.createElement("div",{className:"d-flex justify-content-end my-4"},m.a.createElement("button",{className:"button-red mr-2",onClick:function(){return window.location.reload()}},"Cancel"),m.a.createElement("button",{className:"button-red",onClick:this.saveAndSubmit.bind(this)},"Save And Submit")):null,r&&c?m.a.createElement("div",{className:"d-flex justify-content-end my-4"},m.a.createElement("button",{className:"button-red mr-2",onClick:function(){return e.handleOpenModal("reject-data")}},"Reject"),m.a.createElement("button",{className:"button-green",onClick:function(){return e.onSubmitApprove()}},"Approve")):null,m.a.createElement(g.a,{closeTimeoutMS:300,isOpen:this.state.showModal,contentLabel:"onRequestClose Example",onRequestClose:this.handleCloseModal,overlayClassName:"Overlay",className:"modalEditProduct"},"new-data"===this.state.modalName?m.a.createElement("div",null,m.a.createElement("h3",{className:"mb-5"},"Add New Product : ",this.state.selectedItem.product_draft?this.state.selectedItem.product_draft:""),m.a.createElement("div",{className:"row mb-5"},m.a.createElement("div",{className:"row col-12"},m.a.createElement("label",{className:"col-2"},"Product"),m.a.createElement("input",{placeholder:"Please insert product!",disabled:"".concat(t||!r||"disabled"!==this.state.modalName?"":"disabled"),className:"col-10 form-input",type:"text",id:"product",value:this.state.selectedItem.product_draft?this.state.selectedItem.product_draft:"",onChange:function(t){return e.updateOnChange("product_draft",t.target.value)}}),this.state.showHoldingError?m.a.createElement("div",{className:"col-2"}):null,this.state.showHoldingError?m.a.createElement("div",{className:"col-10 pl-0 text-danger"},"Product cant be empty!"):null)),m.a.createElement("div",{className:"d-flex justify-content-end"},m.a.createElement("button",{className:"button-red mr-2",onClick:this.handleCloseModal.bind(this)},"Cancel"),m.a.createElement("button",{className:"button-red mr-2",onClick:this.saveSingleProduct.bind(this)},"Save"))):null,"detail-data"===this.state.modalName||"disabled"===this.state.modalName?m.a.createElement("div",null,m.a.createElement("h3",{className:"mb-5"},"Edit Data : ",this.state.selectedItem.product_draft?this.state.selectedItem.product_draft:""),m.a.createElement("div",{className:"row mb-4"},m.a.createElement("div",{className:"row col-12"},m.a.createElement("label",{className:"col-2"},"Product"),m.a.createElement("input",{placeholder:"Please insert product!",disabled:"".concat(t||!r||"disabled"!==this.state.modalName?"":"disabled"),className:"col-10 form-input",type:"text",id:"product",value:this.state.selectedItem.product_draft?this.state.selectedItem.product_draft:"",onChange:function(t){return e.updateOnChange("product_draft",t.target.value)}}),this.state.showHoldingError?m.a.createElement("div",{className:"col-2"}):null,this.state.showHoldingError?m.a.createElement("div",{className:"col-10 pl-0 text-danger"},"Product cant be empty!"):null)),m.a.createElement("div",{className:"d-flex justify-content-end"},m.a.createElement("button",{className:"button-red mr-2",onClick:this.handleCloseModal.bind(this)},"Cancel"),m.a.createElement("button",{className:"button-red mr-2",onClick:this.saveSingleProduct.bind(this)},"Save"))):null,"reject-data"===this.state.modalName?m.a.createElement("div",null,m.a.createElement("div",{className:"row mx-0 justify-content-center"},m.a.createElement("h4",{className:"mb-4"},"Please fill Remark to data Maker !"),this.state.error?m.a.createElement("div",{className:"col-12 ".concat(this.state.alertState),role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.errorMessage):null,m.a.createElement("textarea",{className:"col-12 form-input",type:"text",onChange:function(t){return e.setState({remarks:t.target.value})},value:this.state.remarks||"",placeholder:"Remarks",onBlur:function(){return e.validator.showMessageFor("remarks")}}),this.validator.message("remarks",this.state.remarks,"required")),m.a.createElement("div",{className:"d-flex justify-content-center mx-2 mt-4"},m.a.createElement("button",{className:"button-red mr-5",onClick:this.handleCloseModal},"Cancel"),m.a.createElement("button",{className:"button-red",onClick:this.onSubmitReject.bind(this)},"Reject"))):null),this.state.loading?m.a.createElement("div",{className:"loading-overlay"},m.a.createElement("div",{className:"loader"})):null)}}]),n}(d.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return k}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=a(15),h=a.n(p),f=a(13),g=a(24),v=a.n(g),b=a(27),y=a(16),S=a.n(y),E=(a(28),a(283),a(21),a(79)),w=a(17),k=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).setValueSearch=function(t){e.setState({search_key:t})},e.state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),totalRows:0,perPage:10,page:1,totalPage:0,sort_by:"file_name",sort:"asc",typeFind:"rmwbData",search_key:"",filterDataInsertAt:"",filterDataStatus:"",isChecker:!1},e.reset=e.reset.bind(Object(o.a)(e)),e.handlePageChange=e.handlePageChange.bind(Object(o.a)(e)),e.handleChange=e.handleChange.bind(Object(o.a)(e)),e.handlePerRowsChange=e.handlePerRowsChange.bind(Object(o.a)(e)),e.handleSort=e.handleSort.bind(Object(o.a)(e)),e.downloadTemplate=e.downloadTemplate.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(n,[{key:"componentWillMount",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),t=JSON.parse(localStorage.getItem("userPrivilege"))||[],a=0;a<t.length;a++)"approval_rmwb_productHolding"===t[a].name+"_"+t[a].vgroup&&this.setState({isChecker:!0});return e.next=5,this.setState({loggedUser:localStorage.getItem("userNip")});case 5:this.getdataMaster(),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=!0,n=new w.a,e.next=5,n.findStatusByParam(this.state);case 5:(r=e.sent)&&200===r.status&&r.data?this.setState({listDataStatus:r.data}):t=!1,t||this.clearSession(),a||this.errorConectionToBe();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadOptions",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var r,l,i,o,c,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.page,l=new E.a,e.next=4,l.findSelectClient(r,10,t);case 4:for(i=e.sent,o=[],c=0;c<i.data.data.length;c++)o.push({value:i.data.data[c].client_cif,label:i.data.data[c].name});return u=r<i.data.totalPage,e.abrupt("return",{options:o,hasMore:u,additional:{page:r+1}});case 9:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r){var l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=!0,this.setState({loading:!0}),i=new E.a,e.next=5,i.findUploadProductHoldingByParam(t,a,n,r,this.state);case 5:(o=e.sent)&&200===o.status&&o.data&&o.data.data?(this.setState({list:o.data.data}),this.setState({totalRows:o.data.total_result}),this.setState({totalPage:o.data.total_page}),this.setState({isSuccess:!0}),this.setState({loading:!1})):(o&&o.data&&o.data.message?(this.setState({isSuccess:!1,message:o.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Failed get data, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)),this.setState({list:[]}),this.setState({totalRows:0}),this.setState({totalPage:0}),this.setState({loading:!1})),l||this.errorConectionToBe();case 8:case"end":return e.stop()}}),e,this)})));return function(t,a,n,s){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleSort",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({sort:a});case 2:return e.next=4,this.setState({sort_by:t.selector});case 4:return e.next=6,this.setPage(this.state.page,a,t.selector,this.state.perPage);case 6:document.getElementById("column-"+t.selector).classList.add("sorted");case 8:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"handlePageChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({page:t}),this.setPage(t,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handlePerRowsChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({perPage:t}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"editRow",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t?this.props.history.push("rmwb-detail-upload-product-holding",{data:t}):alert("Some thing wrong with selected data pelase refresh your browser or contact admin!")||window.location.reload();case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"downloadTemplate",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),t=new E.a,e.next=4,t.downloadTemplate();case 4:(a=e.sent)&&200===a.status&&a.data?(this.setState({isSuccess:!0}),n=new Blob([a.data],{type:"application/octet-stream"}),r=window.URL.createObjectURL(n),(l=document.createElement("a")).href=r,l.target="_blank",l.download="product_holding.xlsx",document.body.appendChild(l),l.click(),document.body.removeChild(l),this.setState({loading:!1})):(a&&a.data&&a.data.message?(this.setState({isSuccess:!1,message:a.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Error cant download data, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)),this.setState({loading:!1}));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"search",value:function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({loading:!0,search:!0}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"reset",value:function(){var e=this;h.a.findDOMNode(this.refs.search_status).value="",h.a.findDOMNode(this.refs.insert_date).value="",this.setState({search_status:"",insert_date:""},(function(){setTimeout((function(){e.setPage(e.state.page,e.state.sort,e.state.sort_by,e.state.perPage)}),100)}))}},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"render",value:function(){for(var e=this,t=this.state.insert_date?S()(this.state.insert_date,"YYYY-MM-DDTHH:mm:ss").toDate():null,n=JSON.parse(this.state.userPrivilege)||[],s=!1,r=0;r<n.length;r++)"upload_rmwb_productHolding"===n[r].name+"_"+n[r].vgroup&&(s=!0);var l=[{name:"File Name",selector:"file_name",sortable:!0},{name:"Insert By",selector:"insert_by",sortable:!0},{name:"Insert At",selector:"insert_at",sortable:!0},{name:"Status",selector:"status",sortable:!0},{name:"Action",sortable:!1,cell:function(t){return m.a.createElement("div",null,m.a.createElement("input",{type:"image",alt:"Edit",height:20,value:t,src:a(40),onClick:function(a){return e.editRow(t)}}))},button:!0}];return m.a.createElement("div",{id:"list-upload-product",className:"default-rmwb-wrapper"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?m.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,this.state.isSuccess?null:m.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),m.a.createElement("h3",{className:"mb-4"},"List File Upload Data Product Holding"),m.a.createElement("div",{id:"search-menu"},m.a.createElement("table",{style:{width:"100%"}},m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-2"},"Status File"),m.a.createElement("select",{ref:"search_status",className:"form-input col-4",onChange:function(t){return e.setState({search_status:t.target.value})}},m.a.createElement("option",{value:""},"Please select status!"),m.a.createElement("option",{value:"submitted"},"Submitted"),m.a.createElement("option",{value:"rejected"},"Rejected"))))),m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-2"},"Insert Date"),m.a.createElement("div",{className:"col-4 p-0"},m.a.createElement(b.a,{ref:"insert_date",className:"form-input",dateFormat:"yyyy-MM-dd",selected:t,onChange:function(t){return e.setState({insert_date:t})}}))))))),m.a.createElement("div",null,m.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.search.bind(this)},"search"),m.a.createElement("button",{type:"button",className:"reset-btn btn btn-secondary btn-sm",onClick:this.reset},"reset"))),m.a.createElement(v.a,{id:"tableData",className:"mb-4",defaultSortField:this.state.sort_by,columns:l,progressPending:this.state.loading,pagination:!0,paginationServer:!0,sortServer:!0,paginationTotalRows:this.state.totalRows,onChangeRowsPerPage:this.handlePerRowsChange,onChangePage:this.handlePageChange,onSort:this.handleSort,data:this.state.list}),m.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},m.a.createElement("div",{className:"d-flex justify-content-end my-4 mr-3"},m.a.createElement("button",{className:"button-red",onClick:this.downloadTemplate},m.a.createElement("img",{src:"./../../../assets/images/export.png",alt:""}),"Download Template File")),s?m.a.createElement(f.b,{to:"rmwb-upload-product-holding",className:"d-flex justify-content-end my-4"},m.a.createElement("button",{className:"button-red"},"Upload New Data Product Holding")):null),this.state.loading?m.a.createElement("div",{className:"loading-overlay"},m.a.createElement("div",{className:"loader"})):null)}}]),n}(d.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return O}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=a(15),h=a.n(p),f=a(13),g=a(24),v=a.n(g),b=a(30),y=a.n(b),S=a(16),E=a.n(S),w=(a(28),a(283),a(21),a(79)),k=a(17),N=a(8),C=a(65),A=a(31),x=a.n(A),O=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).setValueSearch=function(t){e.setState({search_key:t})},e.state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),totalRows:0,perPage:10,page:1,totalPage:0,sort_by:"client_cif",sort:"asc",typeFind:"rmwbData",search_key:""},e.reset=e.reset.bind(Object(o.a)(e)),e.handlePageChange=e.handlePageChange.bind(Object(o.a)(e)),e.handleChange=e.handleChange.bind(Object(o.a)(e)),e.handlePerRowsChange=e.handlePerRowsChange.bind(Object(o.a)(e)),e.handleSort=e.handleSort.bind(Object(o.a)(e)),e.handleOpenModal=e.handleOpenModal.bind(Object(o.a)(e)),e.handleCloseModal=e.handleCloseModal.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(a,[{key:"handleOpenModal",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({showModal:!0,modalName:t});case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleCloseModal",value:function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({showModal:!1});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillMount",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=this.props.location.state.data)||this.props.history.push("rmwb-rmwb-list-upload-product-holding"),this.setState({selectedFile:t}),this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),e.next=6,this.setState({loggedUser:localStorage.getItem("userNip")});case 6:this.getdataMaster(),this.getListDataStatus(t.status),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage),this.validator=new x.a({autoForceUpdate:this,element:function(e){return m.a.createElement("div",{className:"row col-12 validator-error-message"},m.a.createElement("div",{className:"col-4"}),m.a.createElement("div",{className:"col-8"},e))}});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=!0,n=new k.a,e.next=5,n.findStatusByParam(this.state);case 5:(r=e.sent)&&200===r.status&&r.data?this.setState({listDataStatus:r.data}):t=!1,t||this.clearSession(),a||this.errorConectionToBe();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadOptions",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var r,l,i,o,c,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.page,l=new w.a,e.next=4,l.findSelectClient(r,10,t);case 4:for(i=e.sent,o=[],c=0;c<i.data.data.length;c++)o.push({value:i.data.data[c].client_cif,label:i.data.data[c].name});return u=r<i.data.totalPage,e.abrupt("return",{options:o,hasMore:u,additional:{page:r+1}});case 9:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r){var l,i,o,c,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=!0,this.setState({loading:!0}),i=new w.a,e.next=5,i.findUploadDetailProductHoldingByParam(t,a,n,r,this.state);case 5:if((o=e.sent)&&200===o.status&&o.data&&o.data.data){for(u in c=o.data.data)c[u].data_date=E()(c[u].data_date).format("DD-MM-YYYY");this.setState({list:c}),this.setState({totalRows:o.data.total_result}),this.setState({totalPage:o.data.total_page}),this.setState({isSuccess:!0}),this.setState({loading:!1})}else o&&o.data&&o.data.message?(this.setState({isSuccess:!1,message:o.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Failed get data, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)),this.setState({list:[]}),this.setState({totalRows:0}),this.setState({totalPage:0}),this.setState({loading:!1});l||this.errorConectionToBe();case 8:case"end":return e.stop()}}),e,this)})));return function(t,a,n,s){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleSort",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({sort:a});case 2:return e.next=4,this.setState({sort_by:t.selector});case 4:return e.next=6,this.setPage(this.state.page,a,t.selector,this.state.perPage);case 6:document.getElementById("column-"+t.selector).classList.add("sorted");case 8:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"handlePageChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({page:t}),this.setPage(t,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handlePerRowsChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({perPage:t}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"editRow",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t?this.props.history.push("rmwb-detail-upload-product-holding",{data:t}):alert("Some thing wrong with selected data pelase refresh your browser or contact admin!")||window.location.reload();case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getListDataStatus",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!0,n=new k.a,e.next=4,n.findStatusByParam(this.state);case 4:(r=e.sent)&&200===r.status&&r.data.length>0?(this.setState({listDataStatus:r.data}),l=r.data.filter((function(e){return e.code===t})),this.setState({currentDataStatus:l[0]})):(this.setState({listDataStatus:""}),this.setState({currentDataStatus:""}),r&&r.data&&N.a===r.data.data?a=!1:this.setState({listDataStatus:""})),a||this.clearSession();case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"search",value:function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({loading:!0,search:!0}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"reset",value:function(){var e=this;this.setState({loading:!0}),h.a.findDOMNode(this.refs.search_key).value="",this.setState({search_key:""},(function(){setTimeout((function(){e.setPage(e.state.page,e.state.sort,e.state.sort_by,e.state.perPage)}),100)}))}},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"onSubmitApprove",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),t=new w.a,(a=this.state).status="approved",e.next=6,t.approveFileProductHolding(a);case 6:(n=e.sent)&&200===n.status&&"Success"===n.data.message?(this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-list-upload-product-holding",this.state),this.setState({isSuccess:!0}),this.setState({loading:!1})):n&&n.data&&n.data.message?(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Failed save data, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onSubmitReject",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({loading:!0}),t=new w.a,(a=this.state).status="rejected",this.validator.allValid()){e.next=8;break}return this.validator.showMessages(),this.setState({loading:!1}),e.abrupt("return");case 8:return e.next=10,t.rejectFileProductHolding(a);case 10:(n=e.sent)&&200===n.status&&"Success"===n.data.message?(this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-list-upload-product-holding",this.state),this.setState({isSuccess:!0}),this.setState({loading:!1})):n&&n.data&&n.data.message?(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Failed save data, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0));case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){for(var e=this,t=JSON.parse(this.state.userPrivilege)||[],a=!1,n=0;n<t.length;n++)"approval_rmwb_productHolding"===t[n].name+"_"+t[n].vgroup&&(a=!0);var s=this.state.currentDataStatus?this.state.currentDataStatus:[],r=!1,l=!1;s&&("rmwbData_approved"===s.type+"_"+s.code&&(r=!0),"rmwbData_rejected"===s.type+"_"+s.code&&(l=!0));return m.a.createElement("div",{id:"list-upload-product-detail",className:"default-rmwb-wrapper"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?m.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,this.state.isSuccess?null:m.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-6"},m.a.createElement("h3",null,"Detail Upload Data Product Holding")),m.a.createElement("div",{className:"col-6"},m.a.createElement(f.b,{to:"rmwb-list-upload-product-holding",className:"d-flex justify-content-end"},m.a.createElement("button",{className:"btn btn-info"},"Back to Upload List")))),m.a.createElement("p",null,"File name : ",this.state.selectedFile.file_name," || Uploaded by : ",this.state.selectedFile.insert_by," || At : ",this.state.selectedFile.insert_at," || Status : ",this.state.selectedFile.status),l?m.a.createElement("p",null,"Remarks : ",this.state.selectedFile.remarks):null,m.a.createElement("div",{id:"search-menu"},m.a.createElement("table",{style:{width:"100%"}},m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-2"},"Search CIF"),m.a.createElement(C.a,{className:"col-6 p-0",ref:"search_key",value:this.state.search_key,loadOptions:this.loadOptions,onChange:this.setValueSearch,debounceTimeout:300,additional:{page:1}})))))),m.a.createElement("div",null,m.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.search.bind(this)},"search"),m.a.createElement("button",{type:"button",className:"reset-btn btn btn-secondary btn-sm",onClick:this.reset},"reset"))),m.a.createElement(v.a,{id:"tableData",className:"mb-4",defaultSortField:this.state.sort_by,columns:[{name:"Client Cif",selector:"client_cif",sortable:!0},{name:"Client Name",selector:"client_name",sortable:!0},{name:"Product Name",selector:"product_name",sortable:!0},{name:"Date",selector:"data_date",sortable:!0},{name:"Status",selector:"status_product_text",sortable:!0}],progressPending:this.state.loading,pagination:!0,paginationServer:!0,sortServer:!0,paginationTotalRows:this.state.totalRows,onChangeRowsPerPage:this.handlePerRowsChange,onChangePage:this.handlePageChange,onSort:this.handleSort,data:this.state.list}),m.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},!a||l||r?null:m.a.createElement("div",null,m.a.createElement("button",{className:"button-red mr-2",onClick:function(){return e.handleOpenModal("reject-data")}},"Reject"),m.a.createElement("button",{className:"button-green",onClick:function(){return e.handleOpenModal("approve-data")}},"Approve"))),this.state.loading?m.a.createElement("div",{className:"loading-overlay"},m.a.createElement("div",{className:"loader"})):null,m.a.createElement(y.a,{closeTimeoutMS:300,isOpen:this.state.showModal,contentLabel:"onRequestClose Example",onRequestClose:this.handleCloseModal,className:"Modal",overlayClassName:"Overlay"},"approve-data"===this.state.modalName?m.a.createElement("div",null,m.a.createElement("div",{className:"row mx-0 justify-content-center"},m.a.createElement("h4",null,"Are You Sure To Approve This Data ?")),m.a.createElement("div",{className:"d-flex justify-content-center mx-2 mt-5"},m.a.createElement("button",{className:"button-red mr-5",onClick:this.handleCloseModal},"Cancel"),m.a.createElement("button",{className:"button-red",onClick:this.onSubmitApprove.bind(this)},"Approve"))):null,"reject-data"===this.state.modalName?m.a.createElement("div",null,m.a.createElement("div",{className:"row mx-0 justify-content-center"},m.a.createElement("h4",{className:"mb-4"},"Please fill Remark to data Maker !"),this.state.error?m.a.createElement("div",{className:"col-12 ".concat(this.state.alertState),role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.errorMessage):null,m.a.createElement("textarea",{className:"col-12 form-input",type:"text",onChange:function(t){return e.setState({remarks:t.target.value})},value:this.state.remarks||"",placeholder:"Remarks",onBlur:function(){return e.validator.showMessageFor("remarks")}}),this.validator.message("remarks",this.state.remarks,"required")),m.a.createElement("div",{className:"d-flex justify-content-center mx-2 mt-4"},m.a.createElement("button",{className:"button-red mr-5",onClick:this.handleCloseModal},"Cancel"),m.a.createElement("button",{className:"button-red",onClick:this.onSubmitReject.bind(this)},"Reject"))):null))}}]),a}(d.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return b}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=(a(28),a(283),a(13)),p=a(8),h=a(79),f=a(17),g=a(31),v=a.n(g),b=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={isSuccess:!1,message:"",token:localStorage.getItem("accessToken"),selectedFile:null,loading:!1,roleName:localStorage.getItem("roleName"),isSadmin:!1},e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.setState({isSadmin:"SADMINOCTOBENCH"===this.state.roleName}),this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),this.setState({loggedUser:localStorage.getItem("userNip")}),this.getdataMaster(),this.validator=new v.a({autoForceUpdate:this,element:function(e){return d.a.createElement("div",{className:"row col-12 validator-error-message"},d.a.createElement("div",{className:"col-2"}),d.a.createElement("div",{className:"col-10"},e))}})}},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=!0,n=new f.a,e.next=5,n.findStatusByParam(this.state);case 5:(r=e.sent)&&200===r.status&&r.data?this.setState({listDataStatus:r.data}):t=!1,t||this.clearSession(),a||this.errorConectionToBe();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"errorConectionToBe",value:function(){alert("Connection to Server Octobench interupted!\nPlease check your conection or contact administrator!")}},{key:"onSubmitApprove",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),a=new h.a,(n=this.state).status="approved",n.selectedFile.id=t,e.next=7,a.approveFileProductHolding(n);case 7:(r=e.sent)&&200===r.status&&"Success"===r.data.message?(this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-product-holding",this.state),this.setState({isSuccess:!0}),this.setState({loading:!1})):r&&r.data&&r.data.message?(this.setState({isSuccess:!1,message:r.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Failed save data, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=new h.a,this.validator.allValid()){e.next=5;break}return this.validator.showMessages(),this.setState({loading:!1}),e.abrupt("return");case 5:if(!this.state.isSadmin){e.next=26;break}if(!window.confirm("Are you sure to submit and approve this data ?")){e.next=22;break}return this.setState({loading:!0}),(a=new FormData).append("file",this.state.selectedFile),e.next=12,t.uploadFileProductHolding(a,this.state);case 12:if(!(n=e.sent)||200!==n.status||"Succeed"!==n.data.message){e.next=19;break}return r=n.data.data.file_id,e.next=17,this.onSubmitApprove(r);case 17:e.next=20;break;case 19:n&&n.data&&p.a===n.data.data?(alert("Save Data Failed, Please try again !"),this.setState({loading:!1}),window.location.reload()):n&&n.data&&n.data.data&&n.data.data.remarks?(this.setState({isSuccess:!1,message:"Save Data Failed, "+n.data.data.remarks,alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1})):(this.setState({isSuccess:!1,message:"Save Data Failed! Please contact administrator!",alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1}));case 20:e.next=24;break;case 22:return this.setState({loaded:!1}),e.abrupt("return",!1);case 24:e.next=33;break;case 26:return this.setState({loading:!0}),(l=new FormData).append("file",this.state.selectedFile),e.next=31,t.uploadFileProductHolding(l,this.state);case 31:(i=e.sent)&&200===i.status&&"Succeed"===i.data.message?(this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-list-upload-product-holding",this.state),this.setState({loading:!1})):i&&i.data&&p.a===i.data.data?(alert("Save Data Failed, Please try again !"),this.setState({loading:!1}),window.location.reload()):i&&i.data&&i.data.data&&i.data.data.remarks?(this.setState({isSuccess:!1,message:"Save Data Failed, "+i.data.data.remarks,alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1})):(this.setState({isSuccess:!1,message:"Save Data Failed! Please contact administrator!",alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1}));case 33:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return d.a.createElement("div",{id:"upload-product",className:"default-rmwb-wrapper"},this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-6"},d.a.createElement("h3",{className:"mb-4"},"Upload New Data Product Holding")),d.a.createElement("div",{className:"col-6"},d.a.createElement(m.b,{to:"rmwb-list-upload-product-holding",className:"d-flex justify-content-end"},d.a.createElement("button",{className:"btn btn-info"},"Back to Upload List")))),d.a.createElement("div",{className:"form-box-area mb-4"},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"row col-12"},d.a.createElement("h4",{className:"mb-4 col-6"},"Please select file to be upload")),d.a.createElement("div",{className:"row mb-3 col-12"},d.a.createElement("label",{className:"col-2"},"New File Product Holding ",d.a.createElement("span",{className:"text-danger"},"*")),d.a.createElement("input",{className:"col-6 px-0",type:"file",id:"upload-new-file",onChange:function(t){return e.setState({selectedFile:t.target.files[0],loaded:0})},onBlur:function(){return e.validator.showMessageFor("file")}}),d.a.createElement("div",{className:"col-4 d-flex justify-content-end"},d.a.createElement("button",{type:"button",className:"button-red",onClick:function(t){return e.submit()}},"Upload")),this.validator.message("file",this.state.selectedFile,"required")))),this.state.loading?d.a.createElement("div",{className:"loading-overlay"},d.a.createElement("div",{className:"loader"})):null)}}]),a}(u.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return k}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=a(15),h=a.n(p),f=(a(7),a(19)),g=a.n(f),v=a(18),b=a(23),y=(a(1467),a(21),a(45)),S=a(8),E=(a(16),a(71)),w=a.n(E),k=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),codeFind:"",nameFind:"",allowDownload:!0},e.reset=e.reset.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(n,[{key:"componentWillMount",value:function(){this.getAllowDownload(),this.setState({userPrivilege:localStorage.getItem("userPrivilege")});var e=g.a.parse(this.props.location.search);this.setPage(+e.page||0,e.filter)}},{key:"componentDidUpdate",value:function(e){if(this.props.location.search!==e.location.search){var t=g.a.parse(this.props.location.search);this.setPage(+t.page||0,t.filter||null)}}},{key:"getAllowDownload",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new y.a,e.next=3,t.allowDownloadReport(this.state.token);case 3:(a=e.sent).data&&a.data.success&&this.setState({allowDownload:a.data.data});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i,o,c=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:0,a=c.length>1&&void 0!==c[1]?c[1]:this.state.filter,n=c.length>2&&void 0!==c[2]?c[2]:10,r=new y.a,e.next=6,r.findreportByParam(this.state,t,n);case 6:(l=e.sent)&&200===l.status&&l.data?(i=l.data.data.reportOnboardList,o=Math.ceil(l.data.data.count/10),this.setState({page:t,filter:a,list:i,totalPage:o}),this.setState({loading:!1})):l&&l.data&&S.a===l.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):this.setState({error:!0,errorMessage:l&&l.data?l.data.message:l,loading:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"download",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=this.state.list[t],n=new y.a,fetch(n.linkDownloadZip(a.referenceNumber),{headers:{token:this.state.token}}).then((function(e){e.blob().then((function(e){window.navigator&&window.navigator.msSaveOrOpenBlob&&window.navigator.msSaveOrOpenBlob(e,a.referenceNumber+".zip");var t=window.URL.createObjectURL(e),n=document.createElement("a");n.href=t,n.download=a.referenceNumber+".zip",document.body.appendChild(n),n.click(),setTimeout((function(){document.body.removeChild(n),window.URL.revokeObjectURL(t)}),100)}))}));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"search",value:function(){this.setState({loading:!0,search:!0}),this.setPage(0,"")}},{key:"reset",value:function(){var e=this;this.setState({loading:!0}),h.a.findDOMNode(this.refs.form1).value="",h.a.findDOMNode(this.refs.form2).value="",h.a.findDOMNode(this.refs.form3).value="",this.setState({nameFind:"",nikFind:"",referenceNumberFind:""},(function(){setTimeout((function(){e.setPage(0,"")}),1)}))}},{key:"render",value:function(){for(var e=this,t=JSON.parse(this.state.userPrivilege)||[],n=this.state.allowDownload,s=!1,r=0;r<t.length;r++)"download_rptonboard"===t[r].name+"_"+t[r].vgroup&&(s=!0);return m.a.createElement("div",{id:"ListReportOnboarding"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?m.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,m.a.createElement("h3",null,"Report Onboarding Funding Offline List"),m.a.createElement("div",{id:"search-menu"},m.a.createElement("table",{style:{width:"50%"}},m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-4"},"NIK"),m.a.createElement("input",{className:"col-6 form-input",type:"text",ref:"form1",onChange:function(t){return e.setState({nikFind:t.target.value})},defaultValue:this.state.nikFind})),m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-4"},"Name"),m.a.createElement("input",{className:"col-6 form-input",type:"text",ref:"form2",onChange:function(t){return e.setState({nameFind:t.target.value})},defaultValue:this.state.nameFind})),m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-4"},"reference Number"),m.a.createElement("input",{className:"col-6 form-input",type:"text",ref:"form3",onChange:function(t){return e.setState({referenceNumberFind:t.target.value})},defaultValue:this.state.referenceNumberFind})))))),m.a.createElement("div",null,m.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.search.bind(this)},"search"),m.a.createElement("button",{type:"button",className:"reset-btn btn btn-secondary btn-sm",onClick:this.reset},"reset"))),this.state.loading?m.a.createElement(v.a,null):m.a.createElement(b.a,{page:this.state.page,totalPage:this.state.totalPage,filter:this.state.filter},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,"No"),m.a.createElement("th",null,"NIK"),m.a.createElement("th",null,"Ref Number"),m.a.createElement("th",null,"Nama"),m.a.createElement("th",null,"Product"),m.a.createElement("th",null,"Is ETB"),m.a.createElement("th",null,"RM Code - Nama RM"),m.a.createElement("th",null,"Kode Cabang - Nama Cabang"),m.a.createElement("th",null,"Lat Long"),m.a.createElement("th",null,"Timestamp"),m.a.createElement("th",null,"Actions"))),m.a.createElement("tbody",{style:{fontSize:14}},this.state.list.map((function(t,r){return m.a.createElement("tr",{key:r},m.a.createElement("td",null,void 0===e.state.page?0+r+1:10*e.state.page+r+1),m.a.createElement("td",null,t.nik),m.a.createElement("td",null,t.referenceNumber),m.a.createElement("td",{style:{width:"15%"}},t.nama),m.a.createElement("td",null,t.product?t.product.name:null),m.a.createElement("td",null,1==t.isEtb?"Yes":"No"),m.a.createElement("td",null,t.user?t.user.nip+" - "+t.user.name:null),m.a.createElement("td",null,t.user&&t.user.branches?t.user.branches[0].code+" - "+t.user.branches[0].name:null),m.a.createElement("td",null,t.latitude,"\xb0"," , ",t.longitude,"\xb0"),m.a.createElement("td",{style:{width:"15%"}},m.a.createElement(w.a,{format:"DD MMMM YYYY"},t.updatedAt),"  ",m.a.createElement(w.a,{format:"HH:mm:ss"},t.updatedAt)),m.a.createElement("td",{style:{width:"15%",textAlign:"center"}},s&&n?m.a.createElement("input",{type:"image",alt:"download",height:20,className:"mr-3",src:a(169),onClick:function(){return e.download(r)}}):null))})))))}}]),n}(d.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return k}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=a(15),h=a.n(p),f=(a(7),a(19)),g=a.n(f),v=a(18),b=a(23),y=(a(1469),a(21),a(45)),S=a(8),E=a(71),w=a.n(E),k=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),codeFind:"",nameFind:""},e.reset=e.reset.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(n,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")});var e=g.a.parse(this.props.location.search);this.setPage(+e.page||0,e.filter)}},{key:"componentDidUpdate",value:function(e){if(this.props.location.search!==e.location.search){var t=g.a.parse(this.props.location.search);this.setPage(+t.page||0,t.filter||null)}}},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i,o,c=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:0,a=c.length>1&&void 0!==c[1]?c[1]:this.state.filter,n=c.length>2&&void 0!==c[2]?c[2]:10,r=new y.a,e.next=6,r.findreportByParamLending(this.state,t,n);case 6:(l=e.sent)&&200===l.status&&l.data?(i=l.data.data.reportOnboardList,o=Math.ceil(l.data.data.count/10),this.setState({page:t,filter:a,list:i,totalPage:o}),this.setState({loading:!1})):l&&l.data&&S.a===l.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):this.setState({error:!0,errorMessage:l&&l.data?l.data.message:l,loading:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"download",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=this.state.list[t],n=new y.a,fetch(n.linkDownloadZipLending(a.referenceNumber),{headers:{token:this.state.token}}).then((function(e){e.blob().then((function(e){window.navigator&&window.navigator.msSaveOrOpenBlob&&window.navigator.msSaveOrOpenBlob(e,a.referenceNumber+".zip");var t=window.URL.createObjectURL(e),n=document.createElement("a");n.href=t,n.download=a.referenceNumber+".zip",document.body.appendChild(n),n.click(),setTimeout((function(){document.body.removeChild(n),window.URL.revokeObjectURL(t)}),100)}))}));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"search",value:function(){this.setState({loading:!0,search:!0}),this.setPage(0,"")}},{key:"reset",value:function(){var e=this;this.setState({loading:!0}),h.a.findDOMNode(this.refs.form1).value="",h.a.findDOMNode(this.refs.form2).value="",this.setState({nameFind:"",referenceNumberFind:""},(function(){setTimeout((function(){e.setPage(0,"")}),1)}))}},{key:"render",value:function(){for(var e=this,t=JSON.parse(this.state.userPrivilege)||[],n=!1,s=0;s<t.length;s++)"download_rptonboard"===t[s].name+"_"+t[s].vgroup&&(n=!0);return m.a.createElement("div",{id:"ListReportOnboardingLending"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?m.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,m.a.createElement("h3",null,"Report Onboarding Lending List"),m.a.createElement("div",{id:"search-menu"},m.a.createElement("table",{style:{width:"50%"}},m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-4"},"Name"),m.a.createElement("input",{className:"col-6 form-input",type:"text",ref:"form1",onChange:function(t){return e.setState({nameFind:t.target.value})},defaultValue:this.state.nameFind})),m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-4"},"Reference Number"),m.a.createElement("input",{className:"col-6 form-input",type:"text",ref:"form2",onChange:function(t){return e.setState({referenceNumberFind:t.target.value})},defaultValue:this.state.referenceNumberFind})))))),m.a.createElement("div",null,m.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.search.bind(this)},"search"),m.a.createElement("button",{type:"button",className:"reset-btn btn btn-secondary btn-sm",onClick:this.reset},"reset"))),this.state.loading?m.a.createElement(v.a,null):m.a.createElement(b.a,{page:this.state.page,totalPage:this.state.totalPage,filter:this.state.filter},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,"No"),m.a.createElement("th",null,"Ref Number"),m.a.createElement("th",null,"Nama"),m.a.createElement("th",null,"Product"),m.a.createElement("th",null,"Is ETB"),m.a.createElement("th",null,"RM Code - Nama RM"),m.a.createElement("th",null,"Kode Cabang - Nama Cabang"),m.a.createElement("th",null,"Timestamp"),m.a.createElement("th",null,"Actions"))),m.a.createElement("tbody",null,this.state.list.map((function(t,s){return m.a.createElement("tr",{key:s},m.a.createElement("td",null,void 0===e.state.page?0+s+1:10*e.state.page+s+1),m.a.createElement("td",null,t.referenceNumber),m.a.createElement("td",{style:{width:"15%"}},t.nama),m.a.createElement("td",null,t.product?t.product.name:null),m.a.createElement("td",null,1==t.isEtb?"Ya":"Tidak"),m.a.createElement("td",null,t.user?t.user.nip+" - "+t.user.name:null),m.a.createElement("td",null,t.user&&t.user.branches?t.user.branches[0].code+" - "+t.user.branches[0].name:null),m.a.createElement("td",{style:{width:"15%"}},m.a.createElement(w.a,{format:"DD MMMM YYYY"},t.updatedAt),"  ",m.a.createElement(w.a,{format:"HH:mm:ss"},t.updatedAt)),m.a.createElement("td",null,n?m.a.createElement("input",{type:"image",alt:"download",height:20,className:"mr-3",src:a(169),onClick:function(){return e.download(s)}}):null))})))))}}]),n}(d.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return k}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=a(15),h=a.n(p),f=a(7),g=a.n(f),v=a(19),b=a.n(v),y=a(18),S=a(23),E=(a(1471),a(21),a(45)),w=a(8),k=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).state={list:[],loading:!0,token:localStorage.getItem("accessToken"),userPrivilege:[],nameFind:""},e.reset=e.reset.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(n,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")});var e=b.a.parse(this.props.location.search);this.setPage(+e.page||0,e.filter)}},{key:"componentDidUpdate",value:function(e){if(this.props.location.search!==e.location.search){var t=b.a.parse(this.props.location.search);this.setPage(+t.page||0,t.filter||null)}}},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i,o=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:0,a=o.length>1&&void 0!==o[1]?o[1]:this.state.filter,n=new E.a,e.next=5,n.getListReport(this.state);case 5:(r=e.sent)&&200===r.status&&r.data&&r.data.success?(l=Object.values(r.data.data),a&&(l=l.filter((function(e){return e.toLowerCase().includes(a)}))),i=Math.ceil(l.length/10),l=l.slice(10*t,10*(t+1)),this.setState({page:t,filter:a,list:l,totalPage:i}),this.setState({loading:!1})):r&&r.data&&w.a===r.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):this.setState({error:!0,errorMessage:r&&r.data?r.data.message:r,loading:!1});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"downloadReport",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var n,r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.state.list[t],r=new E.a,e.next=4,r.downloadReportOnline(n,this.state.token);case 4:200===(l=e.sent).status&&(i=a(190),g.a.get(l.config.url,{headers:{token:this.state.token}}).then((function(e){i(e.data,n)})));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"search",value:function(){this.setState({loading:!0,search:!0}),this.setPage(0,"")}},{key:"reset",value:function(){var e=this;this.setState({loading:!0}),h.a.findDOMNode(this.refs.form1).value="",this.setState({nameFind:""},(function(){setTimeout((function(){e.setPage(0,"")}),1)}))}},{key:"render",value:function(){for(var e=this,t=JSON.parse(this.state.userPrivilege)||[],n=!1,s=0;s<t.length;s++)"download_rptonboardOnline"===t[s].name+"_"+t[s].vgroup&&(n=!0);return m.a.createElement("div",{id:"ListReport"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?m.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,m.a.createElement("h3",null,"Report List Onboarding Online CASA"),m.a.createElement("div",{id:"search-menu"},m.a.createElement("table",{style:{width:"50%"}},m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-4"},"Report Name"),m.a.createElement("input",{className:"col-6 form-input",type:"text",ref:"form1",onChange:function(t){return e.setState({nameFind:t.target.value})},defaultValue:this.state.nameFind})))))),m.a.createElement("div",null,m.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.search.bind(this)},"search"),m.a.createElement("button",{type:"button",className:"reset-btn btn btn-secondary btn-sm",onClick:this.reset},"reset"))),this.state.loading?m.a.createElement(y.a,null):m.a.createElement(S.a,{page:this.state.page,totalPage:this.state.totalPage,filter:this.state.filter},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,"No"),m.a.createElement("th",null,"Name"),n?m.a.createElement("th",null,"Actions"):null)),m.a.createElement("tbody",null,this.state.list.map((function(t,s){return m.a.createElement("tr",{key:s},m.a.createElement("td",null,e.state.page+1<=1?s+1:10*e.state.page+(s+1)),m.a.createElement("td",null,Object.values(t)),n?m.a.createElement("td",null,m.a.createElement("input",{type:"image",alt:"Download",height:20,src:a(169),onClick:function(){return e.downloadReport(s)}})):null)})))))}}]),n}(d.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return k}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=a(15),h=a.n(p),f=a(7),g=a.n(f),v=a(19),b=a.n(v),y=a(18),S=a(23),E=(a(1473),a(21),a(45)),w=a(8),k=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).state={list:[],loading:!0,token:localStorage.getItem("accessToken"),userPrivilege:[],nameFind:""},e.reset=e.reset.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(n,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")});var e=b.a.parse(this.props.location.search);this.setPage(+e.page||0,e.filter)}},{key:"componentDidUpdate",value:function(e){if(this.props.location.search!==e.location.search){var t=b.a.parse(this.props.location.search);this.setPage(+t.page||0,t.filter||null)}}},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i,o=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:0,a=o.length>1&&void 0!==o[1]?o[1]:this.state.filter,n=new E.a,e.next=5,n.getListReportCCPL(this.state);case 5:(r=e.sent)&&200===r.status&&r.data&&r.data.success?(l=Object.values(r.data.data),a&&(l=l.filter((function(e){return e.toLowerCase().includes(a)}))),i=Math.ceil(l.length/10),l=l.slice(10*t,10*(t+1)),this.setState({page:t,filter:a,list:l,totalPage:i}),this.setState({loading:!1})):r&&r.data&&w.a===r.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):this.setState({error:!0,errorMessage:r&&r.data?r.data.message:r,loading:!1});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"downloadReportCCPL",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var n,r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.state.list[t],r=new E.a,e.next=4,r.downloadReportCCPL(n,this.state.token);case 4:200===(l=e.sent).status&&(i=a(190),g.a.get(l.config.url,{headers:{token:this.state.token}}).then((function(e){i(e.data,n)})));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"search",value:function(){this.setState({loading:!0,search:!0}),this.setPage(0,"")}},{key:"reset",value:function(){var e=this;this.setState({loading:!0}),h.a.findDOMNode(this.refs.form1).value="",this.setState({nameFind:""},(function(){setTimeout((function(){e.setPage(0,"")}),1)}))}},{key:"render",value:function(){for(var e=this,t=JSON.parse(this.state.userPrivilege)||[],n=!1,s=0;s<t.length;s++)"download_rptOnboardCcpl"===t[s].name+"_"+t[s].vgroup&&(n=!0);return m.a.createElement("div",{id:"ListReport"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?m.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,m.a.createElement("h3",null,"Report List Onboarding CCPL"),m.a.createElement("div",{id:"search-menu"},m.a.createElement("table",{style:{width:"50%"}},m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-4"},"Report Name"),m.a.createElement("input",{className:"col-6 form-input",type:"text",ref:"form1",onChange:function(t){return e.setState({nameFind:t.target.value})},defaultValue:this.state.nameFind})))))),m.a.createElement("div",null,m.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.search.bind(this)},"search"),m.a.createElement("button",{type:"button",className:"reset-btn btn btn-secondary btn-sm",onClick:this.reset},"reset"))),this.state.loading?m.a.createElement(y.a,null):m.a.createElement(S.a,{page:this.state.page,totalPage:this.state.totalPage,filter:this.state.filter},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,"No"),m.a.createElement("th",null,"Name"),m.a.createElement("th",null,"Actions"))),m.a.createElement("tbody",null,this.state.list.map((function(t,s){return m.a.createElement("tr",{key:s},m.a.createElement("td",null,e.state.page+1<=1?s+1:10*e.state.page+(s+1)),m.a.createElement("td",null,Object.values(t)),n?m.a.createElement("td",null,m.a.createElement("input",{type:"image",alt:"Download",height:20,src:a(169),onClick:function(){return e.downloadReportCCPL(s)}})):null)})))))}}]),n}(d.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return N}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=(a(15),a(27)),h=(a(73),a(19)),f=a.n(h),g=a(18),v=a(23),b=(a(191),a(21),a(45)),y=a(8),S=(a(7),a(16)),E=a.n(S),w=a(71),k=a.n(w),N=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),nameFind:"",dobFind:"",refNumFind:"",fromDateFind:"",toDateFind:"",listSelectedPrivilege:[],isAllSelected:!1,listReferenceNum:[],jsonResult:[],statusList:[],statusListFilter:[],listOnboardId:[],fromDateFindBO:"",toDateFindBO:"",salesCdFind:"",branchList:[]},e.reset=e.reset.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(n,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")});var e=f.a.parse(this.props.location.search);this.setPage(+e.page||0,e.filter),this.getCCPLStatusDataMaster(),this.getBranchDataMaster()}},{key:"componentDidUpdate",value:function(e){if(this.props.location.search!==e.location.search){var t=f.a.parse(this.props.location.search);this.setPage(+t.page||0,t.filter||null)}}},{key:"getCCPLStatusDataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new b.a,e.next=3,t.getCCPLStatusDataMaster(this.state);case 3:(a=e.sent)&&200===a.status&&a.data&&a.data.success?this.setState({statusList:a.data.data}):a&&a.data&&y.a===a.data.data?(localStorage.clear(),this.props.history.push("login")):this.setState({statusList:[]});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getBranchDataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new b.a,e.next=3,t.getSFTBranchDataMaster(this.state);case 3:(a=e.sent)&&200===a.status&&a.data&&a.data.success?this.setState({branchList:a.data.data}):a&&a.data&&y.a===a.data.data?(localStorage.clear(),this.props.history.push("login")):this.setState({branchList:[]});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i,o,c=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:0,a=c.length>1&&void 0!==c[1]?c[1]:this.state.filter,n=c.length>2&&void 0!==c[2]?c[2]:10,r=new b.a,e.next=6,r.findCCListByParam(this.state,t,n);case 6:(l=e.sent)&&200===l.status&&l.data?(i=l.data.data.productList,o=Math.ceil(l.data.data.count/10),console.log("var list : "+JSON.stringify(l.data.data)),this.setState({page:t,filter:a,list:i,totalPage:o}),this.setState({loading:!1})):l&&l.data&&y.a===l.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):this.setState({error:!0,errorMessage:l&&l.data?l.data.message:l,loading:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"search",value:function(){this.setState({loading:!0,search:!0}),this.setPage(0,"")}},{key:"reset",value:function(){var e=this;this.setState({loading:!0}),this.refs.form1.value="",this.refs.form2.value="",this.refs.form3.value="",this.refs.form4.value="",this.refs.form5.value="",this.refs.form6.value="",this.refs.form7.value="",this.refs.form8.value="",this.setState({nameFind:"",nikFind:"",refNumFind:"",fromDateFind:"",toDateFind:"",fromDateFindBO:"",toDateFindBO:"",salesCdFind:"",statusCode:"",branchCode:""},(function(){setTimeout((function(){e.setPage(0,"")}),1)}))}},{key:"doDownloadZip",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isOnlyApproveStatusListed()){for(t=E()(),a=t.format("DDMMYYYY")+Date.now(),n="RCS_RMTOOLS_CC_"+a+".zip",r=[],l=[],i=0;i<this.state.list.length;i++)r.push(this.state.list[i].referenceNumber),l.push(this.state.list[i].id);window.confirm("Are you sure you want to download application(s)?")&&(o=new b.a,fetch(o.linkDownloadCCPLDocuments(r,"CC"),{headers:{token:this.state.token}}).then((function(e){e.blob().then((function(e){window.navigator&&window.navigator.msSaveOrOpenBlob&&window.navigator.msSaveOrOpenBlob(e,n);var t=window.URL.createObjectURL(e),a=document.createElement("a");a.href=t,a.download=n,document.body.appendChild(a),a.click(),setTimeout((function(){document.body.removeChild(a),window.URL.revokeObjectURL(t)}),100)}))})),o.saveDownloadDate(this.state.token,l))}else alert("Unable to export file. Please select Approved application(s) listing.");case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isOnlyApproveStatusListed",value:function(){for(var e=0;e<this.state.list.length;e++)if("APPROVE_BO_CCPL"!==this.state.list[e].status)return!1;return!0}},{key:"editRow",value:function(e){var t=this.state.list[e];this.props.history.push("creditCardDetail",{data:t})}},{key:"render",value:function(){var e=this;console.log(JSON.stringify(this.state.list));var t=this.state.statusList.map((function(e){e.id;var t=e.name,a=e.code;return m.a.createElement("option",{key:a,"code-data":a,value:a},t)})),n=this.state.branchList.map((function(e){e.id;var t=e.name,a=e.code;return m.a.createElement("option",{key:a,"code-data":a,value:a},t)})),s=this.state.fromDateFind?E()(this.state.fromDateFind,"YYYY-MM-DDTHH:mm:ss").toDate():null,r=this.state.toDateFind?E()(this.state.toDateFind,"YYYY-MM-DDTHH:mm:ss").toDate():null,l=this.state.fromDateFindBO?E()(this.state.fromDateFindBO,"YYYY-MM-DDTHH:mm:ss").toDate():null,i=this.state.toDateFindBO?E()(this.state.toDateFindBO,"YYYY-MM-DDTHH:mm:ss").toDate():null;return m.a.createElement("div",{id:"ListProduct"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?m.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,m.a.createElement("h3",null,"Onboarding Review - Credit Card"),m.a.createElement("div",{id:"search-menu"},m.a.createElement("table",{style:{width:"100%"}},m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-5"},"Nama Applicant"),m.a.createElement("input",{className:"col-6 form-input",type:"text",ref:"form1",onChange:function(t){return e.setState({nameFind:t.target.value})},defaultValue:this.state.nameFind})),m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-5"},"NIK"),m.a.createElement("input",{className:"col-6 form-input",type:"text",ref:"form2",onChange:function(t){return e.setState({nikFind:t.target.value})},defaultValue:this.state.nikFind})),m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-5"},"TL Submit Dari Tanggal"),m.a.createElement("div",{className:"col-4 p-0"},m.a.createElement(p.a,{className:"form-input",dateFormat:"yyyy-MM-dd HH:mm:ss",selected:s,ref:"form5",onChange:function(t){return e.setState({fromDateFind:t})}}))),m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-5"},"TL Submit Sampai Tanggal"),m.a.createElement("div",{className:"col-4 p-0"},m.a.createElement(p.a,{className:"form-input",dateFormat:"yyyy-MM-dd HH:mm:ss",selected:r,ref:"form6",onChange:function(t){return e.setState({toDateFind:t})}})))),m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-5"},"Nomor Ref"),m.a.createElement("input",{className:"col-6 form-input",type:"text",ref:"form3",onChange:function(t){return e.setState({refNumFind:t.target.value})},defaultValue:this.state.refNumFind})),m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-5"},"Sales Code"),m.a.createElement("input",{className:"col-6 form-input",type:"text",ref:"form4",onChange:function(t){return e.setState({salesCdFind:t.target.value})},defaultValue:this.state.salesCdFind})),m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-5"},"BO Decision Dari Tanggal"),m.a.createElement("div",{className:"col-4 p-0"},m.a.createElement(p.a,{className:"form-input",dateFormat:"yyyy-MM-dd HH:mm:ss",selected:l,ref:"form7",onChange:function(t){return e.setState({fromDateFindBO:t})}}))),m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-5"},"BO Decision Sampai Tanggal"),m.a.createElement("div",{className:"col-4 p-0"},m.a.createElement(p.a,{className:"form-input",dateFormat:"yyyy-MM-dd HH:mm:ss",selected:i,ref:"form8",onChange:function(t){return e.setState({toDateFindBO:t})}}))))),m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-5"},"Status Aplikasi"),m.a.createElement("select",{className:"col-4 form-input",onChange:function(t){return e.setState({statusCode:t.target.value})},value:this.state.statusCode},m.a.createElement("option",{key:"",value:""},"Pilih Status Aplikasi"),t))),m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-5"},"Branch Name"),m.a.createElement("select",{className:"col-4 form-input",onChange:function(t){return e.setState({branchCode:t.target.value})},value:this.state.branchCode},m.a.createElement("option",{key:"",value:""},"All Branch"),n)))))),m.a.createElement("div",null,m.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.search.bind(this)},"Search"),m.a.createElement("button",{type:"button",className:"reset-btn btn btn-secondary btn-sm",onClick:this.reset},"Reset"))),this.state.loading?m.a.createElement(g.a,null):m.a.createElement(v.a,{page:this.state.page,totalPage:this.state.totalPage,filter:this.state.filter},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,"No. Ref"),m.a.createElement("th",null,"Nama Applicant"),m.a.createElement("th",null,"Nama Produk"),m.a.createElement("th",null,"Sales Code"),m.a.createElement("th",null,"Tgl. TL Submit"),m.a.createElement("th",null,"Tgl. BO Decision"),m.a.createElement("th",null,"Tgl. Download"),m.a.createElement("th",null,"Status"),m.a.createElement("th",null,"BO Name"),m.a.createElement("th",null,"Action"))),m.a.createElement("tbody",null,this.state.list.map((function(t,n){return m.a.createElement("tr",{key:n},m.a.createElement("td",null,t.referenceNumber),m.a.createElement("td",null,t.nama),m.a.createElement("td",null,t.productBundling?t.productBundling.product1.name+", "+t.productBundling.product2.name:t.product.name),m.a.createElement("td",null,t.user.sales_code," - ",t.user.name),m.a.createElement("td",null,t.submitDataSuccessAt?m.a.createElement(k.a,{format:"YYYY-DD-MM HH:mm:ss"},t.submitDataSuccessAt):null),m.a.createElement("td",null,t.backOfficeSubmitDate?m.a.createElement(k.a,{format:"YYYY-DD-MM HH:mm:ss"},t.backOfficeSubmitDate):null),m.a.createElement("td",null,t.excelDownloadDate?m.a.createElement(k.a,{format:"YYYY-DD-MM HH:mm:ss"},t.excelDownloadDate):null),"COMPLETE_CCPL"===t.status?m.a.createElement("td",null,"COMPLETE"):null,"APPROVE_BO_CCPL"===t.status?m.a.createElement("td",null,"APPROVE BO"):null,"REJECT_BO_CCPL"===t.status?m.a.createElement("td",null,"REJECT BO"):null,"CANCEL_RCS"===t.status?m.a.createElement("td",null,"CANCEL RCS"):null,"APPROVE_RCS"===t.status?m.a.createElement("td",null,"APPROVE RCS"):null,"REJECT_RCS"===t.status?m.a.createElement("td",null,"REJECT RCS"):null,"APPROVE_BO_CCPL"===t.status||"REJECT_BO_CCPL"===t.status?m.a.createElement("td",null,t.userNipBO):m.a.createElement("td",null," - "),m.a.createElement("td",null,m.a.createElement("input",{type:"image",alt:"Edit",height:20,src:a(430),onClick:function(){return e.editRow(n)}})))})))),m.a.createElement("div",{className:"d-flex justify-content-end"},m.a.createElement("button",{className:"button-red",onClick:this.doDownloadZip.bind(this)},"Download")))}}]),n}(d.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return N}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=(a(15),a(27)),h=(a(73),a(19)),f=a.n(h),g=a(18),v=a(23),b=(a(191),a(21),a(45)),y=a(8),S=(a(7),a(16)),E=a.n(S),w=a(71),k=a.n(w),N=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),nameFind:"",dobFind:"",refNumFind:"",fromDateFind:"",toDateFind:"",listSelectedPrivilege:[],isAllSelected:!1,listReferenceNum:[],jsonResult:[],statusList:[],statusListFilter:[],listOnboardId:[],fromDateFindBO:"",toDateFindBO:"",salesCdFind:"",branchList:[]},e.reset=e.reset.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(n,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")});var e=f.a.parse(this.props.location.search);this.setPage(+e.page||0,e.filter),this.getCCPLStatusDataMaster(),this.getBranchDataMaster()}},{key:"componentDidUpdate",value:function(e){if(this.props.location.search!==e.location.search){var t=f.a.parse(this.props.location.search);this.setPage(+t.page||0,t.filter||null)}}},{key:"getCCPLStatusDataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!0,t=new b.a,e.next=4,t.getCCPLStatusDataMaster(this.state);case 4:(a=e.sent)&&200===a.status&&a.data&&a.data.success?this.setState({statusList:a.data.data}):a&&a.data&&y.a===a.data.data?!1:this.setState({categoryList:[]});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getBranchDataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new b.a,e.next=3,t.getSFTBranchDataMaster(this.state);case 3:(a=e.sent)&&200===a.status&&a.data&&a.data.success?this.setState({branchList:a.data.data}):a&&a.data&&y.a===a.data.data?(localStorage.clear(),this.props.history.push("login")):this.setState({branchList:[]});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i,o,c=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:0,a=c.length>1&&void 0!==c[1]?c[1]:this.state.filter,n=c.length>2&&void 0!==c[2]?c[2]:10,r=new b.a,e.next=6,r.findPLListByParam(this.state,t,n);case 6:(l=e.sent)&&200===l.status&&l.data?(i=l.data.data.productList,console.log(JSON.stringify(l.data.data)),o=Math.ceil(l.data.data.count/10),this.setState({page:t,filter:a,list:i,totalPage:o}),this.setState({loading:!1})):l&&l.data&&y.a===l.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):this.setState({error:!0,errorMessage:l&&l.data?l.data.message:l,loading:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"search",value:function(){this.setState({loading:!0,search:!0}),this.setPage(0,"")}},{key:"reset",value:function(){var e=this;this.setState({loading:!0}),this.refs.form1.value="",this.refs.form2.value="",this.refs.form3.value="",this.refs.form4.value="",this.refs.form5.value="",this.refs.form6.value="",this.refs.form7.value="",this.refs.form8.value="",this.setState({nameFind:"",nikFind:"",refNumFind:"",fromDateFind:"",toDateFind:"",fromDateFindBO:"",toDateFindBO:"",salesCdFind:"",statusCode:"",branchCode:""},(function(){setTimeout((function(){e.setPage(0,"")}),1)}))}},{key:"doDownloadZip",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isOnlyApproveStatusListed()){for(t=E()(),a=t.format("DDMMYYYY")+Date.now(),n="RCS_RMTOOLS_PL_"+a+".zip",r=[],l=[],i=0;i<this.state.list.length;i++)r.push(this.state.list[i].referenceNumber),l.push(this.state.list[i].id);window.confirm("Are you sure you want to export applications?")&&(o=new b.a,fetch(o.linkDownloadCCPLDocuments(r,"PL"),{headers:{token:this.state.token}}).then((function(e){e.blob().then((function(e){window.navigator&&window.navigator.msSaveOrOpenBlob&&window.navigator.msSaveOrOpenBlob(e,n);var t=window.URL.createObjectURL(e),a=document.createElement("a");a.href=t,a.download=n,document.body.appendChild(a),a.click(),setTimeout((function(){document.body.removeChild(a),window.URL.revokeObjectURL(t)}),100)}))})),o.saveDownloadDate(this.state.token,l))}else alert("Unable to export file. Please select Approved application(s) listing.");case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isOnlyApproveStatusListed",value:function(){for(var e=0;e<this.state.list.length;e++)if("APPROVE_BO_CCPL"!==this.state.list[e].status)return!1;return!0}},{key:"editRow",value:function(e){var t=this.state.list[e];this.props.history.push("personalLoanDetail",{data:t})}},{key:"render",value:function(){var e=this,t=this.state.statusList.map((function(e){e.id;var t=e.name,a=e.code;return m.a.createElement("option",{key:a,"code-data":a,value:a},t)})),n=this.state.branchList.map((function(e){e.id;var t=e.name,a=e.code;return m.a.createElement("option",{key:a,"code-data":a,value:a},t)})),s=this.state.fromDateFind?E()(this.state.fromDateFind,"YYYY-MM-DDTHH:mm:ss").toDate():null,r=this.state.toDateFind?E()(this.state.toDateFind,"YYYY-MM-DDTHH:mm:ss").toDate():null,l=this.state.fromDateFindBO?E()(this.state.fromDateFindBO,"YYYY-MM-DDTHH:mm:ss").toDate():null,i=this.state.toDateFindBO?E()(this.state.toDateFindBO,"YYYY-MM-DDTHH:mm:ss").toDate():null;return m.a.createElement("div",{id:"ListProduct"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?m.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,m.a.createElement("h3",null,"Onboarding Review - Personal Loan"),m.a.createElement("div",{id:"search-menu"},m.a.createElement("table",{style:{width:"100%"}},m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-5"},"Nama Applicant"),m.a.createElement("input",{className:"col-6 form-input",type:"text",ref:"form1",onChange:function(t){return e.setState({nameFind:t.target.value})},defaultValue:this.state.nameFind})),m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-5"},"NIK"),m.a.createElement("input",{className:"col-6 form-input",type:"text",ref:"form2",onChange:function(t){return e.setState({nikFind:t.target.value})},defaultValue:this.state.nikFind})),m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-5"},"TL Submit Dari Tanggal"),m.a.createElement("div",{className:"col-4 p-0"},m.a.createElement(p.a,{className:"form-input",dateFormat:"yyyy-MM-dd HH:mm:ss",selected:s,ref:"form5",onChange:function(t){return e.setState({fromDateFind:t})}}))),m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-5"},"TL Submit Sampai Tanggal"),m.a.createElement("div",{className:"col-4 p-0"},m.a.createElement(p.a,{className:"form-input",dateFormat:"yyyy-MM-dd HH:mm:ss",selected:r,ref:"form6",onChange:function(t){return e.setState({toDateFind:t})}})))),m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-5"},"Nomor Ref"),m.a.createElement("input",{className:"col-6 form-input",type:"text",ref:"form3",onChange:function(t){return e.setState({refNumFind:t.target.value})},defaultValue:this.state.refNumFind})),m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-5"},"Sales Code"),m.a.createElement("input",{className:"col-6 form-input",type:"text",ref:"form4",onChange:function(t){return e.setState({salesCdFind:t.target.value})},defaultValue:this.state.salesCdFind})),m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-5"},"BO Decision Dari Tanggal"),m.a.createElement("div",{className:"col-4 p-0"},m.a.createElement(p.a,{className:"form-input",dateFormat:"yyyy-MM-dd HH:mm:ss",selected:l,ref:"form7",onChange:function(t){return e.setState({fromDateFindBO:t})}}))),m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-5"},"BO Decision Sampai Tanggal"),m.a.createElement("div",{className:"col-4 p-0"},m.a.createElement(p.a,{className:"form-input",dateFormat:"yyyy-MM-dd HH:mm:ss",selected:i,ref:"form8",onChange:function(t){return e.setState({toDateFindBO:t})}}))))),m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-5"},"Status Aplikasi"),m.a.createElement("select",{className:"col-4 form-input",onChange:function(t){return e.setState({statusCode:t.target.value})},value:this.state.statusCode},m.a.createElement("option",{key:"",value:""},"Pilih Status Aplikasi"),t))),m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-5"},"Branch Name"),m.a.createElement("select",{className:"col-4 form-input",onChange:function(t){return e.setState({branchCode:t.target.value})},value:this.state.branchCode},m.a.createElement("option",{key:"",value:""},"All Branch"),n)))))),m.a.createElement("div",null,m.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.search.bind(this)},"Search"),m.a.createElement("button",{type:"button",className:"reset-btn btn btn-secondary btn-sm",onClick:this.reset},"Reset"))),this.state.loading?m.a.createElement(g.a,null):m.a.createElement(v.a,{page:this.state.page,totalPage:this.state.totalPage,filter:this.state.filter},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,"No. Ref"),m.a.createElement("th",null,"Nama Applicant"),m.a.createElement("th",null,"Nama Produk"),m.a.createElement("th",null,"Sales Code"),m.a.createElement("th",null,"Tgl. TL Submit"),m.a.createElement("th",null,"Tgl. BO Decision"),m.a.createElement("th",null,"Tgl. Download"),m.a.createElement("th",null,"Status"),m.a.createElement("th",null,"BO Name"),m.a.createElement("th",null,"Action"))),m.a.createElement("tbody",null,this.state.list.map((function(t,n){return m.a.createElement("tr",{key:n},m.a.createElement("td",null,t.referenceNumber),m.a.createElement("td",null,t.nama),m.a.createElement("td",null,t.product?t.product.name:null),m.a.createElement("td",null,t.user.sales_code," - ",t.user.name),m.a.createElement("td",null,t.submitDataSuccessAt?m.a.createElement(k.a,{format:"YYYY-DD-MM HH:mm:ss"},t.submitDataSuccessAt):null),m.a.createElement("td",null,t.backOfficeSubmitDate?m.a.createElement(k.a,{format:"YYYY-DD-MM HH:mm:ss"},t.backOfficeSubmitDate):null),m.a.createElement("td",null,t.excelDownloadDate?m.a.createElement(k.a,{format:"YYYY-DD-MM HH:mm:ss"},t.excelDownloadDate):null),"COMPLETE_CCPL"===t.status?m.a.createElement("td",null,"COMPLETE"):null,"APPROVE_BO_CCPL"===t.status?m.a.createElement("td",null,"APPROVE BO"):null,"REJECT_BO_CCPL"===t.status?m.a.createElement("td",null,"REJECT BO"):null,"CANCEL_RCS"===t.status?m.a.createElement("td",null,"CANCEL RCS"):null,"APPROVE_RCS"===t.status?m.a.createElement("td",null,"APPROVE RCS"):null,"REJECT_RCS"===t.status?m.a.createElement("td",null,"REJECT RCS"):null,"APPROVE_BO_CCPL"===t.status||"REJECT_BO_CCPL"===t.status?m.a.createElement("td",null,t.userNipBO):m.a.createElement("td",null," - "),m.a.createElement("td",null,m.a.createElement("input",{type:"image",alt:"Edit",height:20,src:a(430),onClick:function(){return e.editRow(n)}})))})))),m.a.createElement("div",{className:"d-flex justify-content-end"},m.a.createElement("button",{className:"button-red",onClick:this.doDownloadZip.bind(this)},"Download")))}}]),n}(d.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return g}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=(a(590),a(32)),p=a(18),h=a(8);function f(e){return d.a.createElement("div",{id:"notes",className:"box-area "+e.className},d.a.createElement("h4",{className:"mb-3"},"Catatan :"),d.a.createElement("div",{className:"col-8"},d.a.createElement("div",null,"1. Pastikan Photo Sales sudah di-rename sesuai dengan Sales Code yang benar"),d.a.createElement("div",null,"2. Photo lama akan di-replace apabila terdapat photo yang baru dengan Sales Code yang sama")))}var g=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={file:null,error:"",alertState:"alert alert-primary",loading:!1,token:localStorage.getItem("accessToken")},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"validate",value:function(e){return!!e.file||(this.setState({error:"Please select file to upload!",alertState:"alert alert-danger"}),!1)}},{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validate(this.state)){e.next=2;break}return e.abrupt("return");case 2:return this.setState({loading:!0}),t=new m.a,e.next=6,t.bulkUploadUserPhoto(this.state);case 6:(a=e.sent)&&200===a.status&&a.data.success?this.setState({error:a.data.message,alertState:"alert alert-primary",loading:!1}):a&&a.data&&h.a===a.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):this.setState({error:a&&a.data.message?a.data.message:"Error bulk upload User, Please contact Administrator",alertState:"alert alert-danger",loading:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return d.a.createElement("div",{id:"PhotoBulkUpload"},this.state.error?d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.error):null,d.a.createElement("h3",{className:"mb-4"},"Photo Bulk Upload"),this.state.loading?d.a.createElement(p.a,null):d.a.createElement("div",{className:"row mb-3 box-area"},d.a.createElement("input",{type:"file",accept:".zip",onChange:function(t){return e.setState({file:t.target.files[0]})}}),d.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.submit.bind(this)},"submit")),d.a.createElement("div",{className:"row mb-3"},d.a.createElement(f,{className:"col mr-1"})))}}]),a}(u.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return y}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(45),p=a(8),h=(a(16),a(665),a(18)),f=a(62),g=(a(666),a(14)),v=a(71),b=a.n(v),y=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).remarkChangeHandler=function(t){e.setState({remarks:t.target.value})},e.state={list:[],token:localStorage.getItem("accessToken"),status:"",loading:!0,flag:"",dataList:[],mainDataList:[],refNum:"",options:[],disableButton:!0,remarks:"",showApproveRejectButton:!1,userNip:"",dataList2:[],emailSales:"",emailTeamLead:"",customerName:"",boDecisionDate:"",appStatus:"",options2:[],isChecked7:!1,showUpdateButton:!1,disableDocButton:!1},window.scrollTo(0,0),e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.getDataSummary(),this.setState({mainDataList:this.props.location.state.data}),"COMPLETE_CCPL"===this.props.location.state.data.status&&this.setState({showApproveRejectButton:!0}),this.state.userNip=localStorage.getItem("userNip")}},{key:"getDataSummary",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new m.a,!0,e.next=4,t.getDetailData(this.state.token,this.props.location.state.data);case 4:(a=e.sent)&&200===a.status&&a.data&&a.data.success?(this.setState({dataList:a.data.data.data[0]}),this.setState({dataList2:a.data.data}),console.log(JSON.stringify(this.state.dataList)),this.setState({loading:!1}),Object(g.isEmpty)(this.state.mainDataList.rejectSatus)||(this.state.mainDataList.rejectSatus.includes("7")&&this.setState({isChecked7:!0}),this.state.isChecked7&&this.setState({disableDocButton:!0}))):(a&&a.data&&p.a===a.data.data?!1:this.setState({dataList:[]}),this.setState({loading:!1})),this.setState({emailTeamLead:this.state.dataList2.teamLeadEmail}),this.setState({emailSales:this.state.mainDataList.user.email}),this.setState({customerName:this.state.mainDataList.nama}),this.setState({boDecisionDate:this.state.mainDataList.backOfficeSubmitDate}),"APPROVE_BO_CCPL"===this.state.mainDataList.status&&(this.setState({appStatus:"Approve BO"}),this.setState({showUpdateButton:!0})),"REJECT_BO_CCPL"===this.state.mainDataList.status&&(this.setState({appStatus:"Reject BO"}),this.setState({showUpdateButton:!0})),"APPROVE_RCS"===this.state.mainDataList.status&&this.setState({appStatus:"Approve RCS"}),"REJECT_RCS"===this.state.mainDataList.status&&this.setState({appStatus:"Reject RCS"}),"CANCEL_RCS"===this.state.mainDataList.status&&this.setState({appStatus:"Cancel RCS"});case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"approveData",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Verify This Data ?")){e.next=15;break}if(this.setState({loading:!0}),window.scrollTo(0,0),!Object(g.isEmpty)(this.state.remarks)){e.next=8;break}alert("Catatan tidak boleh kosong!"),this.setState({loading:!1}),e.next=13;break;case 8:return a=new m.a,e.next=11,a.doApproveCCPL(this.state,t,"Pinjaman Tanpa Agunan");case 11:(n=e.sent)&&200===n.status&&n.data&&n.data.success?(alert("Application has been approved!"),this.setState({loading:!1}),this.props.history.push("onboard-review-pl-list")):(n&&n.data&&p.a===n.data.data||(alert("error, unable to approve application!"),this.props.history.push("onboard-review-pl-list")),this.setState({loading:!1}));case 13:e.next=16;break;case 15:this.setState({loading:!1});case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reject",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Reject This Data ?")){e.next=15;break}if(this.setState({loading:!0}),window.scrollTo(0,0),!Object(g.isEmpty)(this.state.remarks)){e.next=8;break}alert("Catatan tidak boleh kosong!"),this.setState({loading:!1}),e.next=13;break;case 8:return a=new m.a,e.next=11,a.doRejectCCPL(this.state,t,"Pinjaman Tanpa Agunan");case 11:(n=e.sent)&&200===n.status&&n.data&&n.data.success?(alert("Application has been rejected!"),this.props.history.push("onboard-review-pl-list")):(n&&n.data&&p.a===n.data.data||(alert("error, unable to reject application!"),this.props.history.push("onboard-review-pl-list")),this.setState({loading:!1}));case 13:e.next=16;break;case 15:this.setState({loading:!1});case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Cancel",value:function(){this.props.history.push("onboard-review-pl-list")}},{key:"renderTableData",value:function(){}},{key:"onChange",value:function(e){var t,a=this.state.options;2!=e.target.value&&(e.target.checked?a.push(+e.target.value):(t=a.indexOf(+e.target.value),a.splice(t,1))),a.sort(),this.setState({options:a}),5==a.length?this.setState({disableButton:!1}):this.setState({disableButton:!0})}},{key:"onChange2",value:function(e){var t,a=this.state.options2;e.target.checked?a.push(+e.target.value):(t=a.indexOf(+e.target.value),a.splice(t,1)),a.sort(),this.setState({options2:a})}},{key:"updateToggle",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(g.isEmpty)(this.state.options2)){e.next=4;break}alert("Toggle Dokumen Fisik is mandatory!"),e.next=12;break;case 4:if(!window.confirm("Update Dokumen Fisik?")){e.next=12;break}return t=new m.a,e.next=8,t.updateToggle(this.state);case 8:(a=e.sent)&&200===a.status&&a.data&&a.data.success?(alert("Dokumen fisik berhasil update"),window.scrollTo(0,0),a.data.data.objectOnboarding.rejectSatus.includes("7")&&this.setState({isChecked7:!0})):a&&a.data&&p.a===a.data.data||(alert("error, Dokumen fisik gagal update"),window.scrollTo(0,0)),e.next=12;break;case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;console.log("this.state.mainDataList: "+JSON.stringify(this.state.mainDataList)),console.log("this.state.dataList: "+JSON.stringify(this.state.dataList)),console.log("this.state.formJson1: "+JSON.stringify(this.state.dataList.formJson1)),console.log("this.state.formJson2: "+JSON.stringify(this.state.dataList.formJson2));var t=!0,a=!0,n=!1,s=!1,r="-",l="-",i="-";Object(g.isEmpty)(this.state.dataList)&&(t=!1),t&&(Object(g.isEmpty)(this.state.dataList.formJson1.dataIdentity4.flagUD)&&(a=!1),"true"===this.state.dataList.formJson2.isExistingCustomer&&(n=!0),Object(g.isEmpty)(this.state.dataList.formJson1.npwp.notNpwp)&&(s=!0),l=Object(g.isEmpty)(this.state.mainDataList.eventId)?"-":this.state.mainDataList.eventId,r=Object(g.isEmpty)(this.state.mainDataList.marketingProgram)?"-":this.state.mainDataList.marketingProgram,i=Object(g.isEmpty)(this.state.mainDataList.mrCode)?"-":this.state.mainDataList.mrCode);var o=(new m.a).doGetUserPhoto(this.state.mainDataList.user.sales_code),c="https://maps.google.com?q="+this.state.mainDataList.latitude+","+this.state.mainDataList.longitude;return d.a.createElement("div",{id:"OnboardReviewDetail"},d.a.createElement("h3",{className:"row mb-4"},"Review Personal Loan - Detail"),d.a.createElement("div",{id:"profile",className:"box-area"},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-6"},d.a.createElement("table",null,d.a.createElement("tr",null,d.a.createElement("td",{class:"labelNm"},"No. Ref"),d.a.createElement("td",{class:"colon"},":"),d.a.createElement("td",null,this.state.mainDataList.referenceNumber)),d.a.createElement("tr",null,d.a.createElement("td",null,"Nama Customer"),d.a.createElement("td",null,": "),d.a.createElement("td",null,this.state.mainDataList.nama)),d.a.createElement("tr",null,d.a.createElement("td",null,"Tanggal Lahir"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataIdentity.dateOfBirth","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Cabang"),d.a.createElement("td",null,": "),d.a.createElement("td",null,this.state.mainDataList.branchCcpl.code," ",this.state.mainDataList.branchCcpl.name)),d.a.createElement("tr",null,d.a.createElement("td",null,"Application Type"),d.a.createElement("td",null,": "),d.a.createElement("td",null,i)),d.a.createElement("tr",null,d.a.createElement("td",null,"Marketing Program Code"),d.a.createElement("td",null,": "),d.a.createElement("td",null,r)),d.a.createElement("tr",null,d.a.createElement("td",null,"Location Code"),d.a.createElement("td",null,": "),d.a.createElement("td",null,l)))),d.a.createElement("div",{className:"col-6"},d.a.createElement("table",null,d.a.createElement("tr",null,d.a.createElement("td",{class:"labelNm"},"Nama Produk"),d.a.createElement("td",{class:"colon"},":"),d.a.createElement("td",null,this.state.mainDataList.product.code+" - "+this.state.mainDataList.product.name)),d.a.createElement("tr",null,d.a.createElement("td",null,"Sales Code 1"),d.a.createElement("td",null,": "),d.a.createElement("td",null,this.state.mainDataList.user.sales_code," - ",this.state.mainDataList.user.name)),d.a.createElement("tr",null,d.a.createElement("td",null,"Sales Code 2"),d.a.createElement("td",null,": "),d.a.createElement("td",null,this.state.dataList2.sales2Cd," - ",this.state.dataList2.sales2Name)),d.a.createElement("tr",null,d.a.createElement("td",null,"Nama Team Leader"),d.a.createElement("td",null,": "),d.a.createElement("td",null,this.state.dataList2.teamLeadName)),d.a.createElement("tr",null,d.a.createElement("td",null,"Tanggal Submit"),d.a.createElement("td",null,": "),d.a.createElement("td",null,d.a.createElement(b.a,{format:"YYYY-DD-MM HH:mm:ss"},this.state.mainDataList.submitDataSuccessAt))),d.a.createElement("tr",null,d.a.createElement("td",null,"Lokasi"),d.a.createElement("td",null,": "),d.a.createElement("td",null,d.a.createElement("a",{href:c,target:"_blank"},"Lihat Lokasi"))))))),this.state.loading?d.a.createElement(h.a,null):d.a.createElement("div",{id:"profile",className:"box-area2"},d.a.createElement("div",{className:"row"},d.a.createElement("div",{id:"profile2",className:"col-6"},d.a.createElement("h4",{className:"mb-3"},"Data Pribadi"),d.a.createElement("table",null,d.a.createElement("tr",null,d.a.createElement("td",{class:"labelNm"},"Nama Customer"),d.a.createElement("td",{class:"colon"},":"),d.a.createElement("td",null,this.state.mainDataList.nama)),d.a.createElement("tr",null,d.a.createElement("td",null,"NIK"),d.a.createElement("td",null,": "),d.a.createElement("td",null,this.state.mainDataList.nik)),n?d.a.createElement("tr",null,d.a.createElement("td",null,"NTB/ETB"),d.a.createElement("td",null,": "),d.a.createElement("td",null,"ETB")):d.a.createElement("tr",null,d.a.createElement("td",null,"NTB/ETB"),d.a.createElement("td",null,": "),d.a.createElement("td",null,"NTB")),d.a.createElement("tr",null,d.a.createElement("td",null,"Negara Tempat Lahir"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataIdentity.country[0].name","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Tempat Lahir"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataIdentity.placeOfBirth","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Tanggal Lahir"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataIdentity.dateOfBirth","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Agama"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataIdentity2.religion[0].name","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Jenis Kelamin"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson2.dukcapilInfo.gender","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Nama Lengkap Tanpa Singkatan"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataIdentity2.fullNameAbbreviation","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Status Perkawinan"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataIdentity2.maritalStatus[0].description","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Status Pendidikan"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataIdentity2.education[0].description","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Nama Ibu Kandung"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataIdentity2.mothersMaiden","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Jumlah Tanggungan"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataIdentity2.numberDependents","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Status Rumah"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataIdentity2.homeStatus[0].name","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Lama Tinggal"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataIdentity2.stayYear","-")+" Tahun "+Object(g.result)(this.state.dataList,"formJson1.dataIdentity2.stayMonth","-")+" Bulan")),d.a.createElement("tr",null,d.a.createElement("td",null,"Kode Area Telp"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataIdentity2.areaCode","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Nomor Telp Rumah"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataIdentity2.phoneNumber","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Nomor Ponsel"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataIdentity2.mobilePhone","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Email"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataIdentity2.email","-")))),d.a.createElement("br",null),d.a.createElement("h4",{className:"mb-3"}),d.a.createElement("h4",{className:"mb-3"},"NPWP"),s?d.a.createElement("table",null,d.a.createElement("tr",null,d.a.createElement("td",{class:"labelNm"},"Nomor NPWP"),d.a.createElement("td",{class:"colon"},":"),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.npwp.npwpId","-")))):d.a.createElement("div",{class:"nomorNpwp"},Object(g.result)(this.state.dataList,"formJson1.npwp.notNpwp[0].name","-"),d.a.createElement("br",null),d.a.createElement("h5",null),d.a.createElement("b",null,"Keterangan :"),d.a.createElement("br",null),Object(g.result)(this.state.dataList,"formJson1.npwp.npwpReason[0].name","-")),d.a.createElement("br",null),d.a.createElement("h4",{className:"mb-3"}),d.a.createElement("h4",{className:"mb-3"},"Alamat Identitas"),d.a.createElement("table",null,d.a.createElement("tr",null,d.a.createElement("td",{class:"labelNm"},"Alamat"),d.a.createElement("td",{class:"colon"},":"),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson2.dukcapilInfo.postAddr.address","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"RT / RW "),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson2.dukcapilInfo.postAddr.rt","-")+" / "+Object(g.result)(this.state.dataList,"formJson2.dukcapilInfo.postAddr.rw","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Provinsi"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson2.dukcapilInfo.postAddr.province","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Kota"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson2.dukcapilInfo.postAddr.city","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Kelurahan "),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson2.dukcapilInfo.postAddr.kelurahan","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Kecamatan"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson2.dukcapilInfo.postAddr.kecamatan","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Kode Pos"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson2.dukcapilInfo.postAddr.postalCode","-")))),d.a.createElement("br",null),d.a.createElement("h4",{className:"mb-3"}),d.a.createElement("h4",{className:"mb-3"},"Alamat Tempat Tinggal Terkini"),a?d.a.createElement("div",null,d.a.createElement("table",null,d.a.createElement("tr",null,d.a.createElement("td",{class:"labelNm"},"Alamat"),d.a.createElement("td",{class:"colon"},":"),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson2.dukcapilInfo.postAddr.address","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"RT / RW"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson2.dukcapilInfo.postAddr.rt","-")+" / "+Object(g.result)(this.state.dataList,"formJson2.dukcapilInfo.postAddr.rw","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Provinsi"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson2.dukcapilInfo.postAddr.province","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Kota"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson2.dukcapilInfo.postAddr.city","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Kelurahan"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson2.dukcapilInfo.postAddr.kelurahan","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Kecamatan"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson2.dukcapilInfo.postAddr.kecamatan","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Kode Pos"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson2.dukcapilInfo.postAddr.postalCode","-"))))):d.a.createElement("div",null,d.a.createElement("table",null,d.a.createElement("tr",null,d.a.createElement("td",{class:"labelNm"},"Alamat"),d.a.createElement("td",{class:"colon"},":"),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataIdentity4.addressUD","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"RT / RW"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataIdentity4.addressRtUD","-")+" / "+Object(g.result)(this.state.dataList,"formJson1.dataIdentity4.addressRwUD","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Provinsi"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataIdentity4.addressProvinceUD[0].name","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Kota"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataIdentity4.addressCityUD[0].name","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Kelurahan"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataIdentity4.addressKelurahanUD[0].name","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Kecamatan"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataIdentity4.addressKecamatanUD[0].name","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Kode Pos"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataIdentity4.postalCodeUD[0].name","-"))))),d.a.createElement("br",null),d.a.createElement("h4",{className:"mb-3"}),d.a.createElement("h4",{className:"mb-3"},"Pinjaman Diajukan"),d.a.createElement("table",null,d.a.createElement("tr",null,d.a.createElement("td",{class:"labelNm"},"Jumlah Pinjaman"),d.a.createElement("td",{class:"colon"},":"),d.a.createElement("td",null,"Rp ",Object(g.result)(this.state.dataList,"formJson1.loanSubmitted.totalLoan","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Tujuan Pinjaman"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.loanSubmitted.loanPurpose[0].name","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Tenor"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.loanSubmitted.tenor[0].name","-")))),d.a.createElement("br",null),d.a.createElement("h4",{className:"mb-3"}),d.a.createElement("h4",{className:"mb-3"},"Informasi Pencairan Dana"),d.a.createElement("table",null,d.a.createElement("tr",null,d.a.createElement("td",{class:"labelNm"},"Nama"),d.a.createElement("td",{class:"colon"},":"),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.disbursementFunds.nameAccount","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Nomor Rekening"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.disbursementFunds.ownAccountBank","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Jenis Rekening"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.disbursementFunds.accountType[0].name","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Cabang"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.disbursementFunds.officeNameOfBank","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Kota"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.disbursementFunds.officeCityOfBank[0].name","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Alamat Billing"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.disbursementFunds.addressBilling[0].name","-")))),d.a.createElement("br",null),d.a.createElement("h4",{className:"mb-3"}),d.a.createElement("h4",{className:"mb-3"},"Asuransi Kesehatan"),d.a.createElement("table",null,d.a.createElement("tr",null,d.a.createElement("td",{class:"labelNm"},"Asuransi"),d.a.createElement("td",{class:"colon"},":"),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.healthStatement.insurance[0].name","-")))),d.a.createElement("br",null),d.a.createElement("h4",{className:"mb-3"}),d.a.createElement("h4",{className:"mb-3"},"Data Pekerjaan"),d.a.createElement("table",null,d.a.createElement("tr",null,d.a.createElement("td",{class:"labelNm"},"Pekerjaan"),d.a.createElement("td",{class:"colon"},":"),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataWork1.occupation[0].name","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Status Pekerjaan"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataWork1.statusOccupation[0].name","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Nama Perusahaan"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataWork1.industryName","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Bidang Perusahaan"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataWork1.industryType[0].name","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Jumlah Karyawan"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataWork1.totalEmployee[0].name","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Jabatan"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataWork1.jobPosition","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Departemen"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataWork1.department","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Lama Bekerja"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataWork1.workYear","-")+" Tahun "+Object(g.result)(this.state.dataList,"formJson1.dataWork1.workMonth","-")+" Bulan ")),d.a.createElement("tr",null,d.a.createElement("td",null,"Penghasilan Per Bulan"),d.a.createElement("td",null,": "),d.a.createElement("td",null,"Rp ",Object(g.result)(this.state.dataList,"formJson1.dataWork1.incomeRangeYear","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Penghasilan Tambahan Per Bulan"),d.a.createElement("td",null,": "),d.a.createElement("td",null,"Rp ",Object(g.result)(this.state.dataList,"formJson1.dataWork1.incomeRangeYearPlus","-")))),d.a.createElement("br",null),d.a.createElement("h4",{className:"mb-3"}),d.a.createElement("h4",{className:"mb-3"},"Alamat Kantor"),d.a.createElement("table",null,d.a.createElement("tr",null,d.a.createElement("td",{class:"labelNm"},"Alamat Kantor"),d.a.createElement("td",{class:"colon"},":"),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataWork2.addressCompany","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Kelurahan"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataWork2.addressKelurahanCompany[0].name","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Kecamatan"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataWork2.addressKecamatanCompany[0].name","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Kota"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataWork2.addressCityCompany[0].name","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Kode Pos"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataWork2.postalCodeCompany[0].name","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Provinsi"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataWork2.addressProvinceCompany[0].name","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Ext."),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataWork2.CompanyExtention","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Kode Area Telp"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataWork2.companyAreaCode","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Nomor Telepon"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataWork2.companyPhoneNumber","-")))),d.a.createElement("br",null),d.a.createElement("h4",{className:"mb-3"}),d.a.createElement("h4",{className:"mb-3"},"Data Pekerjaan Sebelumnya"),d.a.createElement("table",null,d.a.createElement("tr",null,d.a.createElement("td",{class:"labelNm"},"Nama Perusahaan"),d.a.createElement("td",{class:"colon"},":"),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataWorkBefore.industryName","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Lama Bekerja"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataWorkBefore.workYear","-")+" Tahun "+Object(g.result)(this.state.dataList,"formJson1.dataWorkBefore.workMonth","-")+" Bulan ")),d.a.createElement("tr",null,d.a.createElement("td",null,"Ext."),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataWorkBefore.companyExtentionBefore","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Kode Area"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataWorkBefore.companyAreaCodeBefore","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Nomor Telepon"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataWorkBefore.companyPhoneNumberBefore","-")))),d.a.createElement("br",null),d.a.createElement("h4",{className:"mb-3"}),d.a.createElement("h4",{className:"mb-3"},"Data Keluarga Tidak Serumah"),d.a.createElement("table",null,d.a.createElement("tr",null,d.a.createElement("td",{class:"labelNm"},"Nama"),d.a.createElement("td",{class:"colon"},":"),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataFamilyOtherContact.firstNameFOC","")+" "+Object(g.result)(this.state.dataList,"formJson1.dataFamilyOtherContact.middelNameFOC","")+" "+Object(g.result)(this.state.dataList,"formJson1.dataFamilyOtherContact.lastNameFOC",""))),d.a.createElement("tr",null,d.a.createElement("td",null,"No Ponsel"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataFamilyOtherContact.mobilePhoneFOC","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Kode Area"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataFamilyOtherContact.areaCodeFOC","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"No Telp Kantor"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataFamilyOtherContact.phoneNumberFOC","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Alamat"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataFamilyOtherAddress.addressFOA","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"RT / RW "),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataFamilyOtherAddress.addressRtFOA","-")+" / "+Object(g.result)(this.state.dataList,"formJson1.dataFamilyOtherAddress.addressRwFOA","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Kecamatan"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataFamilyOtherAddress.addressKecamatanFOA[0].name","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Kelurahan"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataFamilyOtherAddress.addressKelurahanFOA[0].name","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Kode Pos"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataFamilyOtherAddress.postalCodeFOA[0].name","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Kota"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataFamilyOtherAddress.addressCityFOA[0].name","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Provinsi"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataFamilyOtherAddress.addressProvinceFOA[0].name","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Hubungan"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataFamilyOtherContact.relationFOC[0].name","-"))))),d.a.createElement("div",{className:"col-6"},d.a.createElement("div",{id:"PhotoPad"},d.a.createElement(f.d,null,d.a.createElement(f.b,null,d.a.createElement(f.a,null,"eKTP & KCTT"),d.a.createElement(f.a,null,"NPWP"),d.a.createElement(f.a,null,"SIM/Kartu Keluarga"),d.a.createElement(f.a,null,"KKBL"),d.a.createElement(f.a,null,"Foto")),d.a.createElement(f.c,null,d.a.createElement("table",null,d.a.createElement("tr",null,d.a.createElement("th",{className:"tabStyle"},"eKTP"),d.a.createElement("th",{className:"tabStyle"},"KCTT")),d.a.createElement("tr",null,d.a.createElement("td",null,d.a.createElement("img",{src:Object(g.result)(this.state.dataList,"formJson1.dataIdentity.ktpImage",null),alt:"No Image Available",id:"img-size"})),d.a.createElement("td",null,d.a.createElement("img",{src:Object(g.result)(this.state.dataList,"formJson1.uploadDocument.declarationImage",null),alt:"No Image Available",id:"img-size"}))))),d.a.createElement(f.c,null,d.a.createElement("img",{src:Object(g.result)(this.state.dataList,"formJson1.npwp.npwpImage",null),alt:"No Image Available",id:"img-size"})),d.a.createElement(f.c,null,d.a.createElement("img",{src:Object(g.result)(this.state.dataList,"formJson1.uploadDocument.simOrKkImage",null),alt:"No Image Available",id:"img-size"})),d.a.createElement(f.c,null,d.a.createElement("img",{src:Object(g.result)(this.state.dataList,"formJson1.uploadDocument.payslipImage",null),alt:"No Image Available",id:"img-size"})),d.a.createElement(f.c,null,d.a.createElement("table",null,d.a.createElement("tr",null,d.a.createElement("th",{className:"tabStyle"},"Foto Selfie"),d.a.createElement("th",{className:"tabStyle"},"Foto Sales")),d.a.createElement("tr",null,d.a.createElement("td",null,d.a.createElement("img",{src:Object(g.result)(this.state.dataList,"formJson1.uploadDocument.customerImage",null),alt:"No Image Available",id:"img-size"})),d.a.createElement("td",null,d.a.createElement("img",{src:o,alt:"No Image Available",id:"img-size"}))))))),this.state.showApproveRejectButton?d.a.createElement("div",{id:"TogglePad",style:{marginTop:100}},d.a.createElement("br",null),d.a.createElement("table",null,d.a.createElement("tr",null,d.a.createElement("td",null,d.a.createElement("label",{class:"switch"},d.a.createElement("input",{type:"checkbox",value:1,onChange:this.onChange.bind(this)}),d.a.createElement("span",{class:"slider round"})),"\xa0\xa0\xa0\xa01. Foto KTP Jelas"),d.a.createElement("td",null,"\xa0\xa0"),d.a.createElement("td",null,"\xa0\xa0"),d.a.createElement("td",null,d.a.createElement("label",{class:"switch"},d.a.createElement("input",{type:"checkbox",value:4,onChange:this.onChange.bind(this)}),d.a.createElement("span",{class:"slider round"})),"\xa0\xa0\xa0\xa04. KKBL")),d.a.createElement("tr",null,d.a.createElement("br",null)),d.a.createElement("tr",null,d.a.createElement("td",null,d.a.createElement("label",{class:"switch"},d.a.createElement("input",{type:"checkbox",value:2,onChange:this.onChange.bind(this)}),d.a.createElement("span",{class:"slider round"})),"\xa0\xa0\xa0\xa02. Foto NPWP Jelas"),d.a.createElement("td",null,"\xa0\xa0"),d.a.createElement("td",null,"\xa0\xa0"),d.a.createElement("td",null,d.a.createElement("label",{class:"switch"},d.a.createElement("input",{type:"checkbox",value:5,onChange:this.onChange.bind(this)}),d.a.createElement("span",{class:"slider round"})),"\xa0\xa0\xa0\xa05. Data Pinjaman")),d.a.createElement("tr",null,d.a.createElement("br",null)),d.a.createElement("tr",null,d.a.createElement("td",null,d.a.createElement("label",{class:"switch"},d.a.createElement("input",{type:"checkbox",value:3,onChange:this.onChange.bind(this)}),d.a.createElement("span",{class:"slider round"})),"\xa0\xa0\xa0\xa03. KYC Online"),d.a.createElement("td",null,"\xa0\xa0"),d.a.createElement("td",null,"\xa0\xa0"),d.a.createElement("td",null,d.a.createElement("label",{class:"switch"},d.a.createElement("input",{type:"checkbox",value:6,onChange:this.onChange.bind(this)}),d.a.createElement("span",{class:"slider round"})),"\xa0\xa0\xa0\xa06. Data Pribadi"))),d.a.createElement("div",{class:"container"},d.a.createElement("h2",null),d.a.createElement("p",null),d.a.createElement("form",{action:"/action_page.php"},d.a.createElement("div",{class:"form-group"},d.a.createElement("label",{for:"comment"},"Catatan :"),d.a.createElement("textarea",{class:"form-control",rows:"4",onChange:this.remarkChangeHandler}))),d.a.createElement("div",{id:"OnboardReviewDetail"},d.a.createElement("div",{id:"buttonApproval"},d.a.createElement("button",{type:"Button",className:"reset-btn btn btn-secondary btn-sm",alt:"Verifikasi",value:"Verifikasi",disabled:this.state.disableButton,onClick:function(){return e.approveData("approveBOCCPL")}},"Verifikasi"),"\xa0\xa0",d.a.createElement("button",{type:"Button",className:"reset-btn btn btn-secondary btn-sm",alt:"Reject",value:"Reject",onClick:function(){return e.reject("rejectBOCCPL")}},"Reject"),"\xa0\xa0",d.a.createElement("button",{type:"Button",className:"reset-btn btn btn-secondary btn-sm",alt:"Cancel",value:"Cancel",onClick:function(){return e.Cancel()}},"Cancel"))))):d.a.createElement("div",{style:{marginTop:200}},d.a.createElement("table",null,d.a.createElement("tr",null,d.a.createElement("td",{class:"labelNm2"},"Status"),d.a.createElement("td",{class:"colon"},":"),d.a.createElement("td",null,this.state.appStatus)),d.a.createElement("tr",null,d.a.createElement("td",{class:"labelNm2"},"Catatan"),d.a.createElement("td",null,":"),d.a.createElement("td",null,this.state.mainDataList.statusDescAccountOpening))),d.a.createElement("br",null),d.a.createElement("br",null),d.a.createElement("br",null),d.a.createElement("table",null,d.a.createElement("tr",null,d.a.createElement("td",null,d.a.createElement("label",{class:"switch"},this.state.isChecked7?d.a.createElement("input",{type:"checkbox",readOnly:!0,value:7,checked:!0}):d.a.createElement("input",{type:"checkbox",value:7,onChange:this.onChange2.bind(this)}),d.a.createElement("span",{class:"slider round"})),"\xa0\xa0\xa0\xa0Dokumen Fisik Form Deklarasi SFT")),d.a.createElement("tr",null,d.a.createElement("td",null,"\xa0\xa0")),d.a.createElement("tr",null,d.a.createElement("td",null,"\xa0\xa0")),this.state.showUpdateButton?d.a.createElement("tr",null,d.a.createElement("td",null,d.a.createElement("button",{type:"Button",className:"reset-btn btn btn-secondary btn-sm",alt:"Update",value:"Update",disabled:this.state.disableDocButton,onClick:this.updateToggle.bind(this)},"Update")),d.a.createElement("td",null,d.a.createElement("button",{type:"Button",className:"reset-btn btn btn-secondary btn-sm",alt:"Cancel",value:"Cancel",onClick:function(){return e.Cancel()}},"Back"))):d.a.createElement("tr",null,d.a.createElement("td",null,d.a.createElement("button",{type:"Button",className:"reset-btn btn btn-secondary btn-sm",alt:"Cancel",value:"Cancel",onClick:function(){return e.Cancel()}},"Back")))))))))}}]),a}(u.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return y}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(45),p=a(8),h=(a(16),a(665),a(18)),f=a(62),g=(a(666),a(14)),v=a(71),b=a.n(v),y=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).remarkChangeHandler=function(t){e.setState({remarks:t.target.value})},e.state={list:[],token:localStorage.getItem("accessToken"),status:"",loading:!0,flag:"",dataList:[],mainDataList:[],refNum:"",options:[],disableButton:!0,remarks:"",showApproveRejectButton:!1,userNip:"",dataList2:[],emailSales:"",emailTeamLead:"",customerName:"",boDecisionDate:"",appStatus:"",options2:[],isChecked7:!1,isChecked8:!1,showUpdateButton:!1,disableDocButton:!1},window.scrollTo(0,0),e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.getDataSummary(),this.setState({mainDataList:this.props.location.state.data}),"COMPLETE_CCPL"===this.props.location.state.data.status&&this.setState({showApproveRejectButton:!0}),this.state.userNip=localStorage.getItem("userNip")}},{key:"getDataSummary",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new m.a,!0,e.next=4,t.getDetailData(this.state.token,this.props.location.state.data);case 4:(a=e.sent)&&200===a.status&&a.data&&a.data.success?(this.setState({dataList:a.data.data.data[0]}),this.setState({dataList2:a.data.data}),this.setState({loading:!1}),Object(g.isEmpty)(this.state.mainDataList.rejectSatus)||((n=this.state.mainDataList.rejectSatus).includes("7")&&this.setState({isChecked7:!0}),n.includes("8")&&this.setState({isChecked8:!0}),this.state.isChecked7&&this.state.isChecked8&&this.setState({disableDocButton:!0}))):(a&&a.data&&p.a===a.data.data?!1:this.setState({dataList:[]}),this.setState({loading:!1})),this.setState({emailTeamLead:this.state.dataList2.teamLeadEmail}),this.setState({emailSales:this.state.mainDataList.user.email}),this.setState({customerName:this.state.mainDataList.nama}),this.setState({boDecisionDate:this.state.mainDataList.backOfficeSubmitDate}),"APPROVE_BO_CCPL"===this.state.mainDataList.status&&(this.setState({appStatus:"Approve BO"}),this.setState({showUpdateButton:!0})),"REJECT_BO_CCPL"===this.state.mainDataList.status&&(this.setState({appStatus:"Reject BO"}),this.setState({showUpdateButton:!0})),"APPROVE_RCS"===this.state.mainDataList.status&&this.setState({appStatus:"Approve RCS"}),"REJECT_RCS"===this.state.mainDataList.status&&this.setState({appStatus:"Reject RCS"}),"CANCEL_RCS"===this.state.mainDataList.status&&this.setState({appStatus:"Cancel RCS"});case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"approveData",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Verify This Data ?")){e.next=15;break}if(this.setState({loading:!0}),window.scrollTo(0,0),!Object(g.isEmpty)(this.state.remarks)){e.next=8;break}alert("Catatan tidak boleh kosong!"),this.setState({loading:!1}),e.next=13;break;case 8:return a=new m.a,e.next=11,a.doApproveCCPL(this.state,t,"Kartu Kredit");case 11:(n=e.sent)&&200===n.status&&n.data&&n.data.success?(alert("Application has been approved!"),this.setState({loading:!1}),this.props.history.push("onboard-review-cc-list")):(n&&n.data&&p.a===n.data.data||(alert("error, unable to approve application!"),this.props.history.push("onboard-review-cc-list")),this.setState({loading:!1}));case 13:e.next=16;break;case 15:this.setState({loading:!1});case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reject",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Reject This Data ?")){e.next=15;break}if(this.setState({loading:!0}),window.scrollTo(0,0),!Object(g.isEmpty)(this.state.remarks)){e.next=8;break}alert("Catatan tidak boleh kosong!"),this.setState({loading:!1}),e.next=13;break;case 8:return a=new m.a,e.next=11,a.doRejectCCPL(this.state,t,"Kartu Kredit");case 11:(n=e.sent)&&200===n.status&&n.data&&n.data.success?(alert("Application has been rejected!"),this.setState({loading:!1}),this.props.history.push("onboard-review-cc-list")):(n&&n.data&&p.a===n.data.data||(alert("error, unable to reject application!"),this.props.history.push("onboard-review-cc-list")),this.setState({loading:!1}));case 13:e.next=16;break;case 15:this.setState({loading:!1});case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Cancel",value:function(){this.props.history.push("onboard-review-cc-list")}},{key:"onChange",value:function(e){var t,a=this.state.options;4!=e.target.value&&2!=e.target.value&&(e.target.checked?a.push(+e.target.value):(t=a.indexOf(+e.target.value),a.splice(t,1))),a.sort(),this.setState({options:a}),4==a.length?this.setState({disableButton:!1}):this.setState({disableButton:!0})}},{key:"onChange2",value:function(e){var t,a=this.state.options2;e.target.checked?a.push(+e.target.value):(t=a.indexOf(+e.target.value),a.splice(t,1)),a.sort(),this.setState({options2:a})}},{key:"updateToggle",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(g.isEmpty)(this.state.options2)){e.next=4;break}alert("Toggle Dokumen Fisik is mandatory!"),e.next=12;break;case 4:if(!window.confirm("Update Dokumen Fisik?")){e.next=12;break}return t=new m.a,e.next=8,t.updateToggle(this.state);case 8:(a=e.sent)&&200===a.status&&a.data&&a.data.success?(alert("Dokumen fisik berhasil update"),window.scrollTo(0,0),(n=a.data.data.objectOnboarding.rejectSatus).includes("7")&&this.setState({isChecked7:!0}),n.includes("8")&&this.setState({isChecked8:!0}),this.state.isChecked7&&this.state.isChecked8&&this.setState({disableDocButton:!0})):a&&a.data&&p.a===a.data.data||(alert("error, Dokumen fisik gagal update"),window.scrollTo(0,0)),e.next=12;break;case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;console.log("this.state.mainDataList: "+JSON.stringify(this.state.mainDataList)),console.log("this.state.dataList: "+JSON.stringify(this.state.dataList)),console.log("this.state.dataList2: "+JSON.stringify(this.state.dataList2)),console.log("this.state.formJson1: "+JSON.stringify(this.state.dataList.formJson1)),console.log("this.state.formJson2: "+JSON.stringify(this.state.dataList.formJson2));var t=!0,a=!1,n="B0",s="-",r="-",l="Ya",i=!1,o=!1;Object(g.isEmpty)(this.state.dataList)&&(t=!1),t&&("true"===this.state.dataList.formJson2.isExistingCustomer&&!0,Object(g.isEmpty)(this.state.dataList.formJson1.npwp.notNpwp)&&(a=!0),"4"===this.state.mainDataList.salesChannel.code&&(n="C0"),r=Object(g.isEmpty)(this.state.mainDataList.eventId)?"000":this.state.mainDataList.eventId,s=Object(g.isEmpty)(this.state.mainDataList.mrCode)?"-":this.state.mainDataList.mrCode,Object(g.isEmpty)(this.state.dataList.formJson1.automaticPaymentFacility3.checkedSaveCC)&&(l="Tidak"),this.state.dataList.formJson1.automaticPaymentFacility2.marketingCall&&"setuju"===this.state.dataList.formJson1.automaticPaymentFacility2.marketingCall[0].code&&(i=!0),o=this.state.dataList.formJson1.dataIdentity.flagProductBundling);var c=(new m.a).doGetUserPhoto(this.state.mainDataList.user.sales_code),u="https://maps.google.com?q="+this.state.mainDataList.latitude+","+this.state.mainDataList.longitude;return d.a.createElement("div",{id:"OnboardReviewDetail"},d.a.createElement("h3",{className:"row mb-4"},"Review Credit Card - Detail"),d.a.createElement("div",{id:"profile",className:"box-area"},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-6"},d.a.createElement("table",null,d.a.createElement("tr",null,d.a.createElement("td",{class:"labelNm"},"No. Ref"),d.a.createElement("td",{class:"colon"},":"),d.a.createElement("td",null,this.state.mainDataList.referenceNumber)),d.a.createElement("tr",null,d.a.createElement("td",null,"Nama Customer"),d.a.createElement("td",null,": "),d.a.createElement("td",null,this.state.mainDataList.nama)),d.a.createElement("tr",null,d.a.createElement("td",null,"Tanggal Lahir"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataIdentity.dateOfBirth","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Cabang"),d.a.createElement("td",null,": "),d.a.createElement("td",null,this.state.mainDataList.branchCcpl.code," ",this.state.mainDataList.branchCcpl.name)),d.a.createElement("tr",null,d.a.createElement("td",null,"Channel Code"),d.a.createElement("td",null,": "),d.a.createElement("td",null,n)),d.a.createElement("tr",null,d.a.createElement("td",null,"Marketing Code"),d.a.createElement("td",null,": "),d.a.createElement("td",null,s)),d.a.createElement("tr",null,d.a.createElement("td",null,"Card Program"),d.a.createElement("td",null,": "),d.a.createElement("td",null," ",o?this.state.dataList.formJson1.product.code:"0000")),d.a.createElement("tr",null,d.a.createElement("td",null,"Campaign Code"),d.a.createElement("td",null,": "),d.a.createElement("td",null,r)))),d.a.createElement("div",{className:"col-6"},d.a.createElement("table",null,d.a.createElement("tr",null,d.a.createElement("td",{class:"labelNm"},"Nama Produk"),d.a.createElement("td",{class:"colon"},":"),d.a.createElement("td",null,o?this.state.dataList.formJson1.product.product1.name+", "+this.state.dataList.formJson1.product.product2.name:this.state.dataList2.rcsProductCd+" - "+this.state.mainDataList.product.name)),d.a.createElement("tr",null,d.a.createElement("td",null,"Sales Code 1"),d.a.createElement("td",null,": "),d.a.createElement("td",null,this.state.mainDataList.user.sales_code," - ",this.state.mainDataList.user.name)),d.a.createElement("tr",null,d.a.createElement("td",null,"Sales Code 2"),d.a.createElement("td",null,": "),d.a.createElement("td",null,this.state.dataList2.sales2Cd," - ",this.state.dataList2.sales2Name)),d.a.createElement("tr",null,d.a.createElement("td",null,"Nama Team Leader"),d.a.createElement("td",null,": "),d.a.createElement("td",null,this.state.dataList2.teamLeadName)),d.a.createElement("tr",null,d.a.createElement("td",null,"Tanggal Submit"),d.a.createElement("td",null,": "),d.a.createElement("td",null,d.a.createElement(b.a,{format:"YYYY-DD-MM HH:mm:ss"},this.state.mainDataList.submitDataSuccessAt))),d.a.createElement("tr",null,d.a.createElement("td",null,"Lokasi"),d.a.createElement("td",null,": "),d.a.createElement("td",null,d.a.createElement("a",{href:u,target:"_blank"},"Lihat Lokasi"))))))),this.state.loading?d.a.createElement(h.a,null):d.a.createElement("div",{id:"profile",className:"box-area2"},d.a.createElement("div",{className:"row"},d.a.createElement("div",{id:"profile2",className:"col-6"},d.a.createElement("h4",{className:"mb-3"},"Data Pribadi"),d.a.createElement("table",null,d.a.createElement("tr",null,d.a.createElement("td",{class:"labelNm"},"Nama Customer"),d.a.createElement("td",{class:"colon"},":"),d.a.createElement("td",null,this.state.mainDataList.nama)),d.a.createElement("tr",null,d.a.createElement("td",null,"NIK"),d.a.createElement("td",null,": "),d.a.createElement("td",null,this.state.mainDataList.nik)),d.a.createElement("tr",null,d.a.createElement("td",null,"Negara Tempat Lahir"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataIdentity.country[0].name","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Tempat Lahir"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataIdentity.placeOfBirth","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Tanggal Lahir"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataIdentity.dateOfBirth","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Tanggal Cetak KTP"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataIdentity2.ktpPrintDate","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Agama"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataIdentity2.religion[0].name","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Jenis Kelamin"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson2.dukcapilInfo.gender","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Status Perkawinan"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataIdentity.maritalStatus[0].label","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Status Pendidikan"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataIdentity.education[0].label","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Nama Ibu Kandung"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataIdentity2.mothersMaiden","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Jumlah Tanggungan"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataIdentity2.numberDependents","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Status Rumah"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataIdentity2.homeStatus[0].name","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Lama Tinggal"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataIdentity2.stayYear","-")+" Tahun "+Object(g.result)(this.state.dataList,"formJson1.dataIdentity2.stayMonth","-")+" Bulan")),d.a.createElement("tr",null,d.a.createElement("td",null,"Nomor Ponsel"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataIdentity2.mobilePhone","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Kode Area Telp"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataIdentity2.areaCode","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Nomor Telp Rumah"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataIdentity2.phoneNumber","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Nama yang Dikehendaki di Kartu"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataIdentity2.nameInCard","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Email"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataIdentity2.email","-")))),d.a.createElement("br",null),d.a.createElement("h4",{className:"mb-3"}),d.a.createElement("h4",{className:"mb-3"},"NPWP"),a?d.a.createElement("table",null,d.a.createElement("tr",null,d.a.createElement("td",{class:"labelNm"},"Nomor NPWP"),d.a.createElement("td",{class:"colon"},":"),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.npwp.npwpId","-")))):d.a.createElement("div",{class:"nomorNpwp"},Object(g.result)(this.state.dataList,"formJson1.npwp.notNpwp[0].name","-"),d.a.createElement("br",null),d.a.createElement("h5",null),d.a.createElement("b",null,"Keterangan :"),d.a.createElement("br",null),Object(g.result)(this.state.dataList,"formJson1.npwp.npwpReason[0].name","-")),d.a.createElement("br",null),d.a.createElement("h4",{className:"mb-3"}),d.a.createElement("h4",{className:"mb-3"},"Alamat Terkini"),d.a.createElement("table",null,d.a.createElement("tr",null,d.a.createElement("td",{class:"labelNm"},"Alamat"),d.a.createElement("td",{class:"colon"},":"),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataIdentity4.addressUD","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"RT / RW"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataIdentity4.addressRtUD","-")+" / "+Object(g.result)(this.state.dataList,"formJson1.dataIdentity4.addressRwUD","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Provinsi"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataIdentity4.addressProvinceUD[0].name","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Kota"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataIdentity4.addressCityUD[0].name","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Kelurahan"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataIdentity4.addressKelurahanUD","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Kecamatan"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataIdentity4.addressKecamatanUD","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Kode Pos"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataIdentity4.postalCodeUD[0].name","-")))),d.a.createElement("br",null),d.a.createElement("h4",{className:"mb-3"}),d.a.createElement("h4",{className:"mb-3"},"Fasilitas Kartu Kredit Bank Lain"),d.a.createElement("table",null,d.a.createElement("tr",null,d.a.createElement("td",{class:"labelNm"},"No. Rekening CIMB"),d.a.createElement("td",{class:"colon"},":"),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.ownBank.ownAccountBank","-")))),d.a.createElement("h5",null),d.a.createElement("h5",null,"Bank 1"),d.a.createElement("table",null,d.a.createElement("tr",null,d.a.createElement("td",{class:"labelNm"},"Nama Bank"),d.a.createElement("td",{class:"colon"},":"),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.otherBank1.BankName1[0].name","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Nomor Kartu"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.otherBank1.creditCardNumber1","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Limit"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.otherBank1.limit1","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Keanggotaan Sejak"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.otherBank1.dateOfMember1","-")))),d.a.createElement("h5",null),d.a.createElement("h5",null,"Bank 2"),d.a.createElement("table",null,d.a.createElement("tr",null,d.a.createElement("td",{class:"labelNm"},"Nama Bank"),d.a.createElement("td",{class:"colon"},":"),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.otherBank2.BankName2[0].name","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Nomor Kartu"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.otherBank2.creditCardNumber2","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Limit"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.otherBank2.limit2","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Keanggotaan Sejak"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.otherBank2.dateOfMember2","-")))),d.a.createElement("br",null),d.a.createElement("h4",{className:"mb-3"}),d.a.createElement("h4",{className:"mb-3"},"Data Pekerjaan"),d.a.createElement("table",null,d.a.createElement("tr",null,d.a.createElement("td",{class:"labelNm"},"Pekerjaan"),d.a.createElement("td",{class:"colon"},":"),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataWork1.occupation[0].name","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Status Pekerjaan"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataWork1.statusOccupation[0].name","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Nama Perusahaan"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataWork1.industryName","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Bidang Perusahaan"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataWork1.industryType[0].name","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Jabatan"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataWork1.jobPosition[0].name","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Departemen/Bagian"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataWork1.department","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Lama Bekerja"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataWork1.workYear","-")+" Tahun "+Object(g.result)(this.state.dataList,"formJson1.dataWork1.workMonth","-")+" Bulan")),d.a.createElement("tr",null,d.a.createElement("td",null,"Penghasilan Per Tahun"),d.a.createElement("td",null,": "),d.a.createElement("td",null,"Rp ",Object(g.result)(this.state.dataList,"formJson1.dataWork1.incomeRangeYear","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Penghasilan Tambahan Per Tahun"),d.a.createElement("td",null,": "),d.a.createElement("td",null,"Rp ",Object(g.result)(this.state.dataList,"formJson1.dataWork1.incomeRangeYearPlus","-")))),d.a.createElement("br",null),d.a.createElement("h4",{className:"mb-3"}),d.a.createElement("h4",{className:"mb-3"},"Alamat Kantor"),d.a.createElement("table",null,d.a.createElement("tr",null,d.a.createElement("td",{class:"labelNm"},"Alamat Kantor"),d.a.createElement("td",{class:"colon"},":"),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataWork2.addressCompany","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Kota"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataWork2.addressCityCompany[0].name","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Kode Pos"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataWork2.postalCodeCompany[0].name","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Ext."),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataWork2.CompanyExtention","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Kode Area"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataWork2.companyAreaCode","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Nomor Telepon"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataWork2.companyPhoneNumber","-")))),d.a.createElement("br",null),d.a.createElement("h4",{className:"mb-3"}),d.a.createElement("h4",{className:"mb-3"},"Data Pekerjaan Sebelumnya"),d.a.createElement("table",null,d.a.createElement("tr",null,d.a.createElement("td",{class:"labelNm"},"Nama Perusahaan"),d.a.createElement("td",{class:"colon"},":"),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataWorkBefore.industryName","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Lama Bekerja"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataWorkBefore.workYear","-")+" Tahun "+Object(g.result)(this.state.dataList,"formJson1.dataWorkBefore.workMonth","-")+" Bulan")),d.a.createElement("tr",null,d.a.createElement("td",null,"Ext."),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataWorkBefore.companyExtentionBefore","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Kode Area Kantor"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataWorkBefore.companyAreaCodeBefore","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"No Telp Kantor"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.dataWorkBefore.companyPhoneNumberBefore","-")))),d.a.createElement("br",null),d.a.createElement("h4",{className:"mb-3"}),d.a.createElement("h4",{className:"mb-3"},"Kontak Darurat"),d.a.createElement("table",null,d.a.createElement("tr",null,d.a.createElement("td",{class:"labelNm"},"Nama"),d.a.createElement("td",{class:"colon"},":"),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.emergencyContact.firstName","")+" "+Object(g.result)(this.state.dataList,"formJson1.emergencyContact.middelName","")+" "+Object(g.result)(this.state.dataList,"formJson1.emergencyContact.lastName",""))),d.a.createElement("tr",null,d.a.createElement("td",null,"Kode Area Telp."),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.emergencyContact.areaCodeEC","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Nomor Telp."),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.emergencyContact.phoneNumberEC","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Nomor Telp Ponsel"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.emergencyContact.mobilePhoneEC","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Kode Area Telp Kantor"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.emergencyContact.companyAreaCodeEC","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Nomor Telp Kantor"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.emergencyContact.companyPhoneNumberEC","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Ext."),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.emergencyContact.extentionEC","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Hubungan")," ",d.a.createElement("td",null,": ")," ",d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.emergencyContact.relationEC[0].name","-")))),d.a.createElement("br",null),d.a.createElement("h4",{className:"mb-3"}),d.a.createElement("h4",{className:"mb-3"},"Kartu Tambahan"),d.a.createElement("table",null,d.a.createElement("tr",null,d.a.createElement("td",{class:"labelNm"},"Nama Lengkap"),d.a.createElement("td",{class:"colon"},":"),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.additionalCard.fullName","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Nomor Identitas"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.additionalCard.ktpId","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Tanggal Cetak KTP"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.additionalCard.ktpExpired","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Negara Tempat Lahir"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.additionalCard.country[0].name","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Tempat Lahir"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.additionalCard.placeOfBirth[0].name","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Tanggal Lahir"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.additionalCard.dateOfBirth","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Negara Tempat Lahir"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.additionalCard.country[0].name","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Jenis Kelamin"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.additionalCard.gender[0].name","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Agama"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.additionalCard.religionAC[0].name","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Nama dalam Kartu"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.additionalCard.cardName","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Nama Ibu Kandung"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.additionalCard.mothersMaiden","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Hubungan"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.additionalCard.relationship[0].name","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Nomor Ponsel"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.additionalCard.mobilePhone","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Kode Area Telp Rumah"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.additionalCard.homeAreaCode","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Nomor Telp Rumah"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.additionalCard.homePhoneNumber","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Kode Area Telp Kantor"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.additionalCard.companyAreaCode","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Nomor Telp Kantor"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.additionalCard.companyPhoneNumber","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Ext."),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.additionalCard.extention","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Email"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.additionalCard.email","-")))),d.a.createElement("br",null),d.a.createElement("h4",{className:"mb-3"}),d.a.createElement("h4",{className:"mb-3"},"Fasilitas Pembayaran Otomatis"),d.a.createElement("table",null,d.a.createElement("tr",null,d.a.createElement("td",{class:"labelNm"},"Nomor Rekening CIMB"),d.a.createElement("td",{class:"colon"},":"),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.automaticPaymentFacility1.accountNumber","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Otopay ?"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.automaticPaymentFacility1.agreement[0].name","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Sebesar"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.automaticPaymentFacility1.minimumPay[0].name","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Alamat Pengiriman Kartu"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.automaticPaymentFacility2.addressCard[0].name","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Alamat Penagihan"),d.a.createElement("td",null,": "),d.a.createElement("td",null,Object(g.result)(this.state.dataList,"formJson1.automaticPaymentFacility2.addressBilling[0].name","-"))),d.a.createElement("tr",null,d.a.createElement("td",null,"Perlindungan Kredit")," ",d.a.createElement("td",null,": ")," ",d.a.createElement("td",null,l))),d.a.createElement("br",null),d.a.createElement("h4",{className:"mb-3"}),i?d.a.createElement("b",null,"Nasabah Setuju"):d.a.createElement("b",null,"Nasabah Tidak Setuju"),d.a.createElement("br",null),"Untuk dihubungi untuk keperluan marketing dan memberikan persetujuan limit dan tipe kartu kredit sesuai analisa Bank."),d.a.createElement("div",{className:"col-6"},d.a.createElement("div",{id:"PhotoPad"},d.a.createElement(f.d,null,d.a.createElement(f.b,null,d.a.createElement(f.a,null,"eKTP & KCTT"),d.a.createElement(f.a,null,"NPWP"),d.a.createElement(f.a,null,"Income"),d.a.createElement(f.a,null,"eKTP Kartu Tambahan"),d.a.createElement(f.a,null,"SIM/Kartu Keluarga"),d.a.createElement(f.a,null,"Foto")),d.a.createElement(f.c,null,d.a.createElement("table",null,d.a.createElement("tr",null,d.a.createElement("th",{className:"tabStyle"},"eKTP"),d.a.createElement("th",{className:"tabStyle"},"KCTT")),d.a.createElement("tr",null,d.a.createElement("td",null,d.a.createElement("img",{src:Object(g.result)(this.state.dataList,"formJson1.dataIdentity.ktpImage",null),alt:"No Image Available",id:"img-size"})),d.a.createElement("td",null,d.a.createElement("img",{src:Object(g.result)(this.state.dataList,"formJson1.uploadDocument.declarationImage",null),alt:"No Image Available",id:"img-size"}))))),d.a.createElement(f.c,null,d.a.createElement("img",{src:Object(g.result)(this.state.dataList,"formJson1.npwp.npwpImage",null),alt:"No Image Available",id:"img-size"})),d.a.createElement(f.c,null,d.a.createElement("img",{src:Object(g.result)(this.state.dataList,"formJson1.uploadDocument.payslipImage",null),alt:"No Image Available",id:"img-size"})),d.a.createElement(f.c,null,d.a.createElement("img",{src:Object(g.result)(this.state.dataList,"formJson1.additionalCard.ktpACImage",null),alt:"No Image Available",id:"img-size"})),d.a.createElement(f.c,null,d.a.createElement("img",{src:Object(g.result)(this.state.dataList,"formJson1.uploadDocument.simOrKkImage",null),alt:"No Image Available",id:"img-size"})),d.a.createElement(f.c,null,d.a.createElement("table",null,d.a.createElement("tr",null,d.a.createElement("th",{className:"tabStyle"},"Foto Selfie"),d.a.createElement("th",{className:"tabStyle"},"Foto Sales")),d.a.createElement("tr",null,d.a.createElement("td",null,d.a.createElement("img",{src:Object(g.result)(this.state.dataList,"formJson1.uploadDocument.customerImage",null),alt:"No Image Available",id:"img-size"})),d.a.createElement("td",null,d.a.createElement("img",{src:c,alt:"No Image Available",id:"img-size"}))))))),this.state.showApproveRejectButton?d.a.createElement("div",{id:"TogglePad",style:{marginTop:100}},d.a.createElement("br",null),d.a.createElement("table",null,d.a.createElement("tbody",null,d.a.createElement("tr",null,d.a.createElement("td",null,d.a.createElement("label",{className:"switch"},d.a.createElement("input",{type:"checkbox",value:1,onChange:this.onChange.bind(this)}),d.a.createElement("span",{className:"slider round"})),"\xa0\xa0\xa0\xa01. Foto KTP Jelas"),d.a.createElement("td",null,"\xa0\xa0"),d.a.createElement("td",null,"\xa0\xa0"),d.a.createElement("td",null,d.a.createElement("label",{className:"switch"},d.a.createElement("input",{type:"checkbox",value:4,onChange:this.onChange.bind(this)}),d.a.createElement("span",{className:"slider round"})),"\xa0\xa0\xa0\xa04. KKBL (Tidak Mandatory)")),d.a.createElement("tr",null,d.a.createElement("td",null,d.a.createElement("br",null))),d.a.createElement("tr",null,d.a.createElement("td",null,d.a.createElement("label",{className:"switch"},d.a.createElement("input",{type:"checkbox",value:2,onChange:this.onChange.bind(this)}),d.a.createElement("span",{className:"slider round"})),"\xa0\xa0\xa0\xa02. Foto NPWP Jelas"),d.a.createElement("td",null,"\xa0\xa0"),d.a.createElement("td",null,"\xa0\xa0"),d.a.createElement("td",null,d.a.createElement("label",{className:"switch"},d.a.createElement("input",{type:"checkbox",value:5,onChange:this.onChange.bind(this)}),d.a.createElement("span",{className:"slider round"})),"\xa0\xa0\xa0\xa05. Service Product Kartu Kredit")),d.a.createElement("tr",null,d.a.createElement("td",null,d.a.createElement("br",null))),d.a.createElement("tr",null,d.a.createElement("td",null,d.a.createElement("label",{className:"switch"},d.a.createElement("input",{type:"checkbox",value:3,onChange:this.onChange.bind(this)}),d.a.createElement("span",{className:"slider round"})),"\xa0\xa0\xa0\xa03. Income Document"),d.a.createElement("td",null,"\xa0\xa0"),d.a.createElement("td",null,"\xa0\xa0"),d.a.createElement("td",null,d.a.createElement("label",{className:"switch"},d.a.createElement("input",{type:"checkbox",value:6,onChange:this.onChange.bind(this)}),d.a.createElement("span",{className:"slider round"})),"\xa0\xa0\xa0\xa06. Data Pribadi")))),d.a.createElement("div",{className:"container"},d.a.createElement("h2",null),d.a.createElement("p",null),d.a.createElement("form",{action:"/action_page.php"},d.a.createElement("div",{className:"form-group"},d.a.createElement("label",{htmlFor:"comment"},"Catatan :"),d.a.createElement("textarea",{className:"form-control",rows:"4",onChange:this.remarkChangeHandler}))),d.a.createElement("div",{id:"OnboardReviewDetail"},d.a.createElement("div",{id:"buttonApproval"},d.a.createElement("button",{type:"Button",className:"reset-btn btn btn-secondary btn-sm",alt:"Verifikasi",value:"Verifikasi",disabled:this.state.disableButton,onClick:function(){return e.approveData("approveBOCCPL")}},"Verifikasi"),"\xa0\xa0",d.a.createElement("button",{type:"Button",className:"reset-btn btn btn-secondary btn-sm",alt:"Reject",value:"Reject",onClick:function(){return e.reject("rejectBOCCPL")}},"Reject"),"\xa0\xa0",d.a.createElement("button",{type:"Button",className:"reset-btn btn btn-secondary btn-sm",alt:"Cancel",value:"Cancel",onClick:function(){return e.Cancel()}},"Cancel"))))):d.a.createElement("div",{style:{marginTop:200}},d.a.createElement("table",null,d.a.createElement("tr",null,d.a.createElement("td",{class:"labelNm2"},"Status"),d.a.createElement("td",{class:"colon"},":"),d.a.createElement("td",null,this.state.appStatus)),d.a.createElement("tr",null,d.a.createElement("td",{class:"labelNm2"},"Catatan"),d.a.createElement("td",null,":"),d.a.createElement("td",null,this.state.mainDataList.statusDescAccountOpening))),d.a.createElement("br",null),d.a.createElement("br",null),d.a.createElement("br",null),d.a.createElement("table",null,d.a.createElement("tr",null,d.a.createElement("td",null,d.a.createElement("label",{class:"switch"},this.state.isChecked7?d.a.createElement("input",{type:"checkbox",readOnly:!0,value:7,checked:!0}):d.a.createElement("input",{type:"checkbox",value:7,onChange:this.onChange2.bind(this)}),d.a.createElement("span",{class:"slider round"})),"\xa0\xa0\xa0\xa0Dokumen Fisik Form Deklarasi SFT")),d.a.createElement("tr",null,d.a.createElement("td",null,"\xa0\xa0")),d.a.createElement("tr",null,d.a.createElement("td",null,d.a.createElement("label",{class:"switch"},this.state.isChecked8?d.a.createElement("input",{type:"checkbox",readOnly:!0,value:8,checked:!0}):d.a.createElement("input",{type:"checkbox",value:8,onChange:this.onChange2.bind(this)}),d.a.createElement("span",{class:"slider round"})),"\xa0\xa0\xa0\xa0Dokumen Fisik Income Document")),d.a.createElement("tr",null,d.a.createElement("td",null,"\xa0\xa0")),this.state.showUpdateButton?d.a.createElement("tr",null,d.a.createElement("td",null,d.a.createElement("button",{type:"Button",className:"reset-btn btn btn-secondary btn-sm",alt:"Update",value:"Update",disabled:this.state.disableDocButton,onClick:this.updateToggle.bind(this)},"Update")),d.a.createElement("td",null,d.a.createElement("button",{type:"Button",className:"reset-btn btn btn-secondary btn-sm",alt:"Cancel",value:"Cancel",onClick:function(){return e.Cancel()}},"Back"))):d.a.createElement("tr",null,d.a.createElement("td",null,d.a.createElement("button",{type:"Button",className:"reset-btn btn btn-secondary btn-sm",alt:"Cancel",value:"Cancel",onClick:function(){return e.Cancel()}},"Back")))))))))}}]),a}(u.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return S}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=a(15),h=a.n(p),f=a(13),g=a(24),v=a.n(g),b=(a(28),a(344),a(21),a(119)),y=a(17),S=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).setValueSearch=function(t){e.setState({search_key:t})},e.state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),totalRows:0,perPage:10,page:1,totalPage:0,sort_by:"id",sort:"asc",typeFind:"rmwbData",search_key:"",isSuccess:!1},e.reset=e.reset.bind(Object(o.a)(e)),e.handlePageChange=e.handlePageChange.bind(Object(o.a)(e)),e.handlePerRowsChange=e.handlePerRowsChange.bind(Object(o.a)(e)),e.handleSort=e.handleSort.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),this.getdataMaster(),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage)}},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=!0,n=new y.a,e.next=5,n.findStatusByParam(this.state);case 5:(r=e.sent)&&200===r.status&&r.data?this.setState({listDataStatus:r.data}):t=!1,t||this.clearSession(),a||this.errorConectionToBe();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r){var l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=!0,this.setState({loading:!0}),i=new b.a,e.next=5,i.findFaqByParam(t,a,n,r,this.state);case 5:(o=e.sent)&&200===o.status&&o.data&&o.data.data?(this.setState({list:o.data.data}),this.setState({totalRows:o.data.total_result}),this.setState({totalPage:o.data.total_page}),this.setState({loading:!1})):(o&&o.data&&o.data.message?(this.setState({isSuccess:!1,message:o.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Get data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)),this.setState({list:[]}),this.setState({totalRows:0}),this.setState({totalPage:0}),this.setState({loading:!1})),l||this.errorConectionToBe();case 8:case"end":return e.stop()}}),e,this)})));return function(t,a,n,s){return e.apply(this,arguments)}}()},{key:"handleSort",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({sort:a});case 2:return e.next=4,this.setState({sort_by:t.selector});case 4:return e.next=6,this.setPage(this.state.page,a,t.selector,this.state.perPage);case 6:document.getElementById("column-"+t.selector).classList.add("sorted");case 8:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"handlePageChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({page:t}),this.setPage(t,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handlePerRowsChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({perPage:t}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"search",value:function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({loading:!0,search:!0}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"reset",value:function(){var e=this;this.setState({loading:!0}),h.a.findDOMNode(this.refs.search_key).value="",this.setState({search_key:""},(function(){setTimeout((function(){e.setPage(e.state.page,e.state.sort,e.state.sort_by,e.state.perPage)}),100)}))}},{key:"errorConectionToBe",value:function(){alert("Connection to Server Octobench interupted!\nPlease check your conection or contact administrator!")}},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"render",value:function(){for(var e=JSON.parse(this.state.userPrivilege)||[],t=!1,a=0;a<e.length;a++)"upload_rmwb_faq"===e[a].name+"_"+e[a].vgroup&&(t=!0);return m.a.createElement("div",{id:"ListFAQ",className:"default-rmwb-wrapper"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?m.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,this.state.isSuccess?null:m.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),m.a.createElement("h3",{className:"mb-3"},"FAQ List"),m.a.createElement(v.a,{id:"tableData",className:"mb-4",defaultSortField:this.state.sort_by,columns:[{name:"Question",selector:"title_draft",sortable:!0,width:"400px"},{name:"Answer",selector:"answer_draft",sortable:!0,maxWidth:"700px"}],progressPending:this.state.loading,pagination:!0,paginationServer:!0,sortServer:!0,paginationTotalRows:this.state.totalRows,onChangeRowsPerPage:this.handlePerRowsChange,onChangePage:this.handlePageChange,onSort:this.handleSort,data:this.state.list,responsive:!0}),m.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},t?m.a.createElement(f.b,{to:"rmwb-list-upload-faq",className:"justify-content-end"},m.a.createElement("button",{className:"button-red"},"BULK UPLOAD FAQ")):null),this.state.loading?m.a.createElement("div",{className:"loading-overlay"},m.a.createElement("div",{className:"loader"})):null)}}]),a}(d.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return k}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=a(15),h=a.n(p),f=a(13),g=a(24),v=a.n(g),b=a(27),y=a(16),S=a.n(y),E=(a(28),a(344),a(21),a(119)),w=a(17),k=(a(109),function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).setValueSearch=function(t){e.setState({search_key:t})},e.state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),totalRows:0,perPage:10,page:1,totalPage:0,sort_by:"file_name",sort:"asc",typeFind:"rmwbData",search_key:"",filterDataInsertAt:"",filterDataStatus:"",isChecker:!1,isSuccess:!1},e.reset=e.reset.bind(Object(o.a)(e)),e.handlePageChange=e.handlePageChange.bind(Object(o.a)(e)),e.handlePerRowsChange=e.handlePerRowsChange.bind(Object(o.a)(e)),e.handleSort=e.handleSort.bind(Object(o.a)(e)),e.downloadTemplate=e.downloadTemplate.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(n,[{key:"componentWillMount",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),t=JSON.parse(localStorage.getItem("userPrivilege"))||[],a=0;a<t.length;a++)"approval_rmwb_faq"===t[a].name+"_"+t[a].vgroup&&this.setState({isChecker:!0});return e.next=5,this.setState({loggedUser:localStorage.getItem("userNip")});case 5:this.getdataMaster(),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=!0,n=new w.a,e.next=5,n.findStatusByParam(this.state);case 5:(r=e.sent)&&200===r.status&&r.data?this.setState({listDataStatus:r.data}):t=!1,t||this.clearSession(),a||this.errorConectionToBe();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r){var l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=!0,this.setState({loading:!0}),i=new E.a,e.next=5,i.findUploadFaqByParam(t,a,n,r,this.state);case 5:(o=e.sent)&&200===o.status&&o.data&&o.data.data?(this.setState({list:o.data.data}),this.setState({totalRows:o.data.total_result}),this.setState({totalPage:o.data.total_page}),this.setState({loading:!1})):(o&&o.data&&o.data.message?(this.setState({isSuccess:!1,message:o.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Get data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)),this.setState({list:[]}),this.setState({totalRows:0}),this.setState({totalPage:0}),this.setState({loading:!1})),l||this.errorConectionToBe();case 8:case"end":return e.stop()}}),e,this)})));return function(t,a,n,s){return e.apply(this,arguments)}}()},{key:"handleSort",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({sort:a});case 2:return e.next=4,this.setState({sort_by:t.selector});case 4:return e.next=6,this.setPage(this.state.page,a,t.selector,this.state.perPage);case 6:document.getElementById("column-"+t.selector).classList.add("sorted");case 8:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"handlePageChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({page:t}),this.setPage(t,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handlePerRowsChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({perPage:t}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"editRow",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t?this.props.history.push("rmwb-detail-upload-faq",{data:t}):(alert("Some thing wrong with selected data pelase refresh your browser or contact admin!"),window.location.reload());case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"downloadTemplate",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),t=new E.a,e.next=4,t.downloadTemplate();case 4:(a=e.sent)&&200===a.status&&a.data?(this.setState({isSuccess:!0}),n=new Blob([a.data],{type:"application/octet-stream"}),r=window.URL.createObjectURL(n),(l=document.createElement("a")).href=r,l.target="_blank",l.download="faq.xlsx",document.body.appendChild(l),l.click(),document.body.removeChild(l),this.setState({loading:!1})):(a&&a.data&&a.data.message?(this.setState({isSuccess:!1,message:a.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Error cant download data, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)),this.setState({loading:!1}));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"search",value:function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({loading:!0,search:!0}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"reset",value:function(){var e=this;h.a.findDOMNode(this.refs.search_status).value="",h.a.findDOMNode(this.refs.insert_date).value="",this.setState({search_status:"",insert_date:""},(function(){setTimeout((function(){e.setPage(e.state.page,e.state.sort,e.state.sort_by,e.state.perPage)}),100)}))}},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"render",value:function(){for(var e=this,t=this.state.insert_date?S()(this.state.insert_date,"YYYY-MM-DDTHH:mm:ss").toDate():null,n=JSON.parse(this.state.userPrivilege)||[],s=!1,r=0;r<n.length;r++)"upload_rmwb_faq"===n[r].name+"_"+n[r].vgroup&&(s=!0);var l=[{name:"File Name",selector:"file_name",sortable:!0},{name:"Insert By",selector:"insert_by",sortable:!0},{name:"Insert At",selector:"insert_at",sortable:!0},{name:"Status",selector:"status",sortable:!0},{name:"Action",sortable:!1,cell:function(t){return m.a.createElement("div",null,m.a.createElement("input",{type:"image",alt:"Edit",height:20,value:t.id,src:a(40),onClick:function(a){return e.editRow(t)}}))},button:!0}];return m.a.createElement("div",{id:"ListUploadFaq",className:"default-rmwb-wrapper"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?m.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,this.state.isSuccess?null:m.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),m.a.createElement("h3",null,"List Upload Data FAQ"),m.a.createElement("div",{id:"search-menu"},m.a.createElement("table",{style:{width:"100%"}},m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-2"},"Status File"),m.a.createElement("select",{ref:"search_status",className:"form-input col-4",onChange:function(t){return e.setState({search_status:t.target.value})}},m.a.createElement("option",{value:""},"Please select status!"),m.a.createElement("option",{value:"submitted"},"Submitted"),m.a.createElement("option",{value:"rejected"},"Rejected"))))),m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-2"},"Insert Date"),m.a.createElement("div",{className:"col-4 p-0"},m.a.createElement(b.a,{ref:"insert_date",className:"form-input",dateFormat:"yyyy-MM-dd",selected:t,onChange:function(t){return e.setState({insert_date:t})}}))))))),m.a.createElement("div",null,m.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.search.bind(this)},"search"),m.a.createElement("button",{type:"button",className:"reset-btn btn btn-secondary btn-sm",onClick:this.reset},"reset"))),m.a.createElement(v.a,{id:"tableData",className:"mb-4",defaultSortField:this.state.sort_by,columns:l,progressPending:this.state.loading,pagination:!0,paginationServer:!0,sortServer:!0,paginationTotalRows:this.state.totalRows,onChangeRowsPerPage:this.handlePerRowsChange,onChangePage:this.handlePageChange,onSort:this.handleSort,data:this.state.list}),m.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},m.a.createElement("div",{className:"d-flex justify-content-end my-4 mr-3"},m.a.createElement("button",{className:"button-red",onClick:this.downloadTemplate},m.a.createElement("img",{src:"./../../../assets/images/export.png",alt:""}),"Download Template File")),s?m.a.createElement(f.b,{to:"rmwb-upload-faq",className:"d-flex justify-content-end my-4"},m.a.createElement("button",{className:"button-red"},"Upload New Data FAQ")):null),this.state.loading?m.a.createElement("div",{className:"loading-overlay"},m.a.createElement("div",{className:"loader"})):null)}}]),n}(d.Component))},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return N}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=a(15),h=a.n(p),f=a(13),g=a(24),v=a.n(g),b=a(30),y=a.n(b),S=(a(28),a(344),a(21),a(119)),E=a(17),w=a(31),k=a.n(w),N=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).setValueSearch=function(t){e.setState({search_key:t})},e.state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),totalRows:0,perPage:10,page:1,totalPage:0,sort_by:"id",sort:"asc",typeFind:"rmwbData",search_key:"",isSuccess:!1},e.reset=e.reset.bind(Object(o.a)(e)),e.handlePageChange=e.handlePageChange.bind(Object(o.a)(e)),e.handlePerRowsChange=e.handlePerRowsChange.bind(Object(o.a)(e)),e.handleSort=e.handleSort.bind(Object(o.a)(e)),e.handleOpenModal=e.handleOpenModal.bind(Object(o.a)(e)),e.handleCloseModal=e.handleCloseModal.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(a,[{key:"handleOpenModal",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({showModal:!0,modalName:t});case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleCloseModal",value:function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({showModal:!1});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillMount",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=this.props.location.state.data)||this.props.history.push("rmwb-rmwb-list-upload-faq"),this.setState({selectedFile:t}),this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),e.next=6,this.setState({loggedUser:localStorage.getItem("userNip")});case 6:this.getdataMaster(),this.getListDataStatus(t.status),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage),this.validator=new k.a({autoForceUpdate:this,element:function(e){return m.a.createElement("div",{className:"row col-12 validator-error-message"},m.a.createElement("div",{className:"col-4"}),m.a.createElement("div",{className:"col-8"},e))}});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=!0,n=new E.a,e.next=5,n.findStatusByParam(this.state);case 5:(r=e.sent)&&200===r.status&&r.data?this.setState({listDataStatus:r.data}):t=!1,t||this.clearSession(),a||this.errorConectionToBe();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r){var l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=!0,this.setState({loading:!0}),i=new S.a,e.next=5,i.findUploadDetailFaqByParam(t,a,n,r,this.state);case 5:(o=e.sent)&&200===o.status&&o.data&&o.data.data?(this.setState({list:o.data.data}),this.setState({totalRows:o.data.total_result}),this.setState({totalPage:o.data.total_page}),this.setState({loading:!1})):(o&&o.data&&o.data.message?(this.setState({isSuccess:!1,message:o.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Get data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)),this.setState({list:[]}),this.setState({totalRows:0}),this.setState({totalPage:0}),this.setState({loading:!1})),l||this.errorConectionToBe();case 8:case"end":return e.stop()}}),e,this)})));return function(t,a,n,s){return e.apply(this,arguments)}}()},{key:"handleSort",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({sort:a});case 2:return e.next=4,this.setState({sort_by:t.selector});case 4:return e.next=6,this.setPage(this.state.page,a,t.selector,this.state.perPage);case 6:document.getElementById("column-"+t.selector).classList.add("sorted");case 8:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"handlePageChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({page:t}),this.setPage(t,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handlePerRowsChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({perPage:t}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"editRow",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t?this.props.history.push("rmwb-detail-upload-faq",{data:t}):alert("Some thing wrong with selected data pelase refresh your browser or contact admin!")||window.location.reload();case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getListDataStatus",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!0,n=new E.a,e.next=4,n.findStatusByParam(this.state);case 4:(r=e.sent)&&200===r.status&&r.data.length>0?(this.setState({listDataStatus:r.data}),l=r.data.filter((function(e){return e.code===t})),this.setState({currentDataStatus:l[0]})):(this.setState({listDataStatus:""}),this.setState({currentDataStatus:""})),a||this.clearSession();case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"search",value:function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({loading:!0,search:!0}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"reset",value:function(){var e=this;this.setState({loading:!0}),h.a.findDOMNode(this.refs.search_key).value="",this.setState({search_key:""},(function(){setTimeout((function(){e.setPage(e.state.page,e.state.sort,e.state.sort_by,e.state.perPage)}),100)}))}},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"onSubmitApprove",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),t=new S.a,(a=this.state).status="approved",e.next=6,t.approveFileFaq(a);case 6:(n=e.sent)&&200===n.status&&"Success"===n.data.message?(this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-list-upload-faq",this.state),this.setState({loading:!1})):n&&n.data&&n.data.message?(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Save data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onSubmitReject",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({loading:!0}),t=new S.a,(a=this.state).status="rejected",this.validator.allValid()){e.next=8;break}return this.validator.showMessages(),this.setState({loading:!1}),e.abrupt("return");case 8:return e.next=10,t.rejectFileFaq(a);case 10:(n=e.sent)&&200===n.status&&"Success"===n.data.message?(this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-list-upload-faq",this.state),this.setState({loading:!1})):n&&n.data&&n.data.message?(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Save data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0));case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){for(var e=this,t=JSON.parse(this.state.userPrivilege)||[],a=!1,n=0;n<t.length;n++)"approval_rmwb_faq"===t[n].name+"_"+t[n].vgroup&&(a=!0);var s=this.state.currentDataStatus?this.state.currentDataStatus:[],r=!1,l=!1;s&&("rmwbData_approved"===s.type+"_"+s.code&&(r=!0),"rmwbData_rejected"===s.type+"_"+s.code&&(l=!0));return m.a.createElement("div",{id:"ListUploadDetailFaq",className:"default-rmwb-wrapper"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?m.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,this.state.isSuccess?null:m.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-6"},m.a.createElement("h3",null,"Detail Upload Data FAQ")),m.a.createElement("div",{className:"col-6"},m.a.createElement(f.b,{to:"rmwb-list-upload-faq",className:"d-flex justify-content-end"},m.a.createElement("button",{className:"btn btn-info"},"Back to Upload List")))),m.a.createElement("p",null,"File name : ",this.state.selectedFile.file_name," || Uploaded by : ",this.state.selectedFile.insert_by," || At : ",this.state.selectedFile.insert_at," || Status : ",this.state.selectedFile.status),l?m.a.createElement("p",null,"Remarks : ",this.state.selectedFile.remarks):null,m.a.createElement(v.a,{id:"tableData",className:"mb-4",defaultSortField:this.state.sort_by,columns:[{name:"Question",selector:"title_draft",sortable:!0},{name:"Answer",selector:"answer_draft",sortable:!0}],progressPending:this.state.loading,pagination:!0,paginationServer:!0,sortServer:!0,paginationTotalRows:this.state.totalRows,onChangeRowsPerPage:this.handlePerRowsChange,onChangePage:this.handlePageChange,onSort:this.handleSort,data:this.state.list}),m.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},!a||l||r?null:m.a.createElement("div",null,m.a.createElement("button",{className:"button-red mr-2",onClick:function(){return e.handleOpenModal("reject-data")}},"Reject"),m.a.createElement("button",{className:"button-green",onClick:function(){return e.handleOpenModal("approve-data")}},"Approve"))),this.state.loading?m.a.createElement("div",{className:"loading-overlay"},m.a.createElement("div",{className:"loader"})):null,m.a.createElement(y.a,{closeTimeoutMS:300,isOpen:this.state.showModal,contentLabel:"onRequestClose Example",onRequestClose:this.handleCloseModal,className:"Modal",overlayClassName:"Overlay"},"approve-data"===this.state.modalName?m.a.createElement("div",null,m.a.createElement("div",{className:"row mx-0 justify-content-center"},m.a.createElement("h4",null,"Are You Sure To Approve This Data ?")),m.a.createElement("div",{className:"d-flex justify-content-center mx-2 mt-5"},m.a.createElement("button",{className:"button-red mr-5",onClick:this.handleCloseModal},"Cancel"),m.a.createElement("button",{className:"button-red",onClick:this.onSubmitApprove.bind(this)},"Approve"))):null,"reject-data"===this.state.modalName?m.a.createElement("div",null,m.a.createElement("div",{className:"row mx-0 justify-content-center"},m.a.createElement("h4",{className:"mb-4"},"Please fill Remark to data Maker !"),this.state.error?m.a.createElement("div",{className:"col-12 ".concat(this.state.alertState),role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.errorMessage):null,m.a.createElement("textarea",{className:"col-12 form-input",type:"text",onChange:function(t){return e.setState({remarks:t.target.value})},value:this.state.remarks||"",placeholder:"Remarks",onBlur:function(){return e.validator.showMessageFor("remarks")}}),this.validator.message("remarks",this.state.remarks,"required")),m.a.createElement("div",{className:"d-flex justify-content-center mx-2 mt-4"},m.a.createElement("button",{className:"button-red mr-5",onClick:this.handleCloseModal},"Cancel"),m.a.createElement("button",{className:"button-red",onClick:this.onSubmitReject.bind(this)},"Reject"))):null))}}]),a}(d.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return v}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=(a(28),a(344),a(13)),p=a(119),h=a(17),f=a(31),g=a.n(f),v=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={isSuccess:!1,message:"",token:localStorage.getItem("accessToken"),selectedFile:null,loading:!1,roleName:localStorage.getItem("roleName"),isSadmin:!1},e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.setState({isSadmin:"SADMINOCTOBENCH"===this.state.roleName}),this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),this.setState({loggedUser:localStorage.getItem("userNip")}),this.getdataMaster(),this.validator=new g.a({autoForceUpdate:this,element:function(e){return d.a.createElement("div",{className:"row col-12 validator-error-message"},d.a.createElement("div",{className:"col-12"},e))}})}},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=!0,n=new h.a,e.next=5,n.findStatusByParam(this.state);case 5:(r=e.sent)&&200===r.status&&r.data?this.setState({listDataStatus:r.data}):t=!1,t||this.clearSession(),a||this.errorConectionToBe();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"errorConectionToBe",value:function(){alert("Connection to Server Octobench interupted!\nPlease check your conection or contact administrator!")}},{key:"onSubmitApprove",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),a=new p.a,(n=this.state).status="approved",n.selectedFile.id=t,e.next=7,a.approveFileFaq(n);case 7:(r=e.sent)&&200===r.status&&"Success"===r.data.message?(this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-faq",this.state),this.setState({loading:!1})):r&&r.data&&r.data.message?(this.setState({isSuccess:!1,message:r.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Save data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validator.allValid()){e.next=4;break}return this.validator.showMessages(),this.setState({loading:!1}),e.abrupt("return");case 4:if(!this.state.isSadmin){e.next=25;break}if(!window.confirm("Are you sure to upload and approve this data ?")){e.next=22;break}return this.setState({loading:!0}),t=new p.a,(a=new FormData).append("file",this.state.selectedFile),e.next=12,t.uploadFileFaq(a,this.state);case 12:if(!(n=e.sent)||200!==n.status||"Succeed"!==n.data.message){e.next=19;break}return r=n.data.data.file_id,e.next=17,this.onSubmitApprove(r);case 17:e.next=20;break;case 19:n&&n.data&&n.data.message?n.data.data.remarks?(this.setState({isSuccess:!1,message:n.data.message+", "+n.data.data.remarks,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Save data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0));case 20:e.next=23;break;case 22:this.setState({loading:!1});case 23:e.next=33;break;case 25:return this.setState({loading:!0}),l=new p.a,(i=new FormData).append("file",this.state.selectedFile),e.next=31,l.uploadFileFaq(i,this.state);case 31:(o=e.sent)&&200===o.status&&"Succeed"===o.data.message?(this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-list-upload-faq",this.state),this.setState({loading:!1})):o&&o.data&&o.data.message?(this.setState({isSuccess:!1,message:o.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Save data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0));case 33:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return d.a.createElement("div",{id:"EditFaq",className:"default-rmwb-wrapper"},this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-6"},d.a.createElement("h3",{className:"mb-4"},"Upload New Data FAQ")),d.a.createElement("div",{className:"col-6"},d.a.createElement(m.b,{to:"rmwb-list-upload-faq",className:"d-flex justify-content-end"},d.a.createElement("button",{className:"btn btn-info"},"Back to Upload List")))),d.a.createElement("div",{className:"form-box-area mb-4"},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"row col-12"},d.a.createElement("h4",{className:"mb-4 col-6"},"Please select file to be upload")),d.a.createElement("div",{className:"row mb-3 col-12"},d.a.createElement("div",{className:"col-8"},d.a.createElement("label",{className:"mr-3"},"New File FAQ ",d.a.createElement("span",{className:"text-danger"},"*")),d.a.createElement("input",{className:"px-0",type:"file",id:"upload-new-file",onChange:function(t){return e.setState({selectedFile:t.target.files[0],loaded:0})},onBlur:function(){return e.validator.showMessageFor("file")}})),d.a.createElement("div",{className:"col-4 d-flex justify-content-end pr-0"},d.a.createElement("button",{type:"button",className:"button-red",onClick:function(t){return e.submit()}},"Upload")),this.validator.message("file",this.state.selectedFile,"required")))),this.state.loading?d.a.createElement("div",{className:"loading-overlay"},d.a.createElement("div",{className:"loader"})):null)}}]),a}(u.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return E}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=a(15),h=a.n(p),f=a(13),g=a(24),v=a.n(g),b=(a(28),a(456),a(21),a(25)),y=a(17),S=a(8),E=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).setValueSearch=function(t){e.setState({search_key:t})},e.state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),totalRows:0,perPage:10,page:1,totalPage:0,sort_by:"id",sort:"desc",typeFind:"rmwbData",search_key:"",flaggingAttachment:"standard_pricing",searchKeyTitle:"",searchKeyDescription:"",searchKeyStatus:"",roleName:localStorage.getItem("roleName"),isSadmin:!1},e.reset=e.reset.bind(Object(o.a)(e)),e.handlePageChange=e.handlePageChange.bind(Object(o.a)(e)),e.handleChange=e.handleChange.bind(Object(o.a)(e)),e.handlePerRowsChange=e.handlePerRowsChange.bind(Object(o.a)(e)),e.handleSort=e.handleSort.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(n,[{key:"componentWillMount",value:function(){this.setState({isSadmin:"SADMINOCTOBENCH"===this.state.roleName}),this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),this.setState({loggedUser:localStorage.getItem("userNip")}),this.getdataMaster(),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage)}},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=!0,n=new y.a,e.next=5,n.findStatusByParam(this.state);case 5:(r=e.sent)&&200===r.status&&r.data?this.setState({listDataStatus:r.data}):t=!1,t||this.clearSession(),a||this.errorConectionToBe();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"approveDelete",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),a=[],n=new b.a,(r=this.state).id=t.id,r.status="deleted",e.next=8,n.approveAttachment(this.state.flaggingAttachment,r);case 8:(a=e.sent)&&200===a.status&&"Succeed"===a.data.message?window.location=window.location.href:a&&a.data&&a.data.message?(this.setState({isSuccess:!1,message:a.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Save data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteRow",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.isSadmin){e.next=17;break}if(!window.confirm("Are you sure to delete and approve delete this data ?")){e.next=14;break}return a=new b.a,e.next=5,a.deleteAttachment(this.state.flaggingAttachment,this.state,t);case 5:if(!(n=e.sent)||200!==n.status||!n.data||"Succeed delete"!==n.data.message){e.next=11;break}return e.next=9,this.approveDelete(t);case 9:e.next=12;break;case 11:n&&n.data&&S.a===n.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):alert("error, data ".concat(t.title_draft," cannot deleted"));case 12:e.next=15;break;case 14:this.setState({loading:!1});case 15:e.next=23;break;case 17:if(!window.confirm("Are you sure you want to delete ".concat(t.title_draft+" ?"))){e.next=23;break}return r=new b.a,e.next=21,r.deleteAttachment(this.state.flaggingAttachment,this.state,t);case 21:(l=e.sent)&&200===l.status&&l.data&&"Succeed delete"===l.data.message?(alert("data ".concat(t.title_draft," waiting approve to delete")),window.location=window.location.href):l&&l.data&&S.a===l.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):alert("error, data ".concat(t.title_draft," cannot deleted"));case 23:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r){var l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=!0,this.setState({loading:!0}),i=new b.a,e.next=5,i.findAllAttachmentByParam(this.state.flaggingAttachment,t,a,n,r,this.state);case 5:(o=e.sent)&&200===o.status&&o.data&&o.data.data.length>0?(this.setState({list:o.data.data}),this.setState({totalRows:o.data.total_result}),this.setState({totalPage:o.data.total_page}),this.setState({loading:!1})):(o&&o.data&&S.a===o.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):this.setState({error:!0,errorMessage:o&&o.data?o.data.message:o,loading:!1}),this.setState({list:[]}),this.setState({totalRows:0}),this.setState({totalPage:0}),this.setState({loading:!1})),l||this.errorConectionToBe();case 8:case"end":return e.stop()}}),e,this)})));return function(t,a,n,s){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleSort",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({sort:a});case 2:return e.next=4,this.setState({sort_by:t.selector});case 4:return e.next=6,this.setPage(this.state.page,a,t.selector,this.state.perPage);case 6:document.getElementById("column-"+t.selector).classList.add("sorted");case 8:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"handlePageChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({page:t}),this.setPage(t,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handlePerRowsChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({perPage:t}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"editRow",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t?this.props.history.push("rmwb-edit-standard-pricing",{data:t}):alert("Some thing wrong with selected data pelase refresh your browser or contact admin!")||window.location.reload();case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"search",value:function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({loading:!0,search:!0}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"reset",value:function(){var e=this;this.setState({loading:!0}),h.a.findDOMNode(this.refs.searchKeyTitle).value="",h.a.findDOMNode(this.refs.searchKeyDescription).value="",h.a.findDOMNode(this.refs.searchKeyStatus).value="",this.setState({searchKeyTitle:"",searchKeyDescription:"",searchKeyStatus:""},(function(){setTimeout((function(){e.setPage(e.state.page,e.state.sort,e.state.sort_by,e.state.perPage)}),100)}))}},{key:"errorConectionToBe",value:function(){alert("Connection to Server Octobench interupted!\nPlease check your conection or contact administrator!")}},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"render",value:function(){for(var e=this,t=JSON.parse(this.state.userPrivilege)||[],n=!1,s=!1,r=0;r<t.length;r++)"create_rmwb_standardPricing"===t[r].name+"_"+t[r].vgroup&&(n=!0),"delete_rmwb_standardPricing"===t[r].name+"_"+t[r].vgroup&&(s=!0);var l=[{name:"Title",selector:"title_draft",sortable:!0},{name:"Description",selector:"description_draft",sortable:!0,maxWidth:"400px"},{name:"Status",selector:"status",sortable:!0},{name:"Action",sortable:!1,cell:function(t){return m.a.createElement("div",null,s&&"requestDelete"!==t.status&&"deleted"!==t.status?m.a.createElement("input",{type:"image",alt:"Delete",height:20,className:"mr-3",value:t.id,src:a(67),onClick:function(a){return e.deleteRow(t)}}):null,m.a.createElement("input",{type:"image",alt:"Edit",height:20,value:t,src:a(40),onClick:function(a){return e.editRow(t)}}))},button:!0}],i=this.state.listDataStatus||[];return i=i.map((function(e){var t=e.code,a=e.name;return"deleted"!==t&&"drafted"!==t?m.a.createElement("option",{key:t,"code-data":t,value:t},a):null})),m.a.createElement("div",{id:"list-standard-pricing",className:"default-rmwb-wrapper"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?m.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,m.a.createElement("h3",{className:"mb-4"},"Standard Pricing List"),m.a.createElement("div",{id:"search-menu"},m.a.createElement("table",{style:{width:"100%"}},m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-2"},"Title"),m.a.createElement("input",{className:"col-6 form-input",type:"text",ref:"searchKeyTitle",onChange:function(t){return e.setState({searchKeyTitle:t.target.value})},defaultValue:this.state.searchKeyTitle})),m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-2"},"Description"),m.a.createElement("input",{className:"col-6 form-input",type:"text",ref:"searchKeyDescription",onChange:function(t){return e.setState({searchKeyDescription:t.target.value})},defaultValue:this.state.searchKeyDescription})),m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-2"},"Status"),m.a.createElement("select",{ref:"searchKeyStatus",className:"col-6 form-input",onChange:function(t){return e.setState({searchKeyStatus:t.target.value})}},m.a.createElement("option",{key:"",value:""},"Select Data Status"),i)))))),m.a.createElement("div",null,m.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.search.bind(this)},"search"),m.a.createElement("button",{type:"button",className:"reset-btn btn btn-secondary btn-sm",onClick:this.reset},"reset"))),m.a.createElement(v.a,{id:"tableData",className:"mb-4",defaultSortField:this.state.sort_by,columns:l,progressPending:this.state.loading,pagination:!0,paginationServer:!0,sortServer:!0,paginationTotalRows:this.state.totalRows,onChangeRowsPerPage:this.handlePerRowsChange,onChangePage:this.handlePageChange,onSort:this.handleSort,data:this.state.list,responsive:!0}),m.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},n?m.a.createElement(f.b,{to:"rmwb-create-standard-pricing",className:"d-flex justify-content-end"},m.a.createElement("button",{className:"button-red"},"CREATE NEW STANDARD PRICING")):null),this.state.loading?m.a.createElement("div",{className:"loading-overlay"},m.a.createElement("div",{className:"loader"})):null)}}]),n}(d.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return h}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(60),p=(a(28),a(456),a(25)),h=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={isSuccess:!1,message:"",token:localStorage.getItem("accessToken"),htmlContent:"",flaggingAttachment:"standard_pricing",loading:!1,roleName:localStorage.getItem("roleName"),isSadmin:!1},e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.setState({isSadmin:"SADMINOCTOBENCH"===this.state.roleName});var e=this.props.location.state.data;this.setState(e),e||this.props.history.push("rmwb-standard-pricing")}},{key:"approve",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),t=[],a=new p.a,(n=this.state).status="approved",e.next=7,a.approveAttachment(this.state.flaggingAttachment,n);case 7:(t=e.sent)&&200===t.status&&"Succeed"===t.data.message?(this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-funding-guide",this.state),this.setState({loading:!1})):t&&t.data&&t.data.message?(this.setState({isSuccess:!1,message:t.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Save data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({loading:!0}),a=[],n=new p.a,!t.submitAndSave){e.next=22;break}if(!this.state.isSadmin){e.next=16;break}if(!window.confirm("Are you sure to submit and approve this data ?")){e.next=12;break}return t.status="submitted",e.next=9,n.updateAttachment(this.state.flaggingAttachment,t);case 9:a=e.sent,e.next=14;break;case 12:return this.setState({loading:!1}),e.abrupt("return",!1);case 14:e.next=20;break;case 16:return t.status="submitted",e.next=19,n.updateAttachment(this.state.flaggingAttachment,t);case 19:a=e.sent;case 20:e.next=48;break;case 22:if(!t.submitApprove){e.next=29;break}return t.status="approved",e.next=26,n.approveAttachment(this.state.flaggingAttachment,t);case 26:a=e.sent,e.next=48;break;case 29:if(!t.submitReject){e.next=36;break}return t.status="rejected",e.next=33,n.rejectAttachment(this.state.flaggingAttachment,t);case 33:a=e.sent,e.next=48;break;case 36:if(!t.approveDelete){e.next=43;break}return t.status="deleted",e.next=40,n.approveAttachment(this.state.flaggingAttachment,t);case 40:a=e.sent,e.next=48;break;case 43:if(!t.rejectDelete){e.next=48;break}return t.status="rejected",e.next=47,n.rejectAttachment(this.state.flaggingAttachment,t);case 47:a=e.sent;case 48:if(!a||200!==a.status||"Succeed"!==a.data.message){e.next=54;break}this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-standard-pricing",this.state),this.setState({loading:!1}),e.next=68;break;case 54:if(!(a&&a.data&&a.data.message)){e.next=65;break}if(!this.state.isSadmin){e.next=60;break}return e.next=58,this.approve();case 58:e.next=63;break;case 60:this.setState({isSuccess:!1,message:a.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0);case 63:e.next=68;break;case 65:this.setState({isSuccess:!1,message:"Save data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0);case 68:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.location.state.data;return d.a.createElement("div",{id:"EditStandardPricing",className:"default-rmwb-wrapper"},this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement("h3",{className:"mb-4"},"Edit Standard Pricing"),d.a.createElement(m.a,{mode:"edit",data:e,flagging:this.state.flaggingAttachment,history:this.props.history,onSubmit:this.submit.bind(this),onSubmitAndSave:this.submit.bind(this)}),this.state.loading?d.a.createElement("div",{className:"loading-overlay"},d.a.createElement("div",{className:"loader"})):null)}}]),a}(u.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return h}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(60),p=(a(28),a(456),a(25)),h=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={isSuccess:!1,message:"",is_deleted_draft:"",flaggingAttachment:"standard_pricing",token:localStorage.getItem("accessToken"),loading:!1,roleName:localStorage.getItem("roleName"),isSadmin:!1},e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.setState({isSadmin:"SADMINOCTOBENCH"===this.state.roleName})}},{key:"approve",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),a=[],n=new p.a,(r=this.state).status="approved",r.id=t,e.next=8,n.approveAttachment(this.state.flaggingAttachment,r);case 8:(a=e.sent)&&200===a.status&&"Succeed"===a.data.message?(this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-standard-pricing",this.state),this.setState({loading:!1})):a&&a.data&&a.data.message?(this.setState({isSuccess:!1,message:a.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Save data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.isSadmin){e.next=21;break}if(!window.confirm("Are you sure to submit and approve this data ?")){e.next=17;break}return this.setState({loading:!0}),t.submitOnly?t.status="drafted":t.status="submitted",a=new p.a,e.next=7,a.addAttachment(this.state.flaggingAttachment,t);case 7:if(!((n=e.sent)&&n.data&&200===n.status&&n.data.message&&"Succeed"===n.data.message)){e.next=14;break}return r=n.data.data.id,e.next=12,this.approve(r);case 12:e.next=15;break;case 14:n&&n.data&&n.data.message?(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Save data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0));case 15:e.next=19;break;case 17:return this.setState({loading:!1}),e.abrupt("return",!1);case 19:e.next=28;break;case 21:return this.setState({loading:!0}),t.submitOnly?t.status="drafted":t.status="submitted",l=new p.a,e.next=26,l.addAttachment(this.state.flaggingAttachment,t);case 26:(i=e.sent)&&i.data&&200===i.status&&i.data.message&&"Succeed"===i.data.message?(this.setState({isSuccess:!0,message:"Data saved"}),this.props.history.push("rmwb-standard-pricing",this.state),this.setState({loading:!1})):i&&i.data&&i.data.message?(this.setState({isSuccess:!1,message:i.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Save data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0));case 28:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return d.a.createElement("div",{id:"CreateStandardPricing",className:"default-rmwb-wrapper"},this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement("h3",{className:"mb-4"},"Add New Standard Pricing"),d.a.createElement(m.a,{history:this.props.history,flagging:this.state.flaggingAttachment,onSubmit:this.submit.bind(this),onSubmitAndSave:this.submit.bind(this)}))}}]),a}(u.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return E}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=a(15),h=a.n(p),f=a(13),g=a(24),v=a.n(g),b=(a(28),a(457),a(21),a(25)),y=a(17),S=a(8),E=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).setValueSearch=function(t){e.setState({search_key:t})},e.state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),totalRows:0,perPage:10,page:1,totalPage:0,sort_by:"id",sort:"desc",typeFind:"rmwbData",search_key:"",flaggingAttachment:"qrf",searchKeyTitle:"",searchKeyDescription:"",searchKeyStatus:"",roleName:localStorage.getItem("roleName"),isSadmin:!1},e.reset=e.reset.bind(Object(o.a)(e)),e.handlePageChange=e.handlePageChange.bind(Object(o.a)(e)),e.handleChange=e.handleChange.bind(Object(o.a)(e)),e.handlePerRowsChange=e.handlePerRowsChange.bind(Object(o.a)(e)),e.handleSort=e.handleSort.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(n,[{key:"componentWillMount",value:function(){this.setState({isSadmin:"SADMINOCTOBENCH"===this.state.roleName}),this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),this.setState({loggedUser:localStorage.getItem("userNip")}),this.getdataMaster(),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage)}},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=!0,n=new y.a,e.next=5,n.findStatusByParam(this.state);case 5:(r=e.sent)&&200===r.status&&r.data?this.setState({listDataStatus:r.data}):t=!1,t||this.clearSession(),a||this.errorConectionToBe();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"approveDelete",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),a=[],n=new b.a,(r=this.state).id=t.id,r.status="deleted",e.next=8,n.approveAttachment(this.state.flaggingAttachment,r);case 8:(a=e.sent)&&200===a.status&&"Succeed"===a.data.message?window.location=window.location.href:a&&a.data&&a.data.message?(this.setState({isSuccess:!1,message:a.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Save data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteRow",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.isSadmin){e.next=17;break}if(!window.confirm("Are you sure to delete and approve delete this data ?")){e.next=14;break}return a=new b.a,e.next=5,a.deleteAttachment(this.state.flaggingAttachment,this.state,t);case 5:if(!(n=e.sent)||200!==n.status||!n.data||"Succeed delete"!==n.data.message){e.next=11;break}return e.next=9,this.approveDelete(t);case 9:e.next=12;break;case 11:n&&n.data&&S.a===n.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):alert("error, data ".concat(t.title_draft," cannot deleted"));case 12:e.next=15;break;case 14:this.setState({loading:!1});case 15:e.next=23;break;case 17:if(!window.confirm("Are you sure you want to delete ".concat(t.title_draft+" ?"))){e.next=23;break}return r=new b.a,e.next=21,r.deleteAttachment(this.state.flaggingAttachment,this.state,t);case 21:(l=e.sent)&&200===l.status&&l.data&&"Succeed delete"===l.data.message?(alert("data ".concat(t.title_draft," waiting approve to delete")),window.location=window.location.href):l&&l.data&&S.a===l.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):alert("error, data ".concat(t.title_draft," cannot deleted"));case 23:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r){var l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=!0,this.setState({loading:!0}),i=new b.a,e.next=5,i.findAllAttachmentByParam(this.state.flaggingAttachment,t,a,n,r,this.state);case 5:(o=e.sent)&&200===o.status&&o.data&&o.data.data?(this.setState({list:o.data.data}),this.setState({totalRows:o.data.total_result}),this.setState({totalPage:o.data.total_page}),this.setState({loading:!1})):(o&&o.data&&o.data.message?(this.setState({isSuccess:!1,message:o.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Get data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)),this.setState({list:[]}),this.setState({totalRows:0}),this.setState({totalPage:0}),this.setState({loading:!1})),l||this.errorConectionToBe();case 8:case"end":return e.stop()}}),e,this)})));return function(t,a,n,s){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleSort",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({sort:a});case 2:return e.next=4,this.setState({sort_by:t.selector});case 4:return e.next=6,this.setPage(this.state.page,a,t.selector,this.state.perPage);case 6:document.getElementById("column-"+t.selector).classList.add("sorted");case 8:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"handlePageChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({page:t}),this.setPage(t,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handlePerRowsChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({perPage:t}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"editRow",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t?this.props.history.push("rmwb-edit-qrf",{data:t}):alert("Some thing wrong with selected data please refresh your browser or contact admin!")||window.location.reload();case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"search",value:function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({loading:!0,search:!0}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"reset",value:function(){var e=this;this.setState({loading:!0}),h.a.findDOMNode(this.refs.searchKeyTitle).value="",h.a.findDOMNode(this.refs.searchKeyDescription).value="",h.a.findDOMNode(this.refs.searchKeyStatus).value="",this.setState({searchKeyTitle:"",searchKeyDescription:"",searchKeyStatus:""},(function(){setTimeout((function(){e.setPage(e.state.page,e.state.sort,e.state.sort_by,e.state.perPage)}),100)}))}},{key:"errorConectionToBe",value:function(){alert("Connection to Server Octobench interupted!\nPlease check your conection or contact administrator!")}},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"render",value:function(){for(var e=this,t=JSON.parse(this.state.userPrivilege)||[],n=!1,s=!1,r=0;r<t.length;r++)"create_rmwb_qrf"===t[r].name+"_"+t[r].vgroup&&(n=!0),"delete_rmwb_qrf"===t[r].name+"_"+t[r].vgroup&&(s=!0),"upload_rmwb_qrf"===t[r].name+"_"+t[r].vgroup&&!0;var l=[{name:"Title",selector:"title_draft",sortable:!0},{name:"Description",selector:"description_draft",sortable:!0,maxWidth:"400px"},{name:"Status",selector:"status",sortable:!0},{name:"Action",sortable:!1,cell:function(t){return m.a.createElement("div",null,s&&"requestDelete"!==t.status&&"deleted"!==t.status?m.a.createElement("input",{type:"image",alt:"Delete",height:20,className:"mr-3",value:t.id,src:a(67),onClick:function(a){return e.deleteRow(t)}}):null,m.a.createElement("input",{type:"image",alt:"Edit",height:20,value:t,src:a(40),onClick:function(a){return e.editRow(t)}}))},button:!0}],i=this.state.listDataStatus||[];return i=i.map((function(e){var t=e.code,a=e.name;return"deleted"!==t&&"drafted"!==t?m.a.createElement("option",{key:t,"code-data":t,value:t},a):null})),m.a.createElement("div",{id:"list-qrf",className:"default-rmwb-wrapper"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?m.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,m.a.createElement("h3",{className:"mb-4"},"Quick Reference Guide List"),m.a.createElement("div",{id:"search-menu"},m.a.createElement("table",{style:{width:"100%"}},m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-2"},"Title"),m.a.createElement("input",{className:"col-6 form-input",type:"text",ref:"searchKeyTitle",onChange:function(t){return e.setState({searchKeyTitle:t.target.value})},defaultValue:this.state.searchKeyTitle})),m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-2"},"Description"),m.a.createElement("input",{className:"col-6 form-input",type:"text",ref:"searchKeyDescription",onChange:function(t){return e.setState({searchKeyDescription:t.target.value})},defaultValue:this.state.searchKeyDescription})),m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-2"},"Status"),m.a.createElement("select",{ref:"searchKeyStatus",className:"col-6 form-input",onChange:function(t){return e.setState({searchKeyStatus:t.target.value})}},m.a.createElement("option",{key:"",value:""},"Select Data Status"),i)))))),m.a.createElement("div",null,m.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.search.bind(this)},"search"),m.a.createElement("button",{type:"button",className:"reset-btn btn btn-secondary btn-sm",onClick:this.reset},"reset"))),m.a.createElement(v.a,{id:"tableData",className:"mb-4",defaultSortField:this.state.sort_by,columns:l,progressPending:this.state.loading,pagination:!0,paginationServer:!0,sortServer:!0,paginationTotalRows:this.state.totalRows,onChangeRowsPerPage:this.handlePerRowsChange,onChangePage:this.handlePageChange,onSort:this.handleSort,data:this.state.list,responsive:!0}),m.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},n?m.a.createElement(f.b,{to:"rmwb-create-qrf",className:"d-flex justify-content-end"},m.a.createElement("button",{className:"button-red"},"CREATE NEW QRF")):null),this.state.loading?m.a.createElement("div",{className:"loading-overlay"},m.a.createElement("div",{className:"loader"})):null)}}]),n}(d.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return h}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(60),p=(a(28),a(457),a(25)),h=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={isSuccess:!1,message:"",token:localStorage.getItem("accessToken"),htmlContent:"",flaggingAttachment:"qrf",loading:!1,roleName:localStorage.getItem("roleName"),isSadmin:!1},e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.setState({isSadmin:"SADMINOCTOBENCH"===this.state.roleName});var e=this.props.location.state.data;this.setState(e),e||this.props.history.push("rmwb-qrf")}},{key:"approve",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),a=[],n=new p.a,(r=this.state).status="approved",r.id=t,e.next=8,n.approveAttachment(this.state.flaggingAttachment,r);case 8:(a=e.sent)&&200===a.status&&"Succeed"===a.data.message?(this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-qrf",this.state),this.setState({loading:!1})):a&&a.data&&a.data.message?(this.setState({isSuccess:!1,message:a.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Save data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({loading:!0}),a=[],n=new p.a,!t.submitAndSave){e.next=22;break}if(!this.state.isSadmin){e.next=16;break}if(!window.confirm("Are you sure to submit and approve this data ?")){e.next=12;break}return t.status="submitted",e.next=9,n.updateAttachment(this.state.flaggingAttachment,t);case 9:a=e.sent,e.next=14;break;case 12:return this.setState({loading:!1}),e.abrupt("return",!1);case 14:e.next=20;break;case 16:return t.status="submitted",e.next=19,n.updateAttachment(this.state.flaggingAttachment,t);case 19:a=e.sent;case 20:e.next=48;break;case 22:if(!t.submitApprove){e.next=29;break}return t.status="approved",e.next=26,n.approveAttachment(this.state.flaggingAttachment,t);case 26:a=e.sent,e.next=48;break;case 29:if(!t.submitReject){e.next=36;break}return t.status="rejected",e.next=33,n.rejectAttachment(this.state.flaggingAttachment,t);case 33:a=e.sent,e.next=48;break;case 36:if(!t.approveDelete){e.next=43;break}return t.status="deleted",e.next=40,n.approveAttachment(this.state.flaggingAttachment,t);case 40:a=e.sent,e.next=48;break;case 43:if(!t.rejectDelete){e.next=48;break}return t.status="rejected",e.next=47,n.rejectAttachment(this.state.flaggingAttachment,t);case 47:a=e.sent;case 48:if(!a||200!==a.status||"Succeed"!==a.data.message){e.next=60;break}if(r=a.data.data.id,!this.state.isSadmin){e.next=55;break}return e.next=53,this.approve(r);case 53:e.next=58;break;case 55:this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-qrf",this.state),this.setState({loading:!1});case 58:e.next=61;break;case 60:a&&a.data&&a.data.message?(this.setState({isSuccess:!1,message:a.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Save data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0));case 61:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.location.state.data;return d.a.createElement("div",{id:"EditStandardPricing",className:"default-rmwb-wrapper"},this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement("h3",{className:"mb-4"},"Edit Quick Reference Guide"),d.a.createElement(m.a,{mode:"edit",flagging:this.state.flaggingAttachment,data:e,history:this.props.history,onSubmit:this.submit.bind(this),onSubmitAndSave:this.submit.bind(this)}))}}]),a}(u.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return h}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(60),p=(a(28),a(457),a(25)),h=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={isSuccess:!1,message:"",is_deleted_draft:"",flaggingAttachment:"qrf",token:localStorage.getItem("accessToken"),loading:!1,roleName:localStorage.getItem("roleName"),isSadmin:!1},e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.setState({isSadmin:"SADMINOCTOBENCH"===this.state.roleName}),this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),this.setState({loggedUser:localStorage.getItem("userNip")})}},{key:"approve",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),a=[],n=new p.a,(r=this.state).status="approved",r.id=t,e.next=8,n.approveAttachment(this.state.flaggingAttachment,r);case 8:(a=e.sent)&&200===a.status&&"Succeed"===a.data.message?(this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-qrf",this.state),this.setState({loading:!1})):a&&a.data&&a.data.message?(this.setState({isSuccess:!1,message:a.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Save data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(this.state.isSadmin),!this.state.isSadmin){e.next=22;break}if(!window.confirm("Are you sure to submit and approve this data ?")){e.next=18;break}return this.setState({loading:!0}),t.submitOnly?t.status="drafted":t.status="submitted",a=new p.a,e.next=8,a.addAttachment(this.state.flaggingAttachment,t);case 8:if(!((n=e.sent)&&n.data&&200===n.status&&n.data.message&&"Succeed"===n.data.message)){e.next=15;break}return r=n.data.data.id,e.next=13,this.approve(r);case 13:e.next=16;break;case 15:n&&n.data&&n.data.message?(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Save data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0));case 16:e.next=20;break;case 18:return this.setState({loading:!1}),e.abrupt("return",!1);case 20:e.next=29;break;case 22:return this.setState({loading:!0}),t.submitOnly?t.status="drafted":t.status="submitted",l=new p.a,e.next=27,l.addAttachment(this.state.flaggingAttachment,t);case 27:(i=e.sent)&&i.data&&200===i.status&&i.data.message&&"Succeed"===i.data.message?(this.setState({isSuccess:!0,message:"Data saved"}),this.props.history.push("rmwb-qrf",this.state),this.setState({loading:!0})):i&&i.data&&i.data.message?(this.setState({isSuccess:!1,message:i.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Save data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0));case 29:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return d.a.createElement("div",{id:"CreateStandardPricing",className:"default-rmwb-wrapper"},this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement("h3",{className:"mb-4"},"Add New Quick Reference Guide"),d.a.createElement(m.a,{history:this.props.history,flagging:this.state.flaggingAttachment,onSubmit:this.submit.bind(this),onSubmitAndSave:this.submit.bind(this)}),this.state.loading?d.a.createElement("div",{className:"loading-overlay"},d.a.createElement("div",{className:"loader"})):null)}}]),a}(u.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return v}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(13),p=a(24),h=a.n(p),f=(a(28),a(458),a(21),a(25)),g=a(17),v=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).setValueSearch=function(t){e.setState({search_key:t})},e.state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),totalRows:0,perPage:10,page:1,totalPage:0,sort_by:"id",sort:"desc",typeFind:"rmwbData",search_key:"",flaggingAttachment:"funding_analytics",isSuccess:!1},window.scrollTo(0,0),e}return Object(i.a)(n,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),this.setState({loggedUser:localStorage.getItem("userNip")}),this.getdataMaster(),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage)}},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=!0,n=new g.a,e.next=5,n.findStatusByParam(this.state);case 5:(r=e.sent)&&200===r.status&&r.data?this.setState({listDataStatus:r.data}):t=!1,t||this.clearSession(),a||this.errorConectionToBe();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r){var l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=!0,this.setState({loading:!0}),i=new f.a,e.next=5,i.findAllAttachmentByParam(this.state.flaggingAttachment,t,a,n,r,this.state);case 5:(o=e.sent)&&200===o.status&&o.data&&o.data.data?(this.setState({list:o.data.data}),this.setState({totalRows:o.data.total_result}),this.setState({totalPage:o.data.total_page}),this.setState({loading:!1})):(o&&o.data&&o.data.message?(this.setState({isSuccess:!1,message:o.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Get data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)),this.setState({list:[]}),this.setState({totalRows:0}),this.setState({totalPage:0}),this.setState({loading:!1})),l||this.errorConectionToBe();case 8:case"end":return e.stop()}}),e,this)})));return function(t,a,n,s){return e.apply(this,arguments)}}()},{key:"editRow",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t?this.props.history.push("rmwb-edit-funding-guide",{data:t}):alert("Some thing wrong with selected data pelase refresh your browser or contact admin!")||window.location.reload();case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"errorConectionToBe",value:function(){alert("Connection to Server Octobench interupted!\nPlease check your conection or contact administrator!")}},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"render",value:function(){for(var e=this,t=JSON.parse(this.state.userPrivilege)||[],n=!1,s=0;s<t.length;s++)"create_rmwb_income"===t[s].name+"_"+t[s].vgroup&&(n=!0);var r=[{name:"Title",selector:"title_draft"},{name:"Description",selector:"description_draft",maxWidth:"400px"},{name:"Status",selector:"status"},{name:"Action",sortable:!1,cell:function(t){return d.a.createElement("div",null,d.a.createElement("input",{type:"image",alt:"Edit",height:20,value:t,src:a(40),onClick:function(a){return e.editRow(t)}}))},button:!0}];return d.a.createElement("div",{id:"listFundingGuide",className:"default-rmwb-wrapper"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?d.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,d.a.createElement("h3",{className:"mb-4"},"Funding Analytics Guide"),d.a.createElement(h.a,{id:"tableData",className:"mb-4",defaultSortField:this.state.sort_by,columns:r,progressPending:this.state.loading,data:this.state.list,responsive:!0}),d.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},n&&0===this.state.totalRows?d.a.createElement(m.b,{to:"rmwb-create-funding-guide",className:"d-flex justify-content-end"},d.a.createElement("button",{className:"button-red"},"Add New Funding Guide")):null),this.state.loading?d.a.createElement("div",{className:"loading-overlay"},d.a.createElement("div",{className:"loader"})):null)}}]),n}(u.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return h}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(60),p=(a(28),a(458),a(25)),h=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={isSuccess:!1,message:"",token:localStorage.getItem("accessToken"),htmlContent:"",flaggingAttachment:"funding_analytics",loading:!1,roleName:localStorage.getItem("roleName"),isSadmin:!1},e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.setState({isSadmin:"SADMINOCTOBENCH"===this.state.roleName});var e=this.props.location.state.data;this.setState(e),e||this.props.history.push("rmwb-funding-guide")}},{key:"approve",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),t=[],a=new p.a,(n=this.state).status="approved",e.next=7,a.approveAttachment(this.state.flaggingAttachment,n);case 7:(t=e.sent)&&200===t.status&&"Succeed"===t.data.message?(this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-funding-guide",this.state),this.setState({loading:!1})):t&&t.data&&t.data.message?(this.setState({isSuccess:!1,message:t.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Save data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({loading:!0}),a=[],n=new p.a,!t.submitAndSave){e.next=22;break}if(!this.state.isSadmin){e.next=16;break}if(!window.confirm("Are you sure to submit and approve this data ?")){e.next=12;break}return t.status="submitted",e.next=9,n.updateAttachment(this.state.flaggingAttachment,t);case 9:a=e.sent,e.next=14;break;case 12:return this.setState({loading:!1}),e.abrupt("return",!1);case 14:e.next=20;break;case 16:return t.status="submitted",e.next=19,n.updateAttachment(this.state.flaggingAttachment,t);case 19:a=e.sent;case 20:e.next=48;break;case 22:if(!t.submitApprove){e.next=29;break}return t.status="approved",e.next=26,n.approveAttachment(this.state.flaggingAttachment,t);case 26:a=e.sent,e.next=48;break;case 29:if(!t.submitReject){e.next=36;break}return t.status="rejected",e.next=33,n.rejectAttachment(this.state.flaggingAttachment,t);case 33:a=e.sent,e.next=48;break;case 36:if(!t.approveDelete){e.next=43;break}return t.status="deleted",e.next=40,n.approveAttachment(this.state.flaggingAttachment,t);case 40:a=e.sent,e.next=48;break;case 43:if(!t.rejectDelete){e.next=48;break}return t.status="rejected",e.next=47,n.rejectAttachment(this.state.flaggingAttachment,t);case 47:a=e.sent;case 48:if(!a||200!==a.status||"Succeed"!==a.data.message){e.next=59;break}if(!this.state.isSadmin){e.next=54;break}return e.next=52,this.approve();case 52:e.next=57;break;case 54:this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-funding-guide",this.state),this.setState({loading:!1});case 57:e.next=60;break;case 59:a&&a.data&&a.data.message?(this.setState({isSuccess:!1,message:a.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Save data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0));case 60:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.location.state.data;return d.a.createElement("div",{id:"EditStandardPricing",className:"default-rmwb-wrapper"},this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement("h3",{className:"mb-4"},"Edit Funding Guide"),d.a.createElement(m.a,{mode:"edit",flagging:this.state.flaggingAttachment,data:e,history:this.props.history,onSubmit:this.submit.bind(this),onSubmitAndSave:this.submit.bind(this)}),this.state.loading?d.a.createElement("div",{className:"loading-overlay"},d.a.createElement("div",{className:"loader"})):null)}}]),a}(u.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return h}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(60),p=(a(28),a(458),a(25)),h=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={isSuccess:!1,message:"",is_deleted_draft:"",flaggingAttachment:"funding_analytics",token:localStorage.getItem("accessToken"),totalRows:0,perPage:10,page:1,totalPage:0,sort_by:"id",sort:"desc",loading:!1,roleName:localStorage.getItem("roleName"),isSadmin:!1},e}return Object(i.a)(a,[{key:"approve",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),a=[],n=new p.a,(r=this.state).status="approved",r.id=t,e.next=8,n.approveAttachment(this.state.flaggingAttachment,r);case 8:(a=e.sent)&&200===a.status&&"Succeed"===a.data.message?(this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-funding-guide",this.state),this.setState({loading:!1})):a&&a.data&&a.data.message?(this.setState({isSuccess:!1,message:a.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Save data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.isSadmin){e.next=21;break}if(!window.confirm("Are you sure to submit and approve this data ?")){e.next=17;break}return this.setState({loading:!0}),t.submitOnly?t.status="drafted":t.status="submitted",a=new p.a,e.next=7,a.addAttachment(this.state.flaggingAttachment,t);case 7:if(!((n=e.sent)&&n.data&&200===n.status&&n.data.message&&"Succeed"===n.data.message)){e.next=14;break}return r=n.data.data.id,e.next=12,this.approve(r);case 12:e.next=15;break;case 14:n&&n.data&&n.data.message?(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Save data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0));case 15:e.next=19;break;case 17:return this.setState({loading:!1}),e.abrupt("return",!1);case 19:e.next=28;break;case 21:return this.setState({loading:!0}),t.submitOnly?t.status="drafted":t.status="submitted",l=new p.a,e.next=26,l.addAttachment(this.state.flaggingAttachment,t);case 26:(i=e.sent)&&i.data&&200===i.status&&i.data.message&&"Succeed"===i.data.message?(this.setState({isSuccess:!0,message:"Data saved"}),this.props.history.push("rmwb-funding-guide",this.state),this.setState({loading:!0})):i&&i.data&&i.data.message?(this.setState({isSuccess:!1,message:i.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Save data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0));case 28:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentWillMount",value:function(){this.setState({isSadmin:"SADMINOCTOBENCH"===this.state.roleName}),this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),this.setState({loggedUser:localStorage.getItem("userNip")}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage)}},{key:"errorConectionToBe",value:function(){alert("Connection to Server Octobench interupted!\nPlease check your conection or contact administrator!")}},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r){var l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=!0,this.setState({loading:!0}),i=new p.a,e.next=5,i.findAllAttachmentByParam(this.state.flaggingAttachment,t,a,n,r,this.state);case 5:(o=e.sent)&&200===o.status&&o.data&&o.data.data&&o.data.data?(this.setState({list:o.data.data}),this.setState({totalRows:o.data.total_result}),this.setState({totalPage:o.data.total_page}),this.setState({loading:!1}),o.data.total_result>0&&(alert("Funding Analytics Guide already exist!"),this.props.history.push("/rmwb-funding-guide"))):(o&&o.data&&o.data.message?(this.setState({isSuccess:!1,message:o.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Get data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)),this.setState({list:[]}),this.setState({totalRows:0}),this.setState({totalPage:0}),this.setState({loading:!1})),l||this.errorConectionToBe();case 8:case"end":return e.stop()}}),e,this)})));return function(t,a,n,s){return e.apply(this,arguments)}}()},{key:"render",value:function(){return d.a.createElement("div",{id:"CreateStandardPricing",className:"default-rmwb-wrapper"},this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement("h3",{className:"mb-4"},"Add New Funding Guide"),d.a.createElement(m.a,{flagging:this.state.flaggingAttachment,history:this.props.history,onSubmit:this.submit.bind(this),onSubmitAndSave:this.submit.bind(this)}),this.state.loading?d.a.createElement("div",{className:"loading-overlay"},d.a.createElement("div",{className:"loader"})):null)}}]),a}(u.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return N}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=a(15),h=a.n(p),f=a(13),g=a(19),v=a.n(g),b=a(18),y=a(23),S=(a(667),a(21),a(42)),E=a(8),w=a(10),k=a.n(w),N=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).state={userPrivilege:[],loading:!0,token:localStorage.getItem("accessToken"),branchCodeFind:"",branchNameFind:"",list:[]},e.reset=e.reset.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(n,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")});var e=v.a.parse(this.props.location.search);this.setPage(+e.page||0,e.filter)}},{key:"componentDidUpdate",value:function(e){if(this.props.location.search!==e.location.search){var t=v.a.parse(this.props.location.search);this.setPage(+t.page||0,t.filter||null)}}},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i,o,c,u=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:0,a=u.length>1&&void 0!==u[1]?u[1]:this.state.filter,n=u.length>2&&void 0!==u[2]?u[2]:10,r=new S.a,e.next=6,r.findCompanyByParam(this.state,t,n);case 6:(l=e.sent)&&200===l.status&&l.data?(i=k()(l,"data.data.content",[]),o=k()(l,"data.data.totalElements",0),c=Math.ceil(o/10),this.setState({page:t,filter:a,list:i,totalPage:c}),this.setState({loading:!1})):l&&l.data&&E.a===l.data.data?(alert("Failed Fetch Data, please relogin."),localStorage.clear(),this.props.history.push("login")):this.setState({error:!0,errorMessage:l&&l.data?l.data.message:l,loading:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteRow",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.state.list[t],this.setState({message:null}),!window.confirm("Are you sure you want to delete data ".concat(a.name," ?"))){e.next=8;break}return n=new S.a,e.next=6,n.deleteCompany(a);case 6:200===(r=e.sent).status&&r.data.success?alert("".concat(r.data.message)):r&&r.data&&E.a===r.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):(alert("Error, ".concat(r.data.message," ! Data ").concat(a.name," can not be deleted !")),window.location=window.location.href);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"editRow",value:function(e){var t=this.state.list[e];this.props.history.push("edit-company",{data:t})}},{key:"viewDetail",value:function(e){var t=this.state.list[e];this.props.history.push("list-approval-detail",{data:t})}},{key:"search",value:function(){this.setState({loading:!0}),this.setPage(0,"")}},{key:"reset",value:function(){var e=this;this.setState({loading:!0}),h.a.findDOMNode(this.refs.form1).value="",h.a.findDOMNode(this.refs.form2).value="",this.setState({branchCodeFind:"",branchNameFind:""},(function(){setTimeout((function(){e.setPage(0,"")}),1)}))}},{key:"render",value:function(){for(var e=this,t=JSON.parse(this.state.userPrivilege)||[],n=!1,s=!1,r=!1,l=0;l<t.length;l++)"add_companySetup"===t[l].name+"_"+t[l].vgroup&&(n=!0),"update_companySetup"===t[l].name+"_"+t[l].vgroup&&(s=!0),"delete_companySetup"===t[l].name+"_"+t[l].vgroup&&(r=!0);return m.a.createElement("div",{id:"CompanyList"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?m.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,m.a.createElement("h3",null,"Company List"),m.a.createElement("div",{id:"search-menu"},m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-2"},"Company Code"),m.a.createElement("input",{className:"col-4 form-input",ref:"form1",type:"text",onChange:function(t){return e.setState({branchCodeFind:t.target.value})},defaultValue:this.state.branchCodeFind})),m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-2"},"Company Name"),m.a.createElement("input",{className:"col-4 form-input",ref:"form2",type:"text",onChange:function(t){return e.setState({branchNameFind:t.target.value})},defaultValue:this.state.branchNameFind})),m.a.createElement("div",null,m.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.search.bind(this)},"search"),m.a.createElement("button",{type:"button",className:"reset-btn btn btn-secondary btn-sm",onClick:this.reset},"reset"))),this.state.loading?m.a.createElement(b.a,null):m.a.createElement(y.a,{page:this.state.page,totalPage:this.state.totalPage,filter:this.state.filter},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,"Code"),m.a.createElement("th",null,"Name"),m.a.createElement("th",null,"Status"),s||r?m.a.createElement("th",null,"Actions"):null)),m.a.createElement("tbody",null,this.state.list.map((function(t,n){var l=k()(t,"code",""),i=k()(t,"name",""),o=k()(t,"status.name","");return m.a.createElement("tr",{key:n},m.a.createElement("td",null,l),m.a.createElement("td",null,i),m.a.createElement("td",null,o),s||r?m.a.createElement("td",null,r?m.a.createElement("input",{type:"image",alt:"Delete",height:20,className:"mr-3",src:a(67),onClick:function(){return e.deleteRow(n)}}):null,s?m.a.createElement("input",{type:"image",alt:"Edit",height:20,className:"mr-3",src:a(40),onClick:function(){return e.editRow(n)}}):null):null)})))),n?m.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},m.a.createElement(f.b,{to:"create-company"},m.a.createElement("button",{className:"button-red-small"},"ADD COMPANY"))):null)}}]),n}(d.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return f}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(237),p=(a(1541),a(8)),h=a(42),f=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={isSuccess:!1,message:"",token:localStorage.getItem("accessToken")},e}return Object(i.a)(a,[{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new h.a,e.next=3,a.addCompany(t);case 3:(n=e.sent)&&(n.data.success?(this.setState({isSuccess:!0,message:n.data.message}),this.props.history.push("company-list",this.state)):n&&n.data&&p.a===n.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0)));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return d.a.createElement("div",{id:"CreateCompany"},this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement("h3",{className:"mb-4"},"Set Up Company"),d.a.createElement(m.a,{history:this.props.history,onSubmit:this.submit.bind(this)}))}}]),a}(u.Component)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return f}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(237),p=a(8),h=(a(1543),a(10),a(42)),f=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={isSuccess:!1,message:"",token:localStorage.getItem("accessToken")},e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.props.location.state.data||this.props.history.push("company-list")}},{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new h.a,e.next=3,a.updateCompany(t);case 3:(n=e.sent)&&(n.data.success?(this.setState({isSuccess:!0,message:n.data.message}),this.props.history.push("company-list",this.state)):n&&n.data&&p.a===n.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0)));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.location.state.data;return d.a.createElement("div",{id:"EditCompany"},d.a.createElement("h3",{className:"mb-4"},"Edit Company"),this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,status:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement(m.a,{mode:"edit",data:e,history:this.props.history,onSubmit:this.submit.bind(this)}))}}]),a}(u.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return k}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=a(15),h=a.n(p),f=a(19),g=a.n(f),v=a(18),b=a(23),y=(a(1545),a(21),a(42)),S=a(8),E=a(10),w=a.n(E),k=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).state={userPrivilege:[],loading:!0,token:localStorage.getItem("accessToken"),branchCodeFind:"",branchNameFind:""},e.reset=e.reset.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(n,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")});var e=g.a.parse(this.props.location.search);this.setPage(+e.page||0,e.filter)}},{key:"componentDidUpdate",value:function(e){if(this.props.location.search!==e.location.search){var t=g.a.parse(this.props.location.search);this.setPage(+t.page||0,t.filter||null)}}},{key:"clearSession",value:function(){alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")}},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i,o,c,u=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:0,a=u.length>1&&void 0!==u[1]?u[1]:this.state.filter,n=u.length>2&&void 0!==u[2]?u[2]:10,r=new y.a,e.next=6,r.findTaskByParam(this.state,t,n);case 6:(l=e.sent)&&200===l.status&&l.data?(i=w()(l,"data.data.content",[]),o=w()(l,"data.data.totalElements",0),c=Math.ceil(o/10),this.setState({page:t,filter:a,list:i,totalPage:c}),this.setState({loading:!1})):l&&l.data&&S.a===l.data.data?alert("Failed Fetch Data, please reload."):this.setState({error:!0,errorMessage:l&&l.data?l.data.message:l,loading:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteRow",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.state.list[t],this.setState({message:null}),!window.confirm("Are you sure you want to delete data ".concat(a.name," ?"))){e.next=8;break}return n=new y.a,e.next=6,n.deleteCompany(a,this.state.token);case 6:200===(r=e.sent).status&&r.data.success?(alert("".concat(r.data.message)),window.location=window.location.href):r&&r.data&&S.a===r.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):(alert("Error, ".concat(r.data.message," ! Data ").concat(a.name," can not be deleted !")),window.location=window.location.href);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"editRow",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=this.state.list[t],n="list-approval-detail",n="EVENT"===a.entity?"view-task-detail":"MANAGE_EVENT"===a.entity?"/view-task-detail-update":"list-approval-detail",this.props.history.push(n,{data:a});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"search",value:function(){this.setState({loading:!0}),this.setPage(0,"")}},{key:"reset",value:function(){var e=this;this.setState({loading:!0}),h.a.findDOMNode(this.refs.form1).value="",h.a.findDOMNode(this.refs.form2).value="",this.setState({branchCodeFind:"",branchNameFind:""},(function(){setTimeout((function(){e.setPage(0,"")}),1)}))}},{key:"render",value:function(){for(var e=this,t=w()(this.state,"list",[]),n=JSON.parse(this.state.userPrivilege)||[],s=0;s<n.length;s++)"create_com"===n[s].name+"_"+n[s].vgroup&&!0,"update_com"===n[s].name+"_"+n[s].vgroup&&!0,"delete_com"===n[s].name+"_"+n[s].vgroup&&!0;return m.a.createElement("div",{id:"ListApproval"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?m.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,m.a.createElement("h3",null,"Task List"),this.state.loading?m.a.createElement(v.a,null):m.a.createElement(b.a,{page:this.state.page,totalPage:this.state.totalPage,filter:this.state.filter},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,"Created Date"),m.a.createElement("th",null,"Description"),m.a.createElement("th",null,"Operation"),m.a.createElement("th",null,"Modul"),m.a.createElement("th",null,"Actions"))),m.a.createElement("tbody",null,t.map((function(t,n){return m.a.createElement("tr",{key:n},m.a.createElement("td",null,t.createdAt),m.a.createElement("td",null,t.description),m.a.createElement("td",null,t.activity),m.a.createElement("td",null,t.entity),m.a.createElement("td",null,m.a.createElement("input",{type:"image",alt:"Edit",height:20,src:a(327),onClick:function(){return e.editRow(n)}})))})))))}}]),n}(d.Component)},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return O}));var n=a(43),s=a(121),r=a(93),l=a(1),i=a.n(l),o=a(2),c=a(4),u=a(3),d=a(9),m=a(6),p=a(5),h=a(0),f=a.n(h),g=(a(676),a(8)),v=a(42),b=a(377),y=a(61),S=a.n(y),E=a(711),w=a.n(E),k=a(10),N=a.n(k),C=(a(199),a(180)),A=a(248),x=a(48),O=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(c.a)(this,a),(e=t.call(this)).state={userPrivilege:[],isSuccess:!1,message:"",token:localStorage.getItem("accessToken"),companyList:[],savingAccountProductList:[],payrollccountProductList:[],productVerifications:[],enableEmployeeDbApprover:"",enableInputEmployeeApprover:"",selectedProductCodesSA:[],selectedProductCodesPR:[],defaultValueProductSA:[],defaultValueProductPR:[]},e.handleChange=e.handleChange.bind(Object(d.a)(e)),window.scrollTo(0,0),e}return Object(u.a)(a,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),this.getdataMaster(),this.getMasterProductType(x.a.SA),this.getMasterProductType(x.a.PR),window.scrollTo(0,0)}},{key:"getdataMaster",value:function(){var e=Object(o.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new v.a,e.next=3,t.getListCompany(this.state);case 3:(a=e.sent).data.success?this.setState({companyList:a.data.data}):a&&a.data&&g.a===a.data.data?(alert("Failed Fetch Data, please relogin."),localStorage.clear(),this.props.history.push("login")):(this.setState({companyList:[]}),window.scrollTo(0,0));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getMasterProductType",value:function(){var e=Object(o.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new b.a,e.next=3,a.getListProductTypes(t);case 3:(n=e.sent).data.success?t===x.a.SA?this.setState({savingAccountProductList:n.data.data}):t===x.a.PR&&this.setState({payrollccountProductList:n.data.data}):n&&n.data&&g.a===n.data.data?(alert("Failed Fetch Data, please relogin."),localStorage.clear(),this.props.history.push("login")):(this.setState({companyList:[]}),window.scrollTo(0,0));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onSubmit",value:function(){var e=Object(o.a)(i.a.mark((function e(){var t,a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,this.addSelectedProductCodes(),a=new v.a,e.next=5,a.setParamCompany(t);case 5:(n=e.sent)&&(n.data.success?(this.setState({isSuccess:!0,message:n.data.message}),this.props.history.push("company-list",this.state)):n&&n.data&&g.a===n.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"chooseCompany",value:function(){var e=Object(o.a)(i.a.mark((function e(t){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({companyId:t.target.value}),a=t.target.value,this.getPreferences(a);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getPreferences",value:function(){var e=Object(o.a)(i.a.mark((function e(t){var a,n,s,r,l,o,c,u,d,m=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=[],n=[],s=new v.a,e.next=5,s.getPreferences(t);case 5:(r=e.sent).data.success?(l=N()(r,"data.data.productVerifications",[]),S()(l,(function(e,t){var s=l[t].applicationTypeCode;s===x.a.SA?a=l[t].productCodes:s===x.a.PR&&(n=l[t].productCodes)})),o=[],c=[],S()(a,(function(e,t){var a=m.getProductBy(e,x.a.SA);a.length>0&&o.push(a[0])})),S()(n,(function(e,t){var a=m.getProductBy(e,x.a.PR);a.length>0&&c.push(a[0])})),this.setState({defaultValueProductSA:o,defaultValueProductPR:c,selectedProductCodesSA:a,selectedProductCodesPR:n}),u=N()(r,"data.data.enableEmployeeDbApprover",!1),d=N()(r,"data.data.enableInputEmployeeApprover",!1),this.setState({productVerifications:l,enableEmployeeDbApprover:u,enableInputEmployeeApprover:d})):r&&r.data&&g.a===r.data.data?(alert("Failed Fetch Data, please relogin."),localStorage.clear(),this.props.history.push("login")):window.scrollTo(0,0);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setValue",value:function(e,t,a){var l=this.state.productVerifications,i="true"===e.target.value,o={},c=[],u=l.filter((function(e){return e.applicationTypeCode===t}));0===u.length?(o=Object(r.a)({applicationTypeCode:t},"".concat(a),i),(c=Object(s.a)(l)).push(o),this.setState({productVerifications:c})):(o=Object(n.a)(Object(n.a)({},u[0]),{},Object(r.a)({},"".concat(a),i)),c=Object(s.a)(l),w()(c,(function(e){return e.applicationTypeCode===t})),c.push(o),this.setState({productVerifications:c}))}},{key:"addSelectedProductCodes",value:function(){var e=this,t=this.state.productVerifications;S()(t,(function(a,n){var s=t[n].applicationTypeCode;s===x.a.SA?t[n].productCodes=e.state.selectedProductCodesSA:s===x.a.PR?t[n].productCodes=e.state.selectedProductCodesPR:t[n].productCodes=[]}))}},{key:"handleChange",value:function(e,t){var a=this,n=[];null===e?t===x.a.SA?this.setState({selectedProductCodesSA:[],defaultValueProductSA:[]}):t===x.a.PR&&this.setState({selectedProductCodesPR:[],defaultValueProductPR:[]}):(S()(e,(function(s,r){var l=e[r].code;n.push(l),t===x.a.SA?a.setState({selectedProductCodesSA:n}):t===x.a.PR&&a.setState({selectedProductCodesPR:n})})),t===x.a.SA?this.setState({defaultValueProductSA:e}):t===x.a.PR&&this.setState({defaultValueProductPR:e}))}},{key:"setEmployee",value:function(e){var t="true"===e.target.value;this.setState({enableEmployeeDbApprover:t})}},{key:"setInputEmployeeDb",value:function(e){var t="true"===e.target.value;this.setState({enableInputEmployeeApprover:t})}},{key:"getProductBy",value:function(e,t){return t===x.a.SA?this.state.savingAccountProductList.filter((function(t){return t.code===e})):t===x.a.PR?this.state.payrollccountProductList.filter((function(t){return t.code===e})):void 0}},{key:"render",value:function(){for(var e=this,t=this.state.productVerifications,a=JSON.parse(this.state.userPrivilege)||[],s=!1,l=0;l<a.length;l++)"add_hrAccessParameter"===a[l].name+"_"+a[l].vgroup&&(s=!0);var i=[{id:1,code:!0,name:"Yes",description:"Yes"},{id:2,code:!1,name:"No",description:"No"}];i=i.map((function(e){var t=e.id,a=e.code,n=e.name;return f.a.createElement("option",{key:t,value:a},n)}));var o=this.state.companyList||[];o=o.map((function(e){var t=e.id,a=e.code,n=e.name;return f.a.createElement("option",{key:t,value:t},a," - ",n)}));var c={},u={};S()(t,(function(e,t){u={};var a=e.applicationTypeCode;S()(e,(function(e,t){u=Object(r.a)({},"".concat(a),Object(n.a)(Object(n.a)({},u["".concat(a)]),{},Object(r.a)({},"".concat(t),e)))})),c=Object(n.a)(Object(n.a)({},c),u)}));var d=N()(c,"SA",{}),m=N()(d,"allowToApply",""),p=N()(d,"ableToApplyNtb",""),h=N()(d,"ableToApplyEtb",""),g=N()(d,"enableHRReviewerNtb",""),v=N()(d,"enableHRReviewerEtb",""),b=N()(d,"enableHRApproverNtb",""),y=N()(d,"enableHRApproverEtb",""),E=N()(c,"PR",{}),w=N()(E,"allowToApply",""),k=N()(E,"ableToApplyNtb",""),O=N()(E,"ableToApplyEtb",""),j=N()(E,"enableHRReviewerNtb",""),P=N()(E,"enableHRReviewerEtb",""),_=N()(E,"enableHRApproverNtb",""),D=N()(E,"enableHRApproverEtb",""),T=Object(A.a)();return f.a.createElement("div",{id:"ParameterCompany"},this.state.isSuccess?null:f.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),f.a.createElement("h3",{className:"mb-4"},"HR Access Parameter"),f.a.createElement("div",{id:"LookupForm"},this.state.error?f.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.errorMessage):null,f.a.createElement("div",{className:"form-box-area mb-4"},f.a.createElement("div",{className:"row mb-3"},f.a.createElement("label",{className:"col-3"},"Pilih Salah Satu Perusahaan"),f.a.createElement("select",{className:"col-4 form-input",onChange:function(t){return e.chooseCompany(t)},value:this.state.companyId},f.a.createElement("option",{value:""},"Pilih"),o)),f.a.createElement("hr",null),f.a.createElement("h4",null,"Product Verification"),f.a.createElement("div",{style:{padding:10,borderRadius:10,marginTop:20}},f.a.createElement("h5",null,"Saving Account"),f.a.createElement("div",{className:"row mb-3"},f.a.createElement("label",{className:"col-3"},"Able to Apply"),f.a.createElement("select",{className:"col-3 form-input",onChange:function(t){return e.setValue(t,"SA","allowToApply")},value:m},f.a.createElement("option",{value:""},"Pilih"),i)),f.a.createElement("div",{className:"row mb-3"},f.a.createElement("label",{className:"col-3"}),f.a.createElement("label",{className:"col-2",style:{marginRight:"20px",minWidth:"20%"}},"Can Apply?"),f.a.createElement("label",{className:"col-2",style:{marginRight:"20px",minWidth:"20%"}},"Require Verifier"),f.a.createElement("label",{className:"col-2",style:{marginRight:"20px",minWidth:"20%"}},"Require Checker")),f.a.createElement("div",{className:"row mb-3"},f.a.createElement("label",{className:"col-3"},"NTB"),f.a.createElement("select",{className:"col-2 form-input",style:{marginRight:"20px",minWidth:"20%"},onChange:function(t){return e.setValue(t,"SA","ableToApplyNtb")},value:p},f.a.createElement("option",{value:""},"Pilih"),i),f.a.createElement("select",{className:"col-2 form-input",style:{marginRight:"20px",minWidth:"20%"},onChange:function(t){return e.setValue(t,"SA","enableHRReviewerNtb")},value:g},f.a.createElement("option",{value:""},"Pilih"),i),f.a.createElement("select",{className:"col-2 form-input",style:{marginRight:"20px",minWidth:"20%"},onChange:function(t){return e.setValue(t,"SA","enableHRApproverNtb")},value:b},f.a.createElement("option",{value:""},"Pilih"),i)),f.a.createElement("div",{className:"row mb-3"},f.a.createElement("label",{className:"col-3"},"ETB"),f.a.createElement("select",{className:"col-2 form-input",style:{marginRight:"20px",minWidth:"20%"},onChange:function(t){return e.setValue(t,"SA","ableToApplyEtb")},value:h},f.a.createElement("option",{value:""},"Pilih"),i),f.a.createElement("select",{className:"col-2 form-input",style:{marginRight:"20px",minWidth:"20%"},onChange:function(t){return e.setValue(t,"SA","enableHRReviewerEtb")},value:v},f.a.createElement("option",{value:""},"Pilih"),i),f.a.createElement("select",{className:"col-2 form-input",style:{marginRight:"20px",minWidth:"20%"},onChange:function(t){return e.setValue(t,"SA","enableHRApproverEtb")},value:y},f.a.createElement("option",{value:""},"Pilih"),i)),f.a.createElement("div",{className:"row mb-3"},f.a.createElement("label",{className:"col-3"},"Product Setting"),f.a.createElement(C.a,{closeMenuOnSelect:!1,components:T,value:this.state.defaultValueProductSA,isMulti:!0,getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.code},options:this.state.savingAccountProductList,className:"col-6",onChange:function(t){return e.handleChange(t,x.a.SA)}}))),f.a.createElement("hr",null),f.a.createElement("div",{style:{padding:10,borderRadius:10,marginTop:20}},f.a.createElement("h5",null,"Payroll Account"),f.a.createElement("div",{className:"row mb-3"},f.a.createElement("label",{className:"col-3"},"Able to Apply"),f.a.createElement("select",{className:"col-3 form-input",onChange:function(t){return e.setValue(t,"PR","allowToApply")},value:w},f.a.createElement("option",{value:""},"Pilih"),i)),f.a.createElement("div",{className:"row mb-3"},f.a.createElement("label",{className:"col-3"}),f.a.createElement("label",{className:"col-2",style:{marginRight:"20px",minWidth:"20%"}},"Can Apply?"),f.a.createElement("label",{className:"col-2",style:{marginRight:"20px",minWidth:"20%"}},"Require Verifier"),f.a.createElement("label",{className:"col-2",style:{marginRight:"20px",minWidth:"20%"}},"Require Checker")),f.a.createElement("div",{className:"row mb-3"},f.a.createElement("label",{className:"col-3"},"NTB"),f.a.createElement("select",{className:"col-2 form-input",style:{marginRight:"20px",minWidth:"20%"},onChange:function(t){return e.setValue(t,"PR","ableToApplyNtb")},value:k},f.a.createElement("option",{value:""},"Pilih"),i),f.a.createElement("select",{className:"col-2 form-input",style:{marginRight:"20px",minWidth:"20%"},onChange:function(t){return e.setValue(t,"PR","enableHRReviewerNtb")},value:j},f.a.createElement("option",{value:""},"Pilih"),i),f.a.createElement("select",{className:"col-2 form-input",style:{marginRight:"20px",minWidth:"20%"},onChange:function(t){return e.setValue(t,"PR","enableHRApproverNtb")},value:_},f.a.createElement("option",{value:""},"Pilih"),i)),f.a.createElement("div",{className:"row mb-3"},f.a.createElement("label",{className:"col-3"},"ETB"),f.a.createElement("select",{className:"col-2 form-input",style:{marginRight:"20px",minWidth:"20%"},onChange:function(t){return e.setValue(t,"PR","ableToApplyEtb")},value:O},f.a.createElement("option",{value:""},"Pilih"),i),f.a.createElement("select",{className:"col-2 form-input",style:{marginRight:"20px",minWidth:"20%"},onChange:function(t){return e.setValue(t,"PR","enableHRReviewerEtb")},value:P},f.a.createElement("option",{value:""},"Pilih"),i),f.a.createElement("select",{className:"col-2 form-input",style:{marginRight:"20px",minWidth:"20%"},onChange:function(t){return e.setValue(t,"PR","enableHRApproverEtb")},value:D},f.a.createElement("option",{value:""},"Pilih"),i)),f.a.createElement("div",{className:"row mb-3"},f.a.createElement("label",{className:"col-3"},"Product Setting"),f.a.createElement(C.a,{closeMenuOnSelect:!1,components:T,value:this.state.defaultValueProductPR,isMulti:!0,getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.code},options:this.state.payrollccountProductList,className:"col-6",onChange:function(t){return e.handleChange(t,x.a.PR)}}))),f.a.createElement("hr",null),f.a.createElement("div",{style:{padding:10,borderRadius:10,marginTop:30}},f.a.createElement("h5",null,"Employee Database"),f.a.createElement("div",{className:"row mb-3"},f.a.createElement("label",{className:"col-3",style:{marginRight:"20px",minWidth:"20%"}},"Module"),f.a.createElement("label",{className:"col-3",style:{marginRight:"20px",minWidth:"20%"}},"Require Checker")),f.a.createElement("div",{className:"row mb-3"},f.a.createElement("label",{className:"col-3"},"Employee Bulk Upload / Input"),f.a.createElement("select",{className:"col-3 form-input",onChange:function(t){return e.setInputEmployeeDb(t)},value:this.state.enableInputEmployeeApprover},f.a.createElement("option",{value:""},"Pilih"),i)),f.a.createElement("div",{className:"row mb-3"},f.a.createElement("label",{className:"col-3"},"Employee Status Update"),f.a.createElement("select",{className:"col-3 form-input",onChange:function(t){return e.setEmployee(t)},value:this.state.enableEmployeeDbApprover},f.a.createElement("option",{value:""},"Pilih"),i))))),s?f.a.createElement("div",{className:"d-flex justify-content-end"},f.a.createElement("button",{className:"button-red",onClick:this.onSubmit.bind(this)},"SAVE")):null)}}]),a}(h.Component)},,,,,,function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return h}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=(a(1554),a(104)),p=(a(18),a(8)),h=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={file:null,error:"",alertState:"alert alert-primary",loading:!1,token:localStorage.getItem("accessToken")},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"validate",value:function(e){return!!e.file||(this.setState({error:"Please select file to upload!",alertState:"alert alert-danger"}),!1)}},{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validate(this.state)){e.next=2;break}return e.abrupt("return");case 2:return this.setState({loading:!0}),t=new m.a,e.next=6,t.bulkUploadHr(this.state);case 6:(a=e.sent)&&200===a.status&&a.data.success?this.setState({error:a.data.message,alertState:"alert alert-primary",loading:!1}):a&&a.data&&p.a===a.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):this.setState({error:a&&a.data.message?a.data.message:"Error bulk upload Lead, Please contact Administrator",alertState:"alert alert-danger",loading:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"downloadTemplate",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=localStorage.getItem("jwtAtwork"),a=new m.a,fetch(a.downloadTemplate(),{headers:{token:t}}).then((function(e){e.blob().then((function(e){window.navigator&&window.navigator.msSaveOrOpenBlob&&window.navigator.msSaveOrOpenBlob(e,"bulk_upload_template.xlsx");var t=window.URL.createObjectURL(e),a=document.createElement("a");a.href=t,a.download="bulk_upload_template.xlsx",document.body.appendChild(a),a.click(),setTimeout((function(){document.body.removeChild(a),window.URL.revokeObjectURL(t)}),100)}))}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return d.a.createElement("div",{id:"BulkUploadEmployer"},this.state.error?d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.error):null,d.a.createElement("h3",{className:"mb-4"},"Bulk Upload HR"),d.a.createElement("div",{className:"mb-3 box-area"},d.a.createElement("div",{className:"row mb-3 box-area"},d.a.createElement("input",{type:"file",accept:".xls, .xlsx",onChange:function(t){return e.setState({file:t.target.files[0]})}}),d.a.createElement("button",{className:"button-red-small",onClick:this.submit.bind(this)},"SUBMIT")),d.a.createElement("div",null,d.a.createElement("div",{style:{textDecoration:"underline",cursor:"pointer",color:"blue"},onClick:this.downloadTemplate.bind(this)},"DOWNLOAD TEMPLATE"))))}}]),a}(u.Component)},function(e,t,a){},,,,,,,function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return C}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=a(15),h=a.n(p),f=a(13),g=a(19),v=a.n(g),b=a(18),y=a(23),S=(a(677),a(21),a(104)),E=a(8),w=a(10),k=a.n(w),N=a(100),C=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),branchCodeFind:"",branchNameFind:""},e.reset=e.reset.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(n,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")});var e=v.a.parse(this.props.location.search);this.setPage(+e.page||0,e.filter)}},{key:"componentDidUpdate",value:function(e){if(this.props.location.search!==e.location.search){var t=v.a.parse(this.props.location.search);this.setPage(+t.page||0,t.filter||null)}}},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i,o,c,u=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:0,a=u.length>1&&void 0!==u[1]?u[1]:this.state.filter,n=u.length>2&&void 0!==u[2]?u[2]:10,r=new S.a,e.next=6,r.findEmployerByParam(this.state,t,n);case 6:(l=e.sent)&&200===l.status&&l.data?(i=k()(l,"data.data.content",[]),o=k()(l,"data.data.totalElements",0),c=Math.ceil(o/10),this.setState({page:t,filter:a,list:i,totalPage:c}),this.setState({loading:!1})):l&&l.data&&E.a===l.data.data?(alert("Failed Fetch Data, please reload."),window.location.reload()):this.setState({error:!0,errorMessage:l&&l.data?l.data.message:l,loading:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteRow",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.state.list[t],this.setState({message:null}),!window.confirm("Are you sure you want to delete data ".concat(a.fullName," ?"))){e.next=8;break}return n=new S.a,e.next=6,n.deleteEmployer(a);case 6:200===(r=e.sent).status&&r.data.success?(alert("".concat(r.data.message)),window.location=window.location.href):r&&r.data&&E.a===r.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):(alert("Error, ".concat(r.data.message," ! Data ").concat(a.name," can not be deleted !")),window.location=window.location.href);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"editRow",value:function(e){var t=this.state.list[e];this.props.history.push("edit-employer",{data:t})}},{key:"search",value:function(){this.setState({loading:!0}),this.setPage(0,"")}},{key:"reset",value:function(){var e=this;this.setState({loading:!0}),h.a.findDOMNode(this.refs.form1).value="",h.a.findDOMNode(this.refs.form2).value="",this.setState({nipFind:"",companyFind:"",emailFind:"",usertypeFind:""},(function(){setTimeout((function(){e.setPage(0,"")}),1)}))}},{key:"render",value:function(){for(var e=this,t=JSON.parse(this.state.userPrivilege)||[],n=!1,s=!1,r=!1,l=0;l<t.length;l++)"add_companyHrAccess"===t[l].name+"_"+t[l].vgroup&&(n=!0),"update_companyHrAccess"===t[l].name+"_"+t[l].vgroup&&(s=!0),"delete_companyHrAccess"===t[l].name+"_"+t[l].vgroup&&(r=!0);return m.a.createElement("div",{id:"EmployerList"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?m.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,m.a.createElement("h3",null,"Company HR Access"),m.a.createElement("div",{id:"search-menu"},m.a.createElement("table",{style:{width:"100%"}},m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-3"},"NIK"),m.a.createElement("input",{className:"col-5 form-input",type:"text",ref:"form1",onChange:function(t){return e.setState({nipFind:t.target.value})},defaultValue:this.state.nipFind})),m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-3"},"Company Code"),m.a.createElement("input",{className:"col-5 form-input",type:"text",ref:"form2",onChange:function(t){return e.setState({companyFind:t.target.value})},defaultValue:this.state.companyFind}))))),m.a.createElement("div",null,m.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.search.bind(this)},"search"),m.a.createElement("button",{type:"button",className:"reset-btn btn btn-secondary btn-sm",onClick:this.reset},"reset")))),this.state.loading?m.a.createElement(b.a,null):m.a.createElement(y.a,{page:this.state.page,totalPage:this.state.totalPage,filter:this.state.filter},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,"Company Code"),m.a.createElement("th",null,"Company Name"),m.a.createElement("th",null,"NIK"),m.a.createElement("th",null,"Name"),s||r?m.a.createElement("th",null,"Actions"):null)),m.a.createElement("tbody",null,this.state.list.map((function(t,n){var l=k()(t,"company.code",""),i=k()(t,"company.name",""),o=Object(N.a)(k()(t,"nik","")),c=k()(t,"fullName","");return m.a.createElement("tr",{key:n},m.a.createElement("td",null,l),m.a.createElement("td",null,i),m.a.createElement("td",null,o),m.a.createElement("td",null,c),s||r?m.a.createElement("td",null,s?m.a.createElement("input",{type:"image",alt:"Edit",height:20,src:a(40),onClick:function(){return e.editRow(n)}}):null,r?m.a.createElement("input",{type:"image",alt:"Delete",height:20,className:"mr-3",src:a(67),onClick:function(){return e.deleteRow(n)}}):null):null)})))),n?m.a.createElement("div",{className:"row",style:{display:"flex",justifyContent:"flex-end"}},m.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},m.a.createElement(f.b,{to:"create-employer"},m.a.createElement("button",{className:"button-red-small"},"ADD HR"))),m.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},m.a.createElement(f.b,{to:"bulk-upload-employer"},m.a.createElement("button",{className:"button-red-small"},"BULK UPLOAD")))):null)}}]),n}(d.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return f}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(378),p=(a(1563),a(8)),h=a(104),f=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={isSuccess:!1,message:"",token:localStorage.getItem("accessToken")},e}return Object(i.a)(a,[{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new h.a,e.next=3,a.addEmployer(t);case 3:(n=e.sent)&&(n.data.success?(this.setState({isSuccess:!0,message:n.data.message}),this.props.history.push("employer-list",this.state)):n&&n.data&&p.a===n.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0)));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return d.a.createElement("div",{id:"CreateEmployer"},this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement("h3",{className:"mb-4"},"Create Company HR Access"),d.a.createElement(m.a,{history:this.props.history,onSubmit:this.submit.bind(this)}))}}]),a}(u.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return f}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(378),p=a(8),h=(a(1565),a(104)),f=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={isSuccess:!1,message:"",token:localStorage.getItem("accessToken")},e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.props.location.state.data||this.props.history.push("employer-list")}},{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.props.location.state.data,n=new h.a,e.next=4,n.updateEmployer(t,a);case 4:(r=e.sent)&&(r.data.success?(this.setState({isSuccess:!0,message:r.data.message}),this.props.history.push("employer-list",this.state)):r&&r.data&&p.a===r.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):(this.setState({isSuccess:!1,message:r.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0)));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.location.state.data;return d.a.createElement("div",{id:"EditEmployer"},d.a.createElement("h3",{className:"mb-4"},"Edit Company HR Access"),this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,status:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement(m.a,{mode:"edit",data:e,history:this.props.history,onSubmit:this.submit.bind(this)}))}}]),a}(u.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return C}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=a(15),h=a.n(p),f=a(19),g=a.n(f),v=(a(18),a(23)),b=(a(677),a(21),a(104)),y=a(42),S=a(8),E=a(10),w=a.n(E),k=a(199),N=a.n(k),C=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).state={userPrivilege:[],list:[],loading:!0,branchCodeFind:"",branchNameFind:"",companyList:[],companyCode:""},e.reset=e.reset.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(n,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),this.getCompany()}},{key:"componentDidUpdate",value:function(e){var t=this.state.companyCode;if(this.props.location.search!==e.location.search){var a=g.a.parse(this.props.location.search);this.setPage(+a.page||0,a.filter||null,t)}}},{key:"getCompany",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new y.a,e.next=3,t.getListCompany(this.state);case 3:(a=e.sent)&&200===a.status&&a.data&&a.data.success?this.setState({companyList:a.data.data}):a&&a.data&&S.a===a.data.data?alert("Fetch Company Data error, please reload."):this.setState({companyList:[]});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"companySelected",value:function(e){var t=e.target.value,a=this.state.companyList,n=N()(a,{code:t}),s=w()(n,"name","");this.setState({companyCode:t,companyName:s});var r=g.a.parse(this.props.location.search);this.setPage(0,r.filter,t)}},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i,o,c,u,d=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=d.length>0&&void 0!==d[0]?d[0]:0,a=d.length>1&&void 0!==d[1]?d[1]:this.state.filter,n=d.length>2?d[2]:void 0,r=d.length>3&&void 0!==d[3]?d[3]:10,l=new b.a,e.next=7,l.findEmployeeDatabase(this.state,t,n,r);case 7:(i=e.sent)&&200===i.status&&i.data?(o=w()(i,"data.data.content",[]),c=w()(i,"data.data.totalElements",0),u=Math.ceil(c/10),this.setState({page:t,filter:a,list:o,totalPage:u}),this.setState({loading:!1})):i&&i.data&&S.a===i.data.data?(alert("Failed Fetch Data, please reload."),window.location.reload()):this.setState({error:!0,errorMessage:i&&i.data?i.data.message:i,loading:!1});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"editRow",value:function(e){var t=this.state.list[e];this.props.history.push("employee-database-detail",{data:t})}},{key:"downloadTemplate",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=localStorage.getItem("jwtAtwork"),a=this.state,n=a.companyCode,r=a.companyName,l=new Date,i=String(l.getMonth()+1).padStart(2,"0")+String(l.getDate()).padStart(2,"0")+l.getFullYear(),o=new b.a,fetch(o.downloadEmployeeData(n),{headers:{token:t}}).then((function(e){e.blob().then((function(e){window.navigator&&window.navigator.msSaveOrOpenBlob&&window.navigator.msSaveOrOpenBlob(e,"employee_data.xlsx");var t=window.URL.createObjectURL(e),a=document.createElement("a");a.href=t,a.download="Database_"+r+"_"+i+".xls",document.body.appendChild(a),a.click(),setTimeout((function(){document.body.removeChild(a),window.URL.revokeObjectURL(t)}),100)}))}));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"search",value:function(){this.setState({loading:!0}),this.setPage(0,"")}},{key:"reset",value:function(){var e=this;this.setState({loading:!0}),h.a.findDOMNode(this.refs.form1).value="",h.a.findDOMNode(this.refs.form2).value="",this.setState({branchCodeFind:"",branchNameFind:""},(function(){setTimeout((function(){e.setPage(0,"")}),1)}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.companyList;t.list;return n=n.map((function(e){var t=e.id,a=e.code,n=e.name;return m.a.createElement("option",{key:t,value:a},a," - ",n)})),m.a.createElement("div",{id:"EmployerList"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?m.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,m.a.createElement("h3",null,"Employee Database"),m.a.createElement("div",{className:"row mb-5 col-12"},m.a.createElement("div",{className:"row col-10"},m.a.createElement("label",{className:"col-3"},"Pilih Salah Satu Perusahaan"),m.a.createElement("select",{className:"col-4 form-input",onChange:function(t){return e.companySelected(t)},value:this.state.companyCode},m.a.createElement("option",{value:""},"Pilih"),n)),m.a.createElement("div",{className:"row col-2",style:{textDecoration:"underline",color:"blue",cursor:"pointer"},onClick:function(){return e.downloadTemplate()}},"Download")),m.a.createElement(v.a,{page:this.state.page,totalPage:this.state.totalPage,filter:this.state.filter},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,"Nama"),m.a.createElement("th",null,"No. Handphone"),m.a.createElement("th",null,"Status Akun"),m.a.createElement("th",null,"Status Employee"),m.a.createElement("th",null,"No. Rekening"),m.a.createElement("th",null,"Actions"))),m.a.createElement("tbody",null,this.state.list.map((function(t,n){var s=w()(t,"fullName",""),r=w()(t,"mobilePhone",""),l=w()(t,"status.state",""),i=w()(t,"status.name",""),o=w()(t,"accountNumber","");return m.a.createElement("tr",{key:n},m.a.createElement("td",null,s),m.a.createElement("td",null,r),m.a.createElement("td",null,l),m.a.createElement("td",null,i),m.a.createElement("td",null,o),m.a.createElement("td",null,m.a.createElement("input",{type:"image",alt:"Edit",height:20,src:a(327),onClick:function(){return e.editRow(n)}})))})))))}}]),n}(d.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return m}));var n=a(4),s=a(3),r=a(6),l=a(5),i=a(0),o=a.n(i),c=(a(237),a(676),a(8),a(42),a(10)),u=a.n(c),d=a(100),m=function(e){Object(r.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(n.a)(this,a),(e=t.call(this)).state={isSuccess:!1,message:"",token:localStorage.getItem("accessToken"),SaChecker:"",companyList:[]},window.scrollTo(0,0),e}return Object(s.a)(a,[{key:"componentWillMount",value:function(){window.scrollTo(0,0)}},{key:"render",value:function(){var e=this,t=this.props.location.state.data,a=u()(t,"fullName",""),n=u()(t,"mobilePhone",""),s=u()(t,"email",""),r=Object(d.a)(u()(t,"nik","")),l=u()(t,"dateOfBirth",""),i=u()(t,"status.state",""),c=u()(t,"status.name",""),m=u()(t,"company.code",""),p=u()(t,"accountNumber","");return o.a.createElement("div",{id:"ParameterCompany"},o.a.createElement("h3",{className:"mb-4"},"Employee Database"),o.a.createElement("div",{id:"LookupForm"},this.state.error?o.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.errorMessage):null,o.a.createElement("div",{className:"form-box-area mb-4"},o.a.createElement("h4",null,"Employee Detail"),o.a.createElement("div",{style:{padding:10,borderRadius:10,marginTop:20}},o.a.createElement("div",{style:{marginBottom:15}},o.a.createElement("div",{style:{fontWeight:"bold"}},"NIK"),o.a.createElement("div",null,r)),o.a.createElement("div",{style:{marginBottom:15}},o.a.createElement("div",{style:{fontWeight:"bold"}},"Full Name"),o.a.createElement("div",null,a)),o.a.createElement("div",{style:{marginBottom:15}},o.a.createElement("div",{style:{fontWeight:"bold"}},"Mobile Phone"),o.a.createElement("div",null,n)),o.a.createElement("div",{style:{marginBottom:15}},o.a.createElement("div",{style:{fontWeight:"bold"}},"Email"),o.a.createElement("div",null,s)),o.a.createElement("div",{style:{marginBottom:15}},o.a.createElement("div",{style:{fontWeight:"bold"}},"Date of Birth"),o.a.createElement("div",null,l)),o.a.createElement("div",{style:{marginBottom:15}},o.a.createElement("div",{style:{fontWeight:"bold"}},"Status Akun"),o.a.createElement("div",null,i)),o.a.createElement("div",{style:{marginBottom:15}},o.a.createElement("div",{style:{fontWeight:"bold"}},"Status Employee"),o.a.createElement("div",null,c)),o.a.createElement("div",{style:{marginBottom:15}},o.a.createElement("div",{style:{fontWeight:"bold"}},"Nomor Rekening"),o.a.createElement("div",null,p))))),o.a.createElement("div",{className:"d-flex justify-content-end"},o.a.createElement("button",{className:"button-red",onClick:function(){return e.props.history.push("employee-database",{companyCode:m})}},"CANCEL")))}}]),a}(i.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return k}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=a(15),h=a.n(p),f=a(19),g=a.n(f),v=a(18),b=a(23),y=(a(667),a(21),a(42)),S=a(8),E=a(10),w=a.n(E),k=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={userPrivilege:[],loading:!0,token:localStorage.getItem("accessToken"),branchCodeFind:"",branchNameFind:"",list:[]},e.reset=e.reset.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")});var e=g.a.parse(this.props.location.search);this.setPage(+e.page||0,e.filter)}},{key:"componentDidUpdate",value:function(e){if(this.props.location.search!==e.location.search){var t=g.a.parse(this.props.location.search);this.setPage(+t.page||0,t.filter||null)}}},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i,o,c,u,d,m=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.length>0&&void 0!==m[0]?m[0]:0,a=m.length>1&&void 0!==m[1]?m[1]:this.state.filter,n=m.length>2&&void 0!==m[2]?m[2]:10,r=w()(this.props,"location.state.companyCode",""),l=w()(this.props,"location.state.type",""),i=new y.a,e.next=8,i.dataDashboardByParam(this.state,t,n,r,l);case 8:(o=e.sent)&&200===o.status&&o.data?(c=w()(o,"data.data.content",[]),u=w()(o,"data.data.totalElements",0),d=Math.ceil(u/10),this.setState({page:t,filter:a,list:c,totalPage:d}),this.setState({loading:!1})):o&&o.data&&S.a===o.data.data?(alert("Failed Fetch Data, please relogin."),localStorage.clear(),this.props.history.push("login")):this.setState({error:!0,errorMessage:o&&o.data?o.data.message:o,loading:!1});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"search",value:function(){this.setState({loading:!0}),this.setPage(0,"")}},{key:"reset",value:function(){var e=this;this.setState({loading:!0}),h.a.findDOMNode(this.refs.form1).value="",h.a.findDOMNode(this.refs.form2).value="",this.setState({branchCodeFind:"",branchNameFind:""},(function(){setTimeout((function(){e.setPage(0,"")}),1)}))}},{key:"render",value:function(){for(var e=JSON.parse(this.state.userPrivilege)||[],t="SA"===w()(this.props,"location.state.type","")?"Saving Account":"Payroll Account",a=0;a<e.length;a++)"add_companySetup"===e[a].name+"_"+e[a].vgroup&&!0,"update_companySetup"===e[a].name+"_"+e[a].vgroup&&!0,"delete_companySetup"===e[a].name+"_"+e[a].vgroup&&!0;return m.a.createElement("div",{id:"CompanyList"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?m.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,m.a.createElement("h3",null,t),this.state.loading?m.a.createElement(v.a,null):m.a.createElement(b.a,{page:this.state.page,totalPage:this.state.totalPage,filter:this.state.filter},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,"Nama"),m.a.createElement("th",null,"No. Handphone"),m.a.createElement("th",null,"Tanggal"),m.a.createElement("th",null,"Status"))),m.a.createElement("tbody",null,this.state.list.map((function(e,t){return m.a.createElement("tr",{key:t},m.a.createElement("td",null,e.user.fullName),m.a.createElement("td",null,e.user.mobilePhone),m.a.createElement("td",null,e.createdAt),m.a.createElement("td",null,e.currentStatus.name))})))))}}]),a}(d.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return k}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=a(15),h=a.n(p),f=a(7),g=a.n(f),v=a(19),b=a.n(v),y=a(18),S=a(23),E=(a(1570),a(21),a(42)),w=a(8),k=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).state={list:[],loading:!0,token:localStorage.getItem("accessToken"),userPrivilege:[],nameFind:""},e.reset=e.reset.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(n,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")});var e=b.a.parse(this.props.location.search);this.setPage(+e.page||0,e.filter)}},{key:"componentDidUpdate",value:function(e){if(this.props.location.search!==e.location.search){var t=b.a.parse(this.props.location.search);this.setPage(+t.page||0,t.filter||null)}}},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i,o=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:0,a=o.length>1&&void 0!==o[1]?o[1]:this.state.filter,n=new E.a,e.next=5,n.getListReport(this.state);case 5:(r=e.sent)&&200===r.status&&r.data&&r.data.success?(l=Object.values(r.data.data),a&&(l=l.filter((function(e){return e.toLowerCase().includes(a)}))),i=Math.ceil(l.length/10),l=l.slice(10*t,10*(t+1)),this.setState({page:t,filter:a,list:l,totalPage:i}),this.setState({loading:!1})):r&&r.data&&w.a===r.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):this.setState({error:!0,errorMessage:r&&r.data?r.data.message:r,loading:!1});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"downloadReport",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var n,r,l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("jwtAtwork"),r=this.state.list[t],l=new E.a,e.next=5,l.downloadReport(r,this.state.token);case 5:i=e.sent,console.log("pay",i),200===i.status&&(o=a(190),g.a.get(i.config.url,{headers:{token:n}}).then((function(e){o(e.data,r)})));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"search",value:function(){this.setState({loading:!0,search:!0}),this.setPage(0,"")}},{key:"reset",value:function(){var e=this;this.setState({loading:!0}),h.a.findDOMNode(this.refs.form1).value="",this.setState({nameFind:""},(function(){setTimeout((function(){e.setPage(0,"")}),1)}))}},{key:"render",value:function(){var e=this;return m.a.createElement("div",{id:"AtworkReport"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?m.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,m.a.createElement("h3",null,"Report List"),m.a.createElement("div",{id:"search-menu"},m.a.createElement("table",{style:{width:"50%"}},m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-4"},"Report Name"),m.a.createElement("input",{className:"col-6 form-input",type:"text",ref:"form1",onChange:function(t){return e.setState({nameFind:t.target.value})},defaultValue:this.state.nameFind})))))),m.a.createElement("div",null,m.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.search.bind(this)},"search"),m.a.createElement("button",{type:"button",className:"reset-btn btn btn-secondary btn-sm",onClick:this.reset},"reset"))),this.state.loading?m.a.createElement(y.a,null):m.a.createElement(S.a,{page:this.state.page,totalPage:this.state.totalPage,filter:this.state.filter},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,"No"),m.a.createElement("th",null,"Name"),m.a.createElement("th",null,"Actions"))),m.a.createElement("tbody",null,this.state.list.map((function(t,n){return m.a.createElement("tr",{key:n},m.a.createElement("td",null,e.state.page+1<=1?n+1:10*e.state.page+(n+1)),m.a.createElement("td",null,Object.values(t)),m.a.createElement("td",null,m.a.createElement("input",{type:"image",alt:"Download",height:20,src:a(169),onClick:function(){return e.downloadReport(n)}})))})))))}}]),n}(d.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return N}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=a(15),h=a.n(p),f=a(13),g=a(19),v=a.n(g),b=a(18),y=a(23),S=(a(1572),a(21),a(178)),E=a(8),w=a(10),k=a.n(w),N=(a(199),function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).state={userPrivilege:[],size:10,promoCategoryCode:"",promoCategoryName:"",list:[],loading:!0,page:"",filter:""},e.reset=e.reset.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(n,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),this.setState({loading:!0});var e=v.a.parse(this.props.location.search);void 0===e.page||"0"===e.page?this.setPage(0):"0"!==e.page&&this.props.history.push("list-promotion-category",{})}},{key:"componentDidUpdate",value:function(e){if(this.props.location.search!==e.location.search){var t=v.a.parse(this.props.location.search);this.setPage(+t.page||0,this.state.promoCategoryCode,this.state.promoCategoryName)}}},{key:"editRow",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new S.a,e.next=3,a.getPromoCategoryById(t);case 3:n=e.sent,r="",n&&200===n.status&&n.data?r=k()(n,"data.data",[]):n&&n.data&&E.a===n.data.data?(alert("Failed Fetch Data, please reload."),window.location.reload()):this.setState({error:!0,errorMessage:n&&n.data?n.data.message:n,loading:!1}),this.props.history.push("edit-promotion-category",{data:r});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var r,l,i,o,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new S.a,e.next=3,r.getListPromoCategory(t,a,n,this.state.size);case 3:(l=e.sent)&&200===l.status&&l.data?(i=k()(l,"data.data.content",[]),o=k()(l,"data.data.totalElements",0),c=Math.ceil(o/this.state.size),this.setState({page:t,list:i,totalPage:c}),this.setState({loading:!1})):l&&l.data&&E.a===l.data.data?(alert("Failed Fetch Data, please reload."),window.location.reload()):this.setState({error:!0,errorMessage:l&&l.data?l.data.message:l,loading:!1});case 5:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"search",value:function(){this.setState({loading:!0}),this.setPage(0,this.state.promoCategoryCode,this.state.promoCategoryName)}},{key:"reset",value:function(){h.a.findDOMNode(this.refs.form1).value="",h.a.findDOMNode(this.refs.form2).value="",this.setState({promoCategoryCode:"",promoCategoryName:""})}},{key:"render",value:function(){for(var e=this,t=JSON.parse(this.state.userPrivilege)||[],n=!1,s=!1,r=0;r<t.length;r++)"add_atwork_PromotionCategory"===t[r].name+"_"+t[r].vgroup&&(n=!0),"update_atwork_PromotionCategory"===t[r].name+"_"+t[r].vgroup&&(s=!0);return m.a.createElement("div",{id:"PromotionList"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?m.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,m.a.createElement("h3",null,"Promotion Category"),m.a.createElement("div",{id:"search-menu"},m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-3"},"Promotion Category Code"),m.a.createElement("input",{className:"col-4 form-input",ref:"form1",type:"text",onChange:function(t){return e.setState({promoCategoryCode:t.target.value})},defaultValue:this.state.promoCategoryCode})),m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-3"},"Promotion Category Name"),m.a.createElement("input",{className:"col-4 form-input",ref:"form2",type:"text",onChange:function(t){return e.setState({promoCategoryName:t.target.value})},defaultValue:this.state.promoCategoryName})),m.a.createElement("div",null,m.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.search.bind(this)},"search"),m.a.createElement("button",{type:"button",className:"reset-btn btn btn-secondary btn-sm",onClick:this.reset},"reset"))),this.state.loading?m.a.createElement(b.a,null):m.a.createElement(y.a,{page:this.state.page,totalPage:this.state.totalPage,filter:this.state.filter},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,"Code"),m.a.createElement("th",null,"Description"),m.a.createElement("th",null,"Name"),m.a.createElement("th",null,"Priority"),m.a.createElement("th",null,"Short Name"),m.a.createElement("th",null,"Status"),s?m.a.createElement("th",null,"Actions"):null)),m.a.createElement("tbody",null,this.state.list.map((function(t,n){var r=k()(t,"id",""),l=k()(t,"code",""),i=k()(t,"description",""),o=k()(t,"name",""),c=k()(t,"priority",""),u=k()(t,"shortName",""),d=k()(t,"status.name","");return m.a.createElement("tr",{key:n},m.a.createElement("td",null,l),m.a.createElement("td",null,i),m.a.createElement("td",null,o),m.a.createElement("td",null,c),m.a.createElement("td",null,u),m.a.createElement("td",null,d),s?m.a.createElement("td",null,m.a.createElement("input",{type:"image",alt:"Edit",height:20,className:"mr-3",src:a(40),onClick:function(){return e.editRow(r)}})):null)})))),n?m.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},m.a.createElement(f.b,{to:"create-promotion-category"},m.a.createElement("button",{className:"button-red-small"},"Create New"))):null)}}]),n}(d.Component))},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return f}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(379),p=(a(1574),a(8)),h=a(178),f=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={isSuccess:!1,message:"",token:localStorage.getItem("accessToken")},e}return Object(i.a)(a,[{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new h.a,e.next=3,a.addPromoCategory(t);case 3:(n=e.sent)&&(n.data.success?(this.setState({isSuccess:!0,message:n.data.message}),this.props.history.push("list-promotion-category",this.state)):n&&n.data&&p.a===n.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0)));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentWillMount",value:function(){for(var e=JSON.parse(localStorage.getItem("userPrivilege"))||[],t=!1,a=0;a<e.length;a++)"add_atwork_PromotionCategory"===e[a].name+"_"+e[a].vgroup&&(t=!0);!1===t&&this.props.history.push("index")}},{key:"render",value:function(){return d.a.createElement("div",{id:"CreatePromotionCategory"},this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement("h3",{className:"mb-4"},"Create New Promotion Category"),d.a.createElement(m.a,{history:this.props.history,onSubmit:this.submit.bind(this)}))}}]),a}(u.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return f}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(379),p=a(8),h=(a(1576),a(10),a(178)),f=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={isSuccess:!1,message:"",token:localStorage.getItem("accessToken")},e}return Object(i.a)(a,[{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new h.a,e.next=3,a.updatePromoCategory(t);case 3:(n=e.sent)&&(n.data.success?(this.setState({isSuccess:!0,message:n.data.message}),this.props.history.push("list-promotion-category",this.state)):n&&n.data&&p.a===n.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0)));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentWillMount",value:function(){for(var e=JSON.parse(localStorage.getItem("userPrivilege"))||[],t=!1,a=0;a<e.length;a++)"update_atwork_PromotionCategory"===e[a].name+"_"+e[a].vgroup&&(t=!0);!1===t&&this.props.history.push("index")}},{key:"render",value:function(){var e=this.props.location.state.data;return d.a.createElement("div",{id:"EditPromotionCategory"},d.a.createElement("h3",{className:"mb-4"},"Edit Promotion Category"),this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,status:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement(m.a,{mode:"edit",data:e,history:this.props.history,onSubmit:this.submit.bind(this)}))}}]),a}(u.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return N}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=a(15),h=a.n(p),f=a(13),g=a(18),v=a(23),b=a(19),y=a.n(b),S=(a(1578),a(21),a(163)),E=a(8),w=a(10),k=a.n(w),N=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).state={userPrivilege:[],size:10,promoCodeFind:"",promoTitleFind:"",list:[],loading:!0,page:"",filter:""},e.reset=e.reset.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(n,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),this.setState({loading:!0});var e=y.a.parse(this.props.location.search);void 0===e.page||"0"===e.page?this.setPage(0):"0"!==e.page&&this.props.history.push("list-promotion",{})}},{key:"componentDidUpdate",value:function(e){if(this.props.location.search!==e.location.search){var t=y.a.parse(this.props.location.search);this.setPage(+t.page||0,this.state.promoCodeFind,this.state.promoTitleFind)}}},{key:"editRow",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new S.a,e.next=3,a.getPromoById(t);case 3:n=e.sent,r="",n&&200===n.status&&n.data?r=k()(n,"data.data",[]):n&&n.data&&E.a===n.data.data?(alert("Failed Fetch Data, please reload."),window.location.reload()):this.setState({error:!0,errorMessage:n&&n.data?n.data.message:n,loading:!1}),this.props.history.push("edit-promotion",{data:r});case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var r,l,i,o,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new S.a,e.next=3,r.getListPromo(t,a,n,this.state.size);case 3:(l=e.sent)&&200===l.status&&l.data?(i=k()(l,"data.data.content",[]),o=k()(l,"data.data.totalElements",0),c=Math.ceil(o/this.state.size),this.setState({page:t,list:i,totalPage:c}),this.setState({loading:!1})):l&&l.data&&E.a===l.data.data?(alert("Failed Fetch Data, please reload."),window.location.reload()):this.setState({error:!0,errorMessage:l&&l.data?l.data.message:l,loading:!1});case 5:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"search",value:function(){this.setState({loading:!0}),this.setPage(0,this.state.promoCodeFind,this.state.promoTitleFind)}},{key:"reset",value:function(){h.a.findDOMNode(this.refs.form1).value="",h.a.findDOMNode(this.refs.form2).value="",this.setState({promoCodeFind:"",promoTitleFind:""})}},{key:"render",value:function(){for(var e=this,t=JSON.parse(this.state.userPrivilege)||[],n=!1,s=!1,r=0;r<t.length;r++)"add_atwork_Promotion"===t[r].name+"_"+t[r].vgroup&&(n=!0),"update_atwork_Promotion"===t[r].name+"_"+t[r].vgroup&&(s=!0);return m.a.createElement("div",{id:"PromotionList"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?m.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,m.a.createElement("h3",null,"Promotion"),m.a.createElement("div",{id:"search-menu"},m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-2"},"Promotion Code"),m.a.createElement("input",{className:"col-4 form-input",ref:"form1",type:"text",onChange:function(t){return e.setState({promoCodeFind:t.target.value})},defaultValue:this.state.promoCodeFind})),m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-2"},"Promotion Title"),m.a.createElement("input",{className:"col-4 form-input",ref:"form2",type:"text",onChange:function(t){return e.setState({promoTitleFind:t.target.value})},defaultValue:this.state.promoTitleFind})),m.a.createElement("div",null,m.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.search.bind(this)},"search"),m.a.createElement("button",{type:"button",className:"reset-btn btn btn-secondary btn-sm",onClick:this.reset},"reset"))),this.state.loading?m.a.createElement(g.a,null):m.a.createElement(v.a,{page:this.state.page,totalPage:this.state.totalPage,filter:this.state.filter},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,"Promotion Code"),m.a.createElement("th",null,"Promotion Title"),m.a.createElement("th",null,"Description"),m.a.createElement("th",null,"Category"),m.a.createElement("th",null,"Start Date"),m.a.createElement("th",null,"End Date"),s?m.a.createElement("th",null,"Actions"):null)),m.a.createElement("tbody",null,this.state.list.map((function(t,n){var r=k()(t,"id",""),l=k()(t,"code",""),i=k()(t,"title",""),o=k()(t,"description",""),c=k()(t,"category.name",""),u=k()(t,"startDate",""),d=k()(t,"endDate","");return m.a.createElement("tr",{key:n},m.a.createElement("td",null,l),m.a.createElement("td",null,i),m.a.createElement("td",null,o),m.a.createElement("td",null,c),m.a.createElement("td",null,u),m.a.createElement("td",null,d),s?m.a.createElement("td",null,m.a.createElement("input",{type:"image",alt:"Edit",height:20,className:"mr-3",src:a(40),onClick:function(){return e.editRow(r)}})):null)})))),n?m.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},m.a.createElement(f.b,{to:"create-promotion"},m.a.createElement("button",{className:"button-red-small"},"Create New"))):null)}}]),n}(d.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return f}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(380),p=(a(1580),a(8)),h=a(163),f=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={isSuccess:!1,message:"",token:localStorage.getItem("accessToken")},e}return Object(i.a)(a,[{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new h.a,e.next=3,a.addPromo(t);case 3:(n=e.sent)&&(n.data.success?(this.setState({isSuccess:!0,message:n.data.message}),this.props.history.push("list-promotion",this.state)):n&&n.data&&p.a===n.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0)));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentWillMount",value:function(){for(var e=JSON.parse(localStorage.getItem("userPrivilege"))||[],t=!1,a=0;a<e.length;a++)"add_atwork_Promotion"===e[a].name+"_"+e[a].vgroup&&(t=!0);!1===t&&this.props.history.push("index")}},{key:"render",value:function(){return d.a.createElement("div",{id:"CreatePromotion"},this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement("h3",{className:"mb-4"},"Create New Promotion"),d.a.createElement(m.a,{history:this.props.history,onSubmit:this.submit.bind(this)}))}}]),a}(u.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return f}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(380),p=a(8),h=(a(1582),a(10),a(163)),f=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={isSuccess:!1,message:"",token:localStorage.getItem("accessToken")},e}return Object(i.a)(a,[{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new h.a,e.next=3,a.updatePromo(t);case 3:(n=e.sent)&&(n.data.success?(this.setState({isSuccess:!0,message:n.data.message}),this.props.history.push("list-promotion",this.state)):n&&n.data&&p.a===n.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0)));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentWillMount",value:function(){for(var e=JSON.parse(localStorage.getItem("userPrivilege"))||[],t=!1,a=0;a<e.length;a++)"update_atwork_Promotion"===e[a].name+"_"+e[a].vgroup&&(t=!0);!1===t&&this.props.history.push("index")}},{key:"render",value:function(){var e=this.props.location.state.data;return d.a.createElement("div",{id:"EditPromotion"},d.a.createElement("h3",{className:"mb-4"},"Edit Promotion"),this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,status:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement(m.a,{mode:"edit",data:e,history:this.props.history,onSubmit:this.submit.bind(this)}))}}]),a}(u.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(4),s=a(3),r=a(6),l=a(5),i=a(0),o=a.n(i),c=a(13),u=a(14),d=a.n(u),m=a(16),p=a.n(m),h=a(19),f=a.n(h),g=(a(345),a(23)),v=a(66),b=a(18),y=function(e){Object(r.a)(a,e);var t=Object(l.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).onGetSuccess=function(){var e=s.props.location,t=d.a.result(e,"state.success",!1),a=d.a.result(e,"state.message","");s.setState({isSuccess:t,messageSuccess:a},(function(){window.scrollTo(0,0)}))},s.onGetListEvent=function(){s.setState({loading:!0});var e=s.state,t=e.token,a=e.employer,n=e.eventName,r=e.page,l=JSON.parse(t);Object(v.e)(r,a,n,l).then((function(e){e.success?s.setState({list:e.data.content,totalPage:e.data.totalPages}):s.setState({alertMessage:e.message}),s.setState({loading:!1})})).catch((function(e){s.setState({alertMessage:e.message,loading:!1})}))},s.onView=function(e){var t=s.props.history.push;null!==e.id&&t({pathname:"/form-event",state:{typeForm:"view",item:e}})},s.momentDate=function(e){return p.a.locale("id"),p()(e).format("dddd, DD MMMM YYYY HH:mm")},s.onChangeEmployer=function(e){return s.setState({employer:e.target.value})},s.onChangeEventName=function(e){return s.setState({eventName:e.target.value})},s.onClearFilter=function(){return s.setState({employer:"",eventName:"",page:0})},s.onSearch=function(){s.setState({page:0},(function(){s.onGetListEvent()}))},s.ButtonNew=function(){for(var e=s.state.userPrivilage,t=0;t<e.length;t++){var a=e[t].name+"_"+e[t].vgroup;"create_event"===a?s.setState({showButtonNew:!0}):"update_event"===a&&s.setState({showButtonUpdate:!0})}},s.state={loading:!1,token:localStorage.getItem("authToken"),userPrivilage:JSON.parse(localStorage.getItem("userPrivilege")),showButtonNew:!1,showButtonUpdate:!1,isSuccess:!1,messageSuccess:"",alertMessage:"",employer:"",eventName:"",page:0,totalPage:1,list:[]},s}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.onGetSuccess(),this.onGetListEvent(),this.ButtonNew()}},{key:"componentDidUpdate",value:function(e){var t=this;if(this.props.location.search!==e.location.search){var a=f.a.parse(this.props.location.search);this.setState({page:+a.page||0},(function(){t.onGetListEvent()}))}}},{key:"render",value:function(){var e=this,t=this.state,a=t.loading,n=t.isSuccess,s=t.messageSuccess,r=t.alertMessage,l=t.page,i=t.totalPage,u=t.list,d=t.eventName,m=t.employer;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"my-5"},""!==r&&o.a.createElement("div",{className:"alert alert-danger",role:"alert"},r),n&&o.a.createElement("div",{className:"alert alert-primary",role:"alert"},s)),o.a.createElement("div",null,o.a.createElement("h1",null,"Manage Event"),o.a.createElement("hr",null),o.a.createElement("p",null,"Home - ",o.a.createElement("b",null,"Manage Event"))),a?o.a.createElement(b.a,null):o.a.createElement("div",null,o.a.createElement("div",{className:"row mt-3 mb-3"},o.a.createElement("div",{className:"col-4"},o.a.createElement("h3",null,"Search Event"),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{className:"ml-3",htmlFor:"inputEmployer"},"Employer"),o.a.createElement("input",{type:"text",className:"form-control",id:"inputEmployer",placeholder:"Search Employer",value:m,onChange:this.onChangeEmployer.bind(this)})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{className:"ml-3",htmlFor:"inputEventName"},"Event Name"),o.a.createElement("input",{type:"text",className:"form-control",id:"inputEventName",placeholder:"Search Event Name",value:d,onChange:this.onChangeEventName.bind(this)})),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col"},o.a.createElement("button",{onClick:this.onSearch.bind(this),className:"btn btn-secondary mr-3"},"Search"),o.a.createElement("button",{onClick:this.onClearFilter.bind(this),className:"btn btn-secondary"},"Reset"))))),o.a.createElement("div",{className:"mt-3"},o.a.createElement(g.a,{page:l,totalPage:i},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"No."),o.a.createElement("th",null,"Employer"),o.a.createElement("th",null,"Event Name"),o.a.createElement("th",null,"Start Date"),o.a.createElement("th",null,"End Date"),o.a.createElement("th",null,"RM / PIC Name"),o.a.createElement("th",null,"Status"),o.a.createElement("th",null,"Description"),o.a.createElement("th",null,"Action"))),o.a.createElement("tbody",null,u.map((function(t,a){return o.a.createElement("tr",{key:a},o.a.createElement("td",null,a+1),o.a.createElement("td",null,t.employer.name),o.a.createElement("td",null,t.name),o.a.createElement("td",null,e.momentDate(t.startDate)),o.a.createElement("td",null,e.momentDate(t.endDate)),o.a.createElement("td",null,t.picName),o.a.createElement("td",null,t.status.name),o.a.createElement("td",null,t.description),o.a.createElement("td",null,o.a.createElement("button",{disabled:!e.state.showButtonUpdate,onClick:function(){return e.onView(t)},className:"btn btn-light"},"View")))}))))),o.a.createElement("div",{className:"mb-3 mt-3 float-right"}),this.state.showButtonNew?o.a.createElement(c.b,{to:{pathname:"/form-event",state:{typeForm:"add",item:null}}},o.a.createElement("button",{className:"button-red"},"Create New")):null)))}}]),a}(o.a.Component);t.default=y},function(e,t,a){"use strict";a.r(t);var n=a(4),s=a(3),r=a(6),l=a(5),i=a(0),o=a.n(i),c=a(16),u=a.n(c),d=a(200),m=a(391),p=a.n(m),h=a(66),f=a(18),g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return o.a.createElement("b",{className:"text-danger"},"* ",o.a.createElement("i",null,e.message))},v=function(e){return u()(e).format("DD/MM/YYYY")},b=function(e){return u()(e).isValid()?u()(e).format("YYYY-MM-DD"):""},y=function(e){return u()(e).isValid()?u()(e).format("HH:mm"):"00:00"},S=function(e){var t=e.typeForm;return o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",null,"add"===t?"Create Event":"View"),o.a.createElement("hr",null),o.a.createElement("p",null,"Home - Manage Event -"," ",o.a.createElement("b",null,"add"===t?"Create New":"View")))},E=function(e){Object(r.a)(a,e);var t=Object(l.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).onCheckEdit=function(){var e=s.props.location.state.item;null!==e&&(s.setState({formEmployer:e.employer.code,formEventName:e.name,formStartDate:b(e.startDate),formTimeStartDate:y(e.startDate),formEndDate:b(e.endDate),formTimeEndDate:y(e.endDate),formEventCode:e.code,formStatus:e.status.code,formDescription:e.description,formPICName:e.picName,formRMNoInduk:e.picNip,formMemoNumber:e.memoNumber,formMemoApprover:e.memoApproverName,formMemoDate:""!==e.memoApproverDate?b(e.memoApproverDate):"",formTimeMemoDate:""!==e.memoApproverDate?y(e.memoApproverDate):"",formMemoFile:e.memoFileName}),null===e.memoFileName&&""===e.memoFileName||Object(h.g)(e.memoFileName,s.parseToken()).then((function(e){200!==e.status?s.setState({formMemoFile:""}):s.setState({fileMemoLink:e.url})})))},s.parseToken=function(){var e=s.state.token;return JSON.parse(e)},s.onScrollToTop=function(){window.scrollTo(0,0)},s.onDownload=function(){Object(h.g)(s.state.formMemoFile,s.parseToken()).then((function(e){return e.blob().then((function(e){var t=window.URL.createObjectURL(e),a=document.createElement("a");a.href=t,a.target="_blank",a.download=s.state.formMemoFile,document.body.appendChild(a),a.click(),a.remove()}))}))},s.onGetEmployer=function(){Object(h.c)(s.parseToken()).then((function(e){e.success&&s.setState({listEmployer:e.data})}))},s.onGetStatus=function(){Object(h.h)(s.parseToken()).then((function(e){e.success&&s.setState({listStatus:e.data})}))},s.onUploadMemo=function(e){var t=s.state.formEventCode;if(t.length>0)for(var a=0;a<e.length;a++){var n=e[a];if((n.size/1024/1024).toFixed(4)<3){var r=new FormData;r.set("refNum",t),r.set("category","MEMOFILE"),r.set("type","EVENT"),r.set("subtype","DATA"),r.append("file",n),Object(h.m)(r,s.parseToken()).then((function(e){e.success?s.setState({formMemoFile:e.data}):s.setState({alertMessage:[e.message]},(function(){return s.onScrollToTop()}))})).catch((function(e){s.setState({alertMessage:[e.message]},(function(){return s.onScrollToTop()}))}))}else s.setState({alertMessage:["Attachment size exceeds the allowable limit"]},(function(){return s.onScrollToTop()}))}else{s.setState({alertMessage:["Please fill Event Code field before uploading file"]},(function(){return s.onScrollToTop()}))}},s.onSaveSubmit=function(){s.setState({loading:!0});var e=s.state,t=e.typeForm,a=e.formEmployer,n=e.formEventName,r=e.formStartDate,l=e.formTimeStartDate,i=e.formEndDate,o=e.formTimeEndDate,c=e.formEventCode,u=e.formStatus,d=e.formDescription,m=e.formPICName,p=e.formRMNoInduk,f=e.formMemoNumber,g=e.formMemoApprover,b=e.formMemoDate,y=e.formTimeMemoDate,S=e.formMemoFile,E={code:c,name:n,startDate:"".concat(v(r)," ").concat(l),endDate:"".concat(v(i)," ").concat(o),statusCode:u,description:d,employerCode:a,picName:m,picNip:p,memoNumber:f,memoApproverName:g,memoApproverDate:""!==b?"".concat(v(b)," ").concat(y):"",memoFileName:S};if(E="view"===t?Object.assign(E,{id:s.props.location.state.item.id}):E,a.length>0&&n.length>0&&r.length>0&&i.length>0&&c.length>0&&u.length>0&&d.length>0)Object(h.k)(E,s.parseToken(),"view"===t?"put":"post").then((function(e){s.setState({loading:!1},(function(){if(e.success){s.props.history.replace({pathname:"/manage-event",state:{success:!0,message:"Manage Event is Waiting for Approval"}})}else{var t=[e.message];s.setState({alertMessage:t}),s.onScrollToTop()}}))})).catch((function(e){s.setState({alertMessage:[e.message]}),s.onScrollToTop()}));else{var w=[];""===a&&w.push("Employer field is mandatory"),""===n&&w.push("Event Name field is mandatory"),""===r&&w.push("Start Date field is mandatory"),""===i&&w.push("End Date field is mandatory"),""===c&&w.push("Event Code field is mandatory"),""===u&&w.push("Status field is mandatory"),""===d&&w.push("Description field is mandatory"),s.setState({alertMessage:w,loading:!1},(function(){s.onScrollToTop()}))}},s.onCancel=function(){s.props.history.goBack()},s.state={loading:!1,token:localStorage.getItem("authToken"),typeForm:s.props.location.state.typeForm,listEmployer:[],listStatus:[],alertMessage:[],formEmployer:"",formEventName:"",formStartDate:"",formTimeStartDate:"00:00",formEndDate:"",formTimeEndDate:"00:00",formEventCode:"",formStatus:"",formDescription:"",formPICName:"",formRMNoInduk:"",formMemoNumber:"",formMemoApprover:"",formMemoDate:"",formTimeMemoDate:"00:00",formMemoFile:"",fileMemoLink:""},s}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.onGetEmployer(),this.onGetStatus(),this.onCheckEdit(),window.scrollTo(0,0)}},{key:"render",value:function(){var e=this,t=this.state,a=t.loading,n=t.alertMessage,s=t.typeForm,r=t.listEmployer,l=t.listStatus,i=t.formMemoFile;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"my-5"},n.length>0&&n.map((function(e,t){return o.a.createElement("div",{key:t,className:"alert alert-danger",role:"alert"},e)}))),o.a.createElement(S,{typeForm:s}),o.a.createElement("div",{className:"mt-3 mb-3"},o.a.createElement("ul",{className:"nav nav-tabs",id:"navCreateEvent"},o.a.createElement("li",{className:"nav-item"},o.a.createElement("p",{className:"nav-link active"},"add"===s?"Create Event":"View"))),o.a.createElement("div",{className:"tab-content"},o.a.createElement("div",{className:"tab-pane fade show active"},o.a.createElement("p",null,o.a.createElement(g,null)," Mandatory"),o.a.createElement("div",{className:"mb-3"},o.a.createElement("h3",null,"Identity"),o.a.createElement("div",{className:"form-group col-5"},o.a.createElement("label",{className:"ml-3",htmlFor:"inputEmployer"},"Employer ",o.a.createElement(g,null)),o.a.createElement("select",{className:"form-control",id:"inputEmployer",value:this.state.formEmployer,onChange:function(t){return e.setState({formEmployer:t.target.value})}},o.a.createElement("option",{value:""},"Choose The Employer"),r.map((function(e){return o.a.createElement("option",{key:e.id,value:e.code},e.name)})))),o.a.createElement("div",{className:"form-group col-5"},o.a.createElement("label",{className:"ml-3",htmlFor:"inputEventName"},"Event Name ",o.a.createElement(g,null)),o.a.createElement("input",{type:"text",className:"form-control",id:"inputEventName",placeholder:"Input The Event Name",value:this.state.formEventName,onChange:function(t){return e.setState({formEventName:t.target.value})}})),o.a.createElement("div",{className:"form-group col-5"},o.a.createElement("label",{className:"ml-3",htmlFor:"inputStartDate"},"Start Date ",o.a.createElement(g,null)),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-7"},o.a.createElement("input",{className:"form-control",type:"date",id:"inputStartDate",value:this.state.formStartDate,min:u()(new Date).format("YYYY-MM-DD"),onChange:function(t){return e.setState({formStartDate:t.target.value})}})),o.a.createElement("div",{className:"col-5"},o.a.createElement(p.a,{value:this.state.formTimeStartDate,locale:"id-id",format:"HH:mm",onChange:function(t){return e.setState({formTimeStartDate:t})}})))),o.a.createElement("div",{className:"form-group col-5"},o.a.createElement("label",{className:"ml-3",htmlFor:"inputEndDate"},"End Date ",o.a.createElement(g,null)),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-7"},o.a.createElement("input",{className:"form-control",type:"date",id:"inputEndDate",value:this.state.formEndDate,min:u()(""!==this.state.formStartDate?this.state.formStartDate:new Date).format("YYYY-MM-DD"),onChange:function(t){return e.setState({formEndDate:t.target.value})}})),o.a.createElement("div",{className:"col-5"},o.a.createElement(p.a,{value:this.state.formTimeEndDate,onChange:function(t){return e.setState({formTimeEndDate:t})},locale:"id-id",format:"HH:mm",minTime:this.state.formStartDate===this.state.formEndDate&&""!==this.state.formTimeStartDate?this.state.formTimeStartDate:"00:00"})))),o.a.createElement("div",{className:"form-group col-3"},o.a.createElement("label",{className:"ml-3",htmlFor:"inputEventCode"},"Event Code ",o.a.createElement(g,{message:"Min 6 characters"})),o.a.createElement("input",{type:"text",className:"form-control",id:"inputEventCode",placeholder:"Input Event Code",value:this.state.formEventCode,disabled:"view"===s,minLength:6,maxLength:10,onChange:function(t){return e.setState({formEventCode:t.target.value})}})),o.a.createElement("div",{className:"form-group col-3"},o.a.createElement("label",{className:"ml-3",htmlFor:"inputStatus"},"Status ",o.a.createElement(g,null)),o.a.createElement("select",{className:"form-control",id:"inputStatus",value:this.state.formStatus,onChange:function(t){return e.setState({formStatus:t.target.value})}},o.a.createElement("option",{value:""},"Choose The Status"),l.map((function(e){return o.a.createElement("option",{key:e.id,value:e.code},e.name)})))),o.a.createElement("div",{className:"form-group col-6"},o.a.createElement("label",{className:"ml-3",htmlFor:"inputEmployer"},"Description ",o.a.createElement(g,null)),o.a.createElement("textarea",{className:"form-control",placeholder:"Your Description",rows:"5",cols:"33",value:this.state.formDescription,onChange:function(t){return e.setState({formDescription:t.target.value})}}))),o.a.createElement("div",{className:"mb-3"},o.a.createElement("h3",null,"Event Data"),o.a.createElement("div",{className:"form-group col-5"},o.a.createElement("label",{className:"ml-3",htmlFor:"inputRmOrPIC"},"RM / PIC Name"),o.a.createElement("input",{type:"text",className:"form-control",id:"inputRmOrPIC",placeholder:"Fill The RM / PIC",value:this.state.formPICName,onChange:function(t){return e.setState({formPICName:t.target.value})}})),o.a.createElement("div",{className:"form-group col-5"},o.a.createElement("label",{className:"ml-3",htmlFor:"inputRmNoPegawai"},"RM Nomor Induk Pegawai"),o.a.createElement("input",{type:"text",className:"form-control",id:"inputRmNoPegawai",placeholder:"Fill RM Nomor Induk Pegawai",value:this.state.formRMNoInduk,onChange:function(t){return e.setState({formRMNoInduk:t.target.value})}})),o.a.createElement("div",{className:"form-group col-5"},o.a.createElement("label",{className:"ml-3",htmlFor:"inputMemoNumber"},"Memo Number"),o.a.createElement("input",{type:"text",className:"form-control",id:"inputMemoNumber",placeholder:"Fill Memo Number",value:this.state.formMemoNumber,onChange:function(t){return e.setState({formMemoNumber:t.target.value})}})),o.a.createElement("div",{className:"form-group col-5"},o.a.createElement("label",{className:"ml-3",htmlFor:"inputMemoApprover"},"Memo Approver Name"),o.a.createElement("input",{type:"text",className:"form-control",id:"inputMemoApprover",placeholder:"Fill Approver Name",value:this.state.formMemoApprover,onChange:function(t){return e.setState({formMemoApprover:t.target.value})}})),o.a.createElement("div",{className:"form-group col-5"},o.a.createElement("label",{className:"ml-3",htmlFor:"inputMemoDate"},"Memo Approver Date"),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-7"},o.a.createElement("input",{className:"form-control",type:"date",id:"inputeMemoDate",value:this.state.formMemoDate,max:""!==this.state.formStartDate?this.state.formStartDate:u()(new Date).format("YYYY-MM-DD"),onChange:function(t){return e.setState({formMemoDate:t.target.value})}})),o.a.createElement("div",{className:"col-5"},o.a.createElement(p.a,{value:this.state.formTimeMemoDate,locale:"id-id",format:"HH:mm",onChange:function(t){return e.setState({formTimeMemoDate:t})}}))))),o.a.createElement("div",{className:"mb-3"},o.a.createElement("h3",null,"Upload Memo"),o.a.createElement(d.a,{multiple:!1,accept:"application/pdf",onDropAccepted:this.onUploadMemo.bind(this)},(function(e){var t=e.getRootProps,a=e.getInputProps;return o.a.createElement("div",t(),o.a.createElement("label",{htmlFor:"inputFile",className:"btn btn-secondary"},"Browse File"),o.a.createElement("input",Object.assign({},a(),{type:"file",style:{display:"none"},multiple:!1})),o.a.createElement("p",null,i))})),o.a.createElement("br",null),""!==this.state.formMemoFile&&o.a.createElement("div",null,o.a.createElement("button",{className:"text-primary btn",onClick:this.onDownload},o.a.createElement("u",null,"Download File")),o.a.createElement("br",null)),o.a.createElement("small",null,"*Not Mandatory (max size 3 MB)"),o.a.createElement("br",null),o.a.createElement("small",null,"*Supported file format .pdf")),a?o.a.createElement(f.a,null):o.a.createElement("div",{className:"mt-5 mb-3"},o.a.createElement("button",{onClick:this.onCancel,className:"btn btn-secondary mr-3"},"Cancel"),o.a.createElement("button",{onClick:this.onSaveSubmit,className:"btn btn-secondary"},"add"===s?"Submit":"Edit")))))))}}]),a}(o.a.Component);t.default=E},,,,,,,,,,,,,,function(e,t,a){"use strict";a.r(t);var n=a(4),s=a(3),r=a(6),l=a(5),i=a(70),o=a(0),c=a.n(o),u=a(14),d=a.n(u),m=a(66),p=a(18),h=function(e){if(null!==e){var t=e.split(" "),a=Object(i.a)(t,2),n=a[0],s=a[1];return"".concat(n," ").concat(s)}},f=function(e,t){return e!==t},g=function(e,t){return d.a.result(e,t,"")},v=function(e){Object(r.a)(a,e);var t=Object(l.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).checkData=function(){var e=s.props.location.state.data,t=s.state.token;s.setState({loading:!0}),Object(m.j)(e.id,t).then((function(e){if(e.success){var t=e.data.newData,a=e.data.oldData,n=null===a.employerCode;s.setState({isNewData:n});var r=[{id:1,title:"Identity",data:[{id:1,title:"Employer",value:g(t,"employerCode"),updated:!n&&f(g(t,"employerCode"),g(a,"employerCode"))},{id:2,title:"Event Name",value:g(t,"name"),updated:!n&&f(g(t,"name"),g(a,"name"))},{id:3,title:"Start Date",value:h(g(t,"startDate")),updated:!n&&f(g(t,"startDate"),g(a,"startDate"))},{id:4,title:"End Date",value:h(g(t,"endDate")),updated:!n&&f(g(t,"endDate"),g(a,"endDate"))},{id:5,title:"Event Code",value:g(t,"code"),updated:!n&&f(g(t,"code"),g(a,"code"))},{id:6,title:"Status",value:g(t,"statusCode"),updated:!n&&f(g(t,"statusCode"),g(a,"statusCode"))},{id:7,title:"Description",value:g(t,"description"),updated:!n&&f(g(t,"description"),g(a,"description"))}]},{id:2,title:"Event Data",data:[{id:1,title:"RM / PIC Name",value:g(t,"picName"),updated:!n&&f(g(t,"picName"),g(a,"picName"))}]}],l=[{id:1,title:"Identity",data:[{id:1,title:"Employer",value:g(a,"employerCode"),updated:!1},{id:2,title:"Event Name",value:g(a,"name"),updated:!1},{id:3,title:"Start Date",value:h(g(a,"startDate")),updated:!1},{id:4,title:"End Date",value:h(g(a,"endDate")),updated:!1},{id:5,title:"Event Code",value:g(a,"code"),updated:!1},{id:6,title:"Status",value:g(a,"statusCode"),updated:!1},{id:7,title:"Description",value:g(a,"description"),updated:!1}]},{id:2,title:"Event Data",data:[{id:1,title:"RM / PIC Name",value:g(a,"picName"),updated:!1}]}];s.setState({list:r,listOld:l,loading:!1})}else{var i=[e.message];s.setState({alertMessage:i,loading:!1})}})).catch((function(e){var t=[e.message];s.setState({alertMessage:t,loading:!1})}))},s.onViewConfirm=function(e){var t=s.props.location.state.data,a=s.state.token;s.setState({loading:!0}),Object(m.n)(e,t.id,a).then((function(t){if(t.success){var a=s.props.history,n="";"rejected"===e?n="Rejected Data Success":"approval"===e&&(n="Approval Data Success"),a.replace({pathname:"/list-approval",state:{isSuccess:!0,message:n}});var r=[t.message];s.setState({alertMessage:r})}else{var l=[t.message];s.setState({alertMessage:l})}s.setState({loading:!1})})).catch((function(e){var t=[e.message];s.setState({alertMessage:t,loading:!1})}))},s.onCancel=function(){s.props.history.goBack()},s.state={token:JSON.parse(localStorage.getItem("authToken")),loading:!1,loadingButton:!1,list:[],listOld:[],alertMessage:[],isNewData:!1},s}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.checkData()}},{key:"render",value:function(){var e=this,t=this.state,a=t.list,n=t.listOld,s=t.loading,r=t.loadingButton,l=t.alertMessage,i=t.isNewData;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"container"},l.length>0&&l.map((function(e,t){return c.a.createElement("div",{key:t,className:"alert alert-danger my-3",role:"alert"},e)})),c.a.createElement("div",null,c.a.createElement("h1",null,"Task List"),c.a.createElement("hr",null),c.a.createElement("p",null,"Home - Task List - ",c.a.createElement("b",null,"View Details"))),c.a.createElement("div",{className:"mt-5"},c.a.createElement("h2",null,"Manage Event"),c.a.createElement("div",{className:"mt-5"},c.a.createElement("div",{className:"mt-3"},s?c.a.createElement(p.a,null):c.a.createElement("div",{className:"row"},!i&&c.a.createElement("div",{className:"col"},c.a.createElement("h3",null,"New Data"),n.map((function(e){return c.a.createElement("div",{key:e.id,className:"mb-3"},c.a.createElement("h4",null,e.title),c.a.createElement("div",{className:"row d-flex flex-wrap"},e.data.map((function(e){return c.a.createElement("div",{key:e.id,className:"col-6 mr-auto"},c.a.createElement("b",null,e.title),c.a.createElement("p",null,e.value))}))))}))),c.a.createElement("div",{className:"col"},c.a.createElement("h3",null,i?"New":"Updated"," Data"),a.map((function(e){return c.a.createElement("div",{key:e.id,className:"mb-3"},c.a.createElement("h4",null,e.title),c.a.createElement("div",{className:"row d-flex flex-wrap"},e.data.map((function(e){return c.a.createElement("div",{key:e.id,className:"col-6 mr-auto"},c.a.createElement("b",null,e.title),c.a.createElement("div",{className:"rounded ".concat(e.updated?"bg-success text-white p-1":null)},c.a.createElement("p",null,e.value)))}))))}))))))),r&&s?c.a.createElement(p.a,null):c.a.createElement("div",{className:"row mt-5 mb-5"},c.a.createElement("div",{className:"col"},c.a.createElement("button",{onClick:function(){return e.onViewConfirm("rejected")},className:"button-red mr-3"},"Reject"),c.a.createElement("button",{onClick:function(){return e.onViewConfirm("approval")},className:"button-red mr-3"},"Approve"),c.a.createElement("button",{className:"button-red mr-3",onClick:this.onCancel},"Cancel")))))}}]),a}(c.a.Component);t.default=v},function(e,t,a){"use strict";a.r(t);var n=a(4),s=a(3),r=a(6),l=a(5),i=a(0),o=a.n(i),c=a(16),u=a.n(c),d=a(14),m=a.n(d),p=a(66),h=a(18),f=function(e){if(null!==e)return u()(e).isValid()?u()(e).format("dddd, DD MMMM YYYY HH:mm"):""},g=function(e,t){return e!==t},v=function(e,t){return m.a.result(e,t,"")},b=function(e){Object(r.a)(a,e);var t=Object(l.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).onCheckFirst=function(){var e=s.props.location.state.data,t=s.state.token;s.setState({loading:!0}),Object(p.j)(e.id,t).then((function(e){if(e.success){var t=e.data.oldData,a=e.data.newData,n=e.data.applicationDetail,r=[{id:1,title:"Employer Code",value:v(t,"employerCode")},{id:2,title:"Event Name",value:v(t,"eventName")},{id:3,title:"Total Applications",value:v(t,"totalApplication")},{id:4,title:"Total applications submission hasn't been managed",value:v(t,"totalApplicationNotManaged")},{id:5,title:"Total applications submission has been managed",value:v(t,"totalApplicationManaged")},{id:6,title:"Last Date Applications",value:f(v(t,"lastDateApplication"))}],l=[{id:1,title:"Employer Code",value:v(a,"employerCode"),updated:g(v(t,"employerCode"),v(a,"employerCode"))},{id:2,title:"Event Name",value:v(a,"eventName"),updated:g(v(t,"eventName"),v(a,"eventName"))},{id:3,title:"Total Applications",value:v(a,"totalApplication"),updated:g(v(t,"totalApplication"),v(a,"totalApplication"))},{id:4,title:"Total applications submission hasn't been managed",value:v(a,"totalApplicationNotManaged"),updated:g(v(t,"totalApplicationNotManaged"),v(a,"totalApplicationNotManaged"))},{id:5,title:"Total applications submission has been managed",value:v(a,"totalApplicationManaged"),updated:g(v(t,"totalApplicationManaged"),v(a,"totalApplicationManaged"))},{id:6,title:"Last Date Applications",value:f(v(a,"lastDateApplication")),updated:g(v(t,"lastDateApplication"),v(a,"lastDateApplication"))}];s.setState({listNewData:r,listUpdateData:l,applicationDetailData:n})}else s.setState({alertMessage:[e.message]});s.setState({loading:!1})})).catch((function(e){s.setState({alertMessage:[e.message],loading:!1})}))},s.onViewConfirm=function(e){var t=s.props.location.state.data,a=s.state,n=a.token,r=a.userID,l=a.userEmail,i=a.userName,o={id:r,nik:a.userNip,email:l,fullName:i};s.setState({loading:!0}),console.log("ViewTaskDetailUpdate"),Object(p.n)(e,t.id,n,o).then((function(t){if(t.success){var a=s.props.history,n="";"rejected"===e?n="Rejected Data Success":"approval"===e&&(n="Approval Data Success"),console.log(t),"multiple"===t.data.type?a.push({pathname:"/submissionstatus",state:{poolId:t.data.poolHeaderId}}):a.replace({pathname:"/list-approval",state:{isSuccess:!0,message:n}});var r=[t.message];s.setState({alertMessage:r})}else{var l=[t.message];s.setState({alertMessage:l})}s.setState({loading:!1})})).catch((function(e){var t=[e.message];s.setState({alertMessage:t,loading:!1})}))},s.onCancel=function(){s.props.history.goBack()},s.state={loading:!1,token:JSON.parse(localStorage.getItem("authToken")),listNewData:[],listUpdateData:[],applicationDetailData:[],alertMessage:[],userID:JSON.parse(localStorage.getItem("userID")),userNip:localStorage.getItem("userNip"),userName:localStorage.getItem("userName"),userEmail:localStorage.getItem("userEmail")},s}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.onCheckFirst()}},{key:"render",value:function(){var e=this,t=this.state,a=t.listNewData,n=t.listUpdateData,s=t.applicationDetailData,r=t.loading,l=t.alertMessage;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"container"},l.length>0&&l.map((function(e,t){return o.a.createElement("div",{key:t,className:"alert alert-danger my-3",role:"alert"},e)})),o.a.createElement("div",null,o.a.createElement("h1",null,"Task List"),o.a.createElement("hr",null),o.a.createElement("p",null,"Home - Task List - ",o.a.createElement("b",null,"View Details"))),r?o.a.createElement(h.a,null):o.a.createElement("div",null,o.a.createElement("div",{className:"mt-5"},o.a.createElement("h2",null,"Manage Event Application"),o.a.createElement("div",{className:"row mt-5"},o.a.createElement("div",{className:"col"},o.a.createElement("h3",null,"Old Data"),o.a.createElement("div",{className:"row d-flex flex-wrap"},a.map((function(e){return o.a.createElement("div",{key:e.id,className:"col-6 mr-auto"},o.a.createElement("b",null,e.title),o.a.createElement("p",null,e.value))})))),o.a.createElement("div",{className:"col"},o.a.createElement("h3",null,"Update Data"),o.a.createElement("div",{className:"row d-flex flex-wrap"},n.map((function(e){return o.a.createElement("div",{key:e.id,className:"col-6 mr-auto"},o.a.createElement("b",null,e.title),o.a.createElement("div",{className:"pl-3 mr-3 rounded ".concat(e.updated?"bg-success":"")},o.a.createElement("p",null,e.value)))}))),o.a.createElement("div",{className:"mt-4"},o.a.createElement("h4",null,"Application Detail"),o.a.createElement("table",{className:"table table-striped table-bordered table-hover"},o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",null,s.branch),o.a.createElement("td",null,s.sales)))))))),o.a.createElement("div",{className:"row mt-5 mb-5"},o.a.createElement("div",{className:"col"},o.a.createElement("button",{onClick:function(){return e.onViewConfirm("rejected")},className:"button-red mr-3"},"Reject"),o.a.createElement("button",{onClick:function(){return e.onViewConfirm("approval")},className:"button-red mr-3"},"Approve"),o.a.createElement("button",{onClick:this.onCancel,className:"button-red mr-3"},"Cancel"))))))}}]),a}(o.a.Component);t.default=b},function(e,t,a){"use strict";a.r(t);var n=a(4),s=a(3),r=a(6),l=a(5),i=a(0),o=a.n(i),c=a(16),u=a.n(c),d=a(19),m=a.n(d),p=(a(345),a(23)),h=a(66),f=a(18);u.a.locale("id");var g=function(e){Object(r.a)(a,e);var t=Object(l.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).paramListEventApplication=function(){var e=s.state,t=e.formEmployerName;return{employerCode:e.formEmployerCode,employerName:t,pageNumber:e.page}},s.onCheckFirst=function(){window.scrollTo(0,0),s.onGetListEventApplication()},s.onGetListEventApplication=function(){s.setState({loading:!0});var e=s.state.token,t=s.paramListEventApplication();Object(h.f)(e,t).then((function(e){if(e.success){var t=e.data,a=t.result,n=t.resultCount,r=Math.ceil(n/10);s.setState({list:a,totalPage:r})}else s.setState({alertMessage:[e.message]});s.setState({loading:!1})})).catch((function(e){s.setState({loading:!1,alertMessage:[e.message]})}))},s.onReset=function(){s.setState({formEmployerCode:"",formEmployerName:"",page:0},(function(){s.onGetListEventApplication()}))},s.momentDate=function(e){return u()(e).isValid()||null!==e?u()(e).format("dddd, DD MMMM YYYY HH:mm"):""},s.onView=function(e){var t=s.props.history.push;null!==e.id&&t({pathname:"/view-event-application",state:{item:e}})},s.state={loading:!1,token:JSON.parse(localStorage.getItem("authToken")),formEmployerName:"",formEmployerCode:"",page:0,totalPage:1,list:[],alertMessage:[]},s}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.onCheckFirst()}},{key:"componentDidUpdate",value:function(e){var t=this;if(this.props.location.search!==e.location.search){var a=m.a.parse(this.props.location.search);this.setState({page:+a.page||0},(function(){t.onGetListEventApplication()}))}}},{key:"render",value:function(){var e=this,t=this.state,a=t.loading,n=t.page,s=t.totalPage,r=t.list,l=t.alertMessage;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"container"},l.length>0&&l.map((function(e,t){return o.a.createElement("div",{key:t,className:"alert alert-danger my-5",role:"alert"},e)})),o.a.createElement("div",null,o.a.createElement("h1",null,"Manage Event Application"),o.a.createElement("hr",null),o.a.createElement("p",null,"Home - ",o.a.createElement("b",null,"Manage Event Application"))),o.a.createElement("div",{className:"row mt-3 mb-3"},o.a.createElement("div",{className:"col-4"},o.a.createElement("h3",null,"Search Event Application"),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{className:"ml-3",htmlFor:"inputEmployer"},"Employer Code"),o.a.createElement("input",{type:"text",className:"form-control",id:"inputEmployer",placeholder:"Search Employer Code",onChange:function(t){return e.setState({formEmployerCode:t.target.value})},value:this.state.formEmployerCode})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{className:"ml-3",htmlFor:"inputEmployerName"},"Employer Name"),o.a.createElement("input",{type:"text",className:"form-control",id:"inputEmployerName",placeholder:"Search Employer Name",onChange:function(t){return e.setState({formEmployerName:t.target.value})},value:this.state.formEmployerName})),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col"},o.a.createElement("button",{className:"btn btn-secondary mr-3",onClick:this.onGetListEventApplication},"Search"),o.a.createElement("button",{className:"btn btn-secondary",onClick:this.onReset},"Reset"))))),a?o.a.createElement(f.a,null):o.a.createElement("div",null,o.a.createElement("div",{className:"mt-3"},o.a.createElement(p.a,{page:n,totalPage:s},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"No."),o.a.createElement("th",null,"Employer Code"),o.a.createElement("th",null,"Employer Name"),o.a.createElement("th",null,"Total Application"),o.a.createElement("th",null,"Total application submission hasn't been managed"),o.a.createElement("th",null,"Total application submission has been managed"),o.a.createElement("th",null,"Last Date Application"),o.a.createElement("th",null,"Action"))),o.a.createElement("tbody",null,r.map((function(t,a){return o.a.createElement("tr",{key:a},o.a.createElement("td",null,a+1),o.a.createElement("td",null,t.employerCode),o.a.createElement("td",null,t.employerName),o.a.createElement("td",null,t.totalApplication),o.a.createElement("td",null,t.totalApplicationNotManaged),o.a.createElement("td",null,t.totalApplicationManaged),o.a.createElement("td",null,e.momentDate(t.lastDateApplication)),o.a.createElement("td",null,o.a.createElement("button",{onClick:function(){return e.onView(t)},className:"btn btn-light"},"View")))}))))))))}}]),a}(o.a.Component);t.default=g},function(e,t,a){"use strict";a.r(t);var n=a(121),s=a(4),r=a(3),l=a(6),i=a(5),o=a(0),c=a.n(o),u=a(30),d=a.n(u),m=a(19),p=a.n(m),h=a(16),f=a.n(h),g=a(14),v=a.n(g),b=(a(345),a(23)),y=a(66),S=a(18),E=function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(e){var r;return Object(s.a)(this,a),(r=t.call(this,e)).onCheckFirst=function(){r.setState({loading:!0});var e=r.state.tokenAccess;Object(y.b)(e).then((function(e){if(e.success){var t=e.data;r.setState({listBranch:t})}else r.setState({alertMessage:["Please relogin to get branch code"]})})).catch((function(e){r.setState({alertMessage:[e.message]})}));var t=v.a.result(r.props.location.state,"item",null);r.setState({employerCode:t.employerCode,employerName:t.employerName,lastDateApplication:t.lastDateApplication},(function(){null===t&&void 0===t||r.onGetEventApplication()}))},r.onGetEventApplication=function(){r.setState({loading:!0,readyDownload:!1});var e=r.state,t=e.token,a=e.formSelectedStatus,s=e.page,l=e.employerCode,i="hasnot"===a?"NotManaged":"Managed";Object(y.d)(l,t,i,s).then((function(e){if(e.success){var t=r.state.listBulk,a=e.data,s=a.result,l=a.resultCount,i=Math.ceil(l/10),o=[].concat(Object(n.a)(t),Object(n.a)(s)),c=v.a.uniqBy(o,"idApplication");r.setState({list:s,listBulk:c,totalPage:i,resultCount:l},(function(){setTimeout((function(){r.setState({readyDownload:!0})}),1)}))}else r.setState({alertMessage:[e.message]});r.setState({loading:!1})})).catch((function(e){r.setState({loading:!1,alertMessage:[e.message]})}))},r.onCloseModal=function(){return r.setState({showModal:!1,selectedForm:null})},r.onShowModal=function(){return r.setState({showModal:!0})},r.handleCheckAll=function(e){var t=r.state.listBulk;t.forEach((function(t){return t.isChecked=e.target.checked})),r.setState({listBulk:t})},r.handleCheckOne=function(e){var t=r.state.listBulk;t.forEach((function(t){t.refNumber===e.target.value&&(t.isChecked=e.target.checked)})),r.setState({listBulk:t})},r.momentDate=function(e){return f.a.locale("id"),f()(e).isValid()?f()(e).format("dddd, DD MMMM YYYY HH:mm"):""},r.onChangeBranch=function(e,t){var a=e.target.value;""!==a?r.setState({formSelectedBranch:a,selectedForm:t}):r.setState({selectedForm:null,formSalesCode:""})},r.onBack=function(){(0,r.props.history.goBack)()},r.onDownload=function(){var e=r.state,t=e.token,a=e.employerCode,n="hasnot"===e.formSelectedStatus?"notmanaged":"managed";Object(y.a)(a,t,n).then((function(e){if(200===e.status)return e.blob().then((function(e){var t=window.URL.createObjectURL(e),n=document.createElement("a");n.href=t,n.target="_blank",n.download="event_application_".concat(a,".xls"),document.body.appendChild(n),n.click(),n.remove()}))}))},r.onSubmit=function(e){r.setState({selectedForm:e}),r.onShowModal()},r.onEndSubmit=function(){r.setState({loading:!0});var e=r.state,t=e.selectedForm,a=e.list,n=e.formSelectedBranch,s=e.formSalesCode,l=e.token,i=e.employerCode,o=e.lastDateApplication,c=e.userID,u=e.userName,d=e.userNip,m=e.userEmail,p=e.listBranch,h=a[t],f=v.a.find(p,(function(e){return e.code===n})),g={branchCode:f.code,branchName:f.name,salesCode:s},b={id:c,nik:d,email:m,fullName:u},S={employerCode:i,lastDateApplication:o,eventApplicationDetails:[Object.assign(h,g)]};Object(y.l)(S,l,b).then((function(e){window.scrollTo(0,0),e.success?r.setState({successMessage:"Submit Event Application is Waiting for Approval",showModal:!1,loading:!1,page:0},(function(){r.onGetEventApplication()})):r.setState({alertMessage:[e.message],showModal:!1,loading:!1})})).catch((function(e){window.scrollTo(0,0),r.setState({alertMessage:[e.message],showModal:!1,loading:!1})}))},r.onBulk=function(){var e=r.state,t=e.listBulk,a=e.listBranch,n=v.a.result(r.props.location.state,"item",null),s=[],l=!1;t.map((function(e){return e.isChecked?s.push(e):null}));for(var i=0;i<s.length;i++){if(s[0].eventCode!==s[i].eventCode){l=!1;break}l=!0}l?r.props.history.push({pathname:"/view-event-bulk",state:{item:s,listBranch:a,dataFirst:n}}):0===s.length?(r.setState({alertMessage:["Gagal submit, tidak ada list yang dipilih"]}),window.scrollTo(0,0)):(r.setState({alertMessage:["Gagal submit, event code tidak sama."]}),window.scrollTo(0,0))},r.ButtonShow=function(){var e=r.state.userPrivilage;console.log(e);for(var t=0;t<e.length;t++){"submit_event_application"===e[t].name+"_"+e[t].vgroup&&r.setState({showSubmit:!0})}},r.state={loading:!1,userPrivilage:JSON.parse(localStorage.getItem("userPrivilege")),token:JSON.parse(localStorage.getItem("authToken")),tokenAccess:localStorage.getItem("accessToken"),userID:JSON.parse(localStorage.getItem("userID")),userNip:localStorage.getItem("userNip"),userName:localStorage.getItem("userName"),userEmail:localStorage.getItem("userEmail"),showModal:!1,showSubmit:!1,page:0,totalPage:1,resultCount:0,list:[],listBulk:[],employerCode:"",employerName:"",lastDateApplication:"",listStatus:[{id:1,title:"Hasn't been managed",value:"hasnot"},{id:2,title:"has been managed",value:"has"}],listBranch:[],selectedForm:null,formSelectedStatus:"hasnot",formSelectedBranch:"",formSalesCode:"",alertMessage:[],successMessage:"",readyDownload:!1},r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.onCheckFirst(),this.ButtonShow()}},{key:"componentDidUpdate",value:function(e){var t=this;if(this.props.location.search!==e.location.search){var a=p.a.parse(this.props.location.search);this.setState({page:+a.page||0},(function(){t.onGetEventApplication()}))}}},{key:"render",value:function(){var e=this,t=this.state,a=t.loading,n=t.page,s=t.totalPage,r=t.list,l=t.listBulk,i=t.employerCode,o=t.employerName,u=t.listStatus,m=t.listBranch,p=t.showModal,h=t.selectedForm,f=t.formSelectedStatus,g=t.formSelectedBranch,v=t.formSalesCode,y=t.alertMessage,E=t.successMessage,k=t.readyDownload,N=t.showSubmit;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"my-5"},y.length>0&&y.map((function(e,t){return c.a.createElement("div",{key:t,className:"alert alert-danger",role:"alert"},e)})),""!==E&&c.a.createElement("div",{className:"alert alert-primary",role:"alert"},E)),c.a.createElement("div",null,c.a.createElement("h1",null,"View"),c.a.createElement("hr",null),c.a.createElement("p",null,"Home - Manage Event Application - ",c.a.createElement("b",null,"View"))),c.a.createElement("div",{className:"row col-8 mt-3 mb-3 d-flex flex-row align-items-end"},c.a.createElement("h2",{className:"mr-3"},o),c.a.createElement("p",null,c.a.createElement("b",null,"Employer Code"),": ",i)),c.a.createElement("div",{className:"row mt-3 align-items-center"},c.a.createElement("div",{className:"col-4"},c.a.createElement("div",{className:"form-group"},c.a.createElement("label",{htmlFor:"inputFilterStatus"},"Filter Status"),c.a.createElement("select",{className:"form-control",value:f,onChange:function(t){return e.setState({formSelectedStatus:t.target.value,list:[],listBulk:[],page:0,totalPage:0},(function(){e.onCheckFirst()}))}},u.map((function(e){return c.a.createElement("option",{key:e.id,value:e.value},e.title)}))))),c.a.createElement("div",{className:"col"}),c.a.createElement("div",{className:"col-3"},c.a.createElement("div",{className:"d-flex flex-row justify-content-end align-items-center"},N&&c.a.createElement("button",{onClick:this.onBulk,className:"btn btn-secondary"},"Bulk"),k&&c.a.createElement("button",{onClick:this.onDownload,className:"btn btn-light ml-3"},c.a.createElement("i",{className:"fa fa-download text-secondary"}))))),a?c.a.createElement(S.a,null):c.a.createElement("div",null,c.a.createElement("div",{className:"mt-3"},c.a.createElement(b.a,{page:n,totalPage:s},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"No."),c.a.createElement("th",null,"hasnot"===f?c.a.createElement("div",null,c.a.createElement("input",{type:"checkbox",onClick:this.handleCheckAll.bind(this),value:"checkall",disabled:!N})):null,"Name"),c.a.createElement("th",null,"Ref. Number"),c.a.createElement("th",null,"Mobile Phone"),c.a.createElement("th",null,"Event Code"),c.a.createElement("th",null,"Submitted Date"),c.a.createElement("th",null,"District / Domicile City"),c.a.createElement("th",null,"Branch"),c.a.createElement("th",null,"Sales Code"),c.a.createElement("th",null,"Action"))),c.a.createElement("tbody",null,r.map((function(t,a){return c.a.createElement("tr",{key:a},c.a.createElement("td",null,10*n+1+a),c.a.createElement("td",null,"hasnot"===f?c.a.createElement("input",{onClick:e.handleCheckOne.bind(e),type:"checkbox",key:a,disabled:!N,checked:l[a].idApplication===t.idApplication&&l[a].isChecked,value:t.refNumber}):null,t.name),c.a.createElement("td",null,t.refNumber),c.a.createElement("td",null,t.mobilePhone),c.a.createElement("td",null,t.eventCode),c.a.createElement("td",null,e.momentDate(t.submitDate)),c.a.createElement("td",null,t.city),c.a.createElement("td",null,"hasnot"===f?c.a.createElement("div",{className:"form-group"},c.a.createElement("select",{className:"form-control",value:h===a?g:"",disabled:!N,onChange:function(t){return e.onChangeBranch(t,a)}},c.a.createElement("option",{value:""},"Select"),m.map((function(e,t){return c.a.createElement("option",{key:t,value:e.code},e.name)})))):t.branchCode),c.a.createElement("td",null,"hasnot"===f?c.a.createElement("div",{className:"form-group"},c.a.createElement("input",{type:"text",className:"form-control",placeholder:"Input Code",onChange:function(t){return e.setState({formSalesCode:t.target.value})},value:h===a?v:"",disabled:h!==a})):t.salesCode),c.a.createElement("td",null,c.a.createElement("button",{onClick:function(){return e.onSubmit(a)},disabled:h!==a||0===v.length,className:"btn btn-light text-secondary"},"Submit")))})))))),c.a.createElement("div",{className:"my-3"},c.a.createElement("button",{onClick:this.onBack,className:"button-red"},"Back")),c.a.createElement(d.a,{contentLabel:"onSubmit Item",overlayClassName:"Overlay",style:w,isOpen:p,onRequestClose:this.onCloseModal},c.a.createElement("div",{className:"card text-center"},c.a.createElement("div",{className:"card-header"},c.a.createElement("h5",{className:"card-title"},"Confirmation")),c.a.createElement("div",{className:"card-body"},c.a.createElement("p",null,"Are you sure?"),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col"},c.a.createElement("button",{onClick:this.onCloseModal,className:"btn btn-secondary rounded-pill px-5 py-2"},"No")),c.a.createElement("div",{className:"col"},c.a.createElement("button",{onClick:this.onEndSubmit,className:"btn btn-secondary rounded-pill px-5 py-2"},"Yes"))))))))}}]),a}(c.a.Component);t.default=E;var w={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}}},function(e,t,a){"use strict";a.r(t);var n=a(4),s=a(3),r=a(6),l=a(5),i=a(0),o=a.n(i),c=a(30),u=a.n(c),d=a(16),m=a.n(d),p=a(14),h=a.n(p),f=(a(345),a(66)),g=a(18),v=function(e){Object(r.a)(a,e);var t=Object(l.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).onOpenModal=function(){return s.setState({showModal:!0})},s.onCloseModal=function(){return s.setState({showModal:!1})},s.onCheckFirst=function(){var e=s.props.location.state,t=e.item,a=e.listBranch,n=e.dataFirst;s.setState({list:t,listBranch:a,dataFirst:n})},s.momentDate=function(e){return m.a.locale("id"),m()(e).format("dddd, DD MMMM YYYY HH:mm")},s.onBack=function(){s.props.history.goBack()},s.onSubmit=function(){s.setState({loading:!0});var e=s.state,t=e.list,a=e.formBranchCode,n=e.formSalesCode,r=e.token,l=e.dataFirst,i=e.userID,o=e.userName,c=e.userEmail,u=e.userNip,d=e.listBranch,m=h.a.find(d,(function(e){return e.code===a})),p={branchCode:m.code,branchName:m.name,salesCode:n},g=[];t.map((function(e){var t=Object.assign(e,p);return g.push(t),0}));var v={employerCode:l.employerCode,lastDateApplication:l.lastDateApplication,eventApplicationDetails:g},b={id:i,nik:u,email:c,fullName:o};Object(f.l)(v,r,b).then((function(e){e.success?s.setState({successMessage:"Submit Event Application is Waiting for Approval",showModal:!1,loading:!1}):s.setState({alertMessage:[e.message],showModal:!1,loading:!1})})).catch((function(e){s.setState({alertMessage:[e.message],showModal:!1,loading:!1})}))},s.state={token:JSON.parse(localStorage.getItem("authToken")),userID:JSON.parse(localStorage.getItem("userID")),userNip:localStorage.getItem("userNip"),userName:localStorage.getItem("userName"),userEmail:localStorage.getItem("userEmail"),showModal:!1,list:[],listBranch:[],dataFirst:null,formBranchCode:"",formSalesCode:"",alertMessage:[],successMessage:"",loading:!1},s}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.onCheckFirst()}},{key:"render",value:function(){var e=this,t=this.state,a=t.list,n=t.listBranch,s=t.formSalesCode,r=t.showModal,l=t.loading,i=t.alertMessage,c=t.successMessage;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"my-5"},i.length>0&&i.map((function(e,t){return o.a.createElement("div",{key:t,className:"alert alert-danger",role:"alert"},e)})),""!==c&&o.a.createElement("div",{className:"alert alert-primary",role:"alert"},c)),o.a.createElement("div",null,o.a.createElement("h1",null,"View"),o.a.createElement("hr",null),o.a.createElement("p",null,"Home - Manage Event Application - ",o.a.createElement("b",null,"View"))),o.a.createElement("div",{className:"mt-3 p-5",style:{borderStyle:"dashed",borderColor:"gray",borderWidth:2}},o.a.createElement("p",null,"Anda akan melakukan pemilihan ",o.a.createElement("b",null,"bulk pada nasabah")),o.a.createElement("table",{className:"table table-striped"},o.a.createElement("thead",{className:"thead-dark"},o.a.createElement("tr",null,o.a.createElement("th",null,"No."),o.a.createElement("th",null,"Name"),o.a.createElement("th",null,"Ref. Number"),o.a.createElement("th",null,"Mobile Phone"),o.a.createElement("th",null,"Event Code"),o.a.createElement("th",null,"Submitted Date"),o.a.createElement("th",null,"District / Domicile City"))),o.a.createElement("tbody",null,a.map((function(e,t){return o.a.createElement("tr",{key:e.id},o.a.createElement("td",null,t+1),o.a.createElement("td",null,e.name),o.a.createElement("td",null,e.refNumber),o.a.createElement("td",null,e.mobilePhone),o.a.createElement("td",null,e.eventCode),o.a.createElement("td",null,e.submitDate),o.a.createElement("td",null,e.city))})))),o.a.createElement("div",{className:"row col-6 mt-5"},o.a.createElement("div",{className:"col"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{className:"text-secondary"},"Branch"),o.a.createElement("select",{className:"form-control",onChange:function(t){return e.setState({formBranchCode:t.target.value})}},o.a.createElement("option",{value:""},"Choose Branch"),n.map((function(e,t){return o.a.createElement("option",{key:t,value:e.code},e.name)}))))),o.a.createElement("div",{className:"col"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{className:"text-secondary"},"Sales Code"),o.a.createElement("input",{type:"text",className:"form-control",placeholder:"Input Code",onChange:function(t){return e.setState({formSalesCode:t.target.value})},value:s}))))),l?o.a.createElement(g.a,null):o.a.createElement("div",{className:"mt-5 d-flex flex-row col-4"},o.a.createElement("button",{onClick:this.onBack,className:"button-red mr-3"},"Back"),o.a.createElement("button",{onClick:this.onOpenModal,className:"button-red"},"Submit")),o.a.createElement(u.a,{overlayClassName:"Overlay",isOpen:r,style:b,onRequestClose:this.onCloseModal},o.a.createElement("div",{className:"card text-center"},o.a.createElement("div",{className:"card-header"},o.a.createElement("h5",{className:"card-title"},"Confirmation")),o.a.createElement("div",{className:"card-body"},o.a.createElement("p",null,"Are you sure?"),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col"},o.a.createElement("button",{onClick:this.onCloseModal,className:"btn btn-secondary rounded-pill px-5 py-2"},"No")),o.a.createElement("div",{className:"col"},o.a.createElement("button",{onClick:this.onSubmit,className:"btn btn-secondary rounded-pill px-5 py-2"},"Yes"))))))))}}]),a}(o.a.Component);t.default=v;var b={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}}},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return y}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(9),o=a(3),c=a(6),u=a(5),d=a(0),m=a.n(d),p=a(289),h=a.n(p),f=(a(285),a(679),a(18)),g=a(94),v=a(179),b=a(131),y=(a(19),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;Object(l.a)(this,a),(n=t.call(this,e)).tableChangeHandler=function(e){n.state.pageSize!=e.page_size&&(e.page_number=1);var t=Object.keys(e).map((function(t){return"sort_order"===t&&e[t]?encodeURIComponent("sort_order")+"="+encodeURIComponent(e[t].order)+"&"+encodeURIComponent("sort_column")+"="+encodeURIComponent(e[t].column):encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&");n.getData(t)},n.testConnection=function(e){(new b.a).testConnection(e.id)},n.editRecord=function(e,t){n.props.history.push({pathname:"/dbconnection-edit",state:{id:e.id,code:e.code,username:e.username,password:e.password,driverString:e.driverString,url:e.url}})},n.deleteRecord=function(e,t){n.setState({id:e.id,showModalConfirm:!0})},n.hideConfirmDelete=function(){n.setState({showModalConfirm:!1})};for(var s=JSON.parse(localStorage.getItem("userPrivilege"))||[],r=!1,o=!1,c=!1,u=0;u<s.length;u++)"update_dbConenction"===s[u].name+"_"+s[u].vgroup&&(r=!0),"delete_dbConenction"===s[u].name+"_"+s[u].vgroup&&(o=!0),"test_dbConenction"===s[u].name+"_"+s[u].vgroup&&(c=!0);return n.columns=[{key:"noUrut",text:"#",width:50,TrOnlyClassName:"bg-gray text-center",className:"bg-gray text-left",cell:function(e,t){return t+1+"."}},{key:"id",text:"ID",sortable:!0},{key:"code",text:"Code",sortable:!0},{key:"username",text:"Username",sortable:!0},{key:"password",text:"Password"},{key:"driverString",text:"Driver String"},{key:"url",text:"URL"},{key:"action",text:"Action",width:80,TrOnlyClassName:"text-center",className:"text-center",cell:function(e,t){return m.a.createElement(d.Fragment,null,c?m.a.createElement("button",{title:"Test Connection",className:"btn btn-dark btn-sm",onClick:n.testConnection.bind(Object(i.a)(n),e),style:{marginRight:"5px"}},m.a.createElement("i",{className:"fa fa-plug"})):null,r?m.a.createElement("button",{title:"Edit",className:"btn btn-warning btn-sm",onClick:n.editRecord.bind(Object(i.a)(n),e,t),style:{marginRight:"5px"}},m.a.createElement("i",{className:"fa fa-pencil"})):null,o?m.a.createElement("button",{title:"Delete",className:"btn btn-danger btn-sm",onClick:n.deleteRecord.bind(Object(i.a)(n),e,t)},m.a.createElement("i",{className:"fa fa-close"})):null)}}],n.config={page_size:10,length_menu:[10,20,50],show_filter:!0,show_pagination:!0,pagination:"advance"},n.state={id:0,showModalConfirm:!1,pageSize:10,total:0,loading:!0,records:[],userPrivilege:localStorage.getItem("userPrivilege")},n.onConfirmDelete=n.onConfirmDelete.bind(Object(i.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){for(var e=JSON.parse(this.state.userPrivilege)||[],t=!1,a=0;a<e.length;a++)"add_dbConenction"===e[a].name+"_"+e[a].vgroup&&(t=!0);return m.a.createElement("div",{className:"container-fluid",style:{paddingTop:10,paddingBottom:10}},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-md-6"},m.a.createElement("h4",{style:{fontWeight:"bold"}},"DBConnection - List")),m.a.createElement("div",{className:"col-md-6"},m.a.createElement("div",{className:"float-right"},t?m.a.createElement("a",{title:"Add",className:"btn btn-primary btn-sm",href:"dbconnection-add"},m.a.createElement("i",{className:"fa fa-plus faa-vertical"})):null))),m.a.createElement("hr",null),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-sm-12 offset-sm-12col-md-12"},this.state.loading?m.a.createElement(f.a,null):m.a.createElement(h.a,{className:"table table-striped table-bordered",config:this.config,records:this.state.records,columns:this.columns,dynamic:!0,total_record:this.state.total,onChange:this.tableChangeHandler}))),m.a.createElement(g.a,{show:this.state.showModalConfirm,onHide:this.hideConfirmDelete},m.a.createElement(g.a.Header,{closeButton:!0},m.a.createElement(g.a.Title,null,"Confirmation")),m.a.createElement(g.a.Body,null,m.a.createElement("p",null,"Are you sure?")),m.a.createElement(g.a.Footer,null,m.a.createElement(v.a,{variant:"secondary",onClick:this.hideConfirmDelete},"Cancel"),m.a.createElement(v.a,{variant:"danger",onClick:this.onConfirmDelete},"Ok"))))}}]),Object(o.a)(a,[{key:"componentDidMount",value:function(){this.getData(),window.scrollTo(1e3,0)}},{key:"getData",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",a=new b.a,e.next=4,a.list(t);case 4:200===(n=e.sent).status?this.setState({total:n.data.data.recordsTotal,records:n.data.data.records,loading:!1}):alert(n.message);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onConfirmDelete",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.id,a=new b.a,e.next=4,a.delete(t);case 4:n=e.sent,this.hideConfirmDelete(),200===n.status?(n.data.success&&(this.setState({id:0}),this.getData()),alert(n.data.message)):alert(n.message);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),a}(d.Component))},,,,,,,,function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return h}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=(a(285),a(131)),h=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleSubmit=n.handleSubmit.bind(Object(o.a)(n)),n}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return m.a.createElement("div",{className:"container-fluid",style:{paddingTop:10,paddingBottom:10}},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-md-12"},m.a.createElement("h4",{style:{fontWeight:"bold"}},"DB Connection - Edit"))),m.a.createElement("hr",null),m.a.createElement("form",{onSubmit:this.handleSubmit},m.a.createElement("div",{className:"form-group"},m.a.createElement("label",{htmlFor:"id"},"ID:"),m.a.createElement("input",{type:"text",className:"form-control",id:"id",name:"id",readOnly:!0,ref:function(t){return e.id=t},defaultValue:this.props.location.state.id||""})),m.a.createElement("div",{className:"form-group"},m.a.createElement("label",{htmlFor:"code"},"Code:"),m.a.createElement("input",{type:"text",className:"form-control",id:"code",name:"code",ref:function(t){return e.code=t},defaultValue:this.props.location.state.code||""})),m.a.createElement("div",{className:"form-group"},m.a.createElement("label",{htmlFor:"username"},"Username:"),m.a.createElement("input",{type:"text",className:"form-control",id:"username",name:"username",ref:function(t){return e.username=t},defaultValue:this.props.location.state.username||""})),m.a.createElement("div",{className:"form-group"},m.a.createElement("label",{htmlFor:"password"},"Password:"),m.a.createElement("input",{type:"password",className:"form-control",id:"password",name:"password",ref:function(t){return e.password=t},defaultValue:this.props.location.state.password||""})),m.a.createElement("div",{className:"form-group"},m.a.createElement("label",{htmlFor:"driverString"},"Driver String:"),m.a.createElement("input",{type:"text",className:"form-control",id:"driverString",name:"driverString",ref:function(t){return e.driverString=t},placeholder:"com.sample.jdbc.Driver",defaultValue:this.props.location.state.driverString||""})),m.a.createElement("div",{className:"form-group"},m.a.createElement("label",{htmlFor:"url"},"URL:"),m.a.createElement("input",{type:"text",className:"form-control",id:"url",name:"url",ref:function(t){return e.url=t},placeholder:"jdbc:mysql://localhost:3306/sample",defaultValue:this.props.location.state.url||""})),m.a.createElement("div",{className:"form-group pull-right"},m.a.createElement("div",null,m.a.createElement("a",{href:"/dbconnection-list",className:"btn btn-danger",style:{marginRight:5}},"Cancel"),m.a.createElement("button",{className:"btn btn-primary"},"Submit")))))}},{key:"componentWillMount",value:function(){this.props.location.state.key}},{key:"handleSubmit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={id:this.id.value,code:this.code.value,username:this.username.value,password:this.password.value,driverString:this.driverString.value,url:this.url.value},n=new p.a,e.next=5,n.save(a);case 5:200===(r=e.sent).status?r.data.success?(alert(r.data.message),this.props.history.push("/dbconnection-list?message="+r.data.message)):alert(r.data.message):alert(r.message);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),a}(d.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return h}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(9),o=a(3),c=a(6),u=a(5),d=a(0),m=a.n(d),p=(a(289),a(285),a(18),a(131)),h=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleSubmit=n.handleSubmit.bind(Object(i.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){var e=this;return m.a.createElement("div",{className:"container-fluid",style:{paddingTop:10,paddingBottom:10}},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-md-12"},m.a.createElement("h4",{style:{fontWeight:"bold"}},"DB Connection - Add"))),m.a.createElement("hr",null),m.a.createElement("form",{onSubmit:this.handleSubmit},m.a.createElement("div",{className:"form-group"},m.a.createElement("label",{htmlFor:"code"},"Code:"),m.a.createElement("input",{type:"text",className:"form-control",id:"code",name:"code",ref:function(t){return e.code=t}})),m.a.createElement("div",{className:"form-group"},m.a.createElement("label",{htmlFor:"username"},"Username:"),m.a.createElement("input",{type:"text",className:"form-control",id:"username",name:"username",ref:function(t){return e.username=t}})),m.a.createElement("div",{className:"form-group"},m.a.createElement("label",{htmlFor:"password"},"Password:"),m.a.createElement("input",{type:"password",className:"form-control",id:"password",name:"password",ref:function(t){return e.password=t}})),m.a.createElement("div",{className:"form-group"},m.a.createElement("label",{htmlFor:"driverString"},"Driver String:"),m.a.createElement("input",{type:"text",className:"form-control",id:"driverString",name:"driverString",ref:function(t){return e.driverString=t},placeholder:"com.sample.jdbc.Driver"})),m.a.createElement("div",{className:"form-group"},m.a.createElement("label",{htmlFor:"url"},"URL:"),m.a.createElement("input",{type:"text",className:"form-control",id:"url",name:"url",ref:function(t){return e.url=t},placeholder:"jdbc:mysql://localhost:3306/sample"})),m.a.createElement("div",{className:"form-group pull-right"},m.a.createElement("div",null,m.a.createElement("a",{href:"/dbconnection-list",className:"btn btn-danger",style:{marginRight:5}},"Cancel"),m.a.createElement("button",{className:"btn btn-primary"},"Submit")))))}}]),Object(o.a)(a,[{key:"handleSubmit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={code:this.code.value,username:this.username.value,password:this.password.value,driverString:this.driverString.value,url:this.url.value},n=new p.a,e.next=5,n.save(a);case 5:200===(r=e.sent).status?r.data.success?this.props.history.push("/dbconnection-list?message="+r.data.message):alert(r.data.message):alert(r.message);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),a}(d.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return y}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(9),o=a(3),c=a(6),u=a(5),d=a(0),m=a.n(d),p=a(289),h=a.n(p),f=(a(285),a(18)),g=a(94),v=a(179),b=a(203),y=(a(679),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;Object(l.a)(this,a),(n=t.call(this,e)).tableChangeHandler=function(e){n.state.pageSize!=e.page_size&&(e.page_number=1);var t=Object.keys(e).map((function(t){return"sort_order"===t&&e[t]?encodeURIComponent("sort_order")+"="+encodeURIComponent(e[t].order)+"&"+encodeURIComponent("sort_column")+"="+encodeURIComponent(e[t].column):encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&");n.getData(t)},n.executeRecord=function(e,t){n.props.history.push({pathname:"/reportExecute",state:{id:e.id,code:e.code,command:e.command,valueSeparator:e.valueSeparator,searchFieldJson:e.searchFieldJson?JSON.stringify(e.searchFieldJson):"",pageSize:e.pageSize,dbConnectionId:t.id}})},n.editRecord=function(e,t,a){var s=null==a?"0":a.id;n.props.history.push({pathname:"/report-edit",state:{id:e.id,code:e.code,command:e.command,valueSeparator:e.valueSeparator,searchFieldJson:e.searchFieldJson?JSON.stringify(e.searchFieldJson):"",pageSize:e.pageSize,dbConnectionId:s}})},n.hideConfirmDelete=function(){n.setState({showModalConfirm:!1})},n.deleteRecord=function(e,t){n.setState({id:e.id,showModalConfirm:!0})},n.onExecute=function(e){(new b.a).download(e.id)};for(var s=JSON.parse(localStorage.getItem("userPrivilege"))||[],r=!1,o=!1,c=!0,u=0;u<s.length;u++)"update_devxReportData"===s[u].name+"_"+s[u].vgroup&&(r=!0),"delete_devxReportData"===s[u].name+"_"+s[u].vgroup&&(o=!0),"execute_devxReportData"===s[u].name+"_"+s[u].vgroup&&(c=!0);return n.columns=[{key:"noUrut",text:"#",width:50,TrOnlyClassName:"bg-gray text-center",className:"bg-gray text-left",cell:function(e,t){return t+1+"."}},{key:"id",text:"ID",width:50,sortable:!0},{key:"code",text:"Code",width:80,sortable:!0},{key:"pageSize",text:"Page Size",width:80,TrOnlyClassName:"text-center",className:"text-center",sortable:!0},{key:"valueSeparator",text:"Value Separator",width:80,TrOnlyClassName:"text-center",className:"text-center",sortable:!0},{key:"action",text:"Action",width:80,TrOnlyClassName:"text-center",className:"text-center",cell:function(e,t){return m.a.createElement(d.Fragment,null,c?m.a.createElement("button",{title:"Execute",className:"btn btn-primary btn-sm",onClick:n.onExecute.bind(Object(i.a)(n),e,e.dbConnection),style:{marginRight:"5px"}},m.a.createElement("i",{className:"fa fa-play"})):null,r?m.a.createElement("button",{title:"Edit",className:"btn btn-warning btn-sm",onClick:n.editRecord.bind(Object(i.a)(n),e,t,e.dbConnection),style:{marginRight:"5px"}},m.a.createElement("i",{className:"fa fa-pencil"})):null,o?m.a.createElement("button",{title:"Delete",className:"btn btn-danger btn-sm",onClick:n.deleteRecord.bind(Object(i.a)(n),e,t),style:{marginRight:"5px"}},m.a.createElement("i",{className:"fa fa-close"})):null)}}],n.config={page_size:10,length_menu:[10,20,50],show_filter:!0,show_pagination:!0,pagination:"advance",button:{excel:!1,print:!1}},n.state={id:0,showModalConfirm:!1,pageSize:10,total:0,loading:!0,records:[],userPrivilege:localStorage.getItem("userPrivilege")},n.onConfirmDelete=n.onConfirmDelete.bind(Object(i.a)(n)),n}return Object(o.a)(a,[{key:"render",value:function(){for(var e=JSON.parse(this.state.userPrivilege)||[],t=!1,a=0;a<e.length;a++)"add_devxReportData"===e[a].name+"_"+e[a].vgroup&&(t=!0);return m.a.createElement("div",{className:"container-fluid",style:{paddingTop:10,paddingBottom:10}},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-sm-3  col-md-3"},m.a.createElement("h4",{style:{fontWeight:"bold"}},"Report - List")),m.a.createElement("div",{className:"col-sm-9  col-md-9"},t?m.a.createElement("div",{className:"pull-right"},m.a.createElement("a",{className:"btn btn-primary btn-sm",href:"report-add",title:"Add"}," ",m.a.createElement("i",{className:"fa fa-plus"}))):null)),m.a.createElement("hr",null),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-sm-12 offset-sm-12col-md-12"},this.state.loading?m.a.createElement(f.a,null):m.a.createElement(h.a,{className:"table table-striped table-bordered",config:this.config,records:this.state.records,columns:this.columns,dynamic:!0,total_record:this.state.total,onChange:this.tableChangeHandler}))),m.a.createElement(g.a,{show:this.state.showModalConfirm,onHide:this.hideConfirmDelete},m.a.createElement(g.a.Header,{closeButton:!0},m.a.createElement(g.a.Title,null,"Confirmation")),m.a.createElement(g.a.Body,null,m.a.createElement("p",null,"Are you sure?")),m.a.createElement(g.a.Footer,null,m.a.createElement(v.a,{variant:"secondary",onClick:this.hideConfirmDelete},"Cancel"),m.a.createElement(v.a,{variant:"danger",onClick:this.onConfirmDelete},"Ok"))))}}]),Object(o.a)(a,[{key:"componentDidMount",value:function(){this.getData(),window.scrollTo(1e3,0)}},{key:"getData",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"",a=new b.a,e.next=4,a.list(t);case 4:200===(n=e.sent).status?this.setState({total:n.data.data.recordsTotal,records:n.data.data.records,loading:!1}):alert(n.message);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onConfirmDelete",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.id,a=new b.a,e.next=4,a.delete(t);case 4:200===(n=e.sent).status?(n.data.success&&(this.setState({id:0}),this.getData()),alert(n.data.message)):alert(n.message),this.hideConfirmDelete();case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),a}(d.Component))},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return f}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=(a(285),a(203)),h=a(131),f=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={dBConnectionList:[]},e.handleSubmit=e.handleSubmit.bind(Object(o.a)(e)),e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.findAllDbConnection()}},{key:"render",value:function(){var e=this;return m.a.createElement("div",{className:"container-fluid",style:{paddingTop:10,paddingBottom:10}},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-md-12"},m.a.createElement("h4",{style:{fontWeight:"bold"}},"Report - Add"))),m.a.createElement("hr",null),m.a.createElement("form",{onSubmit:this.handleSubmit},m.a.createElement("div",{className:"form-group"},m.a.createElement("label",{htmlFor:"code"},"Code:"),m.a.createElement("input",{type:"text",className:"form-control",id:"code",name:"code",ref:function(t){return e.code=t}})),m.a.createElement("div",{className:"form-group"},m.a.createElement("label",{htmlFor:"command"},"Command:"),m.a.createElement("textarea",{rows:"5",className:"form-control",id:"command",name:"command",ref:function(t){return e.command=t}})),m.a.createElement("div",{className:"form-group"},m.a.createElement("label",{htmlFor:"valueSeparator"},"Value Separator:"),m.a.createElement("input",{type:"text",className:"form-control",id:"valueSeparator",name:"valueSeparator",ref:function(t){return e.valueSeparator=t}})),m.a.createElement("div",{className:"form-group"},m.a.createElement("label",{htmlFor:"searchFieldJson"},"Search Field Json:"),m.a.createElement("textarea",{rows:"5",className:"form-control",id:"searchFieldJson",ref:function(t){return e.searchFieldJson=t}})),m.a.createElement("div",{className:"form-group"},m.a.createElement("label",{htmlFor:"code"},"DBConnection Code:"),m.a.createElement("select",{className:"form-control",id:"dBConnectionId",name:"dBConnectionId",ref:function(t){return e.dBConnectionId=t}},this.state.dBConnectionList.map((function(e){return m.a.createElement("option",{id:e.id,key:e.id,value:e.value},e.display)})))),m.a.createElement("div",{className:"pull-right"},m.a.createElement("a",{href:"/report-list",className:"btn btn-danger",style:{marginRight:5}},"Cancel"),m.a.createElement("button",{type:"submit",className:"btn btn-primary btn-default"},"Submit"))))}},{key:"handleSubmit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(this.searchFieldJson.value.length>0)){e.next=10;break}e.prev=2,a=JSON.parse(this.searchFieldJson.value),e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(2),alert("error searchFieldJson not valid, "+e.t0),e.abrupt("return",!1);case 10:return n={id:this.dBConnectionId.value},r={code:this.code.value,command:this.command.value,valueSeparator:this.valueSeparator.value,searchFieldJson:a,dbConnection:n},l=new p.a,e.next=15,l.save(r);case 15:200===(i=e.sent).status?i.data.success?this.props.history.push("/report?message="+i.data.message):alert(i.data.message):alert(i.message);case 17:case"end":return e.stop()}}),e,this,[[2,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"findAllDbConnection",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new h.a,e.next=3,t.listAll();case 3:(a=e.sent).data.success?(n=a.data.data.map((function(e){return{value:e.id,display:e.code}})),this.setState({dBConnectionList:[{id:0,value:"",display:"(Select DBConnection)"}].concat(n)})):alert(a.message);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),a}(d.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return f}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=a(203),h=a(131),f=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={dBConnectionList:[],selectedDbConnection:""},e.handleSubmit=e.handleSubmit.bind(Object(o.a)(e)),e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.findAllDbConnection()}},{key:"render",value:function(){var e=this;return m.a.createElement("div",{className:"container-fluid",style:{paddingTop:10,paddingBottom:10}},m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-md-12"},m.a.createElement("h4",{style:{fontWeight:"bold"}},"Report - Add"))),m.a.createElement("hr",null),m.a.createElement("form",{onSubmit:this.handleSubmit},m.a.createElement("div",{className:"form-group"},m.a.createElement("label",{htmlFor:"code"},"ID:"),m.a.createElement("input",{type:"text",className:"form-control",id:"id",name:"id",readOnly:!0,ref:function(t){return e.id=t},defaultValue:this.props.location.state.id||""})),m.a.createElement("div",{className:"form-group"},m.a.createElement("label",{htmlFor:"code"},"Code:"),m.a.createElement("input",{type:"text",className:"form-control",id:"code",name:"code",ref:function(t){return e.code=t},defaultValue:this.props.location.state.code||""})),m.a.createElement("div",{className:"form-group"},m.a.createElement("label",{htmlFor:"command"},"Command:"),m.a.createElement("textarea",{rows:"5",className:"form-control",id:"command",name:"command",ref:function(t){return e.command=t},defaultValue:this.props.location.state.command||""})),m.a.createElement("div",{className:"form-group"},m.a.createElement("label",{htmlFor:"valueSeparator"},"Value Separator:"),m.a.createElement("input",{type:"text",className:"form-control",id:"valueSeparator",name:"valueSeparator",ref:function(t){return e.valueSeparator=t},defaultValue:this.props.location.state.valueSeparator||""})),m.a.createElement("div",{className:"form-group"},m.a.createElement("label",{htmlFor:"searchFieldJson"},"Search Field Json:"),m.a.createElement("textarea",{rows:"5",className:"form-control",id:"searchFieldJson",ref:function(t){return e.searchFieldJson=t},defaultValue:this.props.location.state.searchFieldJson||""})),m.a.createElement("div",{className:"form-group"},m.a.createElement("label",{htmlFor:"code"},"DBConnection Code:"),m.a.createElement("select",{className:"form-control",id:"dBConnectionId",name:"dBConnectionId",ref:function(t){return e.dBConnectionId=t},onChange:function(t){return e.setState({selectedDbConnection:t.target.value.trim()})},value:this.state.selectedDbConnection||this.props.location.state.dbConnectionId},this.state.dBConnectionList.map((function(e){return m.a.createElement("option",{id:e.value,key:e.value,value:e.value},e.display)})))),m.a.createElement("div",{className:"pull-right"},m.a.createElement("a",{href:"/report",className:"btn btn-danger",style:{marginRight:5}},"Cancel"),m.a.createElement("button",{type:"submit",className:"btn btn-primary btn-default"},"Submit"))))}},{key:"handleSubmit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(this.searchFieldJson.value.length>0)){e.next=10;break}e.prev=2,a=JSON.parse(this.searchFieldJson.value),e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(2),alert("error searchFieldJson not valid, "+e.t0),e.abrupt("return",!1);case 10:return n={id:this.dBConnectionId.value},r={id:this.id.value,code:this.code.value,command:this.command.value,valueSeparator:this.valueSeparator.value,searchFieldJson:a,dbConnection:n},l=new p.a,e.next=15,l.save(r);case 15:200===(i=e.sent).status?i.data.success?this.props.history.push("/report-list?message="+i.data.message):alert(i.data.message):alert(i.message);case 17:case"end":return e.stop()}}),e,this,[[2,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"findAllDbConnection",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new h.a,e.next=3,t.listAll();case 3:(a=e.sent).data.success?this.setState({dBConnectionList:[{value:"",display:"(Select DBConnection)"}].concat(a.data.data.map((function(e){return{value:e.id,display:e.code}})))}):alert(a.message);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),a}(d.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return S}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=a(15),h=a.n(p),f=a(13),g=a(24),v=a.n(g),b=(a(28),a(347),a(21),a(111)),y=a(17),S=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),totalRows:0,perPage:10,page:1,totalPage:0,sort_by:"holiday",sort:"asc",typeFind:"rmwbData",search_key:"",yearFilter:[],selectedYearFilter:""},e.reset=e.reset.bind(Object(o.a)(e)),e.handlePageChange=e.handlePageChange.bind(Object(o.a)(e)),e.handlePerRowsChange=e.handlePerRowsChange.bind(Object(o.a)(e)),e.handleSort=e.handleSort.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),this.getdataMaster(),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage)}},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=!0,n=new y.a,e.next=5,n.findStatusByParam(this.state);case 5:return(r=e.sent)&&200===r.status&&r.data?this.setState({listDataStatus:r.data}):t=!1,t||this.clearSession(),l=new b.a,e.next=11,l.getFilterYear();case 11:(i=e.sent)&&200===i.status&&i.data?this.setState({yearFilter:i.data.data}):(i&&i.data&&i.data.message?(this.setState({isSuccess:!1,message:i.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0)):(a=!1,window.scrollTo(0,0)),this.setState({yearFilter:[]}),this.setState({loading:!1})),a||this.errorConectionToBe();case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r){var l,i,o,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=!0,(l=this).setState({loading:!0}),o=new b.a,e.next=6,o.findHolidayByParam(t,a,n,r,l.state);case 6:(c=e.sent)&&200===c.status&&c.data&&c.data.data?(l.setState({list:c.data.data}),l.setState({totalRows:c.data.total_result}),l.setState({totalPage:c.data.total_page}),l.setState({loading:!1})):(c&&c.data&&c.data.message?(l.setState({isSuccess:!1,message:c.data.message,alertState:"alert alert-danger"}),l.setState({loading:!1}),window.scrollTo(0,0)):(l.setState({isSuccess:!1,message:"Get data list holiday failed!",alertState:"alert alert-danger"}),l.setState({loading:!1}),window.scrollTo(0,0)),l.setState({list:[]}),l.setState({totalRows:0}),l.setState({totalPage:0}),l.setState({loading:!1})),i||l.errorConectionToBe();case 9:case"end":return e.stop()}}),e,this)})));return function(t,a,n,s){return e.apply(this,arguments)}}()},{key:"handleSort",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({sort:a});case 2:return e.next=4,this.setState({sort_by:t.selector});case 4:return e.next=6,this.setPage(this.state.page,a,t.selector,this.state.perPage);case 6:document.getElementById("column-"+t.selector).classList.add("sorted");case 8:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"handlePageChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({page:t}),this.setPage(t,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handlePerRowsChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({perPage:t}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"errorConectionToBe",value:function(){alert("Connection to Server Octobench interupted!\nPlease check your conection or contact administrator!")}},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"search",value:function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({search:!0}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage,this.state);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"reset",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h.a.findDOMNode(this.refs.filter_year).value="",this.setState({selectedYearFilter:""},(function(){setTimeout((function(){t.setPage(t.state.page,t.statesort,t.state.sort_by,t.state.perPage,t.state)}),100)}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.yearFilter;t=t.map((function(e){return m.a.createElement("option",{key:e,"code-data":e,value:e},e)}));for(var a=JSON.parse(this.state.userPrivilege)||[],n=!1,s=0;s<a.length;s++)"upload_rmwb_role"===a[s].name+"_"+a[s].vgroup&&(n=!0);return m.a.createElement("div",{id:"list-holiday",className:"default-rmwb-wrapper"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?m.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,this.state.isSuccess?null:m.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),m.a.createElement("h3",{className:"mb-4"},"Holiday List"),m.a.createElement("div",{id:"search-menu"},m.a.createElement("table",{style:{width:"100%"}},m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-2"},"Year"),m.a.createElement("select",{ref:"filter_year",className:"form-input col-4",onChange:function(t){return e.setState({selectedYearFilter:t.target.value})}},m.a.createElement("option",{value:""},"Please select year!"),t)))))),m.a.createElement("div",null,m.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.search.bind(this)},"search"),m.a.createElement("button",{type:"button",className:"reset-btn btn btn-secondary btn-sm",onClick:this.reset},"reset"))),m.a.createElement(v.a,{id:"tableData",className:"mb-4",defaultSortField:this.state.sort_by,columns:[{name:"Holiday",selector:"holiday",sortable:!0},{name:"Description",selector:"description",sortable:!0}],progressPending:this.state.loading,pagination:!0,paginationServer:!0,sortServer:!0,paginationTotalRows:this.state.totalRows,onChangeRowsPerPage:this.handlePerRowsChange,onChangePage:this.handlePageChange,onSort:this.handleSort,data:this.state.list}),m.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},n?m.a.createElement(f.b,{to:"rmwb-list-upload-holiday",className:"justify-content-end"},m.a.createElement("button",{className:"button-red"},"BULK UPLOAD HOLIDAY")):null),this.state.loading?m.a.createElement("div",{className:"loading-overlay"},m.a.createElement("div",{className:"loader"})):null)}}]),a}(d.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return k}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=a(15),h=a.n(p),f=a(13),g=a(24),v=a.n(g),b=a(27),y=a(16),S=a.n(y),E=(a(28),a(347),a(21),a(111)),w=a(17),k=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).setValueSearch=function(t){e.setState({search_key:t})},e.state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),totalRows:0,perPage:10,page:1,totalPage:0,sort_by:"file_name",sort:"asc",typeFind:"rmwbData",search_key:"",filterDataInsertAt:"",filterDataStatus:"",isChecker:!1,isSuccess:!1},e.reset=e.reset.bind(Object(o.a)(e)),e.handlePageChange=e.handlePageChange.bind(Object(o.a)(e)),e.handleChange=e.handleChange.bind(Object(o.a)(e)),e.handlePerRowsChange=e.handlePerRowsChange.bind(Object(o.a)(e)),e.handleSort=e.handleSort.bind(Object(o.a)(e)),e.downloadTemplate=e.downloadTemplate.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(n,[{key:"componentWillMount",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),t=JSON.parse(localStorage.getItem("userPrivilege"))||[],a=0;a<t.length;a++)"approval_rmwb_role"===t[a].name+"_"+t[a].vgroup&&this.setState({isChecker:!0});return e.next=5,this.setState({loggedUser:localStorage.getItem("userNip")});case 5:this.getdataMaster(),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=!0,n=new w.a,e.next=5,n.findStatusByParam(this.state);case 5:(r=e.sent)&&200===r.status&&r.data?this.setState({listDataStatus:r.data}):t=!1,t||this.clearSession(),a||this.errorConectionToBe();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r){var l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=!0,this.setState({loading:!0}),i=new E.a,e.next=5,i.findUploadHolidayByParam(t,a,n,r,this.state);case 5:(o=e.sent)&&200===o.status&&o.data?(this.setState({list:o.data.data}),this.setState({totalRows:o.data.total_result}),this.setState({totalPage:o.data.total_page}),this.setState({loading:!1})):(o&&o.data&&o.data.message?(this.setState({isSuccess:!1,message:o.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Get file Upload holiday failed!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)),this.setState({list:[]}),this.setState({totalRows:0}),this.setState({totalPage:0}),this.setState({loading:!1})),l||this.errorConectionToBe();case 8:case"end":return e.stop()}}),e,this)})));return function(t,a,n,s){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleSort",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({sort:a});case 2:return e.next=4,this.setState({sort_by:t.selector});case 4:return e.next=6,this.setPage(this.state.page,a,t.selector,this.state.perPage);case 6:document.getElementById("column-"+t.selector).classList.add("sorted");case 8:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"handlePageChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({page:t}),this.setPage(t,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handlePerRowsChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({perPage:t}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"editRow",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t?this.props.history.push("rmwb-detail-upload-holiday",{data:t}):alert("Some thing wrong with selected data pelase refresh your browser or contact admin!")||window.location.reload();case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"downloadTemplate",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),t=new E.a,e.next=4,t.downloadTemplate();case 4:(a=e.sent)&&200===a.status&&a.data?(this.setState({isSuccess:!0}),n=new Blob([a.data],{type:"application/octet-stream"}),r=window.URL.createObjectURL(n),(l=document.createElement("a")).href=r,l.target="_blank",l.download="holiday.xlsx",document.body.appendChild(l),l.click(),document.body.removeChild(l),this.setState({loading:!1})):(a&&a.data&&a.data.message?(this.setState({isSuccess:!1,message:a.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Error cant download data, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)),this.setState({loading:!1}));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"search",value:function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({loading:!0,search:!0}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"reset",value:function(){var e=this;h.a.findDOMNode(this.refs.search_status).value="",h.a.findDOMNode(this.refs.insert_date).value="",this.setState({search_status:"",insert_date:""},(function(){setTimeout((function(){e.setPage(e.state.page,e.state.sort,e.state.sort_by,e.state.perPage)}),100)}))}},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"render",value:function(){for(var e=this,t=this.state.insert_date?S()(this.state.insert_date,"YYYY-MM-DDTHH:mm:ss").toDate():null,n=JSON.parse(this.state.userPrivilege)||[],s=!1,r=0;r<n.length;r++)"upload_rmwb_role"===n[r].name+"_"+n[r].vgroup&&(s=!0);var l=[{name:"File Name",selector:"file_name",sortable:!0},{name:"Insert By",selector:"insert_by",sortable:!0},{name:"Insert At",selector:"insert_at",sortable:!0},{name:"Status",selector:"status",sortable:!0},{name:"Action",sortable:!1,cell:function(t){return m.a.createElement("div",null,m.a.createElement("input",{type:"image",alt:"Edit",height:20,value:t.holiday,src:a(40),onClick:function(a){return e.editRow(t)}}))},button:!0}];return m.a.createElement("div",{id:"list-upload-holiday",className:"default-rmwb-wrapper"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?m.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,this.state.isSuccess?null:m.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),m.a.createElement("h3",{className:"mb-4"},"List Upload Data Holiday"),m.a.createElement("div",{id:"search-menu"},m.a.createElement("table",{style:{width:"100%"}},m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-2"},"Status File"),m.a.createElement("select",{ref:"search_status",className:"form-input col-4",onChange:function(t){return e.setState({search_status:t.target.value})}},m.a.createElement("option",{value:""},"Please select status!"),m.a.createElement("option",{value:"submitted"},"Submitted"),m.a.createElement("option",{value:"rejected"},"Rejected"))))),m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-2"},"Insert Date"),m.a.createElement("div",{className:"col-4 p-0"},m.a.createElement(b.a,{ref:"insert_date",className:"form-input",dateFormat:"yyyy-MM-dd",selected:t,onChange:function(t){return e.setState({insert_date:t})}}))))))),m.a.createElement("div",null,m.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.search.bind(this)},"search"),m.a.createElement("button",{type:"button",className:"reset-btn btn btn-secondary btn-sm",onClick:this.reset},"reset"))),m.a.createElement(v.a,{id:"tableData",className:"mb-4",defaultSortField:this.state.sort_by,columns:l,progressPending:this.state.loading,pagination:!0,paginationServer:!0,sortServer:!0,paginationTotalRows:this.state.totalRows,onChangeRowsPerPage:this.handlePerRowsChange,onChangePage:this.handlePageChange,onSort:this.handleSort,data:this.state.list}),m.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},m.a.createElement("div",{className:"d-flex justify-content-end my-4 mr-3"},m.a.createElement("button",{className:"button-red",onClick:this.downloadTemplate},m.a.createElement("img",{src:"./../../../assets/images/export.png",alt:""}),"Download Template File")),s?m.a.createElement(f.b,{to:"rmwb-upload-holiday",className:"d-flex justify-content-end my-4"},m.a.createElement("button",{className:"button-red"},"Upload New Data Holiday")):null),this.state.loading?m.a.createElement("div",{className:"loading-overlay"},m.a.createElement("div",{className:"loader"})):null)}}]),n}(d.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return k}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=a(13),h=a(24),f=a.n(h),g=a(30),v=a.n(g),b=(a(28),a(347),a(21),a(111)),y=a(17),S=a(8),E=a(31),w=a.n(E),k=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),totalRows:0,perPage:10,page:1,totalPage:0,sort_by:"holiday",sort:"asc",typeFind:"rmwbData",search_key:""},e.handlePageChange=e.handlePageChange.bind(Object(o.a)(e)),e.handlePerRowsChange=e.handlePerRowsChange.bind(Object(o.a)(e)),e.handleSort=e.handleSort.bind(Object(o.a)(e)),e.handleOpenModal=e.handleOpenModal.bind(Object(o.a)(e)),e.handleCloseModal=e.handleCloseModal.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(a,[{key:"handleOpenModal",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({showModal:!0,modalName:t});case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleCloseModal",value:function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({showModal:!1});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillMount",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=this.props.location.state.data)||this.props.history.push("rmwb-rmwb-list-upload-holiday"),this.setState({selectedFile:t}),this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),e.next=6,this.setState({loggedUser:localStorage.getItem("userNip")});case 6:this.getdataMaster(),this.getListDataStatus(t.status),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage),this.validator=new w.a({autoForceUpdate:this,element:function(e){return m.a.createElement("div",{className:"row col-12 validator-error-message"},m.a.createElement("div",{className:"col-4"}),m.a.createElement("div",{className:"col-8"},e))}});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=!0,n=new y.a,e.next=5,n.findStatusByParam(this.state);case 5:(r=e.sent)&&200===r.status&&r.data?this.setState({listDataStatus:r.data}):t=!1,t||this.clearSession(),a||this.errorConectionToBe();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r){var l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=!0,this.setState({loading:!0}),i=new b.a,e.next=5,i.findUploadDetailHolidayByParam(t,a,n,r,this.state);case 5:(o=e.sent)&&200===o.status&&o.data&&o.data.data?(this.setState({list:o.data.data}),this.setState({totalRows:o.data.total_result}),this.setState({totalPage:o.data.total_page}),this.setState({loading:!1})):(o&&o.data&&S.a===o.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):this.setState({error:!0,errorMessage:o&&o.data?o.data.message:o,loading:!1}),this.setState({list:[]}),this.setState({totalRows:0}),this.setState({totalPage:0}),this.setState({loading:!1})),l||this.errorConectionToBe();case 8:case"end":return e.stop()}}),e,this)})));return function(t,a,n,s){return e.apply(this,arguments)}}()},{key:"handleSort",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({sort:a});case 2:return e.next=4,this.setState({sort_by:t.selector});case 4:return e.next=6,this.setPage(this.state.page,a,t.selector,this.state.perPage);case 6:document.getElementById("column-"+t.selector).classList.add("sorted");case 8:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"handlePageChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({page:t}),this.setPage(t,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handlePerRowsChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({perPage:t}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getListDataStatus",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!0,n=new y.a,e.next=4,n.findStatusByParam(this.state);case 4:(r=e.sent)&&200===r.status&&r.data.length>0?(this.setState({listDataStatus:r.data}),l=r.data.filter((function(e){return e.code===t})),this.setState({currentDataStatus:l[0]})):(this.setState({listDataStatus:""}),this.setState({currentDataStatus:""}),r&&r.data&&S.a===r.data.data?a=!1:this.setState({listDataStatus:""})),a||this.clearSession();case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"onSubmitApprove",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),t=new b.a,(a=this.state).status="approved",e.next=6,t.approveFileHoliday(a);case 6:(n=e.sent)&&200===n.status&&"Success"===n.data.message?(this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-list-upload-holiday",this.state),this.setState({loading:!1})):n&&n.data&&n.data.message?(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Save data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onSubmitReject",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({loading:!0}),t=new b.a,(a=this.state).status="rejected",this.validator.allValid()){e.next=8;break}return this.validator.showMessages(),this.setState({loading:!1}),e.abrupt("return");case 8:return e.next=10,t.rejectFileHoliday(a);case 10:(n=e.sent)&&200===n.status&&"Success"===n.data.message?(this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-list-upload-holiday",this.state),this.setState({loading:!1})):n&&n.data&&n.data.message?(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Save data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0));case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){for(var e=this,t=JSON.parse(this.state.userPrivilege)||[],a=!1,n=0;n<t.length;n++)"approval_rmwb_role"===t[n].name+"_"+t[n].vgroup&&(a=!0);var s=this.state.currentDataStatus?this.state.currentDataStatus:[],r=!1,l=!1;s&&("rmwbData_approved"===s.type+"_"+s.code&&(r=!0),"rmwbData_rejected"===s.type+"_"+s.code&&(l=!0));return m.a.createElement("div",{id:"list-upload-holiday-detail",className:"default-rmwb-wrapper"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?m.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col-6"},m.a.createElement("h3",null,"Detail Upload Data Holiday")),m.a.createElement("div",{className:"col-6"},m.a.createElement(p.b,{to:"rmwb-list-upload-holiday",className:"d-flex justify-content-end"},m.a.createElement("button",{className:"btn btn-info"},"Back to Upload List")))),m.a.createElement("p",null,"File name : ",this.state.selectedFile.file_name," || Uploaded by : ",this.state.selectedFile.insert_by," || At : ",this.state.selectedFile.insert_at," || Status : ",this.state.selectedFile.status),l?m.a.createElement("p",null,"Remarks : ",this.state.selectedFile.remarks):null,m.a.createElement(f.a,{id:"tableData",className:"mb-4",defaultSortField:this.state.sort_by,columns:[{name:"Holiday",selector:"holiday",sortable:!0},{name:"Description",selector:"description",sortable:!0}],progressPending:this.state.loading,pagination:!0,paginationServer:!0,sortServer:!0,paginationTotalRows:this.state.totalRows,onChangeRowsPerPage:this.handlePerRowsChange,onChangePage:this.handlePageChange,onSort:this.handleSort,data:this.state.list}),m.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},!a||l||r?null:m.a.createElement("div",null,m.a.createElement("button",{className:"button-red mr-2",onClick:function(){return e.handleOpenModal("reject-data")}},"Reject"),m.a.createElement("button",{className:"button-green",onClick:function(){return e.handleOpenModal("approve-data")}},"Approve"))),this.state.loading?m.a.createElement("div",{className:"loading-overlay"},m.a.createElement("div",{className:"loader"})):null,m.a.createElement(v.a,{closeTimeoutMS:300,isOpen:this.state.showModal,contentLabel:"onRequestClose Example",onRequestClose:this.handleCloseModal,className:"Modal",overlayClassName:"Overlay"},"approve-data"===this.state.modalName?m.a.createElement("div",null,m.a.createElement("div",{className:"row mx-0 justify-content-center"},m.a.createElement("h4",null,"Are You Sure To Approve This Data ?")),m.a.createElement("div",{className:"d-flex justify-content-center mx-2 mt-5"},m.a.createElement("button",{className:"button-red mr-5",onClick:this.handleCloseModal},"Cancel"),m.a.createElement("button",{className:"button-red",onClick:this.onSubmitApprove.bind(this)},"Approve"))):null,"reject-data"===this.state.modalName?m.a.createElement("div",null,m.a.createElement("div",{className:"row mx-0 justify-content-center"},m.a.createElement("h4",{className:"mb-4"},"Please fill Remark to data Maker !"),this.state.error?m.a.createElement("div",{className:"col-12 ".concat(this.state.alertState),role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.errorMessage):null,m.a.createElement("textarea",{className:"col-12 form-input",type:"text",onChange:function(t){return e.setState({remarks:t.target.value})},value:this.state.remarks||"",placeholder:"Remarks",onBlur:function(){return e.validator.showMessageFor("remarks")}}),this.validator.message("remarks",this.state.remarks,"required")),m.a.createElement("div",{className:"d-flex justify-content-center mx-2 mt-4"},m.a.createElement("button",{className:"button-red mr-5",onClick:this.handleCloseModal},"Cancel"),m.a.createElement("button",{className:"button-red",onClick:this.onSubmitReject.bind(this)},"Reject"))):null))}}]),a}(d.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return v}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=(a(28),a(347),a(13)),p=a(111),h=a(17),f=a(31),g=a.n(f),v=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={isSuccess:!1,message:"",token:localStorage.getItem("accessToken"),selectedFile:null,loading:!1,roleName:localStorage.getItem("roleName"),isSadmin:!1},e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.setState({isSadmin:"SADMINOCTOBENCH"===this.state.roleName}),this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),this.setState({loggedUser:localStorage.getItem("userNip")}),this.getdataMaster(),this.validator=new g.a({autoForceUpdate:this,element:function(e){return d.a.createElement("div",{className:"row col-12 validator-error-message"},d.a.createElement("div",{className:"col-2"}),d.a.createElement("div",{className:"col-10"},e))}})}},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=!0,n=new h.a,e.next=5,n.findStatusByParam(this.state);case 5:(r=e.sent)&&200===r.status&&r.data?this.setState({listDataStatus:r.data}):t=!1,t||this.clearSession(),a||this.errorConectionToBe();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"errorConectionToBe",value:function(){alert("Connection to Server Octobench interupted!\nPlease check your conection or contact administrator!")}},{key:"onSubmitApprove",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),a=new p.a,(n=this.state).selectedFile.id=t,n.status="approved",e.next=7,a.approveFileHoliday(n);case 7:(r=e.sent)&&200===r.status&&"Success"===r.data.message?(this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-holiday",this.state),this.setState({loading:!1})):r&&r.data&&r.data.message?(this.setState({isSuccess:!1,message:r.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Save data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validator.allValid()){e.next=4;break}return this.validator.showMessages(),this.setState({loading:!1}),e.abrupt("return");case 4:if(!this.state.isSadmin){e.next=25;break}if(!window.confirm("Are you sure to upload and approve this data ?")){e.next=22;break}return this.setState({loading:!0}),t=new p.a,(a=new FormData).append("file",this.state.selectedFile),e.next=12,t.uploadFileHoliday(a,this.state);case 12:if(!(n=e.sent)||200!==n.status||"Succeed"!==n.data.message){e.next=19;break}return r=n.data.data.file_id,e.next=17,this.onSubmitApprove(r);case 17:e.next=20;break;case 19:n&&n.data&&n.data.message&&n.data.data.remarks?(this.setState({isSuccess:!1,message:n.data.message+" "+n.data.data.remarks,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):n&&n.data&&n.data.message?(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Save data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0));case 20:e.next=23;break;case 22:this.setState({loading:!1});case 23:e.next=33;break;case 25:return this.setState({loading:!0}),l=new p.a,(i=new FormData).append("file",this.state.selectedFile),e.next=31,l.uploadFileHoliday(i,this.state);case 31:(o=e.sent)&&200===o.status&&"Succeed"===o.data.message?(this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-list-upload-holiday",this.state),this.setState({loading:!1})):o&&o.data&&o.data.message&&o.data.data.remarks?(this.setState({isSuccess:!1,message:o.data.message+" "+o.data.data.remarks,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):o&&o.data&&o.data.message?(this.setState({isSuccess:!1,message:o.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Save data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0));case 33:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return d.a.createElement("div",{id:"upload-holiday",className:"default-rmwb-wrapper"},this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-6"},d.a.createElement("h3",{className:"mb-4"},"Upload New Data Holiday")),d.a.createElement("div",{className:"col-6"},d.a.createElement(m.b,{to:"rmwb-list-upload-holiday",className:"d-flex justify-content-end"},d.a.createElement("button",{className:"btn btn-info"},"Back to Upload List")))),d.a.createElement("div",{className:"form-box-area mb-4"},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"row col-12"},d.a.createElement("h4",{className:"mb-4 col-6"},"Please select file to be upload")),d.a.createElement("div",{className:"row mb-3 col-12"},d.a.createElement("label",{className:"col-2"},"New File Holiday ",d.a.createElement("span",{className:"text-danger"},"*")),d.a.createElement("input",{className:"col-6 px-0",type:"file",id:"upload-new-file",onChange:function(t){return e.setState({selectedFile:t.target.files[0],loaded:0})},onBlur:function(){return e.validator.showMessageFor("file")}}),d.a.createElement("div",{className:"col-4 d-flex justify-content-end"},d.a.createElement("button",{type:"button",className:"button-red",onClick:function(t){return e.submit()}},"Upload")),this.validator.message("file",this.state.selectedFile,"required")))),this.state.loading?d.a.createElement("div",{className:"loading-overlay"},d.a.createElement("div",{className:"loader"})):null)}}]),a}(u.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return v}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(13),p=a(24),h=a.n(p),f=(a(28),a(463),a(21),a(25)),g=a(17),v=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).setValueSearch=function(t){e.setState({search_key:t})},e.state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),totalRows:0,perPage:10,page:1,totalPage:0,sort_by:"id",sort:"desc",typeFind:"rmwbData",search_key:"",flaggingAttachment:"lending_analytic_guide",isSuccess:!1},window.scrollTo(0,0),e}return Object(i.a)(n,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),this.setState({loggedUser:localStorage.getItem("userNip")}),this.getdataMaster(),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage)}},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=!0,n=new g.a,e.next=5,n.findStatusByParam(this.state);case 5:(r=e.sent)&&200===r.status&&r.data?this.setState({listDataStatus:r.data}):t=!1,t||this.clearSession(),a||this.errorConectionToBe();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r){var l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=!0,this.setState({loading:!0}),i=new f.a,e.next=5,i.findAllAttachmentByParam(this.state.flaggingAttachment,t,a,n,r,this.state);case 5:(o=e.sent)&&200===o.status&&o.data&&o.data.data?(this.setState({list:o.data.data}),this.setState({totalRows:o.data.total_result}),this.setState({totalPage:o.data.total_page}),this.setState({loading:!1})):(o&&o.data&&o.data.message?(this.setState({isSuccess:!1,message:o.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Get data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)),this.setState({list:[]}),this.setState({totalRows:0}),this.setState({totalPage:0}),this.setState({loading:!1})),l||this.errorConectionToBe();case 8:case"end":return e.stop()}}),e,this)})));return function(t,a,n,s){return e.apply(this,arguments)}}()},{key:"editRow",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t?this.props.history.push("rmwb-edit-lending-guide",{data:t}):alert("Some thing wrong with selected data pelase refresh your browser or contact admin!")||window.location.reload();case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"errorConectionToBe",value:function(){alert("Connection to Server Octobench interupted!\nPlease check your conection or contact administrator!")}},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"render",value:function(){for(var e=this,t=JSON.parse(this.state.userPrivilege)||[],n=!1,s=0;s<t.length;s++)"create_rmwb_income"===t[s].name+"_"+t[s].vgroup&&(n=!0);var r=[{name:"Title",selector:"title_draft"},{name:"Description",selector:"description_draft",maxWidth:"400px"},{name:"Status",selector:"status"},{name:"Action",sortable:!1,cell:function(t){return d.a.createElement("div",null,d.a.createElement("input",{type:"image",alt:"Edit",height:20,value:t,src:a(40),onClick:function(a){return e.editRow(t)}}))},button:!0}];return d.a.createElement("div",{id:"listLendingGuide",className:"default-rmwb-wrapper"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?d.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,d.a.createElement("h3",{className:"mb-4"},"Lending Analytics Guide"),d.a.createElement(h.a,{id:"tableData",className:"mb-4",defaultSortField:this.state.sort_by,columns:r,progressPending:this.state.loading,data:this.state.list,responsive:!0}),d.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},n&&0===this.state.totalRows?d.a.createElement(m.b,{to:"rmwb-create-lending-guide",className:"d-flex justify-content-end"},d.a.createElement("button",{className:"button-red"},"Add New Lending Guide")):null),this.state.loading?d.a.createElement("div",{className:"loading-overlay"},d.a.createElement("div",{className:"loader"})):null)}}]),n}(u.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return h}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(60),p=(a(28),a(463),a(25)),h=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={isSuccess:!1,message:"",token:localStorage.getItem("accessToken"),htmlContent:"",flaggingAttachment:"lending_analytic_guide",loading:!1,roleName:localStorage.getItem("roleName"),isSadmin:!1},e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.setState({isSadmin:"SADMINOCTOBENCH"===this.state.roleName});var e=this.props.location.state.data;this.setState(e),e||this.props.history.push("rmwb-lending-guide")}},{key:"approve",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),t=[],a=new p.a,(n=this.state).status="approved",e.next=7,a.approveAttachment(this.state.flaggingAttachment,n);case 7:(t=e.sent)&&200===t.status&&"Succeed"===t.data.message?(this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-lending-guide",this.state),this.setState({loading:!1})):t&&t.data&&t.data.message?(this.setState({isSuccess:!1,message:t.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Save data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({loading:!0}),a=[],n=new p.a,!t.submitAndSave){e.next=22;break}if(!this.state.isSadmin){e.next=16;break}if(!window.confirm("Are you sure to submit and approve this data ?")){e.next=12;break}return t.status="submitted",e.next=9,n.updateAttachment(this.state.flaggingAttachment,t);case 9:a=e.sent,e.next=14;break;case 12:return this.setState({loading:!1}),e.abrupt("return",!1);case 14:e.next=20;break;case 16:return t.status="submitted",e.next=19,n.updateAttachment(this.state.flaggingAttachment,t);case 19:a=e.sent;case 20:e.next=48;break;case 22:if(!t.submitApprove){e.next=29;break}return t.status="approved",e.next=26,n.approveAttachment(this.state.flaggingAttachment,t);case 26:a=e.sent,e.next=48;break;case 29:if(!t.submitReject){e.next=36;break}return t.status="rejected",e.next=33,n.rejectAttachment(this.state.flaggingAttachment,t);case 33:a=e.sent,e.next=48;break;case 36:if(!t.approveDelete){e.next=43;break}return t.status="deleted",e.next=40,n.approveAttachment(this.state.flaggingAttachment,t);case 40:a=e.sent,e.next=48;break;case 43:if(!t.rejectDelete){e.next=48;break}return t.status="rejected",e.next=47,n.rejectAttachment(this.state.flaggingAttachment,t);case 47:a=e.sent;case 48:if(!a||200!==a.status||"Succeed"!==a.data.message){e.next=59;break}if(!this.state.isSadmin){e.next=54;break}return e.next=52,this.approve();case 52:e.next=57;break;case 54:this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-lending-guide",this.state),this.setState({loading:!1});case 57:e.next=60;break;case 59:a&&a.data&&a.data.message?(this.setState({isSuccess:!1,message:a.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Save data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0));case 60:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.location.state.data;return d.a.createElement("div",{id:"EditLendingAnalityc",className:"default-rmwb-wrapper"},this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement("h3",{className:"mb-4"},"Edit Lending Guide"),d.a.createElement(m.a,{mode:"edit",flagging:this.state.flaggingAttachment,data:e,history:this.props.history,onSubmit:this.submit.bind(this),onSubmitAndSave:this.submit.bind(this)}),this.state.loading?d.a.createElement("div",{className:"loading-overlay"},d.a.createElement("div",{className:"loader"})):null)}}]),a}(u.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return h}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(60),p=(a(28),a(463),a(25)),h=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={isSuccess:!1,message:"",is_deleted_draft:"",flaggingAttachment:"lending_analytic_guide",token:localStorage.getItem("accessToken"),totalRows:0,perPage:10,page:1,totalPage:0,sort_by:"id",sort:"desc",loading:!1,roleName:localStorage.getItem("roleName"),isSadmin:!1},e}return Object(i.a)(a,[{key:"approve",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),a=[],n=new p.a,(r=this.state).status="approved",r.id=t,e.next=8,n.approveAttachment(this.state.flaggingAttachment,r);case 8:(a=e.sent)&&200===a.status&&"Succeed"===a.data.message?(this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-lending-guide",this.state),this.setState({loading:!1})):a&&a.data&&a.data.message?(this.setState({isSuccess:!1,message:a.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Save data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(this.state.isSadmin),!this.state.isSadmin){e.next=22;break}if(!window.confirm("Are you sure to submit and approve this data ?")){e.next=18;break}return this.setState({loading:!0}),t.submitOnly?t.status="drafted":t.status="submitted",a=new p.a,e.next=8,a.addAttachment(this.state.flaggingAttachment,t);case 8:if(!((n=e.sent)&&n.data&&200===n.status&&n.data.message&&"Succeed"===n.data.message)){e.next=15;break}return r=n.data.data.id,e.next=13,this.approve(r);case 13:e.next=16;break;case 15:n&&n.data&&n.data.message?(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Save data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0));case 16:e.next=20;break;case 18:return this.setState({loading:!1}),e.abrupt("return",!1);case 20:e.next=29;break;case 22:return this.setState({loading:!0}),t.submitOnly?t.status="drafted":t.status="submitted",l=new p.a,e.next=27,l.addAttachment(this.state.flaggingAttachment,t);case 27:(i=e.sent)&&i.data&&200===i.status&&i.data.message&&"Succeed"===i.data.message?(this.setState({isSuccess:!0,message:"Data saved"}),this.props.history.push("rmwb-lending-guide",this.state),this.setState({loading:!0})):i&&i.data&&i.data.message?(this.setState({isSuccess:!1,message:i.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Save data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0));case 29:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentWillMount",value:function(){this.setState({isSadmin:"SADMINOCTOBENCH"===this.state.roleName}),this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),this.setState({loggedUser:localStorage.getItem("userNip")}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage)}},{key:"errorConectionToBe",value:function(){alert("Connection to Server Octobench interupted!\nPlease check your conection or contact administrator!")}},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r){var l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=!0,this.setState({loading:!0}),i=new p.a,e.next=5,i.findAllAttachmentByParam(this.state.flaggingAttachment,t,a,n,r,this.state);case 5:(o=e.sent)&&200===o.status&&o.data&&o.data.data&&o.data.data?(this.setState({list:o.data.data}),this.setState({totalRows:o.data.total_result}),this.setState({totalPage:o.data.total_page}),this.setState({loading:!1}),o.data.total_result>0&&(alert("Lending Analytics Guide already exist!"),this.props.history.push("/rmwb-lending-guide"))):(o&&o.data&&o.data.message?(this.setState({isSuccess:!1,message:o.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Get data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)),this.setState({list:[]}),this.setState({totalRows:0}),this.setState({totalPage:0}),this.setState({loading:!1})),l||this.errorConectionToBe();case 8:case"end":return e.stop()}}),e,this)})));return function(t,a,n,s){return e.apply(this,arguments)}}()},{key:"render",value:function(){return d.a.createElement("div",{id:"CreateLendingAnalityc",className:"default-rmwb-wrapper"},this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement("h3",{className:"mb-4"},"Add New Lending Guide"),d.a.createElement(m.a,{flagging:this.state.flaggingAttachment,history:this.props.history,onSubmit:this.submit.bind(this),onSubmitAndSave:this.submit.bind(this)}),this.state.loading?d.a.createElement("div",{className:"loading-overlay"},d.a.createElement("div",{className:"loader"})):null)}}]),a}(u.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return v}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(13),p=a(24),h=a.n(p),f=(a(28),a(464),a(21),a(25)),g=a(17),v=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).setValueSearch=function(t){e.setState({search_key:t})},e.state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),totalRows:0,perPage:10,page:1,totalPage:0,sort_by:"id",sort:"desc",typeFind:"rmwbData",search_key:"",flaggingAttachment:"tat_guide",isSuccess:!1},window.scrollTo(0,0),e}return Object(i.a)(n,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),this.setState({loggedUser:localStorage.getItem("userNip")}),this.getdataMaster(),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage)}},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=!0,n=new g.a,e.next=5,n.findStatusByParam(this.state);case 5:(r=e.sent)&&200===r.status&&r.data?this.setState({listDataStatus:r.data}):t=!1,t||this.clearSession(),a||this.errorConectionToBe();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r){var l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=!0,this.setState({loading:!0}),i=new f.a,e.next=5,i.findAllAttachmentByParam(this.state.flaggingAttachment,t,a,n,r,this.state);case 5:(o=e.sent)&&200===o.status&&o.data&&o.data.data?(this.setState({list:o.data.data}),this.setState({totalRows:o.data.total_result}),this.setState({totalPage:o.data.total_page}),this.setState({loading:!1})):(o&&o.data&&o.data.message?(this.setState({isSuccess:!1,message:o.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Get data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)),this.setState({list:[]}),this.setState({totalRows:0}),this.setState({totalPage:0}),this.setState({loading:!1})),l||this.errorConectionToBe();case 8:case"end":return e.stop()}}),e,this)})));return function(t,a,n,s){return e.apply(this,arguments)}}()},{key:"editRow",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t?this.props.history.push("rmwb-edit-tat-guide",{data:t}):alert("Some thing wrong with selected data pelase refresh your browser or contact admin!")||window.location.reload();case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"errorConectionToBe",value:function(){alert("Connection to Server Octobench interupted!\nPlease check your conection or contact administrator!")}},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"render",value:function(){for(var e=this,t=JSON.parse(this.state.userPrivilege)||[],n=!1,s=0;s<t.length;s++)"create_rmwb_income"===t[s].name+"_"+t[s].vgroup&&(n=!0);var r=[{name:"Title",selector:"title_draft"},{name:"Description",selector:"description_draft",maxWidth:"400px"},{name:"Status",selector:"status"},{name:"Action",sortable:!1,cell:function(t){return d.a.createElement("div",null,d.a.createElement("input",{type:"image",alt:"Edit",height:20,value:t,src:a(40),onClick:function(a){return e.editRow(t)}}))},button:!0}];return d.a.createElement("div",{id:"listGuide",className:"default-rmwb-wrapper"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?d.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,d.a.createElement("h3",{className:"mb-4"},"TAT Guide"),d.a.createElement(h.a,{id:"tableData",className:"mb-4",defaultSortField:this.state.sort_by,columns:r,progressPending:this.state.loading,data:this.state.list,responsive:!0}),d.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},n&&0===this.state.totalRows?d.a.createElement(m.b,{to:"rmwb-create-tat-guide",className:"d-flex justify-content-end"},d.a.createElement("button",{className:"button-red"},"Add New TAT Guide")):null),this.state.loading?d.a.createElement("div",{className:"loading-overlay"},d.a.createElement("div",{className:"loader"})):null)}}]),n}(u.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return h}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(60),p=(a(28),a(464),a(25)),h=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={isSuccess:!1,message:"",token:localStorage.getItem("accessToken"),htmlContent:"",flaggingAttachment:"tat_guide",loading:!1,roleName:localStorage.getItem("roleName"),isSadmin:!1},e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.setState({isSadmin:"SADMINOCTOBENCH"===this.state.roleName});var e=this.props.location.state.data;this.setState(e),e||this.props.history.push("rmwb-tat-guide")}},{key:"approve",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),t=[],a=new p.a,(n=this.state).status="approved",e.next=7,a.approveAttachment(this.state.flaggingAttachment,n);case 7:(t=e.sent)&&200===t.status&&"Succeed"===t.data.message?(this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-tat-guide",this.state),this.setState({loading:!1})):t&&t.data&&t.data.message?(this.setState({isSuccess:!1,message:t.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Save data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({loading:!0}),a=[],n=new p.a,!t.submitAndSave){e.next=22;break}if(!this.state.isSadmin){e.next=16;break}if(!window.confirm("Are you sure to submit and approve this data ?")){e.next=12;break}return t.status="submitted",e.next=9,n.updateAttachment(this.state.flaggingAttachment,t);case 9:a=e.sent,e.next=14;break;case 12:return this.setState({loading:!1}),e.abrupt("return",!1);case 14:e.next=20;break;case 16:return t.status="submitted",e.next=19,n.updateAttachment(this.state.flaggingAttachment,t);case 19:a=e.sent;case 20:e.next=48;break;case 22:if(!t.submitApprove){e.next=29;break}return t.status="approved",e.next=26,n.approveAttachment(this.state.flaggingAttachment,t);case 26:a=e.sent,e.next=48;break;case 29:if(!t.submitReject){e.next=36;break}return t.status="rejected",e.next=33,n.rejectAttachment(this.state.flaggingAttachment,t);case 33:a=e.sent,e.next=48;break;case 36:if(!t.approveDelete){e.next=43;break}return t.status="deleted",e.next=40,n.approveAttachment(this.state.flaggingAttachment,t);case 40:a=e.sent,e.next=48;break;case 43:if(!t.rejectDelete){e.next=48;break}return t.status="rejected",e.next=47,n.rejectAttachment(this.state.flaggingAttachment,t);case 47:a=e.sent;case 48:if(!a||200!==a.status||"Succeed"!==a.data.message){e.next=59;break}if(!this.state.isSadmin){e.next=54;break}return e.next=52,this.approve();case 52:e.next=57;break;case 54:this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-tat-guide",this.state),this.setState({loading:!1});case 57:e.next=60;break;case 59:a&&a.data&&a.data.message?(this.setState({isSuccess:!1,message:a.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Save data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0));case 60:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.location.state.data;return d.a.createElement("div",{id:"EditGuide",className:"default-rmwb-wrapper"},this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement("h3",{className:"mb-4"},"Edit TAT Guide"),d.a.createElement(m.a,{mode:"edit",flagging:this.state.flaggingAttachment,data:e,history:this.props.history,onSubmit:this.submit.bind(this),onSubmitAndSave:this.submit.bind(this)}),this.state.loading?d.a.createElement("div",{className:"loading-overlay"},d.a.createElement("div",{className:"loader"})):null)}}]),a}(u.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return h}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(60),p=(a(28),a(464),a(25)),h=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={isSuccess:!1,message:"",is_deleted_draft:"",flaggingAttachment:"tat_guide",token:localStorage.getItem("accessToken"),totalRows:0,perPage:10,page:1,totalPage:0,sort_by:"id",sort:"desc",loading:!1,roleName:localStorage.getItem("roleName"),isSadmin:!1},e}return Object(i.a)(a,[{key:"approve",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),a=[],n=new p.a,(r=this.state).status="approved",r.id=t,e.next=8,n.approveAttachment(this.state.flaggingAttachment,r);case 8:(a=e.sent)&&200===a.status&&"Succeed"===a.data.message?(this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-tat-guide",this.state),this.setState({loading:!1})):a&&a.data&&a.data.message?(this.setState({isSuccess:!1,message:a.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Save data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(this.state.isSadmin),!this.state.isSadmin){e.next=22;break}if(!window.confirm("Are you sure to submit and approve this data ?")){e.next=18;break}return this.setState({loading:!0}),t.submitOnly?t.status="drafted":t.status="submitted",a=new p.a,e.next=8,a.addAttachment(this.state.flaggingAttachment,t);case 8:if(!((n=e.sent)&&n.data&&200===n.status&&n.data.message&&"Succeed"===n.data.message)){e.next=15;break}return r=n.data.data.id,e.next=13,this.approve(r);case 13:e.next=16;break;case 15:n&&n.data&&n.data.message?(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Save data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0));case 16:e.next=20;break;case 18:return this.setState({loading:!1}),e.abrupt("return",!1);case 20:e.next=29;break;case 22:return this.setState({loading:!0}),t.submitOnly?t.status="drafted":t.status="submitted",l=new p.a,e.next=27,l.addAttachment(this.state.flaggingAttachment,t);case 27:(i=e.sent)&&i.data&&200===i.status&&i.data.message&&"Succeed"===i.data.message?(this.setState({isSuccess:!0,message:"Data saved"}),this.props.history.push("rmwb-tat-guide",this.state),this.setState({loading:!0})):i&&i.data&&i.data.message?(this.setState({isSuccess:!1,message:i.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Save data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0));case 29:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentWillMount",value:function(){this.setState({isSadmin:"SADMINOCTOBENCH"===this.state.roleName}),this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),this.setState({loggedUser:localStorage.getItem("userNip")}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage)}},{key:"errorConectionToBe",value:function(){alert("Connection to Server Octobench interupted!\nPlease check your conection or contact administrator!"),this.setState({loading:!1})}},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r){var l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=!0,this.setState({loading:!0}),i=new p.a,e.next=5,i.findAllAttachmentByParam(this.state.flaggingAttachment,t,a,n,r,this.state);case 5:(o=e.sent)&&200===o.status&&o.data&&o.data.data&&o.data.data?(this.setState({list:o.data.data}),this.setState({totalRows:o.data.total_result}),this.setState({totalPage:o.data.total_page}),this.setState({loading:!1}),o.data.total_result>0&&(alert("TAT Guide already exist!"),this.props.history.push("/rmwb-tat-guide"))):(o&&o.data&&o.data.message?(this.setState({isSuccess:!1,message:o.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Get data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)),this.setState({list:[]}),this.setState({totalRows:0}),this.setState({totalPage:0}),this.setState({loading:!1})),l||this.errorConectionToBe();case 8:case"end":return e.stop()}}),e,this)})));return function(t,a,n,s){return e.apply(this,arguments)}}()},{key:"render",value:function(){return d.a.createElement("div",{id:"CreateGuide",className:"default-rmwb-wrapper"},this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement("h3",{className:"mb-4"},"Add New TAT Guide"),d.a.createElement(m.a,{flagging:this.state.flaggingAttachment,history:this.props.history,onSubmit:this.submit.bind(this),onSubmitAndSave:this.submit.bind(this)}),this.state.loading?d.a.createElement("div",{className:"loading-overlay"},d.a.createElement("div",{className:"loader"})):null)}}]),a}(u.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return v}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(13),p=a(24),h=a.n(p),f=(a(28),a(465),a(21),a(25)),g=a(17),v=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).setValueSearch=function(t){e.setState({search_key:t})},e.state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),totalRows:0,perPage:10,page:1,totalPage:0,sort_by:"id",sort:"desc",typeFind:"rmwbData",search_key:"",flaggingAttachment:"dpd_guide",isSuccess:!1},window.scrollTo(0,0),e}return Object(i.a)(n,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),this.setState({loggedUser:localStorage.getItem("userNip")}),this.getdataMaster(),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage)}},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=!0,n=new g.a,e.next=5,n.findStatusByParam(this.state);case 5:(r=e.sent)&&200===r.status&&r.data?this.setState({listDataStatus:r.data}):t=!1,t||this.clearSession(),a||this.errorConectionToBe();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r){var l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=!0,this.setState({loading:!0}),i=new f.a,e.next=5,i.findAllAttachmentByParam(this.state.flaggingAttachment,t,a,n,r,this.state);case 5:(o=e.sent)&&200===o.status&&o.data&&o.data.data?(this.setState({list:o.data.data}),this.setState({totalRows:o.data.total_result}),this.setState({totalPage:o.data.total_page}),this.setState({loading:!1})):(o&&o.data&&o.data.message?(this.setState({isSuccess:!1,message:o.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Get data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)),this.setState({list:[]}),this.setState({totalRows:0}),this.setState({totalPage:0}),this.setState({loading:!1})),l||this.errorConectionToBe();case 8:case"end":return e.stop()}}),e,this)})));return function(t,a,n,s){return e.apply(this,arguments)}}()},{key:"editRow",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t?this.props.history.push("rmwb-edit-dpd-guide",{data:t}):alert("Some thing wrong with selected data pelase refresh your browser or contact admin!")||window.location.reload();case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"errorConectionToBe",value:function(){alert("Connection to Server Octobench interupted!\nPlease check your conection or contact administrator!")}},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"render",value:function(){for(var e=this,t=JSON.parse(this.state.userPrivilege)||[],n=!1,s=0;s<t.length;s++)"create_rmwb_income"===t[s].name+"_"+t[s].vgroup&&(n=!0);var r=[{name:"Title",selector:"title_draft"},{name:"Description",selector:"description_draft",maxWidth:"400px"},{name:"Status",selector:"status"},{name:"Action",sortable:!1,cell:function(t){return d.a.createElement("div",null,d.a.createElement("input",{type:"image",alt:"Edit",height:20,value:t,src:a(40),onClick:function(a){return e.editRow(t)}}))},button:!0}];return d.a.createElement("div",{id:"listGuide",className:"default-rmwb-wrapper"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?d.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,d.a.createElement("h3",{className:"mb-4"},"DPD Guide"),d.a.createElement(h.a,{id:"tableData",className:"mb-4",defaultSortField:this.state.sort_by,columns:r,progressPending:this.state.loading,data:this.state.list,responsive:!0}),d.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},n&&0===this.state.totalRows?d.a.createElement(m.b,{to:"rmwb-create-dpd-guide",className:"d-flex justify-content-end"},d.a.createElement("button",{className:"button-red"},"Add New DPD Guide")):null),this.state.loading?d.a.createElement("div",{className:"loading-overlay"},d.a.createElement("div",{className:"loader"})):null)}}]),n}(u.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return h}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(60),p=(a(28),a(465),a(25)),h=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={isSuccess:!1,message:"",token:localStorage.getItem("accessToken"),htmlContent:"",flaggingAttachment:"dpd_guide",loading:!1,roleName:localStorage.getItem("roleName"),isSadmin:!1},e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.setState({isSadmin:"SADMINOCTOBENCH"===this.state.roleName});var e=this.props.location.state.data;this.setState(e),e||this.props.history.push("rmwb-dpd-guide")}},{key:"approve",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),t=[],a=new p.a,(n=this.state).status="approved",e.next=7,a.approveAttachment(this.state.flaggingAttachment,n);case 7:(t=e.sent)&&200===t.status&&"Succeed"===t.data.message?(this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-dpd-guide",this.state),this.setState({loading:!1})):t&&t.data&&t.data.message?(this.setState({isSuccess:!1,message:t.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Save data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({loading:!0}),a=[],n=new p.a,!t.submitAndSave){e.next=22;break}if(!this.state.isSadmin){e.next=16;break}if(!window.confirm("Are you sure to submit and approve this data ?")){e.next=12;break}return t.status="submitted",e.next=9,n.updateAttachment(this.state.flaggingAttachment,t);case 9:a=e.sent,e.next=14;break;case 12:return this.setState({loading:!1}),e.abrupt("return",!1);case 14:e.next=20;break;case 16:return t.status="submitted",e.next=19,n.updateAttachment(this.state.flaggingAttachment,t);case 19:a=e.sent;case 20:e.next=48;break;case 22:if(!t.submitApprove){e.next=29;break}return t.status="approved",e.next=26,n.approveAttachment(this.state.flaggingAttachment,t);case 26:a=e.sent,e.next=48;break;case 29:if(!t.submitReject){e.next=36;break}return t.status="rejected",e.next=33,n.rejectAttachment(this.state.flaggingAttachment,t);case 33:a=e.sent,e.next=48;break;case 36:if(!t.approveDelete){e.next=43;break}return t.status="deleted",e.next=40,n.approveAttachment(this.state.flaggingAttachment,t);case 40:a=e.sent,e.next=48;break;case 43:if(!t.rejectDelete){e.next=48;break}return t.status="rejected",e.next=47,n.rejectAttachment(this.state.flaggingAttachment,t);case 47:a=e.sent;case 48:if(!a||200!==a.status||"Succeed"!==a.data.message){e.next=59;break}if(!this.state.isSadmin){e.next=54;break}return e.next=52,this.approve();case 52:e.next=57;break;case 54:this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-dpd-guide",this.state),this.setState({loading:!1});case 57:e.next=60;break;case 59:a&&a.data&&a.data.message?(this.setState({isSuccess:!1,message:a.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Save data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0));case 60:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.location.state.data;return d.a.createElement("div",{id:"EditGuide",className:"default-rmwb-wrapper"},this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement("h3",{className:"mb-4"},"Edit DPD Guide"),d.a.createElement(m.a,{mode:"edit",flagging:this.state.flaggingAttachment,data:e,history:this.props.history,onSubmit:this.submit.bind(this),onSubmitAndSave:this.submit.bind(this)}),this.state.loading?d.a.createElement("div",{className:"loading-overlay"},d.a.createElement("div",{className:"loader"})):null)}}]),a}(u.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return h}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(60),p=(a(28),a(465),a(25)),h=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={isSuccess:!1,message:"",is_deleted_draft:"",flaggingAttachment:"dpd_guide",token:localStorage.getItem("accessToken"),totalRows:0,perPage:10,page:1,totalPage:0,sort_by:"id",sort:"desc",loading:!1,roleName:localStorage.getItem("roleName"),isSadmin:!1},e}return Object(i.a)(a,[{key:"approve",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),a=[],n=new p.a,(r=this.state).status="approved",r.id=t,e.next=8,n.approveAttachment(this.state.flaggingAttachment,r);case 8:(a=e.sent)&&200===a.status&&"Succeed"===a.data.message?(this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-dpd-guide",this.state),this.setState({loading:!1})):a&&a.data&&a.data.message?(this.setState({isSuccess:!1,message:a.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Save data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.isSadmin){e.next=21;break}if(!window.confirm("Are you sure to submit and approve this data ?")){e.next=17;break}return this.setState({loading:!0}),t.submitOnly?t.status="drafted":t.status="submitted",a=new p.a,e.next=7,a.addAttachment(this.state.flaggingAttachment,t);case 7:if(!((n=e.sent)&&n.data&&200===n.status&&n.data.message&&"Succeed"===n.data.message)){e.next=14;break}return r=n.data.data.id,e.next=12,this.approve(r);case 12:e.next=15;break;case 14:n&&n.data&&n.data.message?(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Save data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0));case 15:e.next=19;break;case 17:return this.setState({loading:!1}),e.abrupt("return",!1);case 19:e.next=28;break;case 21:return this.setState({loading:!0}),t.submitOnly?t.status="drafted":t.status="submitted",l=new p.a,e.next=26,l.addAttachment(this.state.flaggingAttachment,t);case 26:(i=e.sent)&&i.data&&200===i.status&&i.data.message&&"Succeed"===i.data.message?(this.setState({isSuccess:!0,message:"Data saved"}),this.props.history.push("rmwb-dpd-guide",this.state),this.setState({loading:!0})):i&&i.data&&i.data.message?(this.setState({isSuccess:!1,message:i.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Save data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0));case 28:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentWillMount",value:function(){this.setState({isSadmin:"SADMINOCTOBENCH"===this.state.roleName}),this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),this.setState({loggedUser:localStorage.getItem("userNip")}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage)}},{key:"errorConectionToBe",value:function(){alert("Connection to Server Octobench interupted!\nPlease check your conection or contact administrator!"),this.setState({loading:!1})}},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r){var l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=!0,this.setState({loading:!0}),i=new p.a,e.next=5,i.findAllAttachmentByParam(this.state.flaggingAttachment,t,a,n,r,this.state);case 5:(o=e.sent)&&200===o.status&&o.data&&o.data.data&&o.data.data?(this.setState({list:o.data.data}),this.setState({totalRows:o.data.total_result}),this.setState({totalPage:o.data.total_page}),this.setState({loading:!1}),o.data.total_result>0&&(alert("DPD Guide already exist!"),this.props.history.push("/rmwb-dpd-guide"))):(o&&o.data&&o.data.message?(this.setState({isSuccess:!1,message:o.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Get data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)),this.setState({list:[]}),this.setState({totalRows:0}),this.setState({totalPage:0}),this.setState({loading:!1})),l||this.errorConectionToBe();case 8:case"end":return e.stop()}}),e,this)})));return function(t,a,n,s){return e.apply(this,arguments)}}()},{key:"render",value:function(){return d.a.createElement("div",{id:"CreateGuide",className:"default-rmwb-wrapper"},this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement("h3",{className:"mb-4"},"Add New DPD Guide"),d.a.createElement(m.a,{flagging:this.state.flaggingAttachment,history:this.props.history,onSubmit:this.submit.bind(this),onSubmitAndSave:this.submit.bind(this)}),this.state.loading?d.a.createElement("div",{className:"loading-overlay"},d.a.createElement("div",{className:"loader"})):null)}}]),a}(u.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return v}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(13),p=a(24),h=a.n(p),f=(a(28),a(466),a(21),a(25)),g=a(17),v=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).setValueSearch=function(t){e.setState({search_key:t})},e.state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),totalRows:0,perPage:10,page:1,totalPage:0,sort_by:"id",sort:"desc",typeFind:"rmwbData",search_key:"",flaggingAttachment:"product_holding_guide",isSuccess:!1},window.scrollTo(0,0),e}return Object(i.a)(n,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),this.setState({loggedUser:localStorage.getItem("userNip")}),this.getdataMaster(),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage)}},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=!0,n=new g.a,e.next=5,n.findStatusByParam(this.state);case 5:(r=e.sent)&&200===r.status&&r.data?this.setState({listDataStatus:r.data}):t=!1,t||this.clearSession(),a||this.errorConectionToBe();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r){var l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=!0,this.setState({loading:!0}),i=new f.a,e.next=5,i.findAllAttachmentByParam(this.state.flaggingAttachment,t,a,n,r,this.state);case 5:(o=e.sent)&&200===o.status&&o.data&&o.data.data?(this.setState({list:o.data.data}),this.setState({totalRows:o.data.total_result}),this.setState({totalPage:o.data.total_page}),this.setState({loading:!1})):(o&&o.data&&o.data.message?(this.setState({isSuccess:!1,message:o.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Get data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)),this.setState({list:[]}),this.setState({totalRows:0}),this.setState({totalPage:0}),this.setState({loading:!1})),l||this.errorConectionToBe();case 8:case"end":return e.stop()}}),e,this)})));return function(t,a,n,s){return e.apply(this,arguments)}}()},{key:"editRow",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t?this.props.history.push("rmwb-edit-product-holding-guide",{data:t}):alert("Some thing wrong with selected data pelase refresh your browser or contact admin!")||window.location.reload();case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"errorConectionToBe",value:function(){alert("Connection to Server Octobench interupted!\nPlease check your conection or contact administrator!")}},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"render",value:function(){for(var e=this,t=JSON.parse(this.state.userPrivilege)||[],n=!1,s=0;s<t.length;s++)"create_rmwb_income"===t[s].name+"_"+t[s].vgroup&&(n=!0);var r=[{name:"Title",selector:"title_draft"},{name:"Description",selector:"description_draft",maxWidth:"400px"},{name:"Status",selector:"status"},{name:"Action",sortable:!1,cell:function(t){return d.a.createElement("div",null,d.a.createElement("input",{type:"image",alt:"Edit",height:20,value:t,src:a(40),onClick:function(a){return e.editRow(t)}}))},button:!0}];return d.a.createElement("div",{id:"listProductHoldingGuide",className:"default-rmwb-wrapper"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?d.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,d.a.createElement("h3",{className:"mb-4"},"Product Holding Guide"),d.a.createElement(h.a,{id:"tableData",className:"mb-4",defaultSortField:this.state.sort_by,columns:r,progressPending:this.state.loading,data:this.state.list,responsive:!0}),d.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},n&&0===this.state.totalRows?d.a.createElement(m.b,{to:"rmwb-create-product-holding-guide",className:"d-flex justify-content-end"},d.a.createElement("button",{className:"button-red"},"Add New Product Holding Guide")):null),this.state.loading?d.a.createElement("div",{className:"loading-overlay"},d.a.createElement("div",{className:"loader"})):null)}}]),n}(u.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return h}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(60),p=(a(28),a(466),a(25)),h=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={isSuccess:!1,message:"",token:localStorage.getItem("accessToken"),htmlContent:"",flaggingAttachment:"product_holding_guide",loading:!1,roleName:localStorage.getItem("roleName"),isSadmin:!1},e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.setState({isSadmin:"SADMINOCTOBENCH"===this.state.roleName});var e=this.props.location.state.data;this.setState(e),e||this.props.history.push("rmwb-product-holding-guide")}},{key:"approve",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),t=[],a=new p.a,(n=this.state).status="approved",e.next=7,a.approveAttachment(this.state.flaggingAttachment,n);case 7:(t=e.sent)&&200===t.status&&"Succeed"===t.data.message?(this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-product-holding-guide",this.state),this.setState({loading:!1})):t&&t.data&&t.data.message?(this.setState({isSuccess:!1,message:t.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Save data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({loading:!0}),a=[],n=new p.a,!t.submitAndSave){e.next=22;break}if(!this.state.isSadmin){e.next=16;break}if(!window.confirm("Are you sure to submit and approve this data ?")){e.next=12;break}return t.status="submitted",e.next=9,n.updateAttachment(this.state.flaggingAttachment,t);case 9:a=e.sent,e.next=14;break;case 12:return this.setState({loading:!1}),e.abrupt("return",!1);case 14:e.next=20;break;case 16:return t.status="submitted",e.next=19,n.updateAttachment(this.state.flaggingAttachment,t);case 19:a=e.sent;case 20:e.next=48;break;case 22:if(!t.submitApprove){e.next=29;break}return t.status="approved",e.next=26,n.approveAttachment(this.state.flaggingAttachment,t);case 26:a=e.sent,e.next=48;break;case 29:if(!t.submitReject){e.next=36;break}return t.status="rejected",e.next=33,n.rejectAttachment(this.state.flaggingAttachment,t);case 33:a=e.sent,e.next=48;break;case 36:if(!t.approveDelete){e.next=43;break}return t.status="deleted",e.next=40,n.approveAttachment(this.state.flaggingAttachment,t);case 40:a=e.sent,e.next=48;break;case 43:if(!t.rejectDelete){e.next=48;break}return t.status="rejected",e.next=47,n.rejectAttachment(this.state.flaggingAttachment,t);case 47:a=e.sent;case 48:if(!a||200!==a.status||"Succeed"!==a.data.message){e.next=59;break}if(!this.state.isSadmin){e.next=54;break}return e.next=52,this.approve();case 52:e.next=57;break;case 54:this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-product-holding-guide",this.state),this.setState({loading:!1});case 57:e.next=60;break;case 59:a&&a.data&&a.data.message?(this.setState({isSuccess:!1,message:a.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Save data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0));case 60:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.location.state.data;return d.a.createElement("div",{id:"EditProductHoldingAnalityc",className:"default-rmwb-wrapper"},this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement("h3",{className:"mb-4"},"Edit Product Holding Guide"),d.a.createElement(m.a,{mode:"edit",flagging:this.state.flaggingAttachment,data:e,history:this.props.history,onSubmit:this.submit.bind(this),onSubmitAndSave:this.submit.bind(this)}),this.state.loading?d.a.createElement("div",{className:"loading-overlay"},d.a.createElement("div",{className:"loader"})):null)}}]),a}(u.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return h}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(60),p=(a(28),a(466),a(25)),h=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={isSuccess:!1,message:"",is_deleted_draft:"",flaggingAttachment:"product_holding_guide",token:localStorage.getItem("accessToken"),totalRows:0,perPage:10,page:1,totalPage:0,sort_by:"id",sort:"desc",loading:!1,roleName:localStorage.getItem("roleName"),isSadmin:!1},e}return Object(i.a)(a,[{key:"approve",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),a=[],n=new p.a,(r=this.state).status="approved",r.id=t,e.next=8,n.approveAttachment(this.state.flaggingAttachment,r);case 8:(a=e.sent)&&200===a.status&&"Succeed"===a.data.message?(this.setState({isSuccess:!0,message:"Data Saved"}),this.props.history.push("rmwb-product-holding-guide",this.state),this.setState({loading:!1})):a&&a.data&&a.data.message?(this.setState({isSuccess:!1,message:a.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Save data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(this.state.isSadmin),!this.state.isSadmin){e.next=22;break}if(!window.confirm("Are you sure to submit and approve this data ?")){e.next=18;break}return this.setState({loading:!0}),t.submitOnly?t.status="drafted":t.status="submitted",a=new p.a,e.next=8,a.addAttachment(this.state.flaggingAttachment,t);case 8:if(!((n=e.sent)&&n.data&&200===n.status&&n.data.message&&"Succeed"===n.data.message)){e.next=15;break}return r=n.data.data.id,e.next=13,this.approve(r);case 13:e.next=16;break;case 15:n&&n.data&&n.data.message?(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Save data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0));case 16:e.next=20;break;case 18:return this.setState({loading:!1}),e.abrupt("return",!1);case 20:e.next=29;break;case 22:return this.setState({loading:!0}),t.submitOnly?t.status="drafted":t.status="submitted",l=new p.a,e.next=27,l.addAttachment(this.state.flaggingAttachment,t);case 27:(i=e.sent)&&i.data&&200===i.status&&i.data.message&&"Succeed"===i.data.message?(this.setState({isSuccess:!0,message:"Data saved"}),this.props.history.push("rmwb-product-holding-guide",this.state),this.setState({loading:!0})):i&&i.data&&i.data.message?(this.setState({isSuccess:!1,message:i.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Save data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0));case 29:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentWillMount",value:function(){this.setState({isSadmin:"SADMINOCTOBENCH"===this.state.roleName}),this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),this.setState({loggedUser:localStorage.getItem("userNip")}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage)}},{key:"errorConectionToBe",value:function(){alert("Connection to Server Octobench interupted!\nPlease check your conection or contact administrator!")}},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n,r){var l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=!0,this.setState({loading:!0}),i=new p.a,e.next=5,i.findAllAttachmentByParam(this.state.flaggingAttachment,t,a,n,r,this.state);case 5:(o=e.sent)&&200===o.status&&o.data&&o.data.data&&o.data.data?(this.setState({list:o.data.data}),this.setState({totalRows:o.data.total_result}),this.setState({totalPage:o.data.total_page}),this.setState({loading:!1}),o.data.total_result>0&&(alert("Product Holding Guide already exist!"),this.props.history.push("/rmwb-product-holding-guide"))):(o&&o.data&&o.data.message?(this.setState({isSuccess:!1,message:o.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Get data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)),this.setState({list:[]}),this.setState({totalRows:0}),this.setState({totalPage:0}),this.setState({loading:!1})),l||this.errorConectionToBe();case 8:case"end":return e.stop()}}),e,this)})));return function(t,a,n,s){return e.apply(this,arguments)}}()},{key:"render",value:function(){return d.a.createElement("div",{id:"CreateProductHoldingAnalityc",className:"default-rmwb-wrapper"},this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement("h3",{className:"mb-4"},"Add New Product Holding Guide"),d.a.createElement(m.a,{flagging:this.state.flaggingAttachment,history:this.props.history,onSubmit:this.submit.bind(this),onSubmitAndSave:this.submit.bind(this)}),this.state.loading?d.a.createElement("div",{className:"loading-overlay"},d.a.createElement("div",{className:"loader"})):null)}}]),a}(u.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return f}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=(a(1633),a(32)),p=a(18),h=a(8),f=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={file:null,error:"",alertState:"alert alert-primary",loading:!1,token:localStorage.getItem("accessToken")},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"validate",value:function(e){return!!e.file||(this.setState({error:"Please select file to delete!",alertState:"alert alert-danger"}),!1)}},{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validate(this.state)){e.next=2;break}return e.abrupt("return");case 2:return this.setState({loading:!0}),t=new m.a,e.next=6,t.bulkDeleteLeads(this.state);case 6:(a=e.sent)&&200===a.status&&a.data.success?this.setState({error:a.data.message,alertState:"alert alert-primary",loading:!1}):a&&a.data&&h.a===a.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):this.setState({error:a&&a.data.message?a.data.message:"Error bulk delete Lead, Please contact Administrator",alertState:"alert alert-danger",loading:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return d.a.createElement("div",{id:"BulkDeleteLead"},this.state.error?d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.error):null,d.a.createElement("h3",{className:"mb-4"},"Bulk Delete Leads"),this.state.loading?d.a.createElement(p.a,null):d.a.createElement("div",{className:"row mb-3 box-area"},d.a.createElement("input",{type:"file",accept:".csv",onChange:function(t){return e.setState({file:t.target.files[0]})}}),d.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.submit.bind(this)},"submit")))}}]),a}(u.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return x}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=(a(15),a(27)),h=(a(73),a(19)),f=a.n(h),g=(a(18),a(23)),v=(a(191),a(21),a(183)),b=a(8),y=a(7),S=a.n(y),E=a(16),w=a.n(E),k=a(145),N=a(10),C=a.n(N),A=a(11),x=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),nameFind:"",refNumFind:"",fromDateFind:"",toDateFind:"",fileName:"",dateCreated:""},e.reset=e.reset.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(n,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")});var e=f.a.parse(this.props.location.search);this.setPage(+e.page||0,e.filter)}},{key:"componentDidUpdate",value:function(e){if(this.props.location.search!==e.location.search){var t=f.a.parse(this.props.location.search);this.setPage(+t.page||0,t.filter||null)}}},{key:"downloadReport",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.state,a=t.fileName,t.dateCreated,n=new Date,String(n.getMonth()+1).padStart(2,"0")+String(n.getDate()).padStart(2,"0")+n.getFullYear(),r=new v.a,fetch(r.downloadReportConsolidate(a),{headers:{token:this.state.token}}).then((function(e){e.blob().then((function(e){window.navigator&&window.navigator.msSaveOrOpenBlob&&window.navigator.msSaveOrOpenBlob(e,"employee_data.xlsx");var t=window.URL.createObjectURL(e),n=document.createElement("a");n.href=t,n.download=a,document.body.appendChild(n),n.click(),setTimeout((function(){document.body.removeChild(n),window.URL.revokeObjectURL(t)}),100)}))}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i,o,c=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:0,c.length>1&&void 0!==c[1]?c[1]:this.state.filter,a=c.length>2&&void 0!==c[2]?c[2]:10,n=new v.a,e.next=6,n.findErwlListByParam(this.state,t,a);case 6:r=e.sent,l=C()(r,"data.data",{}),i=C()(l,"fileName",""),o=C()(l,"dateCreateReport",""),r&&200===r.status&&r.data?this.setState({fileName:i,dateCreated:o}):r&&r.data&&b.a===r.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):this.setState({error:!0,errorMessage:r&&r.data?r.data.message:r,loading:!1});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"downloadWL",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,n=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a(190),S.a.get(A.b+"/restricted/admin/watchlist/downloadExcelReport",{headers:{token:this.state.token},responseType:"blob",params:{startDate:this.state.fromDateFind,endDate:this.state.toDateFind}}).then((function(e){console.log(e.headers),t(e.data,"WL"+n.state.fromDateFind+"_"+n.state.toDateFind+".xlsx")}));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"download",value:function(){this.setState({loading:!0,search:!0}),this.downloadWL()}},{key:"reset",value:function(){var e=this;this.setState({loading:!0}),this.setState({fromDateFind:"",toDateFind:""},(function(){setTimeout((function(){e.setPage(0,"")}),1)}))}},{key:"render",value:function(){for(var e=this,t=this.state,n=t.fileName,s=t.dateCreated,r=JSON.parse(this.state.userPrivilege)||[],l=this.state.fromDateFind?w()(this.state.fromDateFind,"YYYY-MM-DDTHH:mm:ss").toDate():null,i=this.state.toDateFind?w()(this.state.toDateFind,"YYYY-MM-DDTHH:mm:ss").toDate():null,o=!0,c=0;c<r.length;c++)"download_rpt"===r[c].name+"_"+r[c].vgroup&&(o=!0);return m.a.createElement("div",{id:"ListProduct"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?m.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,m.a.createElement("h3",null,"Report Watchlist Consolidate"),m.a.createElement("div",{id:"search-menu"},m.a.createElement("table",{style:{width:"50%"}},m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-5"},"Dari Tanggal"),m.a.createElement("div",{className:"col-4 p-0"},m.a.createElement(p.a,{selected:l,onChange:function(t){return e.setState({fromDateFind:w()(t,"YYYY-MM-DDTHH:mm:ss",!0).format("YYYY-MM-DD")})},dateFormat:"yyyy-MM-dd"}))),m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-5"},"Sampai Tanggal"),m.a.createElement("div",{className:"col-4 p-0"},m.a.createElement(p.a,{selected:i,onChange:function(t){return e.setState({toDateFind:w()(t,"YYYY-MM-DDTHH:mm:ss",!0).format("YYYY-MM-DD")})},minDate:l,maxDate:Object(k.a)(l,90),dateFormat:"yyyy-MM-dd"}))))))),m.a.createElement("div",null,m.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.download.bind(this)},"Download"))),""===n?m.a.createElement("div",null):m.a.createElement(g.a,null,m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,"Report Name"),m.a.createElement("th",null,"Date Created"),o?m.a.createElement("th",null,"Actions"):null)),m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",null,n),m.a.createElement("td",null,s),o?m.a.createElement("td",null,m.a.createElement("input",{type:"image",alt:"Download",height:20,src:a(169),onClick:function(){return e.downloadReport()}})):null))))}}]),n}(d.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return C}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=(a(15),a(27),a(73),a(19)),h=a.n(p),f=a(18),g=a(23),v=(a(191),a(21),a(183)),b=a(8),y=(a(7),a(16)),S=a.n(y),E=a(10),w=a.n(E),k=(a(11),a(1636),a(30)),N=a.n(k),C=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).onChangeHandler=function(t){e.setState({selectedFile:t.target.files[0],loaded:0})},e.state={userPrivilege:[],list:[],loading:!1,token:localStorage.getItem("accessToken"),nameFind:"",refNumFind:"",fromDateFind:"",toDateFind:"",fileName:"",errorList:[],dateCreated:"",selectedFile:null,error:null,errorMessage:"",alertModal:!1,forceUpload:!1},e.reset=e.reset.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")});var e=h.a.parse(this.props.location.search);this.setPage(+e.page||0,e.filter)}},{key:"componentDidUpdate",value:function(e){if(this.props.location.search!==e.location.search){var t=h.a.parse(this.props.location.search);this.setPage(+t.page||0,t.filter||null)}}},{key:"uploadWL",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new v.a,e.next=3,a.uploadWatchlist(this.state,t);case 3:n=e.sent,r=w()(n,"data.data",{}),w()(r,"fileName",""),w()(r,"dateCreateReport",""),n&&200===n.status&&n.data&&n.data.success?(this.setState({error:!1,errorMessage:n&&n.data?n.data.data:n,loading:!1}),this.reset()):n&&n.data&&b.a===n.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):"01"==n.data.errorCode?this.openModal():(this.setState({error:!0,errorMessage:n&&n.data?n.data.message:n,errorList:n&&n.data&&Array.isArray(n.data.data)?n.data.data:[],loading:!1}),this.reset());case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i,o,c=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:0,c.length>1&&void 0!==c[1]?c[1]:this.state.filter,a=c.length>2&&void 0!==c[2]?c[2]:10,n=new v.a,e.next=6,n.findErwlListByParam(this.state,t,a);case 6:r=e.sent,l=w()(r,"data.data",{}),i=w()(l,"fileName",""),o=w()(l,"dateCreateReport",""),r&&200===r.status&&r.data?this.setState({fileName:i,dateCreated:o}):r&&r.data&&b.a===r.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):this.setState({error:!0,errorMessage:r&&r.data?r.data.message:r,loading:!1});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"submit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.setState({loading:!0,alertModal:!1,error:null,errorMessage:"",errorList:[]}),e&&this.setState({forceUpload:!0}),this.uploadWL(e)}},{key:"reset",value:function(){this.setState({fromDateFind:"",toDateFind:"",selectedFile:null,forceUpload:!1},(function(){setTimeout((function(){}),1)}))}},{key:"openModal",value:function(){this.setState({alertModal:!0})}},{key:"closeModal",value:function(){this.setState({alertModal:!1,loading:!1}),this.reset()}},{key:"render",value:function(){for(var e=this,t=this.state,a=(t.fileName,t.dateCreated,JSON.parse(this.state.userPrivilege)||[]),n=(this.state.fromDateFind&&S()(this.state.fromDateFind,"YYYY-MM-DDTHH:mm:ss").toDate(),this.state.toDateFind&&S()(this.state.toDateFind,"YYYY-MM-DDTHH:mm:ss").toDate(),0);n<a.length;n++)"download_rpt"===a[n].name+"_"+a[n].vgroup&&!0;return m.a.createElement("div",{id:"ListProduct"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?m.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,m.a.createElement("h3",null,"Bulk Upload Watchlist Task"),this.state.error&&m.a.createElement("div",{className:"error-container"},m.a.createElement("span",null,this.state.errorMessage)),0==this.state.error&&m.a.createElement("div",{id:"success-container"},m.a.createElement("span",null,this.state.errorMessage)),this.state.loading?m.a.createElement(f.a,null):m.a.createElement("div",{id:"search-menu"},m.a.createElement("table",{style:{width:"50%"}},m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-5"},"File"),m.a.createElement("div",{className:"col-4 p-0"},m.a.createElement("input",{type:"file",name:"file",accept:".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",onChange:this.onChangeHandler}))))))),m.a.createElement("div",null,m.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:function(t){return e.submit()},disabled:!this.state.selectedFile},"Submit")),this.state.errorList&&this.state.errorList.length>0?m.a.createElement("div",{className:"mt-5"},m.a.createElement("h5",null,"Duplicated List"),m.a.createElement(g.a,{totalPage:1},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,"No."),m.a.createElement("th",null,"CIF"))),m.a.createElement("tbody",null,this.state.errorList.map((function(e,t){return m.a.createElement("tr",null,m.a.createElement("td",null,t+1),m.a.createElement("td",null,e))}))))):m.a.createElement("div",null)),m.a.createElement(N.a,{isOpen:this.state.alertModal,className:"Modal",onRequestClose:this.handleCloseModal,contentLabel:"onRequestClose Example",ariaHideApp:!1,overlayClassName:"Overlay"},m.a.createElement("div",null,m.a.createElement("div",{className:"row mx-0 justify-content-center"},m.a.createElement("h4",null,"There is watchlist(s) that is currently pending in RM's SFT Tasklist, are you sure you want to overwrite the watchlist(s)")),m.a.createElement("div",{className:"d-flex justify-content-center mx-2 mt-5"},m.a.createElement("button",{className:"button-red mr-5",onClick:this.closeModal.bind(this)},"Cancel"),m.a.createElement("button",{className:"button-red",onClick:function(t){return e.submit(!0)}},"Yes")))))}}]),a}(d.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return S}));var n=a(43),s=a(1),r=a.n(s),l=a(2),i=a(4),o=a(3),c=a(9),u=a(6),d=a(5),m=a(0),p=a.n(m),h=(a(15),a(27),a(73),a(19)),f=a.n(h),g=a(18),v=a(23),b=(a(191),a(21),a(183)),y=a(8),S=(a(7),a(16),a(10),a(11),a(1638),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).state={userPrivilege:[],loading:!0,token:localStorage.getItem("accessToken"),error:null,errorMessage:"",detailLists:[],currentPage:0,totalPages:0,filtered:[],checkedAll:!1},e.handleInputChange=e.handleInputChange.bind(Object(c.a)(e)),e.thickAll=e.thickAll.bind(Object(c.a)(e)),window.scrollTo(0,0),e}return Object(o.a)(a,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")})}},{key:"componentDidUpdate",value:function(e){if(this.props.location.search!==e.location.search){var t=f.a.parse(this.props.location.search);this.setPage(+t.page||0,t.filter||null)}}},{key:"componentDidMount",value:function(){this.setPage(0,"")}},{key:"submitApprove",value:function(){var e=Object(l.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),a=new b.a,e.next=4,a.approveWL(this.state,this.state.filtered,t.target.dataset.approve);case 4:(n=e.sent)&&200===n.status&&n.data&&n.data.success?(this.setState({error:!1,errorMessage:n&&n.data?n.data.message:n}),this.setPage(0,"")):n&&n.data&&y.a===n.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):this.setState({error:!0,errorMessage:n&&n.data?n.data.message:n,loading:!1});case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setPage",value:function(){var e=Object(l.a)(r.a.mark((function e(){var t,a,s,l,i,o=arguments;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:0,o.length>1&&void 0!==o[1]?o[1]:this.state.filter,a=o.length>2&&void 0!==o[2]?o[2]:5,s=new b.a,e.next=6,s.getListReport(this.state,t,a);case 6:(l=e.sent)&&200===l.status&&l.data?(i=(i=l.data.data.content).map((function(e){return Object(n.a)(Object(n.a)({},e),{},{checked:!1})})),this.setState({loading:!1,detailLists:i,currentPage:l.data.data.number,totalPage:l.data.data.totalPages})):l&&l.data&&y.a===l.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):this.setState({error:!0,errorMessage:l&&l.data?l.data.message:l,loading:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleInputChange",value:function(e,t){var a=this.state.detailLists;a[e].checked=!a[e].checked;var n=a.filter((function(e){return 1==e.checked})),s=!1;n.length==this.state.detailLists.length&&(s=!0),this.setState({detailLists:a,filtered:n,checkedAll:s})}},{key:"thickAll",value:function(){var e=this,t=this.state.detailLists.map((function(t){return t.checked=!e.state.checkedAll,t})),a=t.filter((function(e){return 1==e.checked}));this.setState({detailLists:t,filtered:a,checkedAll:!this.state.checkedAll})}},{key:"render",value:function(){var e=this;return p.a.createElement("div",{id:"ListProduct"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?p.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,p.a.createElement("h3",null,"Bulk Approve Watchlist Task"),this.state.error&&p.a.createElement("div",{id:"error-container"},p.a.createElement("span",null,this.state.errorMessage)),0==this.state.error&&p.a.createElement("div",{id:"success-container"},p.a.createElement("span",null,this.state.errorMessage)),this.state.loading?p.a.createElement(g.a,null):p.a.createElement("div",{className:"container"},p.a.createElement(v.a,{page:this.state.currentPage,totalPage:this.state.totalPage},p.a.createElement("thead",null,p.a.createElement("tr",null,p.a.createElement("th",null,"CIF"),p.a.createElement("th",null,"Name"),p.a.createElement("th",null,p.a.createElement("label",null,p.a.createElement("input",{type:"checkbox",checked:this.state.checkedAll,onChange:this.thickAll.bind(this)}),"Tick All")))),p.a.createElement("tbody",null,this.state.detailLists.map((function(t,a){return p.a.createElement("tr",{key:t.id},p.a.createElement("td",null,t.cif),p.a.createElement("td",null,t.namaDebitur),p.a.createElement("td",null,p.a.createElement("input",{type:"checkbox",checked:t.checked,onChange:e.handleInputChange.bind(e,a)})))})))),p.a.createElement("div",{className:"d-flex justify-content-end"},p.a.createElement("button",{className:"button-red","data-approve":!0,disabled:0==this.state.filtered.length,onClick:this.submitApprove.bind(this)},"APPROVE"),p.a.createElement("button",{className:"button-white","data-approve":!1,disabled:0==this.state.filtered.length,onClick:this.submitApprove.bind(this)},"DECLINE"))))}}]),a}(m.Component))},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return k}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=(a(15),a(27)),p=(a(73),a(19)),h=a.n(p),f=a(18),g=(a(23),a(191),a(21),a(8)),v=a(7),b=a.n(v),y=a(16),S=a.n(y),E=a(145),w=(a(10),a(11)),k=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).state={userPrivilege:[],list:[],loading:!1,token:localStorage.getItem("accessToken"),fromDateFind:"",toDateFind:"",fileName:"",dateCreated:""},window.scrollTo(0,0),e}return Object(i.a)(n,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")});h.a.parse(this.props.location.search)}},{key:"componentDidUpdate",value:function(e){}},{key:"downloadDpdReport",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,n=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=a(190),this.setState({loading:!0}),b.a.interceptors.response.use((function(e){return e}),(function(e){return console.log("isblob",e.response.data.type.toLowerCase().indexOf("json")),e.response.data instanceof Blob&&e.response.data.type&&-1!=e.response.data.type.toLowerCase().indexOf("xml")?(console.log("error intercept",e.response),new Promise((function(t,a){var n=new FileReader;n.onload=function(){e.response.data=JSON.parse(n.result),t(Promise.reject(e))},n.onerror=function(){a(e)},n.readAsText(e.response.data)}))):Promise.reject(e)})),b.a.get(w.b+"/restricted/admin/dpd/downloadExcelReport",{headers:{token:this.state.token},responseType:"blob",params:{startDate:this.state.fromDateFind,endDate:this.state.toDateFind}}).then((function(e){n.setState({loading:!1}),t(e.data,"DPD"+n.state.fromDateFind+"_"+n.state.toDateFind+".xlsx")})).catch((function(e){e.response&&e.response.data&&g.a===e.response.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),n.props.history.push("login")):n.setState({error:!0,errorMessage:e.response&&e.response.data?e.response.data.message:e.response,loading:!1})}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"download",value:function(){this.setState({loading:!0,search:!0}),this.downloadDpdReport()}},{key:"render",value:function(){var e=this,t=this.state.fromDateFind?S()(this.state.fromDateFind,"YYYY-MM-DDTHH:mm:ss").toDate():null,a=this.state.toDateFind?S()(this.state.toDateFind,"YYYY-MM-DDTHH:mm:ss").toDate():null;return d.a.createElement("div",{id:"ListProduct"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?d.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,d.a.createElement("h3",null,"Report DPD Consolidate"),this.state.loading?d.a.createElement(f.a,null):d.a.createElement("div",{id:"search-menu"},d.a.createElement("table",{style:{width:"50%"}},d.a.createElement("tbody",null,d.a.createElement("tr",null,d.a.createElement("td",null,d.a.createElement("div",{className:"row mb-2"},d.a.createElement("label",{className:"col-5"},"Dari Tanggal"),d.a.createElement("div",{className:"col-4 p-0"},d.a.createElement(m.a,{selected:t,onChange:function(t){return e.setState({fromDateFind:S()(t,"YYYY-MM-DDTHH:mm:ss",!0).format("YYYY-MM-DD")})},dateFormat:"yyyy-MM-dd"}))),d.a.createElement("div",{className:"row mb-2"},d.a.createElement("label",{className:"col-5"},"Sampai Tanggal"),d.a.createElement("div",{className:"col-4 p-0"},d.a.createElement(m.a,{selected:a,onChange:function(t){return e.setState({toDateFind:S()(t,"YYYY-MM-DDTHH:mm:ss",!0).format("YYYY-MM-DD")})},minDate:t,maxDate:Object(E.a)(t,90),dateFormat:"yyyy-MM-dd"}))))))),d.a.createElement("div",null,d.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.download.bind(this)},"Download"))))}}]),n}(u.Component)},function(e,t,a){"use strict";a.r(t);var n=a(70),s=a(0),r=a.n(s),l=a(13),i=a(30),o=a.n(i),c=a(14),u=a.n(c),d=(a(467),a(18)),m=a(23),p=a(216);o.a.setAppElement("body");t.default=function(e){var t=Object(s.useState)(!0),i=Object(n.a)(t,2),c=i[0],f=i[1],g=Object(s.useState)(!1),v=Object(n.a)(g,2),b=v[0],y=v[1],S=Object(s.useState)([]),E=Object(n.a)(S,2),w=E[0],k=E[1],N=Object(s.useState)(""),C=Object(n.a)(N,2),A=C[0],x=C[1],O=Object(s.useState)(""),j=Object(n.a)(O,1)[0],P=Object(s.useState)(0),_=Object(n.a)(P,1)[0],D=Object(s.useState)(1),T=Object(n.a)(D,1)[0],I=Object(s.useState)(!1),M=Object(n.a)(I,2),R=M[0],L=M[1],F=Object(s.useState)(null),B=Object(n.a)(F,2),U=B[0],Y=B[1];Object(s.useEffect)((function(){c&&W()}),[c]);var W=function(){y(!0),Object(p.c)().then((function(e){if(e.success){var t=e.data;t.length>0||null!==t?k(t):alert("Data is empty")}else alert("Failed get guide"),k(null);y(!1)})).catch((function(e){alert("Error get guide"),k(null),y(!1)})),f(!1)},J=function(){L(!1),Y(null)};return r.a.createElement("div",{className:"custom-container"},r.a.createElement("h3",null,"Help List"),r.a.createElement("div",{className:"custom-card"},r.a.createElement("div",{className:"row mb-2"},r.a.createElement("label",{className:"col-2"},"Guide Name"),r.a.createElement("input",{className:"col-4 form-input",onChange:function(e){return x(e.target.value)}})),r.a.createElement("div",{className:"row mb-2"},r.a.createElement("label",{className:"col-2"},"Guide Code"),r.a.createElement("input",{className:"col-4 form-input"})),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){var e="".concat(A," ").concat(j);alert(JSON.stringify(e,null,2))},type:"button",className:"btn btn-secondary btn-sm"},"Search"),r.a.createElement("button",{onClick:function(){alert("Filter is pressed")},type:"button",className:"btn btn-secondary btn-sm custom-button"},"Filter"))),b?r.a.createElement(d.a,null):r.a.createElement("div",{className:"custom-margintable"},r.a.createElement(m.a,{page:_,totalPage:T},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Code"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Description"),r.a.createElement("th",null,"Status"),r.a.createElement("th",null,"Role"),r.a.createElement("th",null,"Feature List"),r.a.createElement("th",null,"Actions"))),r.a.createElement("tbody",null,null!==w?w.length>0&&w.map((function(t,n){return r.a.createElement("tr",{key:n},r.a.createElement("td",null,t.code),r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.description),r.a.createElement("td",null,t.active?"Active":"Nonactive"),r.a.createElement("td",null,null!==t.guideLevels?t.guideLevels.length>0&&t.guideLevels.map((function(e){return e.code})).join(", "):null),r.a.createElement("td",null,u.a.result(t,"feature.code",null)),r.a.createElement("td",null,r.a.createElement("input",{type:"image",alt:"Delete",height:20,className:"mr-3",src:a(67),onClick:function(){return e=t.id,L(!0),void Y(e);var e}}),r.a.createElement("input",{type:"image",alt:"Delete",height:20,src:a(40),onClick:function(){return function(t){null!==t.id&&e.history.push({pathname:"/form-help",state:{type:"edit",item:t}})}(t)}})))})):null)),r.a.createElement(l.b,{to:{pathname:"/form-help",state:{type:"add"}},className:"d-flex justify-content-end"},r.a.createElement("button",{className:"button-red"},"ADD NEW"))),r.a.createElement(o.a,{isOpen:R,contentLabel:"onDelete Item",onRequestClose:J,overlayClassName:"Overlay",style:h},r.a.createElement("div",{className:"card text-center"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h2",{className:"card-title"},"Delete")),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-subtitle"},"Are you sure want to delete?")),r.a.createElement("div",{className:"card-footer row justify-content-around"},r.a.createElement("button",{onClick:function(){Object(p.a)(U).then((function(e){W(),setTimeout((function(){return J()}),500)}))},className:"btn btn-danger"},"Delete"),r.a.createElement("button",{onClick:J,className:"btn btn-outline-dark"},"Close")))))};var h={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}}},,,,,function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return w}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=a(15),h=a.n(p),f=a(13),g=a(19),v=a.n(g),b=a(18),y=a(23),S=(a(1646),a(21),a(32)),E=a(8),w=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),codeFind:"",nameFind:""},e.reset=e.reset.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(n,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")});var e=v.a.parse(this.props.location.search);this.setPage(+e.page||0,e.filter)}},{key:"componentDidUpdate",value:function(e){if(this.props.location.search!==e.location.search){var t=v.a.parse(this.props.location.search);this.setPage(+t.page||0,t.filter||null)}}},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i,o,c=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:0,a=c.length>1&&void 0!==c[1]?c[1]:this.state.filter,n=c.length>2&&void 0!==c[2]?c[2]:10,r=new S.a,e.next=6,r.doFindEmployerCode(this.state,t,n);case 6:(l=e.sent)&&200===l.status&&l.data?(i=l.data.data.employerCodeList,o=Math.ceil(l.data.data.count/10),this.setState({page:t,filter:a,list:i,totalPage:o}),this.setState({loading:!1})):l&&l.data&&E.a===l.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):this.setState({error:!0,errorMessage:l&&l.data?l.data.message:l,loading:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"editRow",value:function(e){var t=this.state.list[e];this.props.history.push("edit-emp-code",{data:t})}},{key:"search",value:function(){this.setState({loading:!0,search:!0}),this.setPage(0,"")}},{key:"reset",value:function(){var e=this;this.setState({loading:!0}),h.a.findDOMNode(this.refs.form1).value="",h.a.findDOMNode(this.refs.form2).value="",this.setState({codeFind:"",nameFind:""},(function(){setTimeout((function(){e.setPage(0,"")}),1)}))}},{key:"render",value:function(){var e=this;console.log("this.state: "+JSON.stringify(this.state.list));for(var t=JSON.parse(this.state.userPrivilege)||[],n=!1,s=!1,r=0;r<t.length;r++)"create_employerCode"===t[r].name+"_"+t[r].vgroup&&(n=!0),"update_employerCode"===t[r].name+"_"+t[r].vgroup&&(s=!0);return m.a.createElement("div",{id:"ListProduct"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?m.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,m.a.createElement("h3",null,"Employer Code List"),m.a.createElement("div",{id:"search-menu"},m.a.createElement("table",{style:{width:"50%"}},m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-4"},"Employer Code"),m.a.createElement("input",{className:"col-6 form-input",type:"text",ref:"form1",onChange:function(t){return e.setState({codeFind:t.target.value})},defaultValue:this.state.codeFind})),m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-4"},"Nama Perusahaan"),m.a.createElement("input",{className:"col-6 form-input",type:"text",ref:"form2",onChange:function(t){return e.setState({nameFind:t.target.value})},defaultValue:this.state.nameFind})))))),m.a.createElement("div",null,m.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.search.bind(this)},"search"),m.a.createElement("button",{type:"button",className:"reset-btn btn btn-secondary btn-sm",onClick:this.reset},"reset"))),this.state.loading?m.a.createElement(b.a,null):m.a.createElement(y.a,{page:this.state.page,totalPage:this.state.totalPage,filter:this.state.filter},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,"Employer Code"),m.a.createElement("th",null,"Nama Perusahaan"),m.a.createElement("th",null,"Status"),m.a.createElement("th",null,"Actions"))),m.a.createElement("tbody",null,this.state.list.map((function(t,n){return m.a.createElement("tr",{key:n},m.a.createElement("td",null,t.code),m.a.createElement("td",null,t.companyName),m.a.createElement("td",null,t.status?t.status.code:null),m.a.createElement("td",null,s?m.a.createElement("input",{type:"image",alt:"Edit",height:20,src:a(40),onClick:function(){return e.editRow(n)}}):null))})))),n?m.a.createElement(f.b,{to:"create-emp-code",className:"d-flex justify-content-end"},m.a.createElement("button",{className:"button-red"},"Tambah Employer Code")):null)}}]),n}(d.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return f}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(381),p=(a(1648),a(8)),h=a(32),f=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={isSuccess:!1,message:"",token:localStorage.getItem("accessToken"),htmlContent:""},e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.props.location.state.data||this.props.history.push("product")}},{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new h.a,e.next=3,a.doEditEmployerCode(t);case 3:(n=e.sent)&&(n.data.success?(this.setState({isSuccess:!0,message:n.data.message}),this.props.history.push("list-emp-code",this.state)):n&&n.data&&p.a===n.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0)));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.location.state.data;return d.a.createElement("div",{id:"EditProduct"},this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement("h3",{className:"mb-4"},"Edit Employer"),d.a.createElement(m.a,{mode:"edit",data:e,history:this.props.history,onSubmit:this.submit.bind(this)}))}}]),a}(u.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return f}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(381),p=a(8),h=(a(1650),a(32)),f=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={isSuccess:!1,message:"",token:localStorage.getItem("accessToken")},e}return Object(i.a)(a,[{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new h.a,e.next=3,a.doAddEmployerCode(t);case 3:(n=e.sent)&&(n.data.success?(this.setState({isSuccess:!0,message:n.data.message}),this.props.history.push("list-emp-code",this.state)):n&&n.data&&p.a===n.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0)));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return d.a.createElement("div",{id:"CreateProduct"},this.state.isSuccess?null:d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement("h3",{className:"mb-4"},"Add New Employer"),d.a.createElement(m.a,{history:this.props.history,onSubmit:this.submit.bind(this)}))}}]),a}(u.Component)},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(43),s=a(4),r=a(3),l=a(6),i=a(5),o=a(0),c=a.n(o),u=a(1680),d=a(1681),m=a(1682),p=a(23),h=a(18),f=a(66),g=function(e){Object(l.a)(a,e);var t=Object(i.a)(a);function a(e){var r;Object(s.a)(this,a),(r=t.call(this,e)).onCheckFirst=function(){Object(f.i)(r.props.location.state.poolId,r.state.token).then((function(e){e.success?r.setState(Object(n.a)(Object(n.a)({},r.state),{},{datacContent:e.data.content,pageable:{totalPages:e.data.totalPages,pageNumber:e.data.pageable.pageNumber},loading:!1})):(r.setState({alertMessage:[e.message]}),r.setState({loading:!1}))})).catch((function(e){r.setState({alertMessage:[e.message],loading:!1})}))},r.state={loading:!0,token:JSON.parse(localStorage.getItem("authToken")),datacContent:[],status:[],pageable:{totalPages:"",pageNumber:""}};return r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.inter=setInterval((function(){return e.onCheckFirst()}),5e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.inter)}},{key:"render",value:function(){return c.a.createElement("div",{id:"ListApproval"},c.a.createElement("h1",null," Application Submission Status"),this.state.loading?c.a.createElement(h.a,null):c.a.createElement(u.a,null,c.a.createElement(d.a,null,c.a.createElement(p.a,{page:this.state.pageable.pageNumber,totalPage:this.state.pageable.totalPages,filter:!1},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Nama"),c.a.createElement("th",null,"Reference No"),c.a.createElement("th",null,"Application Status"),c.a.createElement("th",null,"Process Status"),c.a.createElement("th",null))),c.a.createElement("tbody",null,this.state.datacContent.map((function(e,t){return c.a.createElement("tr",{key:t},c.a.createElement("td",null,e.fullName),c.a.createElement("td",null,e.refNum),c.a.createElement("td",null,e.status.state),c.a.createElement("td",null,e.status.code),c.a.createElement("td",{className:"text-center"},"COMPLETED"!==e.status.state&&c.a.createElement(m.a,{color:"dark"})))})))))))}}]),a}(o.Component);t.default=g},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return b}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(13),p=(a(586),a(21),a(32)),h=a(15),f=a.n(h),g=a(249),v=a(18),b=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={nipOrEmail:"",password:"",error:null,isLogin:!1,alertState:"alert alert-primary",loading:!1},e}return Object(i.a)(a,[{key:"validate",value:function(e){return e.nipOrEmail?!!e.password||(this.setState({error:"Please input Password!",alertState:"alert alert-danger"}),!1):(this.setState({error:"Please input Username!",alertState:"alert alert-danger"}),!1)}},{key:"login",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i,o,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validate(this.state)){e.next=2;break}return e.abrupt("return");case 2:return this.setState({loading:!0,error:!1}),t=new p.a,e.next=6,t.login(this.state);case 6:if((a=e.sent)&&200===a.status&&a.data&&a.data.success){for(localStorage.setItem("isLogin",!0),localStorage.setItem("accessToken",a.data.accessToken),localStorage.setItem("authToken",JSON.stringify(a.data.authToken)),localStorage.setItem("userID",JSON.stringify(a.data.userPrincipal.id)),localStorage.setItem("userNip",a.data.userPrincipal.nip),localStorage.setItem("userName",a.data.userPrincipal.name),localStorage.setItem("userEmail",a.data.userPrincipal.email),localStorage.setItem("lastSuccessLogin",a.data.userPrincipal.lastSuccessLogin),localStorage.setItem("lastFailLogin",a.data.userPrincipal.lastFailLogin),localStorage.setItem("passFail",a.data.userPrincipal.passFail),localStorage.setItem("roles",a.data.userPrincipal.roles),localStorage.setItem("notif",a.data.notif),localStorage.setItem("isForcedChangePassword",a.data.isForcedChangePassword),localStorage.setItem("jwtAtwork",a.data.authToken),localStorage.setItem("userType",JSON.stringify(a.data.userPrincipal.cmsChannel.code)),console.log("DATA LOGIN",a.data),localStorage.setItem("roleName",a.data.userPrincipal.roles[0].code),localStorage.setItem("isSuperAdmin",a.data.userPrincipal.superAdmin),n=null===localStorage.getItem("isForcedChangePassword")||""===localStorage.getItem("isForcedChangePassword")||"null"===localStorage.getItem("isForcedChangePassword")?"":localStorage.getItem("isForcedChangePassword").toLowerCase(),r=[],a.data.userPrincipal.failedLoginHistory.map((function(e,t){return r.push(e.loginTime)})),localStorage.setItem("failedLoginHistory",r),i=0;i<a.data.userPrincipal.roles.length;i++)l=0===i?a.data.userPrincipal.roles[i].name:" / "+a.data.userPrincipal.roles[i].name;localStorage.setItem("rolesString",l),localStorage.setItem("notif",a.data.notif),o=[],a.data.userPrincipal.roles.map((function(e,t){return e.privileges.map((function(e,t){return o.push(e)}))})),c=JSON.stringify(o),localStorage.setItem("userPrivilege",c),this.setState({error:null,isLogin:!0,loading:!1}),f.a.render(d.a.createElement(g.a,null),document.getElementById("root")),"yes"===n?this.props.history.push("/change-password"):this.props.history.push("/index")}else a?this.setState({error:a.data?a.data.message:a,isLogin:!1,alertState:"alert alert-danger",loading:!1}):this.setState({error:"Login failed, please try again!",isLogin:!1,alertState:"alert alert-danger",loading:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return d.a.createElement("div",{id:"Login"},this.state.error?d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.error):null,this.state.loading?d.a.createElement(v.a,null):d.a.createElement("div",{id:"form"},d.a.createElement("h1",{id:"title"},"Welcome!"),d.a.createElement("input",{required:!0,type:"text",name:"nipOrEmail",placeholder:"Username",onChange:function(t){return e.setState({nipOrEmail:t.target.value})},value:this.state.nipOrEmail||""}),d.a.createElement("input",{required:!0,type:"password",name:"password",placeholder:"Password",onChange:function(t){return e.setState({password:t.target.value})},value:this.state.password||""}),d.a.createElement("button",{className:"button-red",onClick:this.login.bind(this)},"LOG IN"),d.a.createElement("br",null),d.a.createElement(m.b,{id:"forgot-pass",to:"setPassword"},"Forgot Password?"),d.a.createElement("div",{id:"note"},"This website is ",d.a.createElement("b",null,"ONLY")," accessible by registered member. please contact your administrator to get login access.")))}}]),a}(u.Component)},,,function(e,t,a){"use strict";a.r(t);var n=a(295),s=a(121),r=a(1),l=a.n(r),i=a(2),o=a(4),c=a(3),u=a(9),d=a(6),m=a(5),p=a(0),h=a.n(p),f=(a(1457),function(e){var t=e.approve_rmwb_income,a=e.isSadmin,n=e.level,s=e.name,r=e.changeName,l=e.removeNode,i=e.addChild;return h.a.createElement("div",{className:"EditableItem"},a||!t?h.a.createElement("button",{className:"EditableItem-Button EditableItem-Button_remove btn btn-warning",onClick:l},"x"):null,a||!t?h.a.createElement("button",{className:"EditableItem-Button EditableItem-Button_add btn btn-primary",onClick:i},"Add Child"):null,h.a.createElement("input",{className:"EditableItem-Text",onChange:function(e){r(e.target.value)},maxLength:"50",value:s,placeholder:"Please input new parameter here!",disabled:a||!t?"":"disabled"}),h.a.createElement("p",{className:"level-text ".concat(a||!t?"":"float-right")},"Level ",n))}),g=(a(1458),function e(t){var a=t.children,s=Object(n.a)(t,["children"]),r=void 0!==a;return h.a.createElement("li",null,h.a.createElement("div",{className:"TreeNode"},h.a.createElement(f,s)),r&&function(t){return h.a.createElement("ul",null,t.map((function(t){t.approve_rmwb_income=s.approve_rmwb_income,t.isSadmin=s.isSadmin;var a=t.idTemp,r=(t.id,Object(n.a)(t,["idTemp","id"]));return h.a.createElement(e,Object.assign({key:a},r))})))}(a))}),v=(a(1459),function(e){var t=e.onClick;return h.a.createElement("div",{className:"AddButton"},h.a.createElement("button",{className:"AddButton-Inner btn btn-primary",onClick:t,value:!0},"+ Add New Parameter"))}),b=a(30),y=a.n(b),S=a(31),E=a.n(S),w=(a(282),a(78)),k=a(17),N=(a(1460),function e(){return{render:function(){var t;return this.props.children&&(t=this.props.children.map((function(t){return h.a.createElement(e,{key:t.id,node:t,children:t.children})}))),h.a.createElement("li",{key:this.props.node.id.toString()},h.a.createElement("div",{className:"list-name"},this.props.node.name,h.a.createElement("div",{className:"float-right"},"level ",this.props.node.level)),h.a.createElement("ul",null,t))}}}),C=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={nodes:[],nodesOri:[],savedNodes:[],userPrivilege:[],loading:!0,token:localStorage.getItem("accessToken"),typeFind:"rmwbData",selectedYear:(new Date).getFullYear(),roleName:localStorage.getItem("roleName"),isSadmin:!1},n.changeName=n.changeName.bind(Object(u.a)(n)),n.addRootElement=n.addRootElement.bind(Object(u.a)(n)),n.addChild=n.addChild.bind(Object(u.a)(n)),n.removeNode=n.removeNode.bind(Object(u.a)(n)),n.saveState=n.saveState.bind(Object(u.a)(n)),n.loadState=n.loadState.bind(Object(u.a)(n)),n.onTextChange=n.onTextChange.bind(Object(u.a)(n)),n.nodesToString=n.nodesToString.bind(Object(u.a)(n)),n.handleOpenModal=n.handleOpenModal.bind(Object(u.a)(n)),n.handleCloseModal=n.handleCloseModal.bind(Object(u.a)(n)),window.scrollTo(0,0),n}return Object(c.a)(a,[{key:"componentWillMount",value:function(){this.setState({isSadmin:"SADMINOCTOBENCH"===this.state.roleName}),this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),this.setState({loggedUser:localStorage.getItem("userNip")}),this.getdataMaster(),this.validator=new E.a({autoForceUpdate:this,element:function(e){return h.a.createElement("div",{className:"row col-12 validator-error-message"},h.a.createElement("div",{className:"col-4"}),h.a.createElement("div",{className:"col-8"},e))},validators:{double:{message:"The Sales should be 2 digit behind comma!",messageReplace:function(e){return h.a.createElement("div",{className:"row col-12 validator-error-message"},h.a.createElement("div",{className:"col-4"}),h.a.createElement("div",{className:"col-8"},e))},rule:function(e,t,a){return a.helpers.testRegex(e,/^\d{0,5}(\.\d{0,2}){0,1}$/)&&-1===t.indexOf(e)},required:!0}}})}},{key:"handleOpenModal",value:function(){var e=Object(i.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"parent-cif"!==t&&"buyer-cif"!==t&&"buyer-name"!==t||this.searchClient(this.state.page,this.state.perPage,"",""),this.setState({showModal:!0,modalName:t});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleCloseModal",value:function(){var e=Object(i.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({showModal:!1});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getdataMaster",value:function(){var e=Object(i.a)(l.a.mark((function e(){var t,a,n,s,r,i,o,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),t=!0,a=!0,n=new k.a,s=new w.a,e.next=7,s.getIncomeParameter(this.state);case 7:return(r=e.sent)&&200===r.status&&r.data?(i=null!==r.data.param_draft.status?r.data.param_draft.status:"",this.setState({nodes:this.initialized\u0421opy(r.data.param_draft.data),nodesOri:r.data.param_ori,status:i,remarks:r.data.param_draft.remarks})):a=!1,a||this.errorConectionToBe(),e.next=12,n.findStatusByParam(this.state);case 12:(o=e.sent)&&200===o.status&&o.data?(this.setState({listDataStatus:o.data}),c=o.data.filter((function(e){return e.code===i})),this.setState({currentDataStatus:c[0]})):t=!1,t||this.clearSession(),this.setState({loading:!1});case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getListParam",value:function(){var e=Object(i.a)(l.a.mark((function e(){var t,a,n,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),t=!0,a=new w.a,e.next=5,a.getIncomeParameter(this.state);case 5:(n=e.sent)&&200===n.status&&n.data?(s=n.data.param_draft.status,this.setState({nodes:this.initialized\u0421opy(n.data.param_draft.data),nodesOri:n.data.param_ori,status:s,remarks:n.data.param_draft.remarks})):t=!1,t||this.errorConectionToBe(),this.setState({loading:!1});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"errorConectionToBe",value:function(){alert("Connection to Server Octobench interupted!\nPlease check your conection or contact administrator!")}},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"initialized\u0421opy",value:function(e,t){for(var a=[],n=0;n<e.length;n++){var s=e[n],r=s.children,l=s.name,i=s.id,o=s.level;void 0===i&&(i=null);var c=void 0!==r,u=t?"".concat(t,".").concat(n+1):"".concat(n+1);a[n]={children:c?this.initialized\u0421opy(r,u):void 0,changeName:this.changeName(u),removeNode:this.removeNode(u),addChild:this.addChild(u,o),idTemp:u,name:l,level:o,id:i}}return a}},{key:"changeName",value:function(e){var t=this;return function(a){e=e.split(".").map((function(e){return parseInt(e)}));var n=t.initialized\u0421opy(t.state.nodes),s=n[e[0]-1];if(e.length>1)for(var r=1;r<e.length;r++)s=s.children[e[r]-1];s.name=a,t.setState({nodes:n})}}},{key:"addRootElement",value:function(){var e=this.state.nodes.length?"".concat(this.state.nodes.length+1):"1",t={children:void 0,changeName:this.changeName(e),removeNode:this.removeNode(e),addChild:this.addChild(e,0),idTemp:e,level:0,name:""},a=[].concat(Object(s.a)(this.state.nodes),[t]);this.setState({nodes:a})}},{key:"addChild",value:function(e,t){var a=this;return function(){var n=t+1;e=e.split(".").map((function(e){return parseInt(e)}));var r=a.initialized\u0421opy(a.state.nodes),l=r[e[0]-1];if(e.length>1)for(var i=1;i<e.length;i++)l=l.children[e[i]-1];void 0===l.children&&(l.children=[]),e="".concat(e.join("."),".").concat(l.children.length+1),l.children=[].concat(Object(s.a)(l.children),[{children:void 0,changeName:a.changeName(e),removeNode:a.removeNode(e),addChild:a.addChild(e,n),idTemp:e,level:n,name:""}]),a.setState({nodes:r})}}},{key:"removeNode",value:function(e){var t=this;return function(){if(window.confirm("Are you sure to delete this data?")){e=e.split(".").map((function(e){return parseInt(e)}));var a=t.initialized\u0421opy(t.state.nodes);if(1===e.length){var n=[].concat(Object(s.a)(a.slice(0,[e[0]-1])),Object(s.a)(a.slice(e[0])));t.setState({nodes:t.initialized\u0421opy(n)})}else{for(var r=a[e[0]-1],l=2;l<e.length;l++)r=r.children[e[l-1]-1];var i=e[e.length-1]-1,o=[].concat(Object(s.a)(r.children.slice(0,i)),Object(s.a)(r.children.slice(i+1)));r.children=o,t.setState({nodes:t.initialized\u0421opy(a)})}}}}},{key:"prepareForSave",value:function(e){for(var t=[],a=0;a<e.length;a++){var n=e[a],s=n.children,r=n.name,l=n.id;if(s=void 0!==s?this.prepareForSave(s):[],!r||null===r||""===r||!s)return!1;void 0===l&&(l=null),t[a]={children:s,name:r}}return t}},{key:"saveState",value:function(){var e=Object(i.a)(l.a.mark((function e(){var t,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({loading:!0}),!(this.state.nodes.length>0)){e.next=40;break}if(t=new w.a,!(a=this.prepareForSave(this.state.nodes))){e.next=37;break}if(!this.state.isSadmin){e.next=27;break}if(!window.confirm("Are you sure to submit and approve this data ?")){e.next=23;break}return e.next=9,this.setState({status:"submitted"});case 9:return e.next=11,this.setState({dataTobeSave:a});case 11:return e.next=13,t.submitIncomeParam(this.state);case 13:if(!(n=e.sent)){e.next=21;break}if(200!==n.status||"Succeed"!==n.data.message){e.next=20;break}return e.next=18,this.onSubmitApprove();case 18:e.next=21;break;case 20:400===n.status?(this.setState({hasMessage:!0,message:"Save Data Failed, "+n.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0)):(this.setState({hasMessage:!0,message:"Save Data Failed",alertState:"alert alert-danger"}),window.scrollTo(0,0));case 21:e.next=25;break;case 23:return this.setState({loading:!1}),e.abrupt("return",!1);case 25:e.next=35;break;case 27:return e.next=29,this.setState({status:"submitted"});case 29:return e.next=31,this.setState({dataTobeSave:a});case 31:return e.next=33,t.submitIncomeParam(this.state);case 33:(n=e.sent)&&(200===n.status&&"Succeed"===n.data.message?this.setState({hasMessage:!0,message:"Data Saved",alertState:"alert alert-success"}):400===n.status?(this.setState({hasMessage:!0,message:"Save Data Failed, "+n.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0)):(this.setState({hasMessage:!0,message:"Save Data Failed",alertState:"alert alert-danger"}),window.scrollTo(0,0)));case 35:e.next=38;break;case 37:alert("Please fill all name parameter!");case 38:e.next=42;break;case 40:alert("List parameter can't be empty!"),window.location.reload();case 42:this.setState({loading:!1});case 43:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onSubmitApprove",value:function(){var e=Object(i.a)(l.a.mark((function e(){var t,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),(t=this.state).status="approved",t.submitApprove=!0,a=new w.a,e.next=7,a.approveIncomeParam(t);case 7:(n=e.sent)&&(200===n.status&&"Succeed"===n.data.message?(this.setState({hasMessage:!0,message:"Data Saved",alertState:"alert alert-success"}),this.handleCloseModal(),window.scrollTo(0,0),this.getdataMaster()):(this.setState({hasMessage:!1,message:"Save Data Failed",alertState:"alert alert-danger"}),window.scrollTo(0,0))),this.setState({loading:!1});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onSubmitReject",value:function(){var e=Object(i.a)(l.a.mark((function e(){var t,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validator.allValid()){e.next=3;break}return this.validator.showMessages(),e.abrupt("return");case 3:return this.setState({loading:!0}),(t=this.state).status="rejected",t.submitReject=!0,a=new w.a,e.next=10,a.rejectIncomeParam(t);case 10:(n=e.sent)&&(200===n.status&&"Succeed"===n.data.message?(this.setState({hasMessage:!0,message:"Data Saved",alertState:"alert alert-success"}),this.handleCloseModal(),window.scrollTo(0,0)):(this.setState({hasMessage:!1,message:"Save Data Failed",alertState:"alert alert-danger"}),window.scrollTo(0,0))),this.setState({loading:!1});case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"loadState",value:function(){this.setState({nodes:this.initialized\u0421opy(this.state.savedNodes)})}},{key:"onTextChange",value:function(e){this.setState({nodes:this.initialized\u0421opy(JSON.parse(e.target.value))})}},{key:"nodesToString",value:function(){return JSON.stringify(this.simplify(this.state.nodes),void 0,2)}},{key:"simplify",value:function(e){for(var t=[],a=0;a<e.length;a++){var n=e[a],s=n.children,r=n.name,l=void 0!==s&&s.length>0;t[a]={name:r,children:l?this.simplify(s):void 0}}return t}},{key:"render",value:function(){for(var e=this,t=JSON.parse(this.state.userPrivilege)||[],a=!1,s=!1,r=!1,l=0;l<t.length;l++)"create_rmwb_income"===t[l].name+"_"+t[l].vgroup&&(a=!0),"update_rmwb_income"===t[l].name+"_"+t[l].vgroup&&(s=!0),"approval_rmwb_income"===t[l].name+"_"+t[l].vgroup&&(r=!0);var i=this.state.nodes,o=this.addRootElement,c=this.state.nodesOri.map((function(e){return h.a.createElement(N,{key:e.id,node:e,children:e.children})}));return h.a.createElement("div",{id:"ListIncomeParam"},h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"col-7"},h.a.createElement("h3",{className:"col-12 p-0"},"Income Facility Parameter List "),h.a.createElement("span",{className:"statusParamLabel"},"Status : ",this.state.status?this.state.status:"-"),"rejected"===this.state.status&&""!==this.state.remarks?h.a.createElement("div",{className:"remark-text"},"Remarks : ",this.state.remarks):null),h.a.createElement("h3",{className:"col-5"},"Original data")),this.state.hasMessage?h.a.createElement("div",{className:"mt-3 ".concat(this.state.alertState),role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message):null,h.a.createElement("div",{className:"Tree"},h.a.createElement("div",{className:"row"},h.a.createElement("div",{className:"col-7"},this.state.nodes.length>0?h.a.createElement("ul",{className:"Nodes"},i.map((function(t){t.approve_rmwb_income=r,t.isSadmin=e.state.isSadmin;var a=t.idTemp,s=(t.id,Object(n.a)(t,["idTemp","id"]));return h.a.createElement(g,Object.assign({key:a},s))}))):h.a.createElement("div",{className:"default-empty"},"Data empty"),this.state.isSadmin||!r?h.a.createElement(v,{onClick:o}):null),this.state.nodesOri.length>0?h.a.createElement("ul",{className:"col-5 original-tree"},c):h.a.createElement("div",{className:"col-5 p-0 default-empty"},"Data empty"))),h.a.createElement("div",{className:"d-flex justify-content-end my-5"},a&&s?h.a.createElement("div",null,h.a.createElement("button",{className:"button-red mr-2",onClick:this.saveState},"Save And Submit")):null,r&&"submitted"===this.state.status?h.a.createElement("div",null,h.a.createElement("button",{className:"button-red mr-2",onClick:function(){return e.handleOpenModal("reject-data")}},"Reject"),h.a.createElement("button",{className:"button-green",onClick:function(){return e.handleOpenModal("approve-data")}},"Approve")):null,r&&"requestDelete"===this.state.status?h.a.createElement("div",null,h.a.createElement("button",{className:"button-red mr-2",onClick:function(){return e.handleOpenModal("reject-delete")}},"Reject Delete"),h.a.createElement("button",{className:"button-green",onClick:function(){return e.handleOpenModal("approve-delete")}},"Approve Delete")):null),h.a.createElement(y.a,{closeTimeoutMS:300,isOpen:this.state.showModal,contentLabel:"onRequestClose Example",onRequestClose:this.handleCloseModal,className:"Modal ".concat("parent-cif"===this.state.modalName||"buyer-cif"===this.state.modalName||"buyer-name"===this.state.modalName?"search":null),overlayClassName:"Overlay"},"approve-delete"===this.state.modalName?h.a.createElement("div",null,h.a.createElement("div",{className:"row mx-0 justify-content-center"},h.a.createElement("h4",null,"Are You Sure To Approve Delete This Data ?")),h.a.createElement("div",{className:"d-flex justify-content-center mx-2 mt-5"},h.a.createElement("button",{className:"button-red mr-5",onClick:this.handleCloseModal},"Cancel"),h.a.createElement("button",{className:"button-red",onClick:this.onApproveDelete.bind(this)},"Approve"))):null,"reject-delete"===this.state.modalName?h.a.createElement("div",null,h.a.createElement("div",{className:"row mx-0 justify-content-center"},h.a.createElement("h4",{className:"mb-4"},"Please fill Remark to data Maker !"),h.a.createElement("textarea",{className:"col-10 form-input",type:"text",onChange:function(t){return e.setState({remarks:t.target.value})},value:this.state.remarks||"",onBlur:function(){return e.validator.showMessageFor("remarks")}}),this.validator.message("remarks",this.state.remarks,"required")),h.a.createElement("div",{className:"d-flex justify-content-center mx-2 mt-5"},h.a.createElement("button",{className:"button-red mr-5",onClick:this.handleCloseModal},"Close"),h.a.createElement("button",{className:"button-red",onClick:this.onRejectDelete},"Reject Delete"))):null,"approve-data"===this.state.modalName?h.a.createElement("div",null,h.a.createElement("div",{className:"row mx-0 justify-content-center"},h.a.createElement("h4",null,"Are You Sure To Approve This Data ?")),h.a.createElement("div",{className:"d-flex justify-content-center mx-2 mt-5"},h.a.createElement("button",{className:"button-red mr-5",onClick:this.handleCloseModal.bind(this)},"Cancel"),h.a.createElement("button",{className:"button-red",onClick:this.onSubmitApprove.bind(this)},"Approve"))):null,"reject-data"===this.state.modalName?h.a.createElement("div",null,h.a.createElement("div",{className:"row mx-0 justify-content-center"},h.a.createElement("h4",{className:"mb-4"},"Please fill Remark to data Maker !"),this.state.error?h.a.createElement("div",{className:"col-12 ".concat(this.state.alertState),role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.errorMessage):null,h.a.createElement("textarea",{className:"col-12 form-input",type:"text",onChange:function(t){return e.setState({remarks:t.target.value})},value:this.state.remarks||"",placeholder:"Remarks",onBlur:function(){return e.validator.showMessageFor("remarks")}}),this.validator.message("remarks",this.state.remarks,"required")),h.a.createElement("div",{className:"d-flex justify-content-center mx-2 mt-4"},h.a.createElement("button",{className:"button-red mr-5",onClick:this.handleCloseModal},"Cancel"),h.a.createElement("button",{className:"button-red",onClick:this.onSubmitReject.bind(this)},"Reject"))):null),this.state.loading?h.a.createElement("div",{className:"loading-overlay"},h.a.createElement("div",{className:"loader"})):null)}}]),a}(p.Component);t.default=C},,function(e,t,a){"use strict";a.r(t);var n=a(70),s=a(0),r=a.n(s),l=a(14),i=a.n(l),o=a(43),c=a(200),u=a(392),d=Object(s.createContext)({data:[],onEdit:function(e){}}),m=(a(467),function(e){return r.a.createElement("div",{className:"custom-dnd"},r.a.createElement("div",{style:{position:"absolute",left:"45%",top:"30%"}},r.a.createElement("button",{className:"btn btn-danger"},"Choose File"),r.a.createElement("p",null,"or Drop File Image Here"),e.children))}),p=function(e){var t=Object(s.useContext)(d);Object(s.useEffect)((function(){}),[t]);var a=function(e){if(e.destination){var a=function(e,t,a){var s=Array.from(e),r=s.splice(t,1),l=Object(n.a)(r,1)[0];return s.splice(a,0,l),s}(t.data,e.source.index,e.destination.index);t.onEdit(a)}},l=Object(s.useCallback)((function(e){for(var a=t.data,n=function(t){var n=e[t],s=new FileReader;s.readAsDataURL(n),s.onload=function(e){var t=e.target.result;if(t){var s={preview:URL.createObjectURL(n),imageBase64:t},r=Object.assign(n,s);a.push(r)}}},s=0;s<e.length;s++)n(s);t.onEdit(a)}),[t]);return r.a.createElement(c.a,{onDropAccepted:l.bind(void 0),accept:"image/*",multiple:!0},(function(e){var n=e.isDragActive,s=e.getRootProps,l=e.getInputProps;return r.a.createElement("div",s(),n?r.a.createElement(m,null,r.a.createElement("input",Object.assign({},l(),{type:"file"}))):t.data.length>0?r.a.createElement(u.a,{onDragEnd:a},r.a.createElement(u.c,{droppableId:"droppable",direction:"horizontal"},(function(e,a){return r.a.createElement("div",Object.assign({ref:e.innerRef,style:(n=a.isDraggingOver,{background:n?"lightblue":null,display:"flex",padding:8,overflow:"auto"})},e.droppableProps),t.data.map((function(e,a){return r.a.createElement(u.b,{key:e.path,draggableId:e.path,index:a},(function(n,s){return r.a.createElement("div",Object.assign({ref:n.innerRef},n.draggableProps,n.dragHandleProps,{style:(l=s.isDragging,i=n.draggableProps.style,Object(o.a)({userSelect:"none",padding:16,margin:"0 ".concat(8,"px 0 0"),background:l?"lightgreen":null,justifyContent:"space-evenly"},i))}),"Urutan ".concat(a+1),r.a.createElement("img",{src:e.preview,alt:e.path,style:h.img,className:"img-thumbnail rounded"}),r.a.createElement("button",{type:"button",onClick:function(){var a=t.data,n=t.data.indexOf(e);n>-1&&a.splice(n,1),t.onEdit(a)}},"delete"));var l,i}))})),e.placeholder);var n}))):r.a.createElement(m,null,r.a.createElement("input",Object.assign({},l(),{type:"file"}))))}))},h={thumbContainer:{display:"flex",flexDirection:"row"},thumb:{display:"inline-flex",borderRadius:2,border:"1px solid #eaeaea",marginBottom:8,marginRight:8,width:100,height:100,padding:4,boxSizing:"border-box"},thumbInner:{display:"flex",minWidth:0,overflow:"hidden"},img:{display:"block",maxWidth:200,maxHeight:300,width:"auto",height:"auto"}},f=function(e){var t=e.type,a=void 0===t?"checkbox":t,n=e.name,s=e.checked,l=e.onChange,i=e.id;return r.a.createElement("input",{type:a,name:n,checked:s,onChange:l,id:i})},g=r.a.memo((function(e){return r.a.createElement(f,e)})),v=[{title:"Active",id:"active"},{title:"Nonactive",id:"nonactive"}],b=a(216),y=a(18);t.default=function(e){var t=e.location.state,a=t.type,l=t.item,o=e.history,c=Object(s.useState)(null),u=Object(n.a)(c,2),m=u[0],h=u[1],f=Object(s.useState)(!1),S=Object(n.a)(f,2),E=S[0],w=S[1],k=Object(s.useState)([]),N=Object(n.a)(k,2),C=N[0],A=N[1],x=Object(s.useState)([]),O=Object(n.a)(x,2),j=O[0],P=O[1],_=Object(s.useState)(!1),D=Object(n.a)(_,2),T=D[0],I=D[1],M=Object(s.useState)(""),R=Object(n.a)(M,2),L=R[0],F=R[1],B=Object(s.useState)(""),U=Object(n.a)(B,2),Y=U[0],W=U[1],J=Object(s.useState)(null),H=Object(n.a)(J,2),V=H[0],K=H[1],q=Object(s.useState)(null),G=Object(n.a)(q,2),Z=G[0],X=G[1],z=Object(s.useState)([]),Q=Object(n.a)(z,2),$=Q[0],ee=Q[1];Object(s.useEffect)((function(){0===j.length&&0===C.length&&ae(),null===m&&"edit"===a&&te()}));var te=function(){h(l),F(l.name),W(l.description),K(l.active?"active":"nonactive"),X(l.feature.id);var e=$;l.guideContents.map((function(t){var a={id:t.id,preview:t.imageBase64,imageBase64:t.imageBase64,path:t.imageName,name:t.imageName,code:t.code,priority:t.priority};return e.push(a),0}));var t=i.a.sortBy(e,[function(e){return e.priority}]);console.log(t),ee(t)},ae=function(){Object(b.d)().then((function(e){if(e.success){var t=e.data;if(t.length>0||null!==t){var n=t.map((function(e,t){var n=Object.assign({},e);return"edit"===a?l.guideLevels.map((function(t){var a=t.code===e.code;n.isChecked=a})):n.isChecked=!1,n}));P(n)}else alert("Data is empty")}else alert("Failed get level")})).catch((function(e){return alert(e.message)})),Object(b.b)().then((function(e){if(e.success){var t=e.data;t.length>0||null!==t?A(t):alert("Data is empty")}else alert("Failed get feature")})).catch((function(e){return alert("Failed get feature")}))},ne=function(e){K(e.target.id)},se=function(e){X(e.target.id)},re=Object(s.useCallback)((function(e){var t=e.target,a=t.checked,n=t.name,s=j;s.forEach((function(e){e.code===n&&(e.isChecked=a)})),P(s),I(!0)}),[j,P]),le=Object(s.useCallback)((function(e){var t;"edit"===a?(delete(t=e).id,delete t.code):t=e,ee(t)}),[a]),ie=function(e){Object(b.e)(e).then((function(e){e.success?(alert("Success"),o.goBack()):alert("Failed save"),w(!1)})).catch((function(e){alert("Failed Save"),w(!1)}))},oe=j.map((function(e,t){var a=e.code,n=e.description,s=e.id,l=e.isChecked;return r.a.createElement("div",{key:t,className:"custom-row"},r.a.createElement(g,{name:a,id:s,checked:T?j.isChecked:l,onChange:re.bind(void 0)}),r.a.createElement("label",{htmlFor:a},n))}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"custom-container"},"add"===a?r.a.createElement("h3",null,"Add New Guide"):"edit"===a?r.a.createElement("h3",null,"Edit Guide"):null,r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",null,"Guide Information"),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-2 col col-form-label"},"Guide Code"),r.a.createElement("div",{className:"col-sm-3"},r.a.createElement("input",{type:"text",readOnly:!0,className:"form-control",value:null!==m?m.code:""}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-2 col col-form-label"},"Guide Name"),r.a.createElement("div",{className:"col-sm-5"},r.a.createElement("input",{type:"text",className:"form-control",onChange:function(e){F(e.target.value)}.bind(void 0),value:L}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-2 col col-form-label"},"Description"),r.a.createElement("div",{className:"col-sm-7"},r.a.createElement("textarea",{className:"form-control",onChange:function(e){W(e.target.value)}.bind(void 0),value:Y}))),r.a.createElement("div",{className:"form-group row"},r.a.createElement("label",{className:"col-sm-2 col col-form-lavel"},"Status"),r.a.createElement("div",{className:"col-sm-5"},v.map((function(e,t){return r.a.createElement("div",{key:t,className:"custom-control custom-radio custom-control-inline"},r.a.createElement("input",{type:"radio",id:e.id,value:e,name:"radioStatus",checked:e.id===V,onChange:ne.bind(void 0),className:"custom-control-input"}),r.a.createElement("label",{className:"custom-control-label",htmlFor:e.id},e.title))})))))),""!==L&&""!==Y&null!==V?r.a.createElement("div",{className:"card custom-margintable"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",null,"Engagement / Level"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-2"},r.a.createElement("p",null,"Feature List Pick")),r.a.createElement("div",{className:"col-sm-5"},r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("input",{type:"text",className:"form-control custom-input"})),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-5"}),r.a.createElement("div",{className:"custom-overflow col-sm-7 justify-content-end"},C.map((function(e,t){return r.a.createElement("div",{key:t,className:"custom-control custom-radio"},r.a.createElement("input",{type:"radio",id:e.id,checked:"edit"===a?e.id===Z:null,name:"radioFeature",className:"custom-control-input",onChange:se.bind(void 0),value:"edit"===a?e.id===Z:0}),r.a.createElement("label",{className:"custom-control-label",htmlFor:e.id},e.description))}))))),r.a.createElement("div",{className:"col-sm-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-4"},r.a.createElement("p",null,"User Level")),r.a.createElement("div",{className:"custom-overflow col-sm-8",style:{borderWidth:1,borderRadius:5}},oe)))))):null,null!==Z&&j.length>0?r.a.createElement("div",null,r.a.createElement("div",{className:"card custom-margintable"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",null,"Image"),r.a.createElement(d.Provider,{value:{data:$,onEdit:le.bind(void 0)}},r.a.createElement(p,null)))),r.a.createElement("small",null,"* Pastikan susunan gambar sesuai urutan")):null,E?r.a.createElement(y.a,null):r.a.createElement("div",{className:"d-flex justify-content-end"},r.a.createElement("button",{onClick:function(){w(!0);var e=i.a.filter(j,"isChecked"),t=e.map((function(t,a){return{id:e[a].id}})),n=$.map((function(e,t){var n={priority:t+1,imageName:e.name,imageBase64:e.imageBase64};return"edit"===a?Object.assign(n,{id:e.id,code:e.code}):n})),s={name:L,description:Y,active:"active"===V,feature:{id:parseInt(Z)},guideLevels:t,guideContents:n};setTimeout((function(){if("edit"===a){var e=Object.assign(s,{id:m.id,code:m.code});ie(e)}else ie(s)}),500)},className:"button-red"},"Simpan Guide"))))}},,function(e,t,a){"use strict";a.r(t);a(719),a(729);var n=a(0),s=a.n(n),r=a(15),l=a.n(r),i=(a(917),a(249));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(588);l.a.render(s.a.createElement(i.a,null),document.getElementById("root")),a(1653).config(),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return A}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=a(15),h=a.n(p),f=a(13),g=a(19),v=a.n(g),b=a(18),y=a(23),S=(a(1064),a(21),a(32)),E=a(7),w=a.n(E),k=a(11),N=function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,[{key:"getListLeads",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0!==a&&""!==a||(a=0),void 0!==n&&""!==n||(n=10),r={"Content-Type":"application/json",token:t.token},e.prev=3,e.next=6,w.a.get(k.b+"/restricted/admin/lead?page="+a+"&size="+n,{headers:r},{params:{}});case 6:return l=e.sent,e.abrupt("return",l);case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"getListLeadsByParam",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0!==a&&""!==a||(a=0),void 0!==n&&""!==n||(n=10),r={"Content-Type":"application/json",token:t.token},l=JSON.stringify({phoneNumber:t.phoneNumberFind,fullName:t.fullNameFind}),e.prev=4,e.next=7,w.a.post(k.b+"/restricted/admin/lead?page="+a+"&size="+n,l,{headers:r});case 7:return i=e.sent,e.abrupt("return",i);case 11:return e.prev=11,e.t0=e.catch(4),e.abrupt("return",e.t0.response);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t,a,n){return e.apply(this,arguments)}}()}]),e}(),C=a(8),A=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),phoneNumberFind:"",fullNameFind:""},e.reset=e.reset.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")});var e=v.a.parse(this.props.location.search);this.setPage(+e.page||0,e.filter)}},{key:"componentDidUpdate",value:function(e){if(this.props.location.search!==e.location.search){var t=v.a.parse(this.props.location.search);this.setPage(+t.page||0,t.filter||null)}}},{key:"clearSession",value:function(){alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")}},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i,o,c=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:0,a=c.length>1&&void 0!==c[1]?c[1]:this.state.filter,n=c.length>2&&void 0!==c[2]?c[2]:10,r=new N,e.next=6,r.getListLeadsByParam(this.state,t,n);case 6:(l=e.sent).data&&200===l.status&&l.data?(i=l.data.data.data,o=Math.ceil(l.data.data.count/10),this.setState({page:t,filter:a,list:i,totalPage:o}),this.setState({loading:!1})):l&&l.data&&C.a===l.data.data?this.clearSession():this.setState({error:!0,errorMessage:l&&l.data?l.data.message:l,loading:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteRow",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.state.list[t],!window.confirm("Are you sure you want to delete ".concat(a.fullName,"?"))){e.next=7;break}return n=new S.a,e.next=5,n.deleteLead(a,this.state.token);case 5:200===(r=e.sent).status&&r.data.success?(alert("data ".concat(a.fullName," waiting approve to delete")),window.location=window.location.href):r&&r.data&&C.a===r.data.data?this.clearSession():alert("error, data ".concat(a.fullName," cannot deleted"));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"editRow",value:function(e){var t=this.state.list[e];this.props.history.push("edit-lead",{data:t})}},{key:"search",value:function(){this.setState({loading:!0,search:!0}),this.setPage(0,"")}},{key:"reset",value:function(){var e=this;this.setState({loading:!0}),h.a.findDOMNode(this.refs.form1).value="",h.a.findDOMNode(this.refs.form2).value="",this.setState({fullNameFind:"",phoneNumberFind:""},(function(){setTimeout((function(){e.setPage(0,"")}),1)}))}},{key:"render",value:function(){for(var e=this,t=JSON.parse(this.state.userPrivilege)||[],a=!1,n=!1,s=0;s<t.length;s++)"upload_lg"===t[s].name+"_"+t[s].vgroup&&(a=!0),"delete_bulkLeads_maker"===t[s].name+"_"+t[s].vgroup&&(n=!0);return m.a.createElement("div",{id:"ListLead"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?m.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,m.a.createElement("h3",null,"Lead List"),m.a.createElement("div",{id:"search-menu"},m.a.createElement("table",{style:{width:"50%"}},m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-4"},"Name"),m.a.createElement("input",{className:"col-6 form-input",type:"text",ref:"form1",onChange:function(t){return e.setState({fullNameFind:t.target.value})},defaultValue:this.state.fullNameFind})),m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-4"},"Phone Number"),m.a.createElement("input",{className:"col-6 form-input",type:"text",ref:"form2",onChange:function(t){return e.setState({phoneNumberFind:t.target.value})},defaultValue:this.state.phoneNumberFind})))))),m.a.createElement("div",null,m.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.search.bind(this)},"search"),m.a.createElement("button",{type:"button",className:"reset-btn btn btn-secondary btn-sm",onClick:this.reset},"reset"))),this.state.loading?m.a.createElement(b.a,null):m.a.createElement(y.a,{page:this.state.page,totalPage:this.state.totalPage,filter:this.state.filter},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,"Full Name"),m.a.createElement("th",null,"Phone Number"),m.a.createElement("th",null,"Product"),m.a.createElement("th",null,"Status"),m.a.createElement("th",null,"User"),m.a.createElement("th",null,"Actions"))),m.a.createElement("tbody",null,this.state.list.map((function(e,t){return m.a.createElement("tr",{key:t},m.a.createElement("td",null,e.fullName),m.a.createElement("td",null,e.phoneNumber),m.a.createElement("td",{style:{width:"15%"}},e.productType?e.productType.name:null),m.a.createElement("td",null,e.status.name),m.a.createElement("td",null,e.user.name),m.a.createElement("td",null,null,null))})))),m.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},null,n?m.a.createElement(f.b,{to:"bulk-delete-lead"},m.a.createElement("button",{className:"button-red-small"},"BULK DELETE LEAD")):null,a?m.a.createElement(f.b,{to:"bulk-upload-lead"},m.a.createElement("button",{className:"button-red-small"},"BULK UPLOAD LEAD")):null))}}]),a}(d.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return h}));var n=a(4),s=a(3),r=a(6),l=a(5),i=a(0),o=a.n(i),c=a(93),u=a(359);a(1073);function d(e){var t=e.selected?" selected":"",a=e.data;return o.a.createElement("button",{className:"item"+t,onClick:e.onClick},a.label)}var m=function(e){Object(r.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(n.a)(this,a);for(var s=arguments.length,r=new Array(s),l=0;l<s;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(s.a)(a,[{key:"onChange",value:function(e){var t=this;this.setState(Object(c.a)({},e,!this.state[e]),(function(){if(t.props.onChange){var e={};t.props.options.forEach((function(a){e[a.id]=!0===t.state[a.id]})),t.props.onChange(e)}}))}},{key:"render",value:function(){var e=this,t=this.props.options;if(this.state.selectedOnly&&(t=t.filter((function(t){return e.state[t.id]}))),this.state.filter){var a=this.state.filter.toLowerCase();t=t.filter((function(e){return e.label.toLowerCase().includes(a)}))}return o.a.createElement("div",{className:"MultiSelect"},o.a.createElement("div",{className:"d-flex justify-content-between"},o.a.createElement("div",null,"Choose"),o.a.createElement("div",null,o.a.createElement(u.a,{label:"Show selected only",onChange:function(t){return e.setState({selectedOnly:t.target.checked})},selected:this.state.selectedOnly})),o.a.createElement("input",{onChange:function(t){return e.setState({filter:t.target.value})}})),o.a.createElement("div",{className:"options"},t.map((function(t,a){return o.a.createElement(d,{key:a,data:t,onClick:function(){return e.onChange(t.id)},selected:e.state[t.id]})}))))}}]),a}(i.Component),p=[{id:"i-1",label:"Item 1"},{id:"i-2",label:"Itm 2"},{id:"i-3",label:"Item 3"},{id:"i-4",label:"Itm 4"},{id:"i-5",label:"Item 5"},{id:"i-6",label:"Item 6"},{id:"i-7",label:"Itm 7"},{id:"i-8",label:"Item 8"},{id:"i-9",label:"Itm 9"},{id:"i-10",label:"Item 10"}],h=function(e){Object(r.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(n.a)(this,a);for(var s=arguments.length,r=new Array(s),l=0;l<s;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(s.a)(a,[{key:"submit",value:function(){var e=new FormData;e.append("file",this.state.file),console.log("file"),console.log(this.state.file),console.log("data"),console.log(e)}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("input",{type:"file",onChange:function(t){return e.setState({file:t.target.files[0]})}}),o.a.createElement("button",{onClick:this.submit.bind(this)},"submit"),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(m,{options:p,onChange:function(e){return console.log(e)}}))}}]),a}(i.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return N}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=a(15),h=a.n(p),f=a(7),g=a.n(f),v=a(19),b=a.n(v),y=a(18),S=a(23),E=(a(1074),a(21),a(11)),w=function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,[{key:"getListReport",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",token:t.token},e.prev=1,e.next=4,g.a.get(E.b+"/restricted/admin/report/list?name="+t.nameFind,{headers:a},{params:{}});case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"linkDownloadXlsx",value:function(e){return E.b+"/restricted/admin/report/download/?fileName="+e}},{key:"linkDownloadLeadsReportZip",value:function(e){return E.b+"/restricted/admin/report/downloadZip/?fileName="+e}},{key:"downloadReport",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={"Content-Type":"text/csv",token:a},e.prev=1,e.next=4,g.a.get(E.b+"/restricted/admin/report/download/?fileName="+t,{headers:n},{params:{fileName:t}});case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}()}]),e}(),k=a(8),N=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).state={list:[],loading:!0,token:localStorage.getItem("accessToken"),userPrivilege:[],nameFind:""},e.reset=e.reset.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(n,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")});var e=b.a.parse(this.props.location.search);this.setPage(+e.page||0,e.filter)}},{key:"componentDidUpdate",value:function(e){if(this.props.location.search!==e.location.search){var t=b.a.parse(this.props.location.search);this.setPage(+t.page||0,t.filter||null)}}},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i,o=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:0,a=o.length>1&&void 0!==o[1]?o[1]:this.state.filter,n=new w,e.next=5,n.getListReport(this.state);case 5:(r=e.sent)&&200===r.status&&r.data&&r.data.success?(l=Object.values(r.data.data),a&&(l=l.filter((function(e){return e.toLowerCase().includes(a)}))),i=Math.ceil(l.length/10),l=l.slice(10*t,10*(t+1)),this.setState({page:t,filter:a,list:l,totalPage:i}),this.setState({loading:!1})):r&&r.data&&k.a===r.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):this.setState({error:!0,errorMessage:r&&r.data?r.data.message:r,loading:!1});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"downloadReport",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var n,r,l,i,o,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this.state.list[t])||!n.toString().endsWith("xlsx")){e.next=6;break}r=new w,fetch(r.linkDownloadXlsx(n.toString()),{headers:{token:this.state.token}}).then((function(e){e.blob().then((function(e){window.navigator&&window.navigator.msSaveOrOpenBlob&&window.navigator.msSaveOrOpenBlob(e,n.toString());var t=window.URL.createObjectURL(e),a=document.createElement("a");a.href=t,a.download=n.toString(),document.body.appendChild(a),a.click(),setTimeout((function(){document.body.removeChild(a),window.URL.revokeObjectURL(t)}),100)}))})),e.next=16;break;case 6:if(l=new w,!n||!n.toString().startsWith("Report-")){e.next=12;break}i=n.toString().replace(/\.[^/.]+$/,""),fetch(l.linkDownloadLeadsReportZip(n.toString()),{headers:{token:this.state.token}}).then((function(e){e.blob().then((function(e){window.navigator&&window.navigator.msSaveOrOpenBlob&&window.navigator.msSaveOrOpenBlob(e,i+".zip");var t=window.URL.createObjectURL(e),a=document.createElement("a");a.href=t,a.download=i+".zip",document.body.appendChild(a),a.click(),setTimeout((function(){document.body.removeChild(a),window.URL.revokeObjectURL(t)}),100)}))})),e.next=16;break;case 12:return e.next=14,l.downloadReport(n,this.state.token);case 14:200===(o=e.sent).status&&(c=a(190),g.a.get(o.config.url,{headers:{token:this.state.token}}).then((function(e){c(e.data,n)})));case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"search",value:function(){this.setState({loading:!0,search:!0}),this.setPage(0,"")}},{key:"reset",value:function(){var e=this;this.setState({loading:!0}),h.a.findDOMNode(this.refs.form1).value="",this.setState({nameFind:""},(function(){setTimeout((function(){e.setPage(0,"")}),1)}))}},{key:"render",value:function(){for(var e=this,t=JSON.parse(this.state.userPrivilege)||[],n=!1,s=0;s<t.length;s++)"download_rpt"===t[s].name+"_"+t[s].vgroup&&(n=!0);return m.a.createElement("div",{id:"ListReport"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?m.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,m.a.createElement("h3",null,"Report List"),m.a.createElement("div",{id:"search-menu"},m.a.createElement("table",{style:{width:"50%"}},m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-4"},"Report Name"),m.a.createElement("input",{className:"col-6 form-input",type:"text",ref:"form1",onChange:function(t){return e.setState({nameFind:t.target.value})},defaultValue:this.state.nameFind})))))),m.a.createElement("div",null,m.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.search.bind(this)},"search"),m.a.createElement("button",{type:"button",className:"reset-btn btn btn-secondary btn-sm",onClick:this.reset},"reset"))),this.state.loading?m.a.createElement(y.a,null):m.a.createElement(S.a,{page:this.state.page,totalPage:this.state.totalPage,filter:this.state.filter},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,"No"),m.a.createElement("th",null,"Name"),n?m.a.createElement("th",null,"Actions"):null)),m.a.createElement("tbody",null,this.state.list.map((function(t,s){return m.a.createElement("tr",{key:s},m.a.createElement("td",null,e.state.page+1<=1?s+1:10*e.state.page+(s+1)),m.a.createElement("td",null,Object.values(t)),n?m.a.createElement("td",null,m.a.createElement("input",{type:"image",alt:"Download",height:20,src:a(169),onClick:function(){return e.downloadReport(s)}})):null)})))))}}]),n}(d.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return E}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(19),p=a.n(m),h=a(18),f=a(23),g=(a(1078),a(32)),v=a(8),b=a(15),y=a.n(b),S=(a(1079),function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={token:localStorage.getItem("accessToken"),listSubCategory:[],listSelectedSubCategory:[]},e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.setState(this.props.data),this.getLookupSubCategory(),void 0!==this.props.data.listParamSubCategory&&this.setState({listSelectedSubCategory:this.props.data.listParamSubCategory})}},{key:"getLookupSubCategory",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new g.a,e.next=3,t.getLookupSubCategory(this.state);case 3:(a=e.sent)&&200===a.status&&a.data.data&&a.data.success?(n=a.data.data,this.setState({listSubCategory:n}),this.setState({loading:!1})):a&&a.data&&v.a===a.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):this.setState({error:!0,errorMessage:a&&a.data?a.data.message:a,loading:!1});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"changeCheckedSubCategory",value:function(e,t){var a=this.state.listSubCategory.slice(),n=[];if(this.state.listSelectedSubCategory.length>0&&(n=this.state.listSelectedSubCategory.slice()),e.target.checked)n.push(a.filter((function(e){return e.id===t}))[0]);else{for(var s,r=0;r<n.length;r++)if(n[r].id===t){s=r;break}n.splice(s,1)}this.setState({listSelectedSubCategory:n})}},{key:"checkSelectedSubCategory",value:function(e){return!!this.state.listSelectedSubCategory&&this.state.listSelectedSubCategory.filter((function(t){return t.id===(e||0)})).length>0}},{key:"onClose",value:function(){var e=this.state.listSelectedSubCategory;this.props.closePopup(e)}},{key:"render",value:function(){var e=this;return d.a.createElement("div",{className:"popup"},d.a.createElement("div",{className:"popup_inner"},d.a.createElement("h4",null,"Sub Category"),d.a.createElement("div",{id:"search-menu"},this.state.listSubCategory.map((function(t,a){return d.a.createElement("div",{key:t.id,style:{display:"flex",float:"left",width:"33%"}},d.a.createElement("table",null,d.a.createElement("tbody",null,d.a.createElement("tr",null,d.a.createElement("td",null,d.a.createElement("input",{type:"checkbox",alt:"Edit",height:20,value:t.name,checked:e.checkSelectedSubCategory(t.id),onChange:function(a){return e.changeCheckedSubCategory(a,t.id)}})),d.a.createElement("td",null,d.a.createElement("div",{key:t.id},d.a.createElement("label",null,t.name)))))))})),d.a.createElement("button",{onClick:this.onClose.bind(this)},"OK"))))}}]),a}(d.a.Component)),E=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={userPrivilege:[],userProduct:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),id:null,code:null,name:null,checked:!1,listSelectedProduct:[],codeFind:"",nameFind:"",listParamSubCategory:[],subCategory:""},window.scrollTo(0,0),e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),this.getRoleProductData(localStorage.getItem("id")),this.setState({userProduct:localStorage.getItem("userProduct"),id:localStorage.getItem("id"),code:localStorage.getItem("code"),name:localStorage.getItem("name")});var e=p.a.parse(this.props.location.search);this.setPage(+e.page||0,e.filter,localStorage.getItem("id"))}},{key:"componentDidUpdate",value:function(e){if(this.props.location.search!==e.location.search){var t=p.a.parse(this.props.location.search);this.setPage(+t.page||0,t.filter||null,this.state.id)}}},{key:"getRoleProductData",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new g.a,e.next=3,a.getRoleProduct(this.state,t);case 3:(n=e.sent)&&200===n.status&&n.data&&n.data.success?(r=n.data.data,this.setState({listSelectedProduct:r}),this.setState({loading:!1})):n&&n.data&&v.a===n.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):this.setState({error:!0,errorMessage:n&&n.data?n.data.message:n,loading:!1});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"changeChecked",value:function(e,t){var a=this.state.list.slice(),n=this.state.listSelectedProduct.slice();if(e.target.checked)n.push(a.filter((function(e){return e.id===t}))[0]);else{for(var s,r=0;r<n.length;r++)if(n[r].id===t){s=r;break}n.splice(s,1)}this.setState({listSelectedProduct:n})}},{key:"checkSelectedProduct",value:function(e){return!!this.state.listSelectedProduct&&this.state.listSelectedProduct.filter((function(t){return t.id===(e||0)})).length>0}},{key:"onSubmit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new g.a,e.next=3,a.updateRoleProduct(this.state);case 3:(n=e.sent)&&(n.data.success?(this.setState({isSuccess:!0,message:n.data.message}),window.scrollTo(0,0),r=p.a.parse(this.props.location.search),this.setPage(+r.page||0,null,this.state.id)):n&&n.data&&v.a===n.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0)));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i,o=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:0,a=o.length>1&&void 0!==o[1]?o[1]:this.state.filter,o.length>2?o[2]:void 0,n=new g.a,e.next=6,n.RoleProductByParam(this.state);case 6:(r=e.sent)&&200===r.status&&r.data?(l=r.data,a&&(l=l.filter((function(e){return e.name.toLowerCase().includes(a)}))),i=Math.ceil(l.length/10),l=l.slice(10*t,10*(t+1)),this.setState({page:t,filter:a,list:l,totalPage:i}),this.setState({loading:!1})):r&&r.data&&v.a===r.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):this.setState({error:!0,errorMessage:r&&r.data?r.data.message:r,loading:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"search",value:function(){this.setState({loading:!0}),this.setPage(0,"")}},{key:"reset",value:function(){var e=this;this.setState({loading:!0}),y.a.findDOMNode(this.refs.text1).value="",this.setState({nameFind:"",listParamSubCategory:[],subCategory:[]},(function(){setTimeout((function(){e.setPage(0,"")}),1)}))}},{key:"togglePopup",value:function(e){if(!0===this.state.showPopup){this.setState({listParamSubCategory:e});var t=[];e.map((function(e,a){return t.push(" "+e.name)})),this.setState({subCategory:t.toString()})}this.setState({showPopup:!this.state.showPopup})}},{key:"render",value:function(){for(var e=this,t=JSON.parse(this.state.userPrivilege)||[],a=!1,n=0;n<t.length;n++)"update_rpd"===t[n].name+"_"+t[n].vgroup&&(a=!0);return d.a.createElement("div",{id:"EditRoleProduct"},this.state&&this.state.isSuccess?d.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message):null,d.a.createElement("h3",null,"Role Product Edit"),d.a.createElement("div",{id:"search-menu"},d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Role Code"),d.a.createElement("input",{readOnly:!0,ref:function(t){return e.title=t},name:"title",className:"col-4 form-input",type:"text",maxLength:"100",onClick:this.myClick,value:this.state.code||""})),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Role Name"),d.a.createElement("input",{readOnly:!0,className:"col-4 form-input",type:"text",maxLength:"100",onChange:function(t){return e.setState({name:t.target.value})},value:this.state.name||""}))),d.a.createElement("div",{id:"search-menu"},d.a.createElement("table",{id:"TableSearch"},d.a.createElement("tbody",null,d.a.createElement("tr",null,d.a.createElement("td",null,d.a.createElement("div",{className:"row mb-2"},d.a.createElement("label",{className:"col-2"},"Name"),d.a.createElement("input",{className:"col-4 form-input",type:"text",ref:"text1",onChange:function(t){return e.setState({nameFind:t.target.value})},defaultValue:this.state.nameFind})),this.state.showPopup?d.a.createElement(S,{data:this.state,text:'Click "Close Button" to hide popup',closePopup:this.togglePopup.bind(this)}):null)),d.a.createElement("tr",null,d.a.createElement("td",null,d.a.createElement("div",{className:"row mb-2"},d.a.createElement("label",{className:"col-2"},"Sub Category"),d.a.createElement("textarea",{readOnly:!0,value:this.state.subCategory,cols:45,rows:3,onClick:this.togglePopup.bind(this)})))))),d.a.createElement("div",null,d.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.search.bind(this)},"search"),d.a.createElement("button",{type:"button",className:"reset-btn btn btn-secondary btn-sm",onClick:this.reset.bind(this)},"reset"))),this.state.loading?d.a.createElement(h.a,null):d.a.createElement(f.a,{page:this.state.page,totalPage:this.state.totalPage,filter:this.state.filter},d.a.createElement("thead",null,d.a.createElement("tr",null,d.a.createElement("th",null,"Sub Category"),d.a.createElement("th",null,"Product Description"),a?d.a.createElement("th",null,"Actions"):null)),d.a.createElement("tbody",null,this.state.list.map((function(t,n){return d.a.createElement("tr",{key:t.id},d.a.createElement("td",null," ",t.subcategory.description," "),d.a.createElement("td",null," ",t.description," "),a?d.a.createElement("td",null,d.a.createElement("input",{key:t.id,id:t.name+"_"+t.vgroup+"_"+t.id,name:t.name+"_"+t.vgroup+"_"+t.id,type:"checkbox",alt:"Edit",height:20,checked:e.checkSelectedProduct(t.id),onChange:function(a){return e.changeChecked(a,t.id)}})):null)})))),this.state.loading?d.a.createElement(h.a,null):a?d.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},d.a.createElement("button",{className:"button-red-small",type:"button",onClick:this.onSubmit.bind(this)},"SAVE")):null)}}]),a}(u.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return w}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(27),p=a(16),h=a.n(p),f=(a(73),a(28),a(21),a(7)),g=a.n(f),v=a(33),b=function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,[{key:"getAllLoginHistoryByDateRange",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var r,l,i,o,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=localStorage.getItem("userNip"),l={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:r,"Workstation-Id":null},i=t?h()(t).format("YYYY-MM-DD"):null,o=a?h()(a).format("YYYY-MM-DD"):null,e.prev=4,e.next=7,g.a.get(v.a+"/api/cms/user/report/login-range-date?start="+i+"&end="+o,{headers:l});case 7:return c=e.sent,e.abrupt("return",c);case 11:return e.prev=11,e.t0=e.catch(4),e.abrupt("return",e.t0.response);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"getAllLoginHistory",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},e.prev=2,e.next=5,g.a.get(v.a+"/api/cms/user/report/login-info",{headers:n});case 5:return r=e.sent,e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),y=a(8),S=a(109),E=a(294),w=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={userPrivilege:[],list:[],loading:!1,token:localStorage.getItem("accessToken")},window.scrollTo(0,0),e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")})}},{key:"ExportPdfByDateRange",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({loading:!0}),t=new b,a=new E.a,n="Download_Login_info",r=this.state,this.validate(r)){e.next=8;break}return window.scrollTo(0,0),e.abrupt("return");case 8:return e.next=10,t.getAllLoginHistoryByDateRange(this.state.startDate,this.state.endDate,this.state);case 10:if(!(l=e.sent)||200!==l.status||!l.data){e.next=18;break}return i=l.data,e.next=15,a.ExportPdf(i,n);case 15:this.setState({loading:!1}),e.next=19;break;case 18:l&&l.data&&y.a===l.data.data?(alert("Save Data Failed, Please try again !"),this.setState({loading:!1}),window.location.reload()):this.setState({error:!0,errorMessage:l&&l.data?l.data.message:l,loading:!1});case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ExportPdf",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),t=new b,a=new E.a,n="Download_Login_info",e.next=6,t.getAllLoginHistory(this.state);case 6:if(!(r=e.sent)||200!==r.status||!r.data){e.next=14;break}return l=r.data,e.next=11,a.ExportPdf(l,n);case 11:this.setState({loading:!1}),e.next=15;break;case 14:r&&r.data&&y.a===r.data.data?(alert("Save Data Failed, Please try again !"),this.setState({loading:!1}),window.location.reload()):this.setState({error:!0,errorMessage:r&&r.data?r.data.message:r,loading:!1});case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ExportExcel",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),t=new b,a=new S.a,n="Download_Login_info",e.next=6,t.getAllLoginHistory(this.state);case 6:if(!(r=e.sent)||200!==r.status||!r.data){e.next=14;break}return l=r.data,e.next=11,a.ExportExcel(l,n);case 11:this.setState({loading:!1}),e.next=15;break;case 14:r&&r.data&&y.a===r.data.data?(alert("Save Data Failed, Please try again !"),this.setState({loading:!1}),window.location.reload()):this.setState({error:!0,errorMessage:r&&r.data?r.data.message:r,loading:!1});case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ExportExcelByDateRange",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({loading:!0}),t=new b,a=new S.a,n="Download_Login_info",r=this.state,this.validate(r)){e.next=8;break}return window.scrollTo(0,0),e.abrupt("return");case 8:return e.next=10,t.getAllLoginHistoryByDateRange(this.state.startDate,this.state.endDate,this.state);case 10:if(!(l=e.sent)||200!==l.status||!l.data){e.next=18;break}return i=l.data,e.next=15,a.ExportExcel(i,n);case 15:this.setState({loading:!1}),e.next=19;break;case 18:l&&l.data&&y.a===l.data.data?(alert("Save Data Failed, Please try again !"),this.setState({loading:!1}),window.location.reload()):this.setState({error:!0,errorMessage:l&&l.data?l.data.message:l,loading:!1});case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"editRow",value:function(e){var t=this.state.list[e];this.props.history.push("edit-buyer",{data:t})}},{key:"validate",value:function(e){return this.setState({error:!0,alertState:"alert alert-danger"}),e.startDate?e.endDate?(this.setState({error:!1,alertState:"alert alert-primary"}),!0):(this.setState({errorMessage:"Please enter End Date!"}),!1):(this.setState({errorMessage:"Please enter Start Date!"}),!1)}},{key:"render",value:function(){var e=this,t=this.state.startDate?h()(this.state.startDate,"YYYY-MM-DDTHH:mm:ss").toDate():null,a=this.state.endDate?h()(this.state.endDate,"YYYY-MM-DDTHH:mm:ss").toDate():null;return d.a.createElement("div",{id:"DownloadLead"},this.state.error?d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.errorMessage):null,d.a.createElement("div",{className:"form-box-area mb-2"},d.a.createElement("h4",{className:"mb-4"},"Download All Login Info"),d.a.createElement("div",{className:"row box-area"},d.a.createElement("button",{className:"button-red mr-2",onClick:this.ExportExcel.bind(this)},"download excel"),d.a.createElement("button",{className:"button-red ml-2",onClick:this.ExportPdf.bind(this)},"download pdf"))),d.a.createElement("div",{className:"form-box-area mb-2"},d.a.createElement("h4",{className:"mb-4"},"Download All Login Info by Range"),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Start Date"),d.a.createElement("div",{className:"col-4 p-0"},d.a.createElement(m.a,{className:"form-input",dateFormat:"yyyy-MM-dd",selected:t,onChange:function(t){return e.setState({startDate:t})}}))),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"End Date"),d.a.createElement("div",{className:"col-4 p-0"},d.a.createElement(m.a,{className:"form-input",dateFormat:"yyyy-MM-dd",selected:a,minDate:t,onChange:function(t){return e.setState({endDate:t})}}))),d.a.createElement("div",{className:"row box-area"},d.a.createElement("button",{className:"button-red mr-2",onClick:this.ExportExcelByDateRange.bind(this)},"download excel"),d.a.createElement("button",{className:"button-red ml-2",onClick:this.ExportPdfByDateRange.bind(this)},"download pdf"))),this.state.loading?d.a.createElement("div",{className:"loading-overlay"},d.a.createElement("div",{className:"loader"})):null)}}]),a}(u.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return E}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(27),p=a(16),h=a.n(p),f=(a(73),a(28),a(21),a(7)),g=a.n(f),v=a(33),b=function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,[{key:"getAllActivityByDateRange",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var r,l,i,o,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=localStorage.getItem("userNip"),l={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:r,"Workstation-Id":null},i=t?h()(t).format("YYYY-MM-DD"):null,o=a?h()(a).format("YYYY-MM-DD"):null,e.prev=4,e.next=7,g.a.get(v.a+"/api/cms/activity/range-date?start="+i+"&end="+o,{headers:l});case 7:return c=e.sent,e.abrupt("return",c);case 11:return e.prev=11,e.t0=e.catch(4),e.abrupt("return",e.t0.response);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t,a,n){return e.apply(this,arguments)}}()}]),e}(),y=a(17),S=a(109),E=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={userPrivilege:[],list:[],loading:!1,token:localStorage.getItem("accessToken")},window.scrollTo(0,0),e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),this.getDataMaster()}},{key:"getDataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=new y.a,e.next=4,a.findStatusByParam(this.state);case 4:if((n=e.sent)&&200===n.status&&n.data?(this.setState({listDataStatus:n.data}),this.setState({loading:!1})):t=!1,t){e.next=9;break}return this.clearSession(),e.abrupt("return");case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"ExportExcelByDateRange",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({loading:!0}),t=new b,a=new S.a,n="Download_activity_info",r=this.state,this.validate(r)){e.next=9;break}return window.scrollTo(0,0),this.setState({loading:!1}),e.abrupt("return");case 9:return e.next=11,t.getAllActivityByDateRange(this.state.startDate,this.state.endDate,this.state);case 11:if(!(l=e.sent)||200!==l.status||!l.data){e.next=19;break}return i=l.data,e.next=16,a.ExportExcel(i,n);case 16:this.setState({hasMessage:!0,alertState:"alert alert-success",messageContent:"Download Succeed",loading:!1}),e.next=20;break;case 19:this.setState({hasMessage:!0,messageContent:l&&l.data?l.data.message:l,loading:!1});case 20:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"validate",value:function(e){return this.setState({hasMessage:!0,alertState:"alert alert-danger"}),e.startDate?e.endDate?(this.setState({hasMessage:!1,alertState:"alert alert-primary"}),!0):(this.setState({messageContent:"Please enter End Date!"}),!1):(this.setState({messageContent:"Please enter Start Date!"}),!1)}},{key:"onChangeStartDate",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({startDate:t}),this.setState({endDate:""});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.startDate?h()(this.state.startDate,"YYYY-MM-DDTHH:mm:ss").toDate():null,a=this.state.endDate?h()(this.state.endDate,"YYYY-MM-DDTHH:mm:ss").toDate():null,n=h()(t).add(30,"d"),s=h()(n,"YYYY-MM-DDTHH:mm:ss").toDate();return d.a.createElement("div",{id:"DownloadActivityInfo",className:"download default-rmwb-wrapper"},this.state.hasMessage?d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.messageContent):null,d.a.createElement("div",{className:"form-box-area mb-2"},d.a.createElement("h4",{className:"mb-4"},"Download All Activity Info"),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Start Date"),d.a.createElement("div",{className:"col-4 p-0"},d.a.createElement(m.a,{className:"form-input",dateFormat:"yyyy-MM-dd",selected:t,onChange:function(t){return e.onChangeStartDate(t)}}))),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"End Date"),d.a.createElement("div",{className:"col-4 p-0"},d.a.createElement(m.a,{className:"form-input",dateFormat:"yyyy-MM-dd",selected:a,minDate:t,maxDate:s,onChange:function(t){return e.setState({endDate:t})}}))),d.a.createElement("div",{className:"row m-0 justify-content-end"},d.a.createElement("button",{className:"button-red",onClick:this.ExportExcelByDateRange.bind(this)},"download excel"))),this.state.loading?d.a.createElement("div",{className:"loading-overlay"},d.a.createElement("div",{className:"loader"})):null)}}]),a}(u.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return w}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(27),p=a(16),h=a.n(p),f=(a(73),a(28),a(21),a(7)),g=a.n(f),v=a(33),b=function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,[{key:"getAllDocument",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var r,l,i,o,c,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=localStorage.getItem("userNip"),l={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:r,"Workstation-Id":null},i=t?h()(t).format("YYYY-MM-DD"):null,o=a?h()(a).format("YYYY-MM-DD"):null,c="BCT",c=n.documentType?n.documentType:"BCT",e.prev=6,e.next=9,g.a.get(v.a+"/api/cms/dc/"+c+"/download?start="+i+"&end="+o,{headers:l});case 9:return u=e.sent,e.abrupt("return",u);case 13:return e.prev=13,e.t0=e.catch(6),e.abrupt("return",e.t0.response);case 16:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"getAllDocumentType",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("userNip"),a={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:t,"Workstation-Id":null},e.prev=2,e.next=5,g.a.get(v.a+"/api/cms/dc/type",{headers:a});case 5:return n=e.sent,e.abrupt("return",n);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),y=a(17),S=a(109),E=a(294),w=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={userPrivilege:[],list:[],loading:!0,documentType:"",token:localStorage.getItem("accessToken")},window.scrollTo(0,0),e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),this.getdataMaster()}},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),t=!0,a=new b,n=!0,r=new y.a,e.next=7,r.findStatusByParam(this.state);case 7:if((l=e.sent)&&200===l.status&&l.data?(this.setState({listDataStatus:l.data}),this.setState({loading:!1})):n=!1,n){e.next=12;break}return this.clearSession(),e.abrupt("return");case 12:return e.next=14,a.getAllDocumentType();case 14:(i=e.sent)&&200===i.status&&i.data?(this.setState({listDocType:i.data.data}),this.setState({loading:!1})):(this.setState({listDocType:[]}),t=!1),t||this.conectionToBE();case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"conectionToBE",value:function(){alert("Cant get data from backend Octo RM Bench, Please check your conection or contact admin!")}},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"validate",value:function(e){return this.setState({hasMessage:!0,alertState:"alert alert-danger"}),e.documentType?e.startDate?e.endDate?(this.setState({hasMessage:!1,alertState:"alert alert-primary"}),!0):(this.setState({messageContent:"Please enter End Date!"}),!1):(this.setState({messageContent:"Please enter Start Date!"}),!1):(this.setState({messageContent:"Please Select Document type!"}),!1)}},{key:"ExportPdf",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({loading:!0}),t=new b,a=new E.a,n="Document_Cecker",r=this.state,this.validate(r)){e.next=9;break}return window.scrollTo(0,0),this.setState({loading:!1}),e.abrupt("return");case 9:return e.next=11,t.getAllDocument(this.state.startDate,this.state.endDate,this.state);case 11:if(!(l=e.sent)||200!==l.status||!l.data.data){e.next=19;break}return i=l.data.data,e.next=16,a.ExportPdf(i,n);case 16:this.setState({hasMessage:!0,alertState:"alert alert-success",messageContent:"Download Succeed",loading:!1}),e.next=20;break;case 19:this.setState({hasMessage:!0,messageContent:l&&l.data?l.data.message:l,loading:!1});case 20:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ExportExcel",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({loading:!0}),t=new b,a=new S.a,n="Document_Checker",r=this.state,this.validate(r)){e.next=9;break}return window.scrollTo(0,0),this.setState({loading:!1}),e.abrupt("return");case 9:return e.next=11,t.getAllDocument(this.state.startDate,this.state.endDate,this.state);case 11:if(!(l=e.sent)||200!==l.status||!l.data.data){e.next=19;break}return i=l.data.data,e.next=16,a.ExportExcel(i,n);case 16:this.setState({hasMessage:!0,alertState:"alert alert-success",messageContent:"Download Succeed",loading:!1}),e.next=20;break;case 19:this.setState({hasMessage:!0,messageContent:l&&l.data?l.data.message:l,loading:!1});case 20:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onChangeStartDate",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({startDate:t}),this.setState({endDate:""});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.listDocType||[];t=t.map((function(e){var t=e.type;return d.a.createElement("option",{key:t,"code-data":t,value:t},t)}));var a=this.state.startDate?h()(this.state.startDate,"YYYY-MM-DDTHH:mm:ss").toDate():null,n=this.state.endDate?h()(this.state.endDate,"YYYY-MM-DDTHH:mm:ss").toDate():null,s=h()(a).add(30,"d"),r=h()(s,"YYYY-MM-DDTHH:mm:ss").toDate();return d.a.createElement("div",{id:"DownloadDocChecker",className:"download default-rmwb-wrapper"},this.state.hasMessage?d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.messageContent):null,d.a.createElement("div",{className:"form-box-area mb-2"},d.a.createElement("h4",{className:"mb-4"},"Download All Document Checker by Date Range"),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Document Type"),d.a.createElement("select",{className:"col-2 form-input",onChange:function(t){return e.setState({documentType:t.target.value})},value:this.state.documentType},d.a.createElement("option",{key:"",value:""},"Select Document Type"),t)),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Start Date"),d.a.createElement("div",{className:"col-2 p-0"},d.a.createElement(m.a,{className:"form-input",dateFormat:"yyyy-MM-dd",selected:a,onChange:function(t){return e.onChangeStartDate(t)}}))),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"End Date"),d.a.createElement("div",{className:"col-2 p-0"},d.a.createElement(m.a,{className:"form-input",dateFormat:"yyyy-MM-dd",selected:n,minDate:a,maxDate:r,onChange:function(t){return e.setState({endDate:t})}}))),d.a.createElement("div",{className:"row m-0 justify-content-end"},d.a.createElement("button",{className:"button-red mr-2",onClick:this.ExportExcel.bind(this)},"download excel"),d.a.createElement("button",{className:"button-red",onClick:this.ExportPdf.bind(this)},"download pdf"))),this.state.loading?d.a.createElement("div",{className:"loading-overlay"},d.a.createElement("div",{className:"loader"})):null)}}]),a}(u.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return f}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=(a(73),a(28),a(21),a(33)),p=function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,[{key:"downloadExcelAllRac",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=m.a+"/api/cms/rac/download/rac.xlsx",e.abrupt("return",t);case 5:return e.prev=5,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",e.t0.response);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}()},{key:"downloadPdfAllRac",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=m.a+"/api/cms/rac/download/rac.pdf",e.abrupt("return",t);case 5:return e.prev=5,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",e.t0.response);case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),h=a(17),f=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={userPrivilege:[],list:[],loading:!1,documentType:"",token:localStorage.getItem("accessToken")},window.scrollTo(0,0),e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),this.getdataMaster()}},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=!0,n=new h.a,e.next=5,n.findStatusByParam(this.state);case 5:if((r=e.sent)&&200===r.status&&r.data?this.setState({listDataStatus:r.data}):t=!1,t){e.next=10;break}return this.clearSession(),e.abrupt("return");case 10:a||this.conectionToBE();case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"conectionToBE",value:function(){alert("Cant get data from backend Octo RM Bench, Please check your conection or contact admin!")}},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"ExportPdf",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new p,e.next=3,t.downloadPdfAllRac();case 3:(a=e.sent)?((n=document.createElement("a")).href=a,n.target="_blank",document.body.appendChild(n),n.click(),document.body.removeChild(n)):(alert("Error cant download data"),this.setState({loading:!1}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ExportExcel",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),t=new p,e.next=4,t.downloadExcelAllRac();case 4:(a=e.sent)?((n=document.createElement("a")).href=a,n.target="_blank",document.body.appendChild(n),n.click(),document.body.removeChild(n),this.setState({hasMessage:!0,alertState:"alert alert-success",messageContent:"Download Succeed",loading:!1})):(alert("Error cant download data"),this.setState({loading:!1}));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return d.a.createElement("div",{id:"DownloadRac",className:"download default-rmwb-wrapper"},this.state.hasMessage?d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.messageContent):null,d.a.createElement("div",{className:"form-box-area mb-2"},d.a.createElement("h4",{className:"mb-4"},"Download All Risk Checker"),d.a.createElement("div",{className:"row m-0 justify-content-end"},d.a.createElement("button",{className:"button-red mr-2",onClick:function(){return e.ExportExcel()}},"download excel"),d.a.createElement("button",{className:"button-red",onClick:function(){return e.ExportPdf()}},"download pdf"))),this.state.loading?d.a.createElement("div",{className:"loading-overlay"},d.a.createElement("div",{className:"loader"})):null)}}]),a}(u.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return v}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=(a(73),a(1375),a(21),a(7)),p=a.n(m),h=a(33),f=function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,[{key:"downloadExcelAllAccountPlan",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.filterYear?t.filterYear:"",e.prev=1,n=h.a+"/api/cms/account_plan/download/account_plan.xlxs?year="+a,e.abrupt("return",n);case 6:return e.prev=6,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"downloadPdfAllAccountPlan",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.filterYear?t.filterYear:"",e.prev=1,n=h.a+"/api/cms/account_plan/download/account_plan.pdf?year="+a,e.abrupt("return",n);case 6:return e.prev=6,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",e.t0.response);case 10:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getFilterYear",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("userNip"),a={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:t,"Workstation-Id":null},e.prev=2,e.next=5,p.a.get(h.a+"/api/cms/account_plan/download/filter",{headers:a});case 5:return n=e.sent,e.abrupt("return",n);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",e.t0.response);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),g=a(17),v=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={userPrivilege:[],list:[],loading:!0,filterYear:"",token:localStorage.getItem("accessToken")},window.scrollTo(0,0),e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),this.getdataMaster()}},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=!0,n=new f,r=new g.a,e.next=6,r.findStatusByParam(this.state);case 6:if((l=e.sent)&&200===l.status&&l.data?this.setState({listDataStatus:l.data}):t=!1,t){e.next=11;break}return this.clearSession(),e.abrupt("return");case 11:return e.next=13,n.getFilterYear();case 13:(i=e.sent)&&200===i.status&&i.data?this.setState({listYearFilter:i.data.data}):(this.setState({listYearFilter:[]}),a=!1),a||this.conectionToBE();case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"conectionToBE",value:function(){alert("Cant get data from backend Octo RM Bench, Please check your conection or contact admin!")}},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"ExportPdf",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state,this.validate(t)){e.next=4;break}return window.scrollTo(0,0),e.abrupt("return");case 4:return a=new f,e.next=7,a.downloadPdfAllAccountPlan(this.state);case 7:(n=e.sent)?((r=document.createElement("a")).href=n,r.target="_blank",document.body.appendChild(r),r.click(),document.body.removeChild(r)):alert("Error cant download data");case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"validate",value:function(e){return this.setState({error:!0,alertState:"alert alert-danger"}),e.filterYear?(this.setState({error:!1,alertState:"alert alert-primary"}),!0):(this.setState({errorMessage:"Please select Year!"}),!1)}},{key:"ExportExcel",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state,this.validate(t)){e.next=4;break}return window.scrollTo(0,0),e.abrupt("return");case 4:return a=new f,e.next=7,a.downloadExcelAllAccountPlan(this.state);case 7:(n=e.sent)?((r=document.createElement("a")).href=n,r.target="_blank",document.body.appendChild(r),r.click(),document.body.removeChild(r)):alert("Error cant download data");case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.listYearFilter||[];return t=t.map((function(e){return d.a.createElement("option",{key:e,"code-data":e,value:e},e)})),d.a.createElement("div",{id:"accountPlan"},this.state.error?d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.errorMessage):null,d.a.createElement("div",{className:"form-box-area mb-3"},d.a.createElement("h4",{className:"mb-4"},"Download All Account Plan"),d.a.createElement("div",{className:"row mb-4"},d.a.createElement("label",{className:"col-3"},"Please Select Year"),d.a.createElement("select",{className:"col-2 form-input",onChange:function(t){return e.setState({filterYear:t.target.value})},value:this.state.filterYear},d.a.createElement("option",{key:"",value:""},"Select Year"),t)),d.a.createElement("div",{className:"row box-area"},d.a.createElement("button",{className:"button-red mr-2",onClick:this.ExportExcel.bind(this)},"download excel"),d.a.createElement("button",{className:"button-red ml-2",onClick:this.ExportPdf.bind(this)},"download pdf"))),this.state.loading?d.a.createElement("div",{className:"loading-overlay"},d.a.createElement("div",{className:"loader"})):null)}}]),a}(u.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return E}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(27),p=a(16),h=a.n(p),f=(a(73),a(28),a(21),a(7)),g=a.n(f),v=a(33),b=function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,[{key:"getAllDrawdown",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var r,l,i,o,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=localStorage.getItem("userNip"),l={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:r,"Workstation-Id":null},i=t?h()(t).format("YYYY-MM-DD"):null,o=a?h()(a).format("YYYY-MM-DD"):null,e.prev=4,e.next=7,g.a.get(v.a+"/api/cms/drawdown/range-date?start="+i+"&end="+o,{headers:l});case 7:return c=e.sent,e.abrupt("return",c);case 11:return e.prev=11,e.t0=e.catch(4),e.abrupt("return",e.t0.response);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t,a,n){return e.apply(this,arguments)}}()}]),e}(),y=a(17),S=a(109),E=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={userPrivilege:[],list:[],loading:!1,token:localStorage.getItem("accessToken")},window.scrollTo(0,0),e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),this.getDataMaster()}},{key:"getDataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=new y.a,e.next=4,a.findStatusByParam(this.state);case 4:if((n=e.sent)&&200===n.status&&n.data?(this.setState({listDataStatus:n.data}),this.setState({loading:!1})):t=!1,t){e.next=9;break}return this.clearSession(),e.abrupt("return");case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"ExportExcel",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({loading:!0}),t=new b,a=new S.a,n="Drawdown",r=this.state,this.validate(r)){e.next=9;break}return window.scrollTo(0,0),this.setState({loading:!1}),e.abrupt("return");case 9:return e.next=11,t.getAllDrawdown(this.state.startDate,this.state.endDate,this.state);case 11:if(!(l=e.sent)||200!==l.status||!l.data){e.next=19;break}return i=l.data,e.next=16,a.ExportExcel(i,n);case 16:this.setState({hasMessage:!0,alertState:"alert alert-success",messageContent:"Download Succeed",loading:!1}),e.next=20;break;case 19:this.setState({hasMessage:!0,messageContent:l&&l.data?l.data.message:l,loading:!1});case 20:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"validate",value:function(e){return this.setState({hasMessage:!0,alertState:"alert alert-danger"}),e.startDate?e.endDate?(this.setState({hasMessage:!1,alertState:"alert alert-primary"}),!0):(this.setState({messageContent:"Please enter End Date!"}),!1):(this.setState({messageContent:"Please enter Start Date!"}),!1)}},{key:"onChangeStartDate",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({startDate:t}),this.setState({endDate:""});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.startDate?h()(this.state.startDate,"YYYY-MM-DDTHH:mm:ss").toDate():null,a=this.state.endDate?h()(this.state.endDate,"YYYY-MM-DDTHH:mm:ss").toDate():null,n=h()(t).add(30,"d"),s=h()(n,"YYYY-MM-DDTHH:mm:ss").toDate();return d.a.createElement("div",{id:"DownloadDrawdown",className:"download default-rmwb-wrapper"},this.state.hasMessage?d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.messageContent):null,d.a.createElement("div",{className:"form-box-area mb-2"},d.a.createElement("h4",{className:"mb-4"},"Download Drawdown"),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Start Date"),d.a.createElement("div",{className:"col-4 p-0"},d.a.createElement(m.a,{className:"form-input",dateFormat:"yyyy-MM-dd",selected:t,onChange:function(t){return e.onChangeStartDate(t)}}))),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"End Date"),d.a.createElement("div",{className:"col-4 p-0"},d.a.createElement(m.a,{className:"form-input",dateFormat:"yyyy-MM-dd",selected:a,minDate:t,maxDate:s,onChange:function(t){return e.setState({endDate:t})}}))),d.a.createElement("div",{className:"row m-0 justify-content-end"},d.a.createElement("button",{className:"button-red",onClick:this.ExportExcel.bind(this)},"download excel"))),this.state.loading?d.a.createElement("div",{className:"loading-overlay"},d.a.createElement("div",{className:"loader"})):null)}}]),a}(u.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return v}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=(a(73),a(28),a(21),a(7)),p=a.n(m),h=a(33).a,f=function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,[{key:"getFilterStatus",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("userNip"),a={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:t,"Workstation-Id":null},e.prev=2,e.next=5,p.a.get(h+"/api/cms/tat/filter-status",{headers:a});case 5:return n=e.sent,e.abrupt("return",n);case 9:return e.prev=9,e.t0=e.catch(2),console.log(e.t0),e.abrupt("return",e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"getFilterSegment",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("userNip"),a={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:t,"Workstation-Id":null},e.prev=2,e.next=5,p.a.get(h+"/api/cms/tat/filter-segment",{headers:a});case 5:return n=e.sent,e.abrupt("return",n);case 9:return e.prev=9,e.t0=e.catch(2),console.log(e.t0),e.abrupt("return",e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"downloadReportTat",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},e.prev=2,r=t.selectedStatus?t.selectedStatus:"",l=t.selectedSegment?t.selectedSegment:"",e.next=7,p.a.get(h+"/api/cms/tat/download/tat.xlsx?status="+r+"&segment="+l,{headers:n});case 7:return i=e.sent,e.abrupt("return",i);case 11:return e.prev=11,e.t0=e.catch(2),console.log(e.t0),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),g=a(17),v=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={userPrivilege:[],list:[],listStatus:[],listSegment:[],selectedStatus:"",selectedSegment:"",loading:!1,token:localStorage.getItem("accessToken")},window.scrollTo(0,0),e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),this.getDataMaster()}},{key:"getDataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=new g.a,e.next=4,a.findStatusByParam(this.state);case 4:if((n=e.sent)&&200===n.status&&n.data?(this.setState({listDataStatus:n.data}),this.setState({loading:!1})):t=!1,t){e.next=9;break}return this.clearSession(),e.abrupt("return");case 9:return r=!0,this.setState({loading:!0}),l=new f,e.next=14,l.getFilterStatus();case 14:return(i=e.sent)&&200===i.status&&i.data&&i.data.data?(this.setState({listStatus:i.data.data}),this.setState({loading:!1})):(this.setState({loading:!1}),this.setState({listStatus:[]}),r=!1),e.next=18,l.getFilterSegment();case 18:(o=e.sent)&&200===o.status&&o.data&&o.data.data?(this.setState({listSegment:o.data.data}),this.setState({loading:!1})):(this.setState({loading:!1}),this.setState({listSegment:[]}),r=!1),r||this.conectionToBE();case 21:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"conectionToBE",value:function(){alert("Cant get data from backend Octobench, Please check your conection or contact admin!")}},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"ExportExcel",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),t=new f,e.next=4,t.downloadReportTat(this.state);case 4:(a=e.sent)&&a.status&&200===a.status&&a.config&&a.config.url?(n=a.config.url,(r=document.createElement("a")).href=n,r.target="_blank",document.body.appendChild(r),r.click(),document.body.removeChild(r),this.setState({hasMessage:!0,alertState:"alert alert-success",messageContent:"Download Succeed",loading:!1})):a&&a.status&&a.data&&a.data.error&&a.data.message?this.setState({hasMessage:!0,alertState:"alert alert-danger",messageContent:"Error "+a.data.error+", "+a.data.message,loading:!1}):this.setState({hasMessage:!0,alertState:"alert alert-danger",messageContent:"Download Failed",loading:!1});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state.listStatus||[];t=t.map((function(e){var t=e.label,a=e.key;return d.a.createElement("option",{key:a,"code-data":a,value:a},t)}));var a=this.state.listSegment||[];return a=a.map((function(e){var t=e.label,a=e.key;return d.a.createElement("option",{key:a,"code-data":a,value:a},t)})),d.a.createElement("div",{id:"DownloadTat",className:"download default-rmwb-wrapper"},this.state.hasMessage?d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.messageContent):null,d.a.createElement("div",{className:"form-box-area mb-2"},d.a.createElement("h4",{className:"mb-4"},"Download TAT"),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Status"),d.a.createElement("select",{ref:"bu",className:"col-6 form-input",onChange:function(t){return e.setState({selectedStatus:t.target.value})}},t)),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("label",{className:"col-3"},"Segment"),d.a.createElement("select",{ref:"bu",className:"col-6 form-input",onChange:function(t){return e.setState({selectedSegment:t.target.value})}},a)),d.a.createElement("div",{className:"row mt-5 m-0 justify-content-end"},d.a.createElement("button",{className:"button-red",onClick:this.ExportExcel.bind(this)},"download excel"))),this.state.loading?d.a.createElement("div",{className:"loading-overlay"},d.a.createElement("div",{className:"loader"})):null)}}]),a}(u.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return v}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=(a(1383),a(7)),p=a.n(m),h=function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,[{key:"bulkUploadUser",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/x-www-form-urlencoded"},(n=new FormData).append("file",t.file),e.prev=3,e.next=6,p.a.post("http://localhost/rm-workbench-backend/uploadFile.php",n,{headers:a});case 6:return r=e.sent,e.abrupt("return",r);case 10:return e.prev=10,e.t0=e.catch(3),console.log(e.t0),e.abrupt("return",e.t0.response);case 14:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),f=a(18),g=a(8),v=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={file:null,error:"",alertState:"alert alert-primary",loading:!1,token:localStorage.getItem("accessToken")},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"validate",value:function(e){return!!e.file||(this.setState({error:"Please select file to upload!",alertState:"alert alert-danger"}),!1)}},{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validate(this.state)){e.next=2;break}return e.abrupt("return");case 2:return this.setState({loading:!0}),t=new h,e.next=6,t.bulkUploadUser(this.state);case 6:(a=e.sent)&&200===a.status&&a.data.success?this.setState({error:a.data.message,alertState:"alert alert-primary",loading:!1}):a&&a.data&&g.a===a.data.data?(alert("Save Data Failed, Please try again !"),this.setState({loading:!1}),window.location.reload()):this.setState({error:a&&a.data.message?a.data.message:"Error bulk upload User, Please contact Administrator",alertState:"alert alert-danger",loading:!1});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return d.a.createElement("div",{id:"BulkUploadUser"},this.state.error?d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.error):null,d.a.createElement("h3",{className:"mb-4"},"Bulk Upload User"),this.state.loading?d.a.createElement(f.a,null):d.a.createElement("div",{className:"row mb-3 box-area"},d.a.createElement("input",{type:"file",accept:".csv",onChange:function(t){return e.setState({file:t.target.files[0]})}}),d.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:this.submit.bind(this)},"submit")))}}]),a}(u.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return w}));var n=a(4),s=a(3),r=a(6),l=a(5),i=a(0),o=a.n(i),c=a(1),u=a.n(c),d=a(2),m=a(9),p=(a(1389),a(30)),h=a.n(p),f=a(89),g=a(17),v=a(8),b=a(31),y=a.n(b);a(21),a(59),a(127),a(28);h.a.setAppElement("body");var S=function(e){Object(r.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(n.a)(this,a),(e=t.call(this)).state={token:localStorage.getItem("accessToken"),labelButton:"Save Client Profile",alertState:"alert alert-primary",isEdit:!1,error:!1,showModal:!1,typeFind:"rmwbData",modalName:"",loading:!0,code:"",name:"",listClient:[],page:1,perPage:10,searchClientName:"",searchClientCif:"",totalRows:0,parent_cif:"",parent_name:"",createNtb:!1},window.scrollTo(0,0),e.handlePageChange=e.handlePageChange.bind(Object(m.a)(e)),e.handlePerRowsChange=e.handlePerRowsChange.bind(Object(m.a)(e)),e}return Object(s.a)(a,[{key:"handleOpenModal",value:function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({showModal:!0,modalName:t});case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleCloseModal",value:function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({showModal:!1});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handlePageChange",value:function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({page:t}),this.searchClient(t,this.state.perPage,this.state.searchClientName,this.state.searchClientCif);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handlePerRowsChange",value:function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({perPage:t}),this.searchClient(this.state.page,t,this.state.searchClientName,this.state.searchClientCif);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentWillMount",value:function(){this.getdataMaster(),this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),this.setState({loggedUser:localStorage.getItem("userNip")}),"edit"===this.props.mode&&this.props.data&&(this.setState(this.props.data),this.setState({labelButton:"Save Client Profile",isEdit:!0}),this.getListDataStatus(this.props.data.status)),this.validator=new y.a({autoForceUpdate:this,element:function(e){return o.a.createElement("div",{className:"row col-12 validator-error-message"},o.a.createElement("div",{className:"col-4"}),o.a.createElement("div",{className:"col-8"},e))},validators:{double:{message:"The Sales should be 2 digit behind comma!",messageReplace:function(e){return o.a.createElement("div",{className:"row col-12 validator-error-message"},o.a.createElement("div",{className:"col-4"}),o.a.createElement("div",{className:"col-8"},e))},rule:function(e,t,a){return a.helpers.testRegex(e,/^\d{0,5}(\.\d{0,2}){0,1}$/)&&-1===t.indexOf(e)},required:!0}}})}},{key:"getdataMaster",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t,a,n,s,r,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=!0,n=new f.a,s=new g.a,e.next=6,s.findStatusByParam(this.state);case 6:return(r=e.sent)&&200===r.status&&r.data?this.setState({listDataStatus:r.data}):t=!1,t||this.clearSession(),e.next=11,n.getCurrency();case 11:(l=e.sent)&&200===l.status&&l.data&&l.data.data.length>0?this.setState({listCurrency:l.data.data}):(this.setState({listCurrency:[]}),a=!1),a||this.errorConectionToBe();case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"searchButton",value:function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.searchClient(this.state.page,this.state.perPage,this.state.searchClientName,this.state.searchClientCif);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getListDataStatus",value:function(){var e=Object(d.a)(u.a.mark((function e(t){var a,n,s,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!0,n=new g.a,e.next=4,n.findStatusByParam(this.state);case 4:(s=e.sent)&&200===s.status&&s.data.length>0?(this.setState({listDataStatus:s.data}),r=s.data.filter((function(e){return e.code===t})),this.setState({currentDataStatus:r[0]})):(this.setState({listDataStatus:""}),this.setState({currentDataStatus:""}),s&&s.data&&v.a===s.data.data?a=!1:this.setState({listDataStatus:""})),a||this.clearSession();case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"errorConectionToBe",value:function(){alert("Connection to Server Octobench interupted!\nPlease check your conection or contact administrator!")}},{key:"render",value:function(){var e=this,t=this.state.currentDataStatus?this.state.currentDataStatus:[],a=!1,n=!1;return this.state.isEdit&&(n=!0),t&&"rmwbData_rejected"===t.type+"_"+t.code&&(a=!0),o.a.createElement("div",{id:"ClientProfileForm"},this.state.error?o.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.errorMessage):null,o.a.createElement("div",{className:"form-box-area mb-4"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"row col-12"},o.a.createElement("h4",{className:"mb-4 col-6"},"Data Client Profile Draft"),n?o.a.createElement("h4",{className:"mb-4 col-6"},"Data Client Profile Original"):null),o.a.createElement("div",{className:"row mb-3 col-12"},o.a.createElement("div",{className:"row col-6"},o.a.createElement("label",{className:"col-12 col-lg-12 col-xl-4"},"Client CIF"),o.a.createElement("input",{readOnly:"readOnly",className:"col-12 col-lg-12 col-xl-8 mx-3 mx-xl-0 form-input",type:"text",id:"client-cif",value:this.state.client_cif?this.state.client_cif:""}),this.validator.message("client-cif",this.state.client_cif,"required")),n?o.a.createElement("div",{className:"row col-6 ml-3"},o.a.createElement("label",{className:"col-12 col-lg-12 col-xl-4"},"Client CIF"),o.a.createElement("div",{className:"col-12 col-lg-12 col-xl-8"},": ",this.state.client_cif&&null!==this.state.client_cif?this.state.client_cif:null)):null),o.a.createElement("div",{className:"row mb-3 col-12"},o.a.createElement("div",{className:"row col-6"},o.a.createElement("label",{className:"col-12 col-lg-12 col-xl-4"},"Name"),o.a.createElement("input",{readOnly:"readOnly",className:"col-12 col-lg-12 col-xl-8 mx-3 mx-xl-0 form-input",value:this.state.name?this.state.name:"",type:"text",id:"name"})),n?o.a.createElement("div",{className:"row col-6 ml-3"},o.a.createElement("label",{className:"col-12 col-lg-12 col-xl-4"},"Name"),o.a.createElement("div",{className:"col-12 col-lg-12 col-xl-8"},": ",this.state.name&&null!==this.state.name?this.state.name:null)):null),o.a.createElement("div",{className:"row mb-3 col-12"},o.a.createElement("div",{className:"row col-6"},o.a.createElement("label",{className:"col-12 col-lg-12 col-xl-4"},"Core Business Description"),o.a.createElement("textarea",{className:"col-12 col-lg-12 col-xl-8 mx-3 mx-xl-0 form-input",readOnly:"readOnly",type:"text",onChange:function(t){return e.setState({core_business_description_draft:t.target.value})},value:this.state.core_business_description_draft||"",id:"business-description",maxLength:"500"})),n?o.a.createElement("div",{className:"row col-6 ml-3"},o.a.createElement("label",{className:"col-12 col-lg-12 col-xl-4"},"Core Business Description"),o.a.createElement("div",{className:"col-12 col-lg-12 col-xl-8"},": ",this.state.core_business_description&&null!==this.state.core_business_description?this.state.core_business_description:null)):null),o.a.createElement("div",{className:"row mb-3 col-12"},o.a.createElement("div",{className:"row col-6"},o.a.createElement("label",{className:"col-12 col-lg-12 col-xl-4"},"Products"),o.a.createElement("input",{readOnly:"readOnly",disabled:"disabled",className:"col-12 col-lg-12 col-xl-8 mx-3 mx-xl-0 form-input",value:this.state.products_draft?this.state.products_draft:"",type:"text",id:"products"})),n?o.a.createElement("div",{className:"row col-6 ml-3"},o.a.createElement("label",{className:"col-12 col-lg-12 col-xl-4"},"Product"),o.a.createElement("div",{className:"col-12 col-lg-12 col-xl-8"},": ",this.state.products&&null!==this.state.products?this.state.products:null)):null),o.a.createElement("div",{className:"row mb-3 col-12 ".concat(n&&this.state.production_capacity!==this.state.production_capacity_draft?"updated":null)},o.a.createElement("div",{className:"row col-6"},o.a.createElement("label",{className:"col-12 col-lg-12 col-xl-4"},"Production Capacity"),o.a.createElement("input",{className:"col-12 col-lg-12 col-xl-8 mx-3 mx-xl-0 form-input",readOnly:"readOnly",value:this.state.production_capacity_draft?this.state.production_capacity_draft:"",type:"text",maxLength:"255",id:"product-capacity"})),n?o.a.createElement("div",{className:"row col-6 ml-3"},o.a.createElement("label",{className:"col-12 col-lg-12 col-xl-4"},"Production Capacity"),o.a.createElement("div",{className:"col-12 col-lg-12 col-xl-8"},": ",this.state.production_capacity&&null!==this.state.production_capacity?this.state.production_capacity:null)):null),o.a.createElement("div",{className:"row mb-3 col-12 ".concat(n&&this.state.competitive_landscape!==this.state.competitive_landscape_draft?"updated":null)},o.a.createElement("div",{className:"row col-6"},o.a.createElement("label",{className:"col-12 col-lg-12 col-xl-4"},"Competitive Landscape"),o.a.createElement("input",{className:"col-12 col-lg-12 col-xl-8 mx-3 mx-xl-0 form-input",readOnly:"readOnly",value:this.state.competitive_landscape_draft?this.state.competitive_landscape_draft:"",type:"text",id:"competitive_landscape_draft"})),n?o.a.createElement("div",{className:"row col-6 ml-3"},o.a.createElement("label",{className:"col-12 col-lg-12 col-xl-4"},"Competitive Landscape"),o.a.createElement("div",{className:"col-12 col-lg-12 col-xl-8"},": ",this.state.competitive_landscape&&null!==this.state.competitive_landscape?this.state.competitive_landscape:null)):null),o.a.createElement("div",{className:"row mb-3 col-12 ".concat(n&&this.state.customer_overview!==this.state.customer_overview_draft?"updated":null)},o.a.createElement("div",{className:"row col-6"},o.a.createElement("label",{className:"col-12 col-lg-12 col-xl-4"},"Customer Overview"),o.a.createElement("input",{className:"col-12 col-lg-12 col-xl-8 mx-3 mx-xl-0 form-input",readOnly:"readOnly",value:this.state.customer_overview_draft?this.state.customer_overview_draft:"",type:"text",maxLength:"64",id:"customer_overview"})),n?o.a.createElement("div",{className:"row col-6 ml-3"},o.a.createElement("label",{className:"col-12 col-lg-12 col-xl-4"},"Customer Overview"),o.a.createElement("div",{className:"col-12 col-lg-12 col-xl-8"},": ",this.state.customer_overview&&null!==this.state.customer_overview?this.state.customer_overview:null)):null),o.a.createElement("div",{className:"row mb-3 col-12 ".concat(n&&this.state.supplier_overview!==this.state.supplier_overview_draft?"updated":null)},o.a.createElement("div",{className:"row col-6"},o.a.createElement("label",{className:"col-12 col-lg-12 col-xl-4"},"Supplier Overview"),o.a.createElement("input",{className:"col-12 col-lg-12 col-xl-8 mx-3 mx-xl-0 form-input",readOnly:"readOnly",value:this.state.supplier_overview_draft?this.state.supplier_overview_draft:"",onChange:function(t){return e.setState({supplier_overview_draft:t.target.value})},type:"text",maxLength:"64",id:"supplier_overview"})),n?o.a.createElement("div",{className:"row col-6 ml-3"},o.a.createElement("label",{className:"col-12 col-lg-12 col-xl-4"},"Supplier Overview"),o.a.createElement("div",{className:"col-12 col-lg-12 col-xl-8"},": ",this.state.supplier_overview&&null!==this.state.supplier_overview?this.state.supplier_overview:null)):null),n&&this.state.status?o.a.createElement("div",{className:"row mb-3 col-12"},o.a.createElement("label",{className:"col-2 col-lg-6 col-xl-3"},"Current Data Status"),o.a.createElement("div",{className:"col-4 col-lg-6 col-xl-4 pl-0"},this.state.status)):null,n&&this.state.updated_by?o.a.createElement("div",{className:"row mb-3 col-12"},o.a.createElement("label",{className:"col-2 col-lg-6 col-xl-3"},"Last Updated By"),o.a.createElement("div",{className:"col-4 col-lg-6 col-xl-4 pl-0"},this.state.updated_by)):null,n&&a?o.a.createElement("div",{className:"row mb-3 col-12"},o.a.createElement("label",{className:"col-2 col-lg-6 col-xl-3"},"Remarks"),o.a.createElement("div",{className:"col-4 col-lg-6 col-xl-4 pl-0"},this.state.remarks)):null)))}}]),a}(i.Component),E=a(13),w=(a(278),function(e){Object(r.a)(a,e);var t=Object(l.a)(a);function a(){var e;return Object(n.a)(this,a),(e=t.call(this)).state={isSuccess:!1,message:"",token:localStorage.getItem("accessToken"),htmlContent:""},e}return Object(s.a)(a,[{key:"componentWillMount",value:function(){this.props.location.state.data||this.props.history.push("rmwb-client-profile")}},{key:"render",value:function(){var e=this.props.location.state.data;return o.a.createElement("div",{id:"EditClientProfile",className:"default-rmwb-wrapper"},this.state.isSuccess?null:o.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),o.a.createElement("div",{className:"row mb-4"},o.a.createElement("div",{className:"col-6"},o.a.createElement("h3",null,"Detail Client Profile")),o.a.createElement("div",{className:"col-6"},o.a.createElement(E.b,{to:"rmwb-client-profile",className:"d-flex justify-content-end"},o.a.createElement("button",{className:"btn btn-info"},"Back to Client Profile List")))),o.a.createElement(S,{mode:"edit",data:e,history:this.props.history}))}}]),a}(i.Component))},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return A}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(9),p=(a(1394),a(30)),h=a.n(p),f=a(120),g=a(17),v=a(8),b=a(31),y=a.n(b),S=a(88),E=a(118),w=a(375),k=a.n(w);a(21),a(59),a(127);h.a.setAppElement("body"),S.pdfjs.GlobalWorkerOptions.workerSrc=k.a;var N=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).onDocumentLoadSuccess=function(t){var a=t.numPages;e.setState({numPages:a})},e.onDocumentLoadSuccess=function(t){var a=t.numPages;e.setState({numPages:a})},e.state={token:localStorage.getItem("accessToken"),labelButton:"Save",alertState:"alert alert-primary",isEdit:!1,error:!1,showModal:!1,typeFind:"rmwbData",modalName:"",loading:!1,idMenu:"",detailProduct:[],attachment1:null,attachment2:null,attachmentOri1:null,attachmentOri2:null,numPages:null,pageNumber:1,idc_1:null,name_draft_1:null,phone_draft_1:null,ext_office_draft_1:null,email_draft_1:null,name_1:null,phone_1:null,ext_office_1:null,email_1:null,idc_2:null,name_draft_2:null,phone_draft_2:null,ext_office_draft_2:null,email_draft_2:null,name_2:null,phone_2:null,ext_office_2:null,email_2:null,ida_1:null,file_name_1:null,file_name_draft_1:null,file_name_temp_1:null,ida_2:null,file_name_2:null,file_name_draft_2:null,file_name_temp_2:null,urlPdfReader:"",enableContact2:!1,roleName:localStorage.getItem("roleName"),isSadmin:!1},window.scrollTo(0,0),e.handleOpenModal=e.handleOpenModal.bind(Object(m.a)(e)),e.handleCloseModal=e.handleCloseModal.bind(Object(m.a)(e)),e}return Object(i.a)(n,[{key:"handleOpenModal",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"pdfReader"===t&&this.setState({urlPdfReader:a}),this.setState({showModal:!0,modalName:t});case 2:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"handleCloseModal",value:function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({showModal:!1});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillMount",value:function(){this.setState({isSadmin:"SADMINOCTOBENCH"===this.state.roleName}),this.setState({idMenu:this.props.data}),"edit"===this.props.mode&&this.setState({isEdit:!0}),this.getdataMaster(),this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),this.setState({loggedUser:localStorage.getItem("userNip")}),this.validator=new y.a({autoForceUpdate:this,element:function(e){return d.a.createElement("div",{className:"row col-12 validator-error-message"},d.a.createElement("div",{className:"col-4"}),d.a.createElement("div",{className:"col-8"},e))}})}},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i,o,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=!0,n=new f.a,r=new g.a,e.next=6,r.findStatusByParam(this.state);case 6:return(l=e.sent)&&200===l.status&&l.data?this.setState({listDataStatus:l.data}):t=!1,t||this.clearSession(),this.setState({loading:!0}),e.next=12,n.getDetail(this.state);case 12:(i=e.sent)&&200===i.status&&i.data?(o=i.data.data.contact_person,1===JSON.parse(localStorage.getItem("saved_contact"))&&(o=JSON.parse(localStorage.getItem("person_in_charges")),localStorage.removeItem("saved_contact"),localStorage.removeItem("person_in_charges")),c=i.data.data.attachment,this.getListDataStatus(i.data.data.status),this.setState({idc_1:o[0].id}),this.setState({name_draft_1:o[0].name_draft}),this.setState({phone_draft_1:o[0].phone_number_draft}),this.setState({ext_office_draft_1:o[0].ext_office_draft}),this.setState({email_draft_1:o[0].email_draft}),this.setState({name_1:o[0].name}),this.setState({phone_1:o[0].phone_number}),this.setState({ext_office_1:o[0].ext_office}),this.setState({email_1:o[0].email}),this.setState({idc_2:o[1].id}),this.setState({name_draft_2:o[1].name_draft}),this.setState({phone_draft_2:o[1].phone_number_draft}),this.setState({ext_office_draft_2:o[1].ext_office_draft}),this.setState({email_draft_2:o[1].email_draft}),this.setState({name_2:o[1].name}),this.setState({phone_2:o[1].phone_number}),this.setState({ext_office_2:o[1].ext_office}),this.setState({email_2:o[1].email}),this.setState({ida_1:c[0].id}),this.setState({file_name_1:c[0].file_name}),this.setState({file_name_draft_1:c[0].file_name_draft}),this.setState({file_name_temp_1:c[0].file_name_temp}),this.setState({ida_2:c[1].id}),this.setState({file_name_2:c[1].file_name}),this.setState({file_name_draft_2:c[1].file_name_draft}),this.setState({file_name_temp_2:c[1].file_name_temp}),this.setState(i.data.data),null===c[0].file_name_draft&&null===c[0].file_name_temp||this.getTempAttachment1(c[0].file_name_draft,c[0].file_name_temp),null!==c[0].file_name&&this.getOriAttachment1(c[0].file_name),null===c[1].file_name_draft&&null===c[1].file_name_temp||this.getTempAttachment2(c[1].file_name_draft,c[1].file_name_temp),null!==c[1].file_name&&this.getOriAttachment2(c[1].file_name),null!==o[1].name_draft&&this.setState({enableContact2:!0}),this.setState({loading:!1})):400===i.status?(this.setState({loading:!1}),alert("ID menu not found please check it!"),this.props.history.push("/rmwb-product-pricing")):(this.setState({loading:!1}),a=!1),a||this.errorConectionToBe();case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getTempAttachment1",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),n=!0,r=new f.a,e.next=5,r.getTempAttachment(t,a);case 5:(l=e.sent)&&l.status&&200===l.status&&l.config&&l.config.url?(this.setState({attachment1:l.config.url}),this.setState({loading:!1})):l&&l.data?(this.setState({error:!0,message:l.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1})):(this.setState({loading:!1}),n=!1),n||this.errorConectionToBe();case 8:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getTempAttachment2",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),n=!0,r=new f.a,e.next=5,r.getTempAttachment(t,a);case 5:(l=e.sent)&&l.status&&200===l.status&&l.config&&l.config.url?(this.setState({attachment2:l.config.url}),this.setState({loading:!1})):l&&l.data?(this.setState({error:!0,message:l.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1})):(this.setState({loading:!1}),n=!1),n||this.errorConectionToBe();case 8:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getOriAttachment1",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),a=!0,n=new f.a,e.next=5,n.getTempAttachment(t);case 5:(r=e.sent)&&r.status&&200===r.status&&r.config&&r.config.url?(this.setState({attachmentOri1:r.config.url}),this.setState({loading:!1})):r&&r.data?(this.setState({error:!0,message:r.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1})):(this.setState({loading:!1}),a=!1),a||this.errorConectionToBe();case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getOriAttachment2",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),a=!0,n=new f.a,e.next=5,n.getTempAttachment(t);case 5:(r=e.sent)&&r.status&&200===r.status&&r.config&&r.config.url?(this.setState({attachmentOri2:r.config.url}),this.setState({loading:!1})):r&&r.data?(this.setState({error:!0,message:r.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1})):(this.setState({loading:!1}),a=!1),a||this.errorConectionToBe();case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getListDataStatus",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!0,n=new g.a,e.next=4,n.findStatusByParam(this.state);case 4:(r=e.sent)&&200===r.status&&r.data.length>0?(this.setState({listDataStatus:r.data}),l=r.data.filter((function(e){return e.code===t})),this.setState({currentDataStatus:l[0]})):(this.setState({listDataStatus:""}),this.setState({currentDataStatus:""}),r&&r.data&&v.a===r.data.data?a=!1:this.setState({listDataStatus:""})),a||this.clearSession();case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("/login"))}},{key:"errorConectionToBe",value:function(){alert("Connection to Server Octobench interupted!\nPlease check your conection or contact administrator!")}},{key:"validateRemark",value:function(e){return this.setState({error:!0,alertState:"alert alert-danger"}),e.remarks?(this.setState({error:!1,alertState:"alert alert-primary"}),!0):(this.setState({errorMessage:"Please fill remarks!"}),!1)}},{key:"onSubmit",value:function(){if(this.props.onSubmit){var e=this.state;e.submitOnly=!0,this.validator.allValid()?this.props.onSubmit(e):this.validator.showMessages()}}},{key:"onCancelSubmit",value:function(){if(this.props.onSubmit){var e=this.state;e.cancelSubmit=!0,this.props.onSubmit(e)}}},{key:"onSubmitAndSave",value:function(){if(this.props.onSubmitAndSave){var e=this.state;e.submitOnly=!1,e.submitAndSave=!0,this.validator.allValid()?this.props.onSubmitAndSave(e):this.validator.showMessages()}}},{key:"onSubmitApprove",value:function(){if(this.props.onSubmitAndSave){var e=this.state;e.submitApprove=!0,this.handleCloseModal(),this.props.onSubmitAndSave(e)}}},{key:"onSubmitReject",value:function(){if(this.props.onSubmitAndSave){var e=this.state;e.submitReject=!0,this.validator.allValid()?(this.handleCloseModal(),this.props.onSubmitAndSave(e)):this.validator.showMessages()}}},{key:"onApproveDelete",value:function(){if(this.props.onSubmitAndSave){var e=this.state;e.approveDelete=!0,this.props.onSubmitAndSave(e)}}},{key:"onRejectDelete",value:function(){if(this.props.onSubmitAndSave){var e=this.state;e.rejectDelete=!0,this.validator.allValid()?this.props.onSubmitAndSave(e):this.validator.showMessages()}}},{key:"enableContact2",value:function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.state.enableContact2?window.confirm("Are you sure to disabled Contact Person 2?")&&(this.setState({enableContact2:!1}),this.setState({name_draft_2:null}),this.setState({phone_draft_2:null}),this.setState({ext_office_draft_2:null}),this.setState({email_draft_2:null})):this.setState({enableContact2:!0});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteAttachment1",value:function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.confirm("Are you sure to delete this attachment?")&&(this.refs.deletePdf.parentNode.remove(),this.setState({file_name_draft_1:null,file_name_temp_1:null}),alert("Attachment will succesfull delete when saved!"));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteAttachment2",value:function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.confirm("Are you sure to delete this attachment?")&&(this.refs.deletePdf2.parentNode.remove(),this.setState({file_name_draft_2:null,file_name_temp_2:null}),alert("Attachment will succesfull delete when saved!"));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onChangeHandler",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.target.files[0].size<2e6&&"application/pdf"===t.target.files[0].type)){e.next=18;break}if(!window.confirm("Are you sure to upload this file ?")){e.next=16;break}return this.setState({loading:!0}),a=[{id:this.state.idc_1,name:this.state.name_1?this.state.name_1:null,name_draft:this.state.name_draft_1?this.state.name_draft_1:null,phone_number:this.state.phone_1?this.state.phone_1:null,phone_number_draft:this.state.phone_draft_1?this.state.phone_draft_1:null,ext_office:this.state.ext_office_1?this.state.ext_office_1:null,ext_office_draft:this.state.ext_office_draft_1?this.state.ext_office_draft_1:null,email:this.state.email_1?this.state.email_1:null,email_draft:this.state.email_draft_1?this.state.email_draft_1:null,is_deleted:!1,is_deleted_draft:!1},{id:this.state.idc_2,name:this.state.name_2?this.state.name_2:null,name_draft:this.state.name_draft_2?this.state.name_draft_2:null,phone_number:this.state.phone_2?this.state.phone_2:null,phone_number_draft:this.state.phone_draft_2?this.state.phone_draft_2:null,ext_office:this.state.ext_office_2?this.state.ext_office_2:null,ext_office_draft:this.state.ext_office_draft_2?this.state.ext_office_draft_2:null,email:this.state.email_2?this.state.email_2:null,email_draft:this.state.email_draft_2?this.state.email_draft_2:null,is_deleted:!1,is_deleted_draft:!1}],localStorage.setItem("person_in_charges",JSON.stringify(a)),localStorage.setItem("saved_contact",1),this.setState({attachment1:t.target.files[0]}),n=!0,r=new f.a,(l=new FormData).append("file",t.target.files[0]),e.next=13,r.uploadAttachment(l,this.state,this.state.ida_1);case 13:(i=e.sent)&&200===i.status&&"Succeed"===i.data.message?(window.location.reload(),this.setState({loading:!1})):400===i.status?(alert("ID menu not found please check it!"),this.props.history.push("/rmwb-product-pricing")):(n=!1,this.setState({loading:!1})),n||this.errorConectionToBe();case 16:e.next=19;break;case 18:alert("Sorry attachment file to big or invalid format type, please check again! Allowed file type is pdf file with maximal size 2Mb.");case 19:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onChangeHandler2",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.target.files[0].size<2e6&&"application/pdf"===t.target.files[0].type)){e.next=18;break}if(!window.confirm("Are you sure to upload this file ?")){e.next=16;break}return this.setState({loading:!0}),a=[{id:this.state.idc_1,name:this.state.name_1?this.state.name_1:null,name_draft:this.state.name_draft_1?this.state.name_draft_1:null,phone_number:this.state.phone_1?this.state.phone_1:null,phone_number_draft:this.state.phone_draft_1?this.state.phone_draft_1:null,ext_office:this.state.ext_office_1?this.state.ext_office_1:null,ext_office_draft:this.state.ext_office_draft_1?this.state.ext_office_draft_1:null,email:this.state.email_1?this.state.email_1:null,email_draft:this.state.email_draft_1?this.state.email_draft_1:null,is_deleted:!1,is_deleted_draft:!1},{id:this.state.idc_2,name:this.state.name_2?this.state.name_2:null,name_draft:this.state.name_draft_2?this.state.name_draft_2:null,phone_number:this.state.phone_2?this.state.phone_2:null,phone_number_draft:this.state.phone_draft_2?this.state.phone_draft_2:null,ext_office:this.state.ext_office_2?this.state.ext_office_2:null,ext_office_draft:this.state.ext_office_draft_2?this.state.ext_office_draft_2:null,email:this.state.email_2?this.state.email_2:null,email_draft:this.state.email_draft_2?this.state.email_draft_2:null,is_deleted:!1,is_deleted_draft:!1}],localStorage.setItem("person_in_charges",JSON.stringify(a)),localStorage.setItem("saved_contact",1),this.setState({attachment2:t.target.files[0]}),n=!0,r=new f.a,(l=new FormData).append("file",t.target.files[0]),e.next=13,r.uploadAttachment(l,this.state,this.state.ida_2);case 13:(i=e.sent)&&200===i.status&&"Succeed"===i.data.message?(this.setState({file_name_temp_2:i.data.data.file_name_temp}),window.location.reload(),this.setState({loading:!1})):400===i.status?(alert("ID menu not found please check it!"),this.props.history.push("/rmwb-product-pricing")):(n=!1,this.setState({loading:!1})),n||this.errorConectionToBe();case 16:e.next=19;break;case 18:alert("Sorry attachment file to big or invalid format type, please check again! Allowed file type is pdf file with maximal size 2Mb.");case 19:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){for(var e=this,t=this.state.isSadmin,n=this.state.pageNumber,s=JSON.parse(this.state.userPrivilege)||[],r=!1,l=!1,i=!1,o=0;o<s.length;o++)"create_rmwb_productPricing"===s[o].name+"_"+s[o].vgroup&&(r=!0),"update_rmwb_productPricing"===s[o].name+"_"+s[o].vgroup&&(l=!0),"approval_rmwb_productPricing"===s[o].name+"_"+s[o].vgroup&&(i=!0);var c=this.state.currentDataStatus?this.state.currentDataStatus:[],u=!1,m=!1,p=!1,f=this.state.isEdit;c&&("rmwbData_submitted"===c.type+"_"+c.code&&(u=!0),"rmwbData_rejected"===c.type+"_"+c.code&&(m=!0),"rmwbData_requestDelete"===c.type+"_"+c.code&&(p=!0));var g=!1,v=!1;null!==this.state.file_name_temp_1?this.state.file_name_temp_1!==this.state.file_name_1&&(g=!0):this.state.file_name_draft_1!==this.state.file_name_1&&(g=!0),null!==this.state.file_name_temp_2?this.state.file_name_temp_2!==this.state.file_name_2&&(v=!0):this.state.file_name_draft_2!==this.state.file_name_2&&(v=!0);var b=!1;return b=!i||!!t,d.a.createElement("div",{id:"ProductPricingForm"},this.state.error?d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.errorMessage):null,d.a.createElement("div",{className:"form-box-area mb-4"},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col-12"},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"mb-4 col-6"},d.a.createElement("div",{className:"row"},d.a.createElement("h4",{className:"col-12"},"Form : ",this.state.title?this.state.title:null),d.a.createElement("p",{className:"col-12"},"Category : ",void 0!==this.state.category?this.state.category:null))),f?d.a.createElement("div",{className:"mb-4 col-6"},d.a.createElement("div",{className:"row"},d.a.createElement("h4",{className:"col-12"},"Original Data : ",this.state.title?this.state.title:null),d.a.createElement("p",{className:"col-12"},"Category : ",void 0!==this.state.category?this.state.category:null))):null)),d.a.createElement("div",{className:"col-12 mb-2"},d.a.createElement("h5",null,"Contact Person 1")),d.a.createElement("div",{className:"mb-3 col-12 ".concat(this.state.name_draft_1!==this.state.name_1?"updated":null," ")},d.a.createElement("div",{className:"row align-items-center"},d.a.createElement("div",{className:"col-6"},d.a.createElement("div",{className:"row align-items-center"},d.a.createElement("label",{className:"col-12 col-xl-4"},"Name ",d.a.createElement("span",{className:"text-danger"},"*")),d.a.createElement("div",{className:"col-12 col-xl-8"},d.a.createElement("input",{placeholder:"Please input name",className:"width-max form-input",readOnly:b?null:"readonly",type:"text",id:"name",value:this.state.name_draft_1?this.state.name_draft_1:"",onChange:function(t){return e.setState({name_draft_1:t.target.value})},onBlur:function(){return e.validator.showMessageFor("name")}})),this.validator.message("name",this.state.name_draft_1,"required"))),f?d.a.createElement("div",{className:"col-6"},d.a.createElement("div",{className:"row align-items-center"},d.a.createElement("label",{className:"col-12 col-xl-4"},"Name"),d.a.createElement("div",{className:"col-12 col-xl-8"},": ",void 0!==this.state.name_1?this.state.name_1:null))):null)),d.a.createElement("div",{className:"mb-3 col-12 ".concat(this.state.phone_draft_1!==this.state.phone_1?"updated":null," ")},d.a.createElement("div",{className:"row align-items-center"},d.a.createElement("div",{className:"col-6"},d.a.createElement("div",{className:"row align-items-center"},d.a.createElement("label",{className:"col-12 col-xl-4"},"Phone"),d.a.createElement("div",{className:"col-12 col-xl-8"},d.a.createElement("input",{placeholder:"Please input phone",readOnly:b?null:"readonly",className:"width-max form-input",type:"text",id:"phone",value:this.state.phone_draft_1?this.state.phone_draft_1:"",onChange:function(t){return e.setState({phone_draft_1:t.target.value})},onBlur:function(){return e.validator.showMessageFor("pic1_phone")},maxLength:"20"})),this.validator.message("pic1_phone",this.state.phone_draft_1,"numeric"))),f?d.a.createElement("div",{className:"col-6"},d.a.createElement("div",{className:"row align-items-center"},d.a.createElement("label",{className:"col-12 col-xl-4"},"Phone"),d.a.createElement("div",{className:"col-12 col-xl-8"},": ",void 0!==this.state.phone_1?this.state.phone_1:null))):null)),d.a.createElement("div",{className:"mb-3 col-12 ".concat(this.state.ext_office_draft_1!==this.state.ext_office_1?"updated":null," ")},d.a.createElement("div",{className:"row align-items-center"},d.a.createElement("div",{className:"col-6"},d.a.createElement("div",{className:"row align-items-center"},d.a.createElement("label",{className:"col-12 col-xl-4"},"Ext Office"),d.a.createElement("div",{className:"col-12 col-xl-8"},d.a.createElement("input",{readOnly:b?null:"readonly",placeholder:"Please input Ext Office",className:"width-max form-input",type:"text",id:"name",value:this.state.ext_office_draft_1?this.state.ext_office_draft_1:"",onChange:function(t){return e.setState({ext_office_draft_1:t.target.value})},onBlur:function(){return e.validator.showMessageFor("pic1_ext_office")},maxLength:"20"}))),this.validator.message("pic1_ext_office",this.state.ext_office_draft_1,"numeric")),f?d.a.createElement("div",{className:"col-6"},d.a.createElement("div",{className:"row align-items-center"},d.a.createElement("label",{className:"col-12 col-xl-4"},"Ext Office"),d.a.createElement("div",{className:"col-12 col-xl-8"},": ",void 0!==this.state.ext_office_1?this.state.ext_office_1:null))):null)),d.a.createElement("div",{className:"mb-3 col-12 ".concat(this.state.email_draft_1!==this.state.email_1?"updated":null," ")},d.a.createElement("div",{className:"row align-items-center"},d.a.createElement("div",{className:"col-6"},d.a.createElement("div",{className:"row align-items-center"},d.a.createElement("label",{className:"col-12 col-xl-4"},"Email"),d.a.createElement("div",{className:"col-12 col-xl-8"},d.a.createElement("input",{readOnly:b?null:"readonly",placeholder:"Please input Email",className:"width-max form-input",type:"text",id:"email",value:this.state.email_draft_1?this.state.email_draft_1:"",onChange:function(t){return e.setState({email_draft_1:t.target.value})},onBlur:function(){return e.validator.showMessageFor("email1")}})),this.validator.message("email1",this.state.email_draft_1,"email"))),f?d.a.createElement("div",{className:"col-6"},d.a.createElement("div",{className:"row align-items-center"},d.a.createElement("label",{className:"col-12 col-xl-4"},"Email"),d.a.createElement("div",{className:"col-12 col-xl-8"},": ",void 0!==this.state.email_1?this.state.email_1:null))):null)),d.a.createElement("div",{className:"col-12 my-2"},d.a.createElement(E.a,{place:"top",type:"dark",effect:"float"}),d.a.createElement("h5",{className:"d-inline-block"},"Contact Person 2"),d.a.createElement("div",{ref:"btnEnableContact",className:"btnEnableContact","data-tip":t||!i?this.state.enableContact2?"Click to disable contact 2":"Click to enable contact 2":"Only Analytic maker or Super Admin can enable or disable contact person 2!",onClick:t||!i?this.enableContact2.bind(this):null},this.state.enableContact2?"-":"+")),this.state.enableContact2?d.a.createElement("div",{className:"col-12"},d.a.createElement("div",{className:"row align-items-center"},d.a.createElement("div",{className:"mb-3 col-12 mt-3 ".concat(this.state.name_draft_2!==this.state.name_2?"updated":null," ")},d.a.createElement("div",{className:"row align-items-center"},d.a.createElement("div",{className:"col-6"},d.a.createElement("div",{className:"row align-items-center"},d.a.createElement("label",{className:"col-12 col-xl-4"},"Name ",d.a.createElement("span",{className:"text-danger"},"*")),d.a.createElement("div",{className:"col-12  col-xl-8"},d.a.createElement("input",{eadOnly:b?null:"readonly",placeholder:"Please input name",className:"width-max form-input",type:"text",id:"name2",value:this.state.name_draft_2?this.state.name_draft_2:"",onChange:function(t){return e.setState({name_draft_2:t.target.value})},onBlur:function(){return e.validator.showMessageFor("name")}})),this.validator.message("name",this.state.name_draft_2,"required"))),f?d.a.createElement("div",{className:"col-6"},d.a.createElement("div",{className:"row align-items-center"},d.a.createElement("label",{className:"col-12 col-xl-4"},"Name"),d.a.createElement("div",{className:"col-12 col-xl-8"},": ",void 0!==this.state.name_2?this.state.name_2:null))):null)),d.a.createElement("div",{className:"mb-3 col-12 mt-3 ".concat(this.state.phone_draft_2!==this.state.phone_2?"updated":null," ")},d.a.createElement("div",{className:"row align-items-center"},d.a.createElement("div",{className:"col-6"},d.a.createElement("div",{className:"row align-items-center"},d.a.createElement("label",{className:"col-12 col-xl-4"},"Phone"),d.a.createElement("div",{className:"col-12 col-xl-8"},d.a.createElement("input",{placeholder:"Please input phone",eadOnly:b?null:"readonly",className:"width-max form-input",type:"text",id:"phone2",value:this.state.phone_draft_2?this.state.phone_draft_2:"",onChange:function(t){return e.setState({phone_draft_2:t.target.value})},onBlur:function(){return e.validator.showMessageFor("pic2_phone")},maxLength:"20"})),this.validator.message("pic2_phone",this.state.phone_draft_2,"numeric"))),f?d.a.createElement("div",{className:"col-6"},d.a.createElement("div",{className:"row align-items-center"},d.a.createElement("label",{className:"col-12 col-xl-4"},"Phone"),d.a.createElement("div",{className:"col-12 col-xl-8"},": ",void 0!==this.state.phone_2?this.state.phone_2:null))):null)),d.a.createElement("div",{className:"mb-3 col-12 mt-3 ".concat(this.state.ext_office_draft_2!==this.state.ext_office_2?"updated":null," ")},d.a.createElement("div",{className:"row align-items-center"},d.a.createElement("div",{className:"col-6"},d.a.createElement("div",{className:"row align-items-center"},d.a.createElement("label",{className:"col-12 col-xl-4"},"Ext Office"),d.a.createElement("div",{className:"col-12 col-xl-8"},d.a.createElement("input",{placeholder:"Please input Ext Office",eadOnly:b?null:"readonly",className:"width-max form-input",type:"text",id:"office2",value:this.state.ext_office_draft_2?this.state.ext_office_draft_2:"",onChange:function(t){return e.setState({ext_office_draft_2:t.target.value})},onBlur:function(){return e.validator.showMessageFor("pic2_ext_office")},maxLength:"20"})),this.validator.message("pic2_ext_office",this.state.ext_office_draft_2,"numeric"))),f?d.a.createElement("div",{className:"col-6"},d.a.createElement("div",{className:"row align-items-center"},d.a.createElement("label",{className:"col-12 col-xl-4"},"Ext Office"),d.a.createElement("div",{className:"col-12 col-xl-8"},": ",void 0!==this.state.ext_office_2?this.state.ext_office_2:null))):null)),d.a.createElement("div",{className:"mb-3 col-12 mt-3 ".concat(this.state.email_draft_2!==this.state.email_2?"updated":null," ")},d.a.createElement("div",{className:"row align-items-center"},d.a.createElement("div",{className:"col-6"},d.a.createElement("div",{className:"row align-items-center"},d.a.createElement("label",{className:"col-12 col-xl-4"},"Email"),d.a.createElement("div",{className:"col-12 col-xl-8"},d.a.createElement("input",{eadOnly:b?null:"readonly",placeholder:"Please input Email",className:"width-max form-input",type:"text",id:"email2",value:this.state.email_draft_2?this.state.email_draft_2:"",onChange:function(t){return e.setState({email_draft_2:t.target.value})},onBlur:function(){return e.validator.showMessageFor("email2")}})),this.validator.message("email2",this.state.email_draft_2,"email"))),f?d.a.createElement("div",{className:"col-6"},d.a.createElement("div",{className:"row align-items-center"},d.a.createElement("label",{className:"col-12 col-xl-4"},"Email"),d.a.createElement("div",{className:"col-12 col-xl-8"},": ",void 0!==this.state.email_2?this.state.email_2:null))):null)))):null,d.a.createElement("div",{className:"col-12 mt-5 mb-0"},d.a.createElement("div",{className:"row align-items-center"},d.a.createElement("div",{className:"col-12"},d.a.createElement("div",{className:"row align-items-center"},d.a.createElement("h5",{className:"col-6 mb-2"},"Attachment 1"),d.a.createElement("h5",{className:"col-6 mb-2"},"Original Attachment 1"))),t||!i?d.a.createElement("input",{disabled:b?null:"disabled",className:"col-12",type:"file",id:"attachment1",value:"",onChange:this.onChangeHandler.bind(this),accept:"pdf"}):null,d.a.createElement("div",{className:"col-12"},d.a.createElement("div",{className:"row align-items-center"},null!==this.state.attachment1?d.a.createElement("div",{className:"col-6"},d.a.createElement("div",{className:"row align-items-center"},d.a.createElement("div",{className:"my-3 col-12 ".concat(g?"updated":null," ")},d.a.createElement("div",{className:"row align-items-center"},d.a.createElement("label",{className:"col-12 col-xl-2"},"Name"),d.a.createElement("div",{className:"col-12 col-xl-10"},": ",null!==this.state.file_name_temp_1?this.state.file_name_temp_1:this.state.file_name_draft_1)),d.a.createElement("div",{className:"parent-wrapper"},t||!i?d.a.createElement("div",{className:"delete-icon",ref:"deletePdf",onClick:this.deleteAttachment1.bind(this)},d.a.createElement("img",{src:a(67),alt:""})):null,d.a.createElement("div",{className:"col-12 pdf-wrapper p-0",onClick:function(){return e.handleOpenModal("pdfReader",e.state.attachment1)}},d.a.createElement(S.Document,{file:this.state.attachment1,onLoadSuccess:this.onDocumentLoadSuccess.bind(this)},d.a.createElement(S.Page,{pageNumber:n}))))))):d.a.createElement("div",{className:"col-6"}),f&&null!==this.state.attachmentOri1?d.a.createElement("div",{className:"col-6"},d.a.createElement("div",{className:"row align-items-center"},d.a.createElement("div",{className:"my-3 col-12"},d.a.createElement("div",{className:"row align-items-center"},d.a.createElement("label",{className:"col-12 col-xl-2"},"Name"),d.a.createElement("div",{className:"col-12 col-xl-10"},": ",this.state.file_name_1)),d.a.createElement("div",{className:"parent-wrapper",onClick:function(){return e.handleOpenModal("pdfReader",e.state.attachmentOri1)}},d.a.createElement("div",{className:"col-12 pdf-wrapper p-0"},d.a.createElement(S.Document,{file:this.state.attachmentOri1,onLoadSuccess:this.onDocumentLoadSuccess.bind(this)},d.a.createElement(S.Page,{pageNumber:n}))))))):d.a.createElement("div",{className:"col-6"})))),d.a.createElement("div",{className:"mb-3 col-12 mt-3 p-0"},d.a.createElement("div",{className:"row align-items-center"},d.a.createElement("div",{className:"col-12"},d.a.createElement("div",{className:"row align-items-center"},d.a.createElement("h5",{className:"col-6 mb-2"},"Attachment 2"),d.a.createElement("h5",{className:"col-6 mb-2"},"Original Attachment 2"))),t||!i?d.a.createElement("input",{disabled:b?null:"disabled",className:"col-12",type:"file",id:"attachment1",value:"",onChange:this.onChangeHandler2.bind(this)}):null,d.a.createElement("div",{className:"col-12"},d.a.createElement("div",{className:"row align-items-center"},null!==this.state.attachment2?d.a.createElement("div",{className:"col-6"},d.a.createElement("div",{className:"row align-items-center"},d.a.createElement("div",{className:"my-3 col-12 ".concat(v?"updated":null," ")},d.a.createElement("div",{className:"row align-items-center"},d.a.createElement("label",{className:"col-12 col-xl-2"},"Name"),d.a.createElement("div",{className:"col-12 col-xl-10"},": ",null!==this.state.file_name_temp_2?this.state.file_name_temp_2:this.state.file_name_draft_2)),d.a.createElement("div",{className:"parent-wrapper"},t||!i?d.a.createElement("div",{className:"delete-icon",ref:"deletePdf2",onClick:this.deleteAttachment2.bind(this)},d.a.createElement("img",{src:a(67),alt:""})):null,d.a.createElement("div",{className:"col-12 pdf-wrapper p-0",onClick:function(){return e.handleOpenModal("pdfReader",e.state.attachment2)}},d.a.createElement(S.Document,{file:this.state.attachment2,onLoadSuccess:this.onDocumentLoadSuccess.bind(this)},d.a.createElement(S.Page,{pageNumber:n}))))))):d.a.createElement("div",{className:"col-6"}),f&&null!==this.state.attachmentOri2?d.a.createElement("div",{className:"col-6"},d.a.createElement("div",{className:"row align-items-center"},d.a.createElement("div",{className:"my-3 col-12"},d.a.createElement("div",{className:"row align-items-center"},d.a.createElement("label",{className:"col-12 col-xl-2"},"Name"),d.a.createElement("div",{className:"col-12 col-xl-10"},": ",this.state.file_name_2)),d.a.createElement("div",{className:"parent-wrapper",onClick:function(){return e.handleOpenModal("pdfReader",e.state.attachmentOri2)}},d.a.createElement("div",{className:"col-12 pdf-wrapper p-0"},d.a.createElement(S.Document,{file:this.state.attachmentOri2,onLoadSuccess:this.onDocumentLoadSuccess.bind(this)},d.a.createElement(S.Page,{pageNumber:n}))))))):d.a.createElement("div",{className:"col-6"}))),f&&this.state.status?d.a.createElement("div",{className:"row mb-3 col-12 my-2"},d.a.createElement("label",{className:"col-2"},"Current Data Status"),d.a.createElement("div",{className:"col-4 pl-0"},this.state.status)):null,f&&this.state.updated_by?d.a.createElement("div",{className:"row mb-3 col-12"},d.a.createElement("label",{className:"col-2"},"Last Updated By"),d.a.createElement("div",{className:"col-4 pl-0"},this.state.updated_by)):null,f&&m?d.a.createElement("div",{className:"row mb-3 col-12"},d.a.createElement("label",{className:"col-2"},"Remarks"),d.a.createElement("div",{className:"col-4 pl-0"},this.state.remarks)):null))),d.a.createElement("div",{className:"row col-12 d-flex justify-content-end mt-3"},r&&l?d.a.createElement("div",{className:"row col-12 justify-content-end my-2"},d.a.createElement("button",{className:"button-red mr-2",onClick:this.onCancelSubmit.bind(this)},"Cancel"),d.a.createElement("button",{className:"button-red mr2",onClick:this.onSubmitAndSave.bind(this)},"Save And Submit Product")):null,i&&u?d.a.createElement("div",{className:"row col-12 justify-content-end my-2"},d.a.createElement("button",{className:"button-red mr-2",onClick:function(){return e.handleOpenModal("reject-data")}},"Reject"),d.a.createElement("button",{className:"button-green",onClick:function(){return e.handleOpenModal("approve-data")}},"Approve")):null,i&&p?d.a.createElement("div",null,d.a.createElement("button",{className:"button-red mr-2",onClick:function(){return e.handleOpenModal("reject-delete")}},"Reject Delete"),d.a.createElement("button",{className:"button-green",onClick:function(){return e.handleOpenModal("approve-delete")}},"Approve delete")):null),d.a.createElement(h.a,{closeTimeoutMS:300,isOpen:this.state.showModal,contentLabel:"onRequestClose Example",onRequestClose:this.handleCloseModal,className:"Modal ".concat("pdfReader"===this.state.modalName?"pdf-reader-modal":null),overlayClassName:"Overlay"},"approve-delete"===this.state.modalName?d.a.createElement("div",null,d.a.createElement("div",{className:"row mx-0 justify-content-center"},d.a.createElement("h4",null,"Are You Sure To Approve Delete This Data ?")),d.a.createElement("div",{className:"d-flex justify-content-center mx-2 mt-5"},d.a.createElement("button",{className:"button-red mr-5",onClick:this.handleCloseModal},"Cancel"),d.a.createElement("button",{className:"button-red",onClick:this.onApproveDelete.bind(this)},"Approve"))):null,"reject-delete"===this.state.modalName?d.a.createElement("div",null,d.a.createElement("div",{className:"row mx-0 justify-content-center"},d.a.createElement("h4",{className:"mb-4"},"Please fill Remark to data Maker !"),d.a.createElement("textarea",{className:"col-10 form-input",type:"text",onChange:function(t){return e.setState({remarks:t.target.value})},value:this.state.remarks||"",onBlur:function(){return e.validator.showMessageFor("remarks")}}),this.validator.message("remarks",this.state.remarks,"required")),d.a.createElement("div",{className:"d-flex justify-content-center mx-2 mt-5"},d.a.createElement("button",{className:"button-red mr-5",onClick:this.handleCloseModal},"Close"),d.a.createElement("button",{className:"button-red",onClick:this.onRejectDelete.bind(this)},"Reject delete"))):null,"approve-data"===this.state.modalName?d.a.createElement("div",null,d.a.createElement("div",{className:"row mx-0 justify-content-center"},d.a.createElement("h4",null,"Are You Sure To Approve This Data ?")),d.a.createElement("div",{className:"d-flex justify-content-center mx-2 mt-5"},d.a.createElement("button",{className:"button-red mr-5",onClick:this.handleCloseModal},"Cancel"),d.a.createElement("button",{className:"button-red",onClick:this.onSubmitApprove.bind(this)},"Approve"))):null,"reject-data"===this.state.modalName?d.a.createElement("div",null,d.a.createElement("div",{className:"row mx-0 justify-content-center"},d.a.createElement("h4",{className:"mb-4"},"Please fill Remark to data Maker !"),this.state.error?d.a.createElement("div",{className:"col-12 ".concat(this.state.alertState),role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.errorMessage):null,d.a.createElement("textarea",{className:"col-12 form-input",type:"text",onChange:function(t){return e.setState({remarks:t.target.value})},value:this.state.remarks||"",placeholder:"Remarks",onBlur:function(){return e.validator.showMessageFor("remarks")}}),this.validator.message("remarks",this.state.remarks,"required")),d.a.createElement("div",{className:"d-flex justify-content-center mx-2 mt-4"},d.a.createElement("button",{className:"button-red mr-5",onClick:this.handleCloseModal},"Cancel"),d.a.createElement("button",{className:"button-red",onClick:this.onSubmitReject.bind(this)},"Reject"))):null,"pdfReader"===this.state.modalName?d.a.createElement("div",{style:{overflow:"scroll"}},d.a.createElement("div",{className:"close-pdf-modal",onClick:this.handleCloseModal},"x"),d.a.createElement(S.Document,{file:this.state.urlPdfReader,onLoadSuccess:this.onDocumentLoadSuccess.bind(this)},d.a.createElement(S.Page,{pageNumber:n}))):null),this.state.loading?d.a.createElement("div",{className:"loading-overlay"},d.a.createElement("div",{className:"loader"})):null)))}}]),n}(u.Component),C=a(13),A=(a(28),a(657),function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={isSuccess:!1,message:"",token:localStorage.getItem("accessToken"),htmlContent:"",idMenu:"",loading:!1,roleName:localStorage.getItem("roleName"),isSadmin:!1},e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.setState({isSadmin:"SADMINOCTOBENCH"===this.state.roleName});var e=this.props.match.params.id;this.setState({idMenu:e}),e||this.props.history.push("/rmwb-product-pricing")}},{key:"approve",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),a=[],n=new f.a,t.status="approved",e.next=6,n.approveProductPricing(t);case 6:(a=e.sent)&&(200===a.status?(this.props.history.push("/rmwb-product-pricing"),this.setState({loading:!1})):a&&a.data&&v.a===a.data.data?(alert("Save Data Failed, Please try again !"),this.setState({loading:!1}),window.location.reload()):(this.setState({isSuccess:!1,message:"Save Data Failed",alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1})));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({loading:!0}),a=[],n=new f.a,!t.submitOnly){e.next=10;break}return t.status="drafted",e.next=7,n.updateProductPricing(t);case 7:a=e.sent,e.next=62;break;case 10:if(!t.submitAndSave){e.next=29;break}if(!this.state.isSadmin){e.next=23;break}if(!window.confirm("Are you sure to submit and approve this data ?")){e.next=19;break}return t.status="submitted",e.next=16,n.updateProductPricing(t);case 16:a=e.sent,e.next=21;break;case 19:return this.setState({loading:!1}),e.abrupt("return",!1);case 21:e.next=27;break;case 23:return t.status="submitted",e.next=26,n.updateProductPricing(t);case 26:a=e.sent;case 27:e.next=62;break;case 29:if(!t.submitApprove){e.next=36;break}return t.status="approved",e.next=33,n.approveProductPricing(t);case 33:a=e.sent,e.next=62;break;case 36:if(!t.submitReject){e.next=43;break}return t.status="rejected",e.next=40,n.rejectProductPricing(t);case 40:a=e.sent,e.next=62;break;case 43:if(!t.rejectDelete){e.next=50;break}return t.status="rejected",e.next=47,n.rejectProductPricing(t);case 47:a=e.sent,e.next=62;break;case 50:if(!t.approveDelete){e.next=57;break}return t.status="deleted",e.next=54,n.approveProductPricing(t);case 54:a=e.sent,e.next=62;break;case 57:if(!t.cancelSubmit){e.next=62;break}return t.status="drafted",e.next=61,n.cancelProductPricing(t);case 61:a=e.sent;case 62:if(!a){e.next=74;break}if(200!==a.status){e.next=73;break}if(!this.state.isSadmin||"submitted"!==t.status){e.next=69;break}return e.next=67,this.approve(t);case 67:e.next=71;break;case 69:this.props.history.push("/rmwb-product-pricing"),this.setState({loading:!1});case 71:e.next=74;break;case 73:a&&a.data&&v.a===a.data.data?(alert("Save Data Failed, Please try again !"),this.setState({loading:!1}),window.location.reload()):(this.setState({isSuccess:!1,message:"Save Data Failed",alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1}));case 74:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return d.a.createElement("div",{id:"EditProductPricing",className:"default-rmwb-wrapper"},d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("div",{className:"col-6"},d.a.createElement("h3",null,"Edit Product")),d.a.createElement("div",{className:"col-6"},d.a.createElement(C.b,{to:"/rmwb-product-pricing",className:"d-flex justify-content-end"},d.a.createElement("button",{className:"btn btn-info"},"Back to Product List")))),d.a.createElement(N,{mode:"edit",data:this.state.idMenu,history:this.props.history,onSubmit:this.submit.bind(this),onSubmitAndSave:this.submit.bind(this)}),this.state.loading?d.a.createElement("div",{className:"loading-overlay"},d.a.createElement("div",{className:"loader"})):null)}}]),a}(u.Component))},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return A}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=a(15),h=a.n(p),f=a(30),g=a.n(f),v=(a(1442),a(21),a(7)),b=a.n(v),y=a(33).a,S=function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,[{key:"getAllRejectREason",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},e.prev=2,e.next=5,b.a.get(y+"/api/cms/reject-reason",{headers:n});case 5:return r=e.sent,e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(2),console.log(e.t0),e.abrupt("return",e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateListReason",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l,i,o,c,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i in a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},r=t.items,l=[],r)(o={}).id=r[i].id,o.reason=r[i].reason_draft,o.need_remarks=r[i].need_remark_draft,o.is_deleted=r[i].is_deleted_draft,o.sequence=r[i].sequence_draft,l.push(o);return c={status:"submitted",user_by:a,list_data:l},c=JSON.stringify(c),e.prev=7,e.next=10,b.a.put(y+"/api/cms/reject-reason/submit",c,{headers:n});case 10:return u=e.sent,e.abrupt("return",u);case 14:return e.prev=14,e.t0=e.catch(7),console.log(e.t0),e.abrupt("return",e.t0.response);case 18:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(t){return e.apply(this,arguments)}}()},{key:"rejectRejectReason",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},r={status:"rejected",approved_by:a,remarks:t.remarks},r=JSON.stringify(r),e.prev=4,e.next=7,b.a.put(y+"/api/cms/reject-reason/reject",r,{headers:n});case 7:return l=e.sent,e.abrupt("return",l);case 11:return e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"approveRejectReason",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},r={status:"approved",approved_by:a},r=JSON.stringify(r),e.prev=4,e.next=7,b.a.put(y+"/api/cms/reject-reason/approve",r,{headers:n});case 7:return l=e.sent,e.abrupt("return",l);case 11:return e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),E=a(17),w=a(31),k=a.n(w),N=a(118),C=a(134),A=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).onSortEnd=function(t){var a=t.oldIndex,n=t.newIndex,s=Object(C.c)(e.state.items,a,n);for(var r in s)s[r].sequence_draft=parseInt(r)+1;e.setState({items:s})},e.state={userPrivilege:[],items:[],originalItems:[],showModal:!1,loading:!0,token:localStorage.getItem("accessToken"),selectedReason:[],modalName:"",status:"",remarks:"",typeFind:"rmwbData",tempReasonFilled:!1,showReasonError:!1,tempList:[],roleName:localStorage.getItem("roleName"),isSadmin:!1},e.reset=e.reset.bind(Object(o.a)(e)),e.handleCloseModal=e.handleCloseModal.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(n,[{key:"handleCloseModal",value:function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({showModal:!1}),this.setState({showReasonError:!1});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleOpenModal",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setState({showReasonError:!1});case 2:"reject-data"===t?(this.setState({modalName:t}),this.setState({showModal:!0})):"new-data"===t?this.totalRejectReason>9?alert("Sorry Drop Reason maximal 10"):(this.setState({tempReasonFilled:!1}),this.setState({modalName:t}),n=this.state.items.length+1,r={sequence_draft:n,need_remark_draft:!1,is_deleted:!1,created_at:null,created_by:null,sequence:null,need_remark:!1,approved_by:null,is_deleted_draft:!1,reason:null,status:null,updated_by:null,id:null,reason_draft:null,temp_reason_draft:null,remarks:null},this.setState({selectedReason:r}),this.setState({showModal:!0})):(a?(this.setState({modalName:a}),this.setState({selectedReason:t}),this.setState({tempReasonFilled:!0})):(this.setState({modalName:"detail-data"}),this.setState({selectedReason:t}),this.setState({tempReasonFilled:!0})),this.setState({showModal:!0}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"componentWillMount",value:function(){this.setState({isSadmin:"SADMINOCTOBENCH"===this.state.roleName}),this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),this.setState({loggedUser:localStorage.getItem("userNip")}),this.setPage(),this.validator=new k.a({autoForceUpdate:this,element:function(e){return m.a.createElement("div",{className:"row col-12 validator-error-message"},m.a.createElement("div",{className:"col-4"}),m.a.createElement("div",{className:"col-8"},e))}})}},{key:"getDataStatus",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!0,n=!0,r=new E.a,e.next=5,r.findStatusByParam(this.state);case 5:(l=e.sent)&&200===l.status&&l.data?(this.setState({listDataStatus:l.data}),i=l.data.filter((function(e){return e.code===t})),this.setState({currentDataStatus:i[0]})):a=!1,a||this.clearSession(),n||this.errorConectionToBe();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,this.setState({loading:!0}),a=new S,e.next=5,a.getAllRejectREason();case 5:if(!(n=e.sent)||200!==n.status||!n.data.data){e.next=17;break}for(l in r=n.data.data.list_reason)r[l].temp_reason_draft=r[l].reason_draft;return this.setState({items:r}),this.setState({originalItems:n.data.data.list_reason}),this.setState(n.data.data),e.next=14,this.getDataStatus(n.data.data.status);case 14:this.setState({loading:!1}),e.next=20;break;case 17:n&&n.data?(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1})):(this.setState({isSuccess:!1,message:"Save Data Failed",alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1})),this.setState({items:[]}),this.setState({loading:!1});case 20:t||this.errorConectionToBe();case 21:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"search",value:function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({loading:!0,search:!0}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"reset",value:function(){var e=this;this.setState({loading:!0}),h.a.findDOMNode(this.refs.search_key).value="",this.setState({search_key:""},(function(){setTimeout((function(){e.setPage(e.state.page,e.state.sort,e.state.sort_by,e.state.perPage)}),100)}))}},{key:"errorConectionToBe",value:function(){alert("Connection to Server Octobench interupted!\nPlease check your conection or contact administrator!")}},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"updateOnChange",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=this.state.selectedReason,""!==a&&null!==a?(this.setState({tempReasonFilled:!0}),this.setState({showReasonError:!1})):(this.setState({tempReasonFilled:!1}),this.setState({showReasonError:!0})),n.id,"reason_draft"===t&&(n.temp_reason_draft=a),"need_remark_draft"===t&&(n.need_remark_draft=!n.need_remark_draft),this.setState({selectedReason:n});case 4:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"saveSingleReason",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state.selectedReason,this.state.showReasonError||""===t.temp_reason_draft||null===t.temp_reason_draft)if(""!==t.reason_draft&&null!==t.reason_draft){if(window.confirm("Cant be empty! Load reason?")){for(o in t.temp_reason_draft=t.reason_draft,i=this.state.items)i[o].sequence_draft===t.sequence_draft&&(i[o]=t);this.setState({list:i}),this.setState({showReasonError:!1})}}else this.setState({showReasonError:!0});else{if(t.reason_draft=t.temp_reason_draft,a=this.state.items,t&&a)if(null===t.id){for(r in n=!1,a)a[r].sequence_draft=parseInt(r)+1,a[r].sequence_draft===t.sequence_draft&&(a[r]=t,n=!0);this.setState({selectedReason:t}),n||a.push(t)}else for(l in a)a[l].id===t.id&&(a[l]=t);this.setState({list:a}),this.setState({showModal:!1})}case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"saveAndSubmit",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.isSadmin){e.next=24;break}if(!window.confirm("Are you sure to submit and approve this data ?")){e.next=21;break}return this.setState({loading:!0}),t=new S,e.next=6,t.updateListReason(this.state);case 6:if(!(a=e.sent)||!a.status||200!==a.status||"Succeed"!==a.data.message){e.next=18;break}return e.next=10,this.onSubmitApprove();case 10:return this.setState({isSuccess:!0,message:"Save Data Succeed",alertState:"alert alert-success"}),window.scrollTo(0,0),e.next=14,this.getDataStatus("submitted");case 14:this.setState({status:"submitted"}),this.setState({loading:!1}),e.next=19;break;case 18:a&&a.data?(this.setState({isSuccess:!1,message:a.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1})):(this.setState({isSuccess:!1,message:"Save Data Failed",alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1}));case 19:e.next=22;break;case 21:this.setState({loading:!1});case 22:e.next=39;break;case 24:return this.setState({loading:!0}),n=new S,e.next=28,n.updateListReason(this.state);case 28:if(!(r=e.sent)||!r.status||200!==r.status||"Succeed"!==r.data.message){e.next=38;break}return this.setState({isSuccess:!0,message:"Save Data Succeed",alertState:"alert alert-success"}),window.scrollTo(0,0),e.next=34,this.getDataStatus("submitted");case 34:this.setState({status:"submitted"}),this.setState({loading:!1}),e.next=39;break;case 38:r&&r.data?(this.setState({isSuccess:!1,message:r.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1})):(this.setState({isSuccess:!1,message:"Save Data Failed",alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1}));case 39:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onSubmitApprove",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.isSadmin){e.next=20;break}return this.setState({loading:!0}),t=new S,e.next=5,t.approveRejectReason(this.state);case 5:if(!(a=e.sent)||!a.status||200!==a.status||"Succeed"!==a.data.message){e.next=17;break}return this.setState({isSuccess:!0,message:"Save Data Succeed",alertState:"alert alert-success"}),this.setState({loading:!1}),e.next=11,this.getDataStatus("approved");case 11:this.setState({status:"approved"}),this.setPage(),window.scrollTo(0,0),this.handleCloseModal(),e.next=18;break;case 17:a&&a.data?(this.setState({isSuccess:!1,message:a.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1})):(this.setState({isSuccess:!1,message:"Save Data Failed",alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1}));case 18:e.next=38;break;case 20:if(!window.confirm("Are you sure to approve this data ?")){e.next=38;break}return this.setState({loading:!0}),n=new S,e.next=25,n.approveRejectReason(this.state);case 25:if(!(r=e.sent)||!r.status||200!==r.status||"Succeed"!==r.data.message){e.next=37;break}return this.setState({isSuccess:!0,message:"Save Data Succeed",alertState:"alert alert-success"}),this.setState({loading:!1}),e.next=31,this.getDataStatus("approved");case 31:this.setState({status:"approved"}),this.setPage(),window.scrollTo(0,0),this.handleCloseModal(),e.next=38;break;case 37:r&&r.data?(this.setState({isSuccess:!1,message:r.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1})):(this.setState({isSuccess:!1,message:"Save Data Failed",alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1}));case 38:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onSubmitReject",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validator.allValid()){e.next=3;break}return this.validator.showMessages(),e.abrupt("return");case 3:return this.setState({loading:!0}),t=new S,e.next=7,t.rejectRejectReason(this.state);case 7:if(!(a=e.sent)||!a.status||200!==a.status||"Succeed"!==a.data.message){e.next=18;break}return this.setState({isSuccess:!0,message:"Save Data Succeed",alertState:"alert alert-success"}),this.setState({loading:!1}),e.next=13,this.getDataStatus("rejected");case 13:this.setState({status:"rejected"}),window.scrollTo(0,0),this.handleCloseModal(),e.next=19;break;case 18:a&&a.data?(this.setState({isSuccess:!1,message:a.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1})):(this.setState({isSuccess:!1,message:"Save Data Failed",alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1}));case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteSingleData",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm('Are you sure to delete "'+t.reason_draft+'"')){for(r in a=this.state.items,(n=t).is_deleted_draft=!0,a)a[r].sequence_draft===n.sequence_draft&&(a[r]=n);this.setState({items:a})}case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"cancelDeleteSingleData",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm('Are you sure to cancel delete "'+t.reason_draft+'"')){for(r in a=this.state.items,(n=t).is_deleted_draft=!1,a)a[r].sequence_draft===n.sequence_draft&&(a[r]=n);this.setState({items:a})}case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;this.totalRejectReason=this.state.items.length;for(var t=JSON.parse(this.state.userPrivilege)||[],n=!1,s=!1,r=!1,l=0;l<t.length;l++)"create_rmwb_rejectReason"===t[l].name+"_"+t[l].vgroup&&(n=!0),"approval_rmwb_rejectReason"===t[l].name+"_"+t[l].vgroup&&(s=!0),"update_rmwb_rejectReason"===t[l].name+"_"+t[l].vgroup&&(r=!0);var i=this.state.currentDataStatus?this.state.currentDataStatus:[],o=!1,c=!1;i&&("rmwbData_submitted"===i.type+"_"+i.code&&(o=!0),"rmwbData_rejected"===i.type+"_"+i.code&&(c=!0));var u=Object(C.b)((function(t){var l=t.value;return m.a.createElement("div",{className:"single-wrapper"},m.a.createElement(N.a,{place:"top",type:"dark",effect:"float"}),m.a.createElement("div",{className:"single-reject-reason",onClick:function(){return e.handleOpenModal(l)}},l.sequence_draft,".",null!==l.reason_draft?"  "+l.reason_draft:null),n&&r&&!s&&!l.is_deleted_draft||e.state.isSadmin&&!l.is_deleted_draft?m.a.createElement("div",{onClick:function(){return e.deleteSingleData(l)},className:"btn-edit","data-tip":"Delete this data"},m.a.createElement("img",{src:a(328),alt:""})):null,l.is_deleted_draft?m.a.createElement("div",{onClick:function(){return e.state.isSadmin||!s?e.cancelDeleteSingleData(l):null},className:"btn-edit","data-tip":s?"Request Delete Submitted and Waiting to Approve":"Request Delete Submitted and Waiting to Approve, To cancel click this button!"},m.a.createElement("img",{src:a(329),alt:""})):null)})),d=Object(C.a)((function(t){var a=t.items;return m.a.createElement("div",{className:"reject-reason-list my-3 col-6"},a.map((function(t,a){return m.a.createElement(u,{disabled:!(e.state.isSadmin||!s),key:"item-".concat(a),index:a,value:t})})))})),p=Object(C.b)((function(t){var a=t.value;return m.a.createElement("div",{className:"single-wrapper",onClick:function(){return e.handleOpenModal(a,"disabled")}},m.a.createElement("div",{className:"single-reject-reason"},null!==a.sequence?a.sequence:null,".",null!==a.reason?"  "+a.reason:null))})),h=Object(C.a)((function(e){var t=e.items;return m.a.createElement("div",{className:"reject-reason-list my-3 col-6"},t.map((function(e,t){return m.a.createElement(p,{disabled:!0,key:"item-".concat(t),index:t,value:e})})))}));return m.a.createElement("div",{id:"ListRejectReason"},m.a.createElement("div",{className:"row"},m.a.createElement("h3",{className:"col-6 mb-3"},"Drop Reason List ",m.a.createElement("span",{className:"status-title"},"Status : ",this.state.status)),m.a.createElement("h3",{className:"col-6 mb-3"},"Original Data")),c?m.a.createElement("div",{className:"remark-title"},"Remarks : ",this.state.remarks):null,m.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),m.a.createElement("div",{className:"row"},m.a.createElement(d,{items:this.state.items,onSortEnd:this.onSortEnd,helperClass:"SortableHelperWithOverride",distance:1}),m.a.createElement(h,{items:this.state.originalItems,distance:1})),n&&r?m.a.createElement("div",{className:"add-new-reason d-flex justify-content-center",onClick:function(){return e.handleOpenModal("new-data")}},m.a.createElement("div",{className:"add-icon"},"+")," Add New Reason"):null,n&&r?m.a.createElement("div",{className:"d-flex justify-content-end my-4"},m.a.createElement("button",{className:"button-red mr-2",onClick:function(){return window.location.reload()}},"Cancel"),m.a.createElement("button",{className:"button-red",onClick:this.saveAndSubmit.bind(this)},"Save And Submit")):null,s&&o?m.a.createElement("div",{className:"d-flex justify-content-end my-4"},m.a.createElement("button",{className:"button-red mr-2",onClick:function(){return e.handleOpenModal("reject-data")}},"Reject"),m.a.createElement("button",{className:"button-green",onClick:function(){return e.onSubmitApprove()}},"Approve")):null,m.a.createElement(g.a,{closeTimeoutMS:300,isOpen:this.state.showModal,contentLabel:"onRequestClose Example",onRequestClose:this.handleCloseModal,overlayClassName:"Overlay",className:"modalEditReason"},"detail-data"===this.state.modalName||"new-data"===this.state.modalName||"disabled"===this.state.modalName?m.a.createElement("div",null,"new-data"===this.state.modalName?m.a.createElement("h3",{className:"my-3 mb-4"},"New Data"):null,"detail-data"===this.state.modalName?m.a.createElement("h3",{className:"my-3 mb-4"},"Edit Data : ",this.state.selectedReason.reason_draft?this.state.selectedReason.reason_draft:""):null,"disabled"===this.state.modalName?m.a.createElement("h3",{className:"my-3 mb-4"},"Detail Data : ",this.state.selectedReason.reason?this.state.selectedReason.reason:""):null,m.a.createElement("div",{className:"row mb-3"},m.a.createElement("div",{className:"row col-12"},m.a.createElement("label",{className:"col-2"},"Reason"),"disabled"===this.state.modalName?m.a.createElement("input",{placeholder:"Please insert Reason",disabled:"".concat(s||"disabled"===this.state.modalName?"disabled":""),className:"col-10 form-input",type:"text",id:"reason",value:this.state.selectedReason.reason?this.state.selectedReason.reason:""}):m.a.createElement("input",{placeholder:"Please insert Reason",disabled:"".concat(this.state.isSadmin||!s||"disabled"!==this.state.modalName?"":"disabled"),className:"col-10 form-input",type:"text",id:"reason",value:this.state.selectedReason.temp_reason_draft?this.state.selectedReason.temp_reason_draft:"",onChange:function(t){return e.updateOnChange("reason_draft",t.target.value)}}),this.state.showReasonError?m.a.createElement("div",{className:"col-2"}):null,this.state.showReasonError?m.a.createElement("div",{className:"col-10 pl-0 text-danger"},"Reason cant be empty!"):null)),this.state.tempReasonFilled&&"new-data"===this.state.modalName?m.a.createElement("div",{className:"row mb-3"},m.a.createElement("div",{className:"row col-12 align-items-center"},m.a.createElement("label",{className:"col-2"},"Need Remark"),m.a.createElement("input",{disabled:"".concat(this.state.isSadmin||!s||"disabled"!==this.state.modalName?"":"disabled"),className:"col-10 form-input",type:"checkbox",id:"need-remark",defaultChecked:this.state.selectedReason.need_remark_draft,onChange:function(t){return e.updateOnChange("need_remark_draft",t.target.value)}}))):null,"detail-data"===this.state.modalName?m.a.createElement("div",{className:"row mb-3"},m.a.createElement("div",{className:"row col-12 align-items-center"},m.a.createElement("label",{className:"col-2"},"Need Remark"),m.a.createElement("input",{disabled:"".concat(this.state.isSadmin||!s||"disabled"!==this.state.modalName?"":"disabled"),className:"col-10 form-input",type:"checkbox",id:"need-remark",defaultChecked:this.state.selectedReason.need_remark_draft,onChange:function(t){return e.updateOnChange("need_remark_draft",t.target.value)}}))):null,"disabled"===this.state.modalName?m.a.createElement("div",{className:"row mb-3"},m.a.createElement("div",{className:"row col-12 align-items-center"},m.a.createElement("label",{className:"col-2"},"Need Remark"),m.a.createElement("input",{disabled:"".concat(s||"disabled"===this.state.modalName?"disabled":""),className:"col-10 form-input",type:"checkbox",id:"need-remark",defaultChecked:this.state.selectedReason.need_remark}))):null,m.a.createElement("div",{className:"d-flex justify-content-end"},m.a.createElement("button",{className:"button-red mr-2",onClick:this.handleCloseModal.bind(this)},!s||this.state.isSadmin?"Cancel":"Close"),!s||this.state.isSadmin?m.a.createElement("button",{className:"button-red mr-2",onClick:this.saveSingleReason.bind(this)},"Save"):null)):null,"reject-data"===this.state.modalName?m.a.createElement("div",null,m.a.createElement("div",{className:"row mx-0 justify-content-center"},m.a.createElement("h4",{className:"mb-4"},"Please fill Remark to data Maker !"),this.state.error?m.a.createElement("div",{className:"col-12 ".concat(this.state.alertState),role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.errorMessage):null,m.a.createElement("textarea",{className:"col-12 form-input",type:"text",onChange:function(t){return e.setState({remarks:t.target.value})},value:this.state.remarks||"",placeholder:"Remarks",onBlur:function(){return e.validator.showMessageFor("remarks")}}),this.validator.message("remarks",this.state.remarks,"required")),m.a.createElement("div",{className:"d-flex justify-content-center mx-2 mt-4"},m.a.createElement("button",{className:"button-red mr-5",onClick:this.handleCloseModal},"Cancel"),m.a.createElement("button",{className:"button-red",onClick:this.onSubmitReject.bind(this)},"Reject"))):null),this.state.loading?m.a.createElement("div",{className:"loading-overlay"},m.a.createElement("div",{className:"loader"})):null)}}]),n}(d.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return A}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=a(15),h=a.n(p),f=a(30),g=a.n(f),v=(a(1443),a(21),a(7)),b=a.n(v),y=a(33).a,S=function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,[{key:"getAllSourceLead",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},e.prev=2,e.next=5,b.a.get(y+"/api/cms/source-lead",{headers:n});case 5:return r=e.sent,e.abrupt("return",r);case 9:return e.prev=9,e.t0=e.catch(2),console.log(e.t0),e.abrupt("return",e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateListSourceLead",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l,i,o,c,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i in a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},r=t.items,l=[],r)(o={}).id=r[i].id,o.source=r[i].source_draft,o.is_detail_disable=r[i].is_detail_disable_draft,o.is_auto_populate=r[i].is_auto_populate_draft,o.is_detail_search=r[i].is_detail_search_draft,o.is_detail_free_text=r[i].is_detail_free_text_draft,o.is_delete=r[i].is_delete_draft,o.sequence=r[i].sequence_draft,l.push(o);return c={status:"submitted",submit_by:a,list_data:l},c=JSON.stringify(c),e.prev=7,e.next=10,b.a.put(y+"/api/cms/source-lead/submit",c,{headers:n});case 10:return u=e.sent,e.abrupt("return",u);case 14:return e.prev=14,e.t0=e.catch(7),console.log(e.t0),e.abrupt("return",e.t0.response);case 18:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(t){return e.apply(this,arguments)}}()},{key:"rejectSourceLead",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},r={status:"rejected",approved_by:a,remarks:t.remarks},r=JSON.stringify(r),e.prev=4,e.next=7,b.a.put(y+"/api/cms/source-lead/reject",r,{headers:n});case 7:return l=e.sent,e.abrupt("return",l);case 11:return e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"approveSourceLead",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=localStorage.getItem("userNip"),n={"Access-Control-Allow-Origin":"*","Content-Type":"application/json",Username:a,"Workstation-Id":null},r={status:"approved",approved_by:a},r=JSON.stringify(r),e.prev=4,e.next=7,b.a.put(y+"/api/cms/source-lead/approve",r,{headers:n});case 7:return l=e.sent,e.abrupt("return",l);case 11:return e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0.response);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),E=a(17),w=a(31),k=a.n(w),N=a(118),C=a(134),A=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).onSortEnd=function(t){var a=t.oldIndex,n=t.newIndex,s=Object(C.c)(e.state.items,a,n);for(var r in s)s[r].sequence_draft=parseInt(r)+1;e.setState({items:s})},e.state={userPrivilege:[],items:[],originalItems:[],showModal:!1,loading:!0,token:localStorage.getItem("accessToken"),selectedSourceLead:[],modalName:"",status:"",totalSourceLead:"",remarks:"",typeFind:"rmwbData",isAutoPopulate:!1,tempSourceFilled:!1,showSourceError:!1,tempList:[],roleName:localStorage.getItem("roleName"),isSadmin:!1},e.reset=e.reset.bind(Object(o.a)(e)),e.handleCloseModal=e.handleCloseModal.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(n,[{key:"handleCloseModal",value:function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({showModal:!1}),this.setState({showSourceError:!1});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleOpenModal",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"reject-data"===t?(this.setState({modalName:t}),this.setState({showModal:!0})):"new-data"===t?this.state.totalSourceLead>9?alert("Source Lead maximal 10"):(this.setState({tempSourceFilled:!1}),this.setState({modalName:t}),n=this.state.items.length+1,r={sequence:null,sequence_draft:n,source:null,source_draft:null,temp_source_draft:null,is_detail_disable:!1,is_detail_disable_draft:!1,temp_is_detail_disable_draft:!0,is_auto_populate:!1,is_auto_populate_draft:!1,temp_is_auto_populate_draft:!1,is_detail_search:!1,is_detail_search_draft:!1,temp_is_detail_search_draft:!1,is_detail_free_text:!1,is_detail_free_text_draft:!1,temp_is_detail_free_text_draft:!1,status:null,updated_by:null,remarks:null,created_at:null,id:null,approved_by:null,is_delete:!1,is_delete_draft:!1,created_by:null},this.setState({selectedSourceLead:r}),this.setState({showModal:!0})):(""!==t.temp_source_draft&&this.setState({tempSourceFilled:!0}),a?(this.setState({modalName:a}),this.setState({selectedSourceLead:t}),this.setState({tempSourceFilled:!1})):(this.setState({modalName:"detail-data"}),this.setState({selectedSourceLead:t}),this.setState({tempSourceFilled:!0})),this.setState({showModal:!0}));case 1:case"end":return e.stop()}}),e,this)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"componentWillMount",value:function(){this.setState({isSadmin:"SADMINOCTOBENCH"===this.state.roleName}),this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),this.setState({loggedUser:localStorage.getItem("userNip")}),this.setPage(),this.validator=new k.a({autoForceUpdate:this,element:function(e){return m.a.createElement("div",{className:"row col-12 validator-error-message"},m.a.createElement("div",{className:"col-4"}),m.a.createElement("div",{className:"col-8"},e))}})}},{key:"getDataStatus",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!0,n=!0,r=new E.a,e.next=5,r.findStatusByParam(this.state);case 5:(l=e.sent)&&200===l.status&&l.data?(this.setState({listDataStatus:l.data}),i=l.data.filter((function(e){return e.code===t})),this.setState({currentDataStatus:i[0]})):a=!1,a||this.clearSession(),n||this.errorConectionToBe();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,this.setState({loading:!0}),a=new S,e.next=5,a.getAllSourceLead();case 5:if(!(n=e.sent)||200!==n.status||!n.data.data){e.next=17;break}for(l in r=n.data.data.list_source_lead)r[l].temp_source_draft=r[l].source_draft,r[l].temp_is_detail_disable_draft=r[l].is_detail_disable_draft,null===r[l].is_auto_populate_draft&&(r[l].is_auto_populate_draft=""),r[l].temp_is_auto_populate_draft=r[l].is_auto_populate_draft,r[l].temp_is_detail_search_draft=r[l].is_detail_search_draft,r[l].temp_is_detail_free_text_draft=r[l].is_detail_free_text_draft;return this.setState({items:r}),this.setState({originalItems:n.data.data.list_source_lead}),this.setState(n.data.data),e.next=14,this.getDataStatus(n.data.data.status);case 14:this.setState({loading:!1}),e.next=20;break;case 17:n&&n.data?(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1})):(this.setState({isSuccess:!1,message:"Save Data Failed",alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1})),this.setState({items:[]}),this.setState({loading:!1});case 20:t||this.errorConectionToBe();case 21:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"search",value:function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({loading:!0,search:!0}),this.setPage(this.state.page,this.state.sort,this.state.sort_by,this.state.perPage);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"reset",value:function(){var e=this;this.setState({loading:!0}),h.a.findDOMNode(this.refs.search_key).value="",this.setState({search_key:""},(function(){setTimeout((function(){e.setPage(e.state.page,e.state.sort,e.state.sort_by,e.state.perPage)}),100)}))}},{key:"errorConectionToBe",value:function(){alert("Connection to Server Octobench interupted!\nPlease check your conection or contact administrator!")}},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login"))}},{key:"updateOnChange",value:function(e,t){var a=this.state.selectedSourceLead;"source_draft"===e&&(a.temp_source_draft=t,""!==t&&null!==t?(this.setState({tempSourceFilled:!0}),this.setState({showSourceError:!1})):(this.setState({tempSourceFilled:!1}),this.setState({showSourceError:!0}))),"is_detail_disable_draft"===e&&t&&(a.temp_is_detail_disable_draft=t,a.temp_is_detail_free_text_draft=!t,a.temp_is_detail_search_draft=!t),"is_auto_populate_draft"===e&&(a.temp_is_auto_populate_draft=""!==t?t:""),"is_detail_free_text_draft"===e&&t&&(a.temp_is_detail_disable_draft=!t,a.temp_is_detail_free_text_draft=t,a.temp_is_detail_search_draft=!t,a.temp_is_auto_populate_draft=""),"is_detail_search_draft"===e&&t&&(a.temp_is_detail_disable_draft=!t,a.temp_is_detail_free_text_draft=!t,a.temp_is_detail_search_draft=t,a.temp_is_auto_populate_draft=""),this.setState({selectedSourceLead:a})}},{key:"saveSingleSource",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.state.selectedSourceLead).temp_source_draft&&!this.state.showSourceError&&""!==t.temp_source_draft&&null!==t.temp_source_draft){if(t.source_draft=t.temp_source_draft,t.is_detail_disable_draft=t.temp_is_detail_disable_draft,t.is_detail_free_text_draft=t.temp_is_detail_free_text_draft,t.is_detail_search_draft=t.temp_is_detail_search_draft,t.is_auto_populate_draft=t.temp_is_auto_populate_draft,a=this.state.items,n=!1,t&&a){if(null===t.id){for(r in a)a[r].sequence_draft=parseInt(r)+1,a[r].sequence_draft===t.sequence_draft&&(a[r]=t,n=!0);this.setState({selectedSourceLead:t}),n||a.push(t)}else for(l in a)a[l].id===t.id&&(a[l]=t);this.setState({list:a}),this.setState({showModal:!1})}}else if(""!==t.source_draft&&null!==t.source_draft){if(window.confirm("Cant be empty! Load Source?")){for(o in t.temp_source_draft=t.source_draft,i=this.state.items)i[o].sequence_draft===t.sequence_draft&&(i[o]=t);this.setState({list:i}),this.setState({showSourceError:!1})}}else this.setState({showSourceError:!0});case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"saveAndSubmit",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.isSadmin){e.next=25;break}if(!window.confirm("Are you sure to submit and approve this data ?")){e.next=22;break}return this.setState({loading:!0}),t=new S,e.next=6,t.updateListSourceLead(this.state);case 6:if(!(a=e.sent)||!a.status||200!==a.status||"SUCCEED"!==a.data.message){e.next=19;break}return e.next=10,this.onSubmitApprove();case 10:return this.setState({isSuccess:!0,message:"Save Data Succeed",alertState:"alert alert-success"}),window.scrollTo(0,0),e.next=14,this.getDataStatus("submitted");case 14:this.setState({status:"submitted"}),this.setPage(),this.setState({loading:!1}),e.next=20;break;case 19:a&&a.data?(this.setState({isSuccess:!1,message:a.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1})):(this.setState({isSuccess:!1,message:"Save Data Failed",alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1}));case 20:e.next=23;break;case 22:this.setState({loading:!1});case 23:e.next=41;break;case 25:return this.setState({loading:!0}),n=new S,e.next=29,n.updateListSourceLead(this.state);case 29:if(!(r=e.sent)||!r.status||200!==r.status||"SUCCEED"!==r.data.message){e.next=40;break}return this.setState({isSuccess:!0,message:"Save Data Succeed",alertState:"alert alert-success"}),window.scrollTo(0,0),e.next=35,this.getDataStatus("submitted");case 35:this.setState({status:"submitted"}),this.setPage(),this.setState({loading:!1}),e.next=41;break;case 40:r&&r.data?(this.setState({isSuccess:!1,message:r.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1})):(this.setState({isSuccess:!1,message:"Save Data Failed",alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1}));case 41:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onSubmitApprove",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.state.isSadmin){e.next=20;break}return this.setState({loading:!0}),t=new S,e.next=5,t.approveSourceLead(this.state);case 5:if(!(a=e.sent)||!a.status||200!==a.status||"SUCCEED"!==a.data.message){e.next=17;break}return this.setState({isSuccess:!0,message:"Save Data Succeed",alertState:"alert alert-success"}),e.next=10,this.getDataStatus("approved");case 10:this.setState({status:"approved"}),this.setPage(),window.scrollTo(0,0),this.handleCloseModal(),this.setState({loading:!1}),e.next=18;break;case 17:a&&a.data?(this.setState({isSuccess:!1,message:a.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1})):(this.setState({isSuccess:!1,message:"Save Data Failed",alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1}));case 18:e.next=38;break;case 20:if(!window.confirm("Are you sure to approve this source lead data ?")){e.next=38;break}return this.setState({loading:!0}),n=new S,e.next=25,n.approveSourceLead(this.state);case 25:if(!(r=e.sent)||!r.status||200!==r.status||"SUCCEED"!==r.data.message){e.next=37;break}return this.setState({isSuccess:!0,message:"Save Data Succeed",alertState:"alert alert-success"}),e.next=30,this.getDataStatus("approved");case 30:this.setState({status:"approved"}),this.setPage(),window.scrollTo(0,0),this.handleCloseModal(),this.setState({loading:!1}),e.next=38;break;case 37:r&&r.data?(this.setState({isSuccess:!1,message:r.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1})):(this.setState({isSuccess:!1,message:"Save Data Failed",alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1}));case 38:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onSubmitReject",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.validator.allValid()){e.next=3;break}return this.validator.showMessages(),e.abrupt("return");case 3:return this.setState({loading:!0}),t=new S,e.next=7,t.rejectSourceLead(this.state);case 7:if(!(a=e.sent)||!a.status||200!==a.status||"SUCCEED"!==a.data.message){e.next=18;break}return this.setState({isSuccess:!0,message:"Save Data Succeed",alertState:"alert alert-success"}),e.next=12,this.getDataStatus("rejected");case 12:this.setState({status:"rejected"}),window.scrollTo(0,0),this.handleCloseModal(),this.setState({loading:!1}),e.next=19;break;case 18:a&&a.data?(this.setState({isSuccess:!1,message:a.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1})):(this.setState({isSuccess:!1,message:"Save Data Failed",alertState:"alert alert-danger"}),window.scrollTo(0,0),this.setState({loading:!1}));case 19:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"deleteSingleData",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm('Are you sure to delete "'+t.source_draft+'"')){for(r in a=this.state.items,(n=t).is_delete_draft=!0,a)a[r].sequence_draft===n.sequence_draft&&(a[r]=n);this.setState({items:a})}case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"cancelDeleteSingleData",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm('Are you sure to cancel delete "'+t.source_draft+'"')){for(r in a=this.state.items,(n=t).is_delete_draft=!1,a)a[r].sequence_draft===n.sequence_draft&&(a[r]=n);this.setState({items:a})}case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=[{label:"TH",value:"th"},{label:"RM",value:"rm"}];t=t.map((function(e){var t=e.label,a=e.value;return m.a.createElement("option",{key:a,"code-data":a,value:a},t)})),this.totalSourceLead=this.state.items.length;for(var n=JSON.parse(this.state.userPrivilege)||[],s=!1,r=!1,l=!1,i=0;i<n.length;i++)"create_rmwb_sourceLead"===n[i].name+"_"+n[i].vgroup&&(s=!0),"approval_rmwb_sourceLead"===n[i].name+"_"+n[i].vgroup&&(r=!0),"update_rmwb_sourceLead"===n[i].name+"_"+n[i].vgroup&&(l=!0);var o=this.state.currentDataStatus?this.state.currentDataStatus:[],c=!1,u=!1;o&&("rmwbData_submitted"===o.type+"_"+o.code&&(c=!0),"rmwbData_rejected"===o.type+"_"+o.code&&(u=!0));var d=Object(C.b)((function(t){var n=t.value;return m.a.createElement("div",{className:"single-wrapper"},m.a.createElement(N.a,{place:"top",type:"dark",effect:"float"}),m.a.createElement("div",{className:"single-source-lead",onClick:function(){return e.handleOpenModal(n)}},n.sequence_draft,".",null!==n.source_draft?"  "+n.source_draft:null),s&&l&&!r&&!n.is_delete_draft||e.state.isSadmin&&!n.is_delete_draft?m.a.createElement("div",{onClick:function(){return e.deleteSingleData(n)},className:"btn-edit","data-tip":"Delete this data"},m.a.createElement("img",{src:a(328),alt:""})):null,n.is_delete_draft?m.a.createElement("div",{onClick:function(){return e.state.isSadmin||!r?e.cancelDeleteSingleData(n):null},className:"btn-edit","data-tip":r?"Request Delete Submitted and Waiting to Approve":"Request Delete Submitted and Waiting to Approve, To cancel click this button!"},m.a.createElement("img",{src:a(329),alt:""})):null)})),p=Object(C.a)((function(t){var a=t.items;return m.a.createElement("div",{className:"source-lead-list my-3 col-6"},a.map((function(t,a){return m.a.createElement(d,{disabled:!(e.state.isSadmin||!r),key:"item-".concat(a),index:a,value:t})})))})),h=Object(C.b)((function(t){var a=t.value;return m.a.createElement("div",{className:"single-wrapper",onClick:function(){return e.handleOpenModal(a,"disabled")}},m.a.createElement("div",{className:"single-source-lead"},null!==a.sequence?a.sequence:null,".",null!==a.source?" "+a.source:null))})),f=Object(C.a)((function(e){var t=e.items;return m.a.createElement("div",{className:"source-lead-list my-3 col-6"},t.map((function(e,t){return m.a.createElement(h,{disabled:!0,key:"item-".concat(t),index:t,value:e})})))}));return m.a.createElement("div",{id:"ListSourceLead"},m.a.createElement("div",{className:"row"},m.a.createElement("h3",{className:"col-6 mb-3"},"Source Lead List ",m.a.createElement("span",{className:"status-title"},"Status : ",this.state.status)),m.a.createElement("h3",{className:"col-6 mb-3"},"Original Data")),u?m.a.createElement("div",{className:"remark-title"},"Remarks : ",this.state.remarks):null,m.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),m.a.createElement("div",{className:"row"},m.a.createElement(p,{items:this.state.items,onSortEnd:this.onSortEnd,helperClass:"SortableHelperWithOverride",distance:1}),m.a.createElement(f,{items:this.state.originalItems,distance:1})),s&&l?m.a.createElement("div",{className:"add-new-source d-flex justify-content-center",onClick:function(){return e.handleOpenModal("new-data")}},m.a.createElement("div",{className:"add-icon"},"+")," Add New Source"):null,s&&l?m.a.createElement("div",{className:"d-flex justify-content-end my-4"},m.a.createElement("button",{className:"button-red mr-2",onClick:function(){return window.location.reload()}},"Cancel"),m.a.createElement("button",{className:"button-red",onClick:this.saveAndSubmit.bind(this)},"Save And Submit")):null,r&&c?m.a.createElement("div",{className:"d-flex justify-content-end my-4"},m.a.createElement("button",{className:"button-red mr-2",onClick:function(){return e.handleOpenModal("reject-data")}},"Reject"),m.a.createElement("button",{className:"button-green",onClick:function(){return e.onSubmitApprove()}},"Approve")):null,m.a.createElement(g.a,{closeTimeoutMS:300,isOpen:this.state.showModal,contentLabel:"onRequestClose Example",onRequestClose:this.handleCloseModal,overlayClassName:"Overlay",className:"modalEditSourceLead"},"detail-data"===this.state.modalName||"new-data"===this.state.modalName||"disabled"===this.state.modalName?m.a.createElement("div",null,"detail-data"===this.state.modalName?m.a.createElement("h3",{className:"my-3 mb-4"},"Edit Source: ",this.state.selectedSourceLead.source_draft?this.state.selectedSourceLead.source_draft:""):null,"disabled"===this.state.modalName?m.a.createElement("h3",{className:"my-3 mb-4"},"Detail Source : ",this.state.selectedSourceLead.source?this.state.selectedSourceLead.source:""):null,"new-data"===this.state.modalName?m.a.createElement("h3",{className:"my-3 mb-4"},"New Source"):null,m.a.createElement("div",{className:"row mb-3 align-items-center"},m.a.createElement("label",{className:"col-2 mb-0"},"Source"),m.a.createElement("div",{className:"col-10"},"disabled"===this.state.modalName?m.a.createElement("input",{placeholder:"Please insert Source Lead",disabled:"".concat(r||"disabled"===this.state.modalName?"disabled":""),className:"col-12 form-input",type:"text",id:"source",value:this.state.selectedSourceLead.source?this.state.selectedSourceLead.source:""}):m.a.createElement("input",{placeholder:"Please insert Source Lead",disabled:"".concat(this.state.isSadmin||!r||"disabled"!==this.state.modalName?"":"disabled"),className:"col-12 form-input",type:"text",id:"source",value:this.state.selectedSourceLead.temp_source_draft?this.state.selectedSourceLead.temp_source_draft:"",onChange:function(t){return e.updateOnChange("source_draft",t.target.value)}}),this.state.showSourceError?m.a.createElement("div",{className:"col-2"}):null,this.state.showSourceError?m.a.createElement("div",{className:"col-10 pl-0 text-danger"},"Source cant be empty!"):null)),this.state.tempSourceFilled&&"new-data"===this.state.modalName?m.a.createElement("div",{className:"row mb-2"},m.a.createElement("div",{className:"col-12"},m.a.createElement("div",{className:"row align-items-center"},m.a.createElement("label",{className:"col-2 mb-0"},"Is detail disable"),m.a.createElement("div",{className:"col-2"},m.a.createElement("input",{disabled:"".concat(this.state.isSadmin||!r||"disabled"!==this.state.modalName?"":"disabled"),className:"col-12 form-input mt-1",type:"radio",name:"data",id:"is_detail_disable",defaultChecked:this.state.selectedSourceLead.temp_is_detail_disable_draft,onChange:function(t){return e.updateOnChange("is_detail_disable_draft",t.target.checked)}})),m.a.createElement("div",{className:"col-8"},this.state.selectedSourceLead.temp_source_draft&&this.state.selectedSourceLead.temp_is_detail_disable_draft?m.a.createElement("div",{className:"row mb-2"},m.a.createElement("div",{className:"col-12"},m.a.createElement("div",{className:"row align-items-center px-3"},m.a.createElement("label",{className:"col-3 pl-0 mb-0"},"Auto populate by"),m.a.createElement("select",{disabled:"".concat(this.state.isSadmin||!r||"disabled"!==this.state.modalName?"":"disabled"),className:"col-9 form-input",onChange:function(t){return e.updateOnChange("is_auto_populate_draft",t.target.value)},value:this.state.selectedSourceLead.temp_is_auto_populate_draft},m.a.createElement("option",{key:"",value:""},"Select Auto Populate By"),t)))):null)))):null,"detail-data"===this.state.modalName?m.a.createElement("div",{className:"row mb-2"},m.a.createElement("div",{className:"col-12"},m.a.createElement("div",{className:"row align-items-center"},m.a.createElement("label",{className:"col-2 mb-0"},"Is detail disable"),m.a.createElement("div",{className:"col-2"},m.a.createElement("input",{disabled:"".concat(this.state.isSadmin||!r||"disabled"!==this.state.modalName?"":"disabled"),className:"col-12 form-input mt-1",type:"radio",name:"data",id:"is_detail_disable",defaultChecked:this.state.selectedSourceLead.temp_is_detail_disable_draft,onChange:function(t){return e.updateOnChange("is_detail_disable_draft",t.target.checked)}})),m.a.createElement("div",{className:"col-8"},this.state.selectedSourceLead.temp_source_draft&&this.state.selectedSourceLead.temp_is_detail_disable_draft?m.a.createElement("div",{className:"row mb-2"},m.a.createElement("div",{className:"col-12"},m.a.createElement("div",{className:"row align-items-center px-3"},m.a.createElement("label",{className:"col-3 pl-0 mb-0"},"Auto populate by"),m.a.createElement("select",{disabled:"".concat(this.state.isSadmin||!r||"disabled"!==this.state.modalName?"":"disabled"),className:"col-9 form-input",onChange:function(t){return e.updateOnChange("is_auto_populate_draft",t.target.value)},value:this.state.selectedSourceLead.temp_is_auto_populate_draft},m.a.createElement("option",{key:"",value:""},"Select Auto Populate By"),t)))):null)))):null,"disabled"===this.state.modalName?m.a.createElement("div",{className:"row mb-2"},m.a.createElement("div",{className:"col-12"},m.a.createElement("div",{className:"row align-items-center"},m.a.createElement("label",{className:"col-2 mb-0"},"Is detail disable"),m.a.createElement("div",{className:"col-2"},m.a.createElement("input",{disabled:"".concat(r||"disabled"===this.state.modalName?"disabled":""),className:"col-12 form-input mt-1",type:"radio",name:"data",id:"is_detail_disable_ori",defaultChecked:this.state.selectedSourceLead.is_detail_disable})),m.a.createElement("div",{className:"col-8"},this.state.selectedSourceLead.source&&this.state.selectedSourceLead.is_detail_disable?m.a.createElement("div",{className:"row mb-2"},m.a.createElement("div",{className:"col-12"},m.a.createElement("div",{className:"row align-items-center px-3"},m.a.createElement("label",{className:"col-3 pl-0 mb-0"},"Auto populate by"),m.a.createElement("select",{disabled:"".concat(r||"disabled"===this.state.modalName?"disabled":""),className:"col-9 form-input",value:this.state.selectedSourceLead.is_auto_populate},m.a.createElement("option",{key:"",value:""},"Select Auto Populate By"),t)))):null)))):null,this.state.tempSourceFilled&&"new-data"===this.state.modalName?m.a.createElement("div",{className:"row mb-2"},m.a.createElement("div",{className:"col-12"},m.a.createElement("div",{className:"row align-items-center"},m.a.createElement("label",{className:"col-2 mb-0"},"Search AD"),m.a.createElement("div",{className:"col-10"},m.a.createElement("input",{disabled:"".concat(this.state.isSadmin||!r||"disabled"!==this.state.modalName?"":"disabled"),className:"col-12 form-input mt-1",type:"radio",name:"data",id:"is_detail_search",defaultChecked:this.state.selectedSourceLead.temp_is_detail_search_draft,onChange:function(t){return e.updateOnChange("is_detail_search_draft",t.target.checked)}}))))):null,"detail-data"===this.state.modalName?m.a.createElement("div",{className:"row mb-2"},m.a.createElement("div",{className:"col-12"},m.a.createElement("div",{className:"row align-items-center"},m.a.createElement("label",{className:"col-2 mb-0"},"Search AD"),m.a.createElement("div",{className:"col-10"},m.a.createElement("input",{disabled:"".concat(this.state.isSadmin||!r||"disabled"!==this.state.modalName?"":"disabled"),className:"col-12 form-input mt-1",type:"radio",name:"data",id:"is_detail_search",defaultChecked:this.state.selectedSourceLead.temp_is_detail_search_draft,onChange:function(t){return e.updateOnChange("is_detail_search_draft",t.target.checked)}}))))):null,"disabled"===this.state.modalName?m.a.createElement("div",{className:"row mb-2"},m.a.createElement("div",{className:"col-12"},m.a.createElement("div",{className:"row align-items-center"},m.a.createElement("label",{className:"col-2 mb-0"},"Search AD"),m.a.createElement("div",{className:"col-10"},m.a.createElement("input",{disabled:"".concat(r||"disabled"===this.state.modalName?"disabled":""),className:"col-12 form-input mt-1",type:"radio",name:"data",id:"is_detail_search",defaultChecked:this.state.selectedSourceLead.is_detail_search}))))):null,this.state.tempSourceFilled&&"new-data"===this.state.modalName?m.a.createElement("div",{className:"row mb-3"},m.a.createElement("div",{className:"col-12"},m.a.createElement("div",{className:"row align-items-center"},m.a.createElement("label",{className:"col-2 mb-0"},"Is detail free text"),m.a.createElement("div",{className:"col-10"},m.a.createElement("input",{disabled:"".concat(this.state.isSadmin||!r||"disabled"!==this.state.modalName?"":"disabled"),className:"col-12 form-input mt-1",type:"radio",name:"data",id:"is_detail_free_text",defaultChecked:this.state.selectedSourceLead.temp_is_detail_free_text_draft,onChange:function(t){return e.updateOnChange("is_detail_free_text_draft",t.target.checked)}}))))):null,"detail-data"===this.state.modalName?m.a.createElement("div",{className:"row mb-3"},m.a.createElement("div",{className:"col-12"},m.a.createElement("div",{className:"row align-items-center"},m.a.createElement("label",{className:"col-2 mb-0"},"Is detail free text"),m.a.createElement("div",{className:"col-10"},m.a.createElement("input",{disabled:"".concat(this.state.isSadmin||!r||"disabled"!==this.state.modalName?"":"disabled"),className:"col-12 form-input mt-1",type:"radio",name:"data",id:"is_detail_free_text",defaultChecked:this.state.selectedSourceLead.temp_is_detail_free_text_draft,onChange:function(t){return e.updateOnChange("is_detail_free_text_draft",t.target.checked)}}))))):null,"disabled"===this.state.modalName?m.a.createElement("div",{className:"row mb-3"},m.a.createElement("div",{className:"col-12"},m.a.createElement("div",{className:"row align-items-center"},m.a.createElement("label",{className:"col-2 mb-0"},"Is detail free text"),m.a.createElement("div",{className:"col-10"},m.a.createElement("input",{disabled:"".concat(r||"disabled"===this.state.modalName?"disabled":""),className:"col-12 form-input mt-1",type:"radio",name:"data",id:"is_detail_free_text",defaultChecked:this.state.selectedSourceLead.is_detail_free_text}))))):null,m.a.createElement("div",{className:"d-flex justify-content-end mt-4 btn-source-lead-modal"},m.a.createElement("button",{className:"button-red mr-2",onClick:this.handleCloseModal.bind(this)},r?"Close":"Cancel"),!r||this.state.isSadmin?m.a.createElement("button",{className:"button-red",onClick:this.saveSingleSource.bind(this)},"Save"):null)):null,"reject-data"===this.state.modalName?m.a.createElement("div",null,m.a.createElement("div",{className:"row mx-0 justify-content-center"},m.a.createElement("h4",{className:"mb-4"},"Please fill Remark to data Maker !"),this.state.error?m.a.createElement("div",{className:"col-12 ".concat(this.state.alertState),role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.errorMessage):null,m.a.createElement("textarea",{className:"col-12 form-input",type:"text",onChange:function(t){return e.setState({remarks:t.target.value})},value:this.state.remarks||"",placeholder:"Remarks",onBlur:function(){return e.validator.showMessageFor("remarks")}}),this.validator.message("remarks",this.state.remarks,"required")),m.a.createElement("div",{className:"d-flex justify-content-center mx-2 mt-4"},m.a.createElement("button",{className:"button-red mr-5",onClick:this.handleCloseModal},"Cancel"),m.a.createElement("button",{className:"button-red",onClick:this.onSubmitReject.bind(this)},"Reject"))):null),this.state.loading?m.a.createElement("div",{className:"loading-overlay"},m.a.createElement("div",{className:"loader"})):null)}}]),n}(d.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return C}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(6),c=a(5),u=a(0),d=a.n(u),m=a(9),p=(a(1452),a(30)),h=a.n(p),f=a(215),g=a(17),v=a(8),b=a(31),y=a.n(b),S=a(287),E=a.n(S),w=a(288),k=a.n(w);a(573),a(574),a(21),a(59),a(127);h.a.setAppElement("body");var N=function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).handleKeyDown=function(t){if(["Enter","Tab",","].includes(t.key)){t.preventDefault();var a=e.state.emailInputValue.trim();if((a=a.toLowerCase())&&e.isValid(a)){var n=e.state.listRecipient;n.push({email_address:a,is_deleted:!1,is_deleted_draft:!1}),e.setState({listRecipient:n}),e.setState({emailInputValue:""})}}},e.handleKeyDownCc=function(t){if(["Enter","Tab",","].includes(t.key)){t.preventDefault();var a=e.state.emailInputValueCc.trim();if((a=a.toLowerCase())&&e.isValidCc(a)){var n=e.state.listCc;n.push({email_address:a,is_deleted:!1,is_deleted_draft:!1}),e.setState({listCc:n}),e.setState({emailInputValueCc:""})}}},e.handleChange=function(t){e.setState({emailInputValue:t.target.value,errorInputEmail:null})},e.handleChangeCc=function(t){e.setState({emailInputValueCc:t.target.value,errorInputEmailcc:null})},e.handlePaste=function(t){t.preventDefault();var a=t.clipboardData.getData("text").match(/[\w\d.-]+@[\w\d.-]+\.[\w\d.-]+/g);if(a){var n=a.filter((function(t){return!e.isInList(t)})),s=e.state.listRecipient;for(var r in n)s.push({email_address:n[r].toLowerCase(),is_deleted:!1,is_deleted_draft:!1});e.setState({listRecipient:s})}},e.handlePasteCc=function(t){t.preventDefault();var a=t.clipboardData.getData("text").match(/[\w\d.-]+@[\w\d.-]+\.[\w\d.-]+/g);if(a){var n=a.filter((function(t){return!e.isInList(t)})),s=e.state.listCc;for(var r in n)s.push({email_address:n[r].toLowerCase(),is_deleted:!1,is_deleted_draft:!1});e.setState({listCc:s})}},e.state={token:localStorage.getItem("accessToken"),labelButton:"Save",alertState:"alert alert-primary",isEdit:!1,error:!1,showModal:!1,typeFind:"rmwbData",modalName:"",loading:!1,titleMailPage:"",selectedRecipient:[],dataEmailConfig:[],email_type:"",email_name:"",subject:"",subject_draft:"",from_stage:"",from_stage_draft:"",to_stage:"",to_stage_draft:"",area:"",area_draft:"",content:"",content_draft:"",is_active:!0,is_active_draft:!0,remarks:"",created_by:"",updated_by:"",approved_by:"",status:"",recipients_ori:[],recipients_draft:[],cc_ori:[],cc_draft:[],payaloadListTag:[],items:[],emailInputValue:"",emailInputValueCc:"",listRecipient:[],listCc:[],errorInputEmail:null,errorInputEmailcc:null,recipientsTotal:0,ccTotal:0,roleName:localStorage.getItem("roleName"),isSadmin:!1},window.scrollTo(0,0),e.handleOpenModal=e.handleOpenModal.bind(Object(m.a)(e)),e.handleCloseModal=e.handleCloseModal.bind(Object(m.a)(e)),e}return Object(i.a)(a,[{key:"handleOpenModal",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({showModal:!0,modalName:t});case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleCloseModal",value:function(){var e=Object(r.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({showModal:!1});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillMount",value:function(){this.setState({isSadmin:"SADMINOCTOBENCH"===this.state.roleName}),this.setState({email_type:this.props.data.type}),"edit"===this.props.mode&&this.setState({isEdit:!0}),this.getdataMaster(),this.getListDataStatus(this.props.data.status),this.setState({userPrivilege:localStorage.getItem("userPrivilege")}),this.setState({loggedUser:localStorage.getItem("userNip")}),this.validator=new y.a({autoForceUpdate:this,element:function(e){return d.a.createElement("div",{className:"row col-12 validator-error-message"},d.a.createElement("div",{className:"col-2"}),d.a.createElement("div",{className:"col-10 pl-0"},e))}})}},{key:"getdataMaster",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i,o,c,u,d,m,p,h,v;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,a=!0,n=new f.a,r=new g.a,e.next=6,r.findStatusByParam(this.state);case 6:return(l=e.sent)&&200===l.status&&l.data?this.setState({listDataStatus:l.data}):t=!1,t||this.clearSession(),e.next=11,n.getDetailEmailConfigByEmailType(this.state);case 11:if((i=e.sent)&&200===i.status&&i.data){for(c in null===(o=i.data.data).is_active&&(o.is_active=this.state.is_active),null===o.is_active_draft&&(o.is_active_draft=this.state.is_active_draft),o)null===o[c]&&(o[c]="");for(d in this.setState({dataEmailConfig:o}),this.setState(o),u=o.recipients_draft)null===u[d].is_deleted&&(u[d].is_deleted=!1);for(p in this.setState({listRecipient:u}),m=o.cc_draft||[])null===m[p].is_deleted&&(m[p].is_deleted=!1);this.setState({listCc:m})}else 400===i.status?(alert("ID menu not found please check it!"),this.props.history.push("rmwb-email-config")):a=!1;return e.next=15,n.getAllListTagByEmailType(this.state);case 15:(h=e.sent)&&200===h.status&&h.data?(v=h.data.data,this.setState({dataAllListTag:v})):400===h.status?(alert("ID menu not found please check it!"),this.props.history.push("rmwb-email-config")):a=!1,a||this.errorConectionToBe();case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getListDataStatus",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=!0,n=new g.a,e.next=4,n.findStatusByParam(this.state);case 4:(r=e.sent)&&200===r.status&&r.data.length>0?(this.setState({listDataStatus:r.data}),l=r.data.filter((function(e){return e.code===t})),this.setState({currentDataStatus:l[0]})):(this.setState({listDataStatus:""}),this.setState({currentDataStatus:""}),r&&r.data&&v.a===r.data.data?a=!1:this.setState({listDataStatus:""})),a||this.clearSession();case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearSession",value:function(){null!==localStorage.getItem("accessToken")&&(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("/login"))}},{key:"errorConectionToBe",value:function(){alert("Connection to Server Octobench interupted!\nPlease check your conection or contact administrator!")}},{key:"validateRemark",value:function(e){return this.setState({error:!0,alertState:"alert alert-danger"}),e.remarks?(this.setState({error:!1,alertState:"alert alert-primary"}),!0):(this.setState({errorMessage:"Please fill remarks!"}),!1)}},{key:"onSubmit",value:function(){if(this.props.onSubmit){var e=this.state;e.submitOnly=!0,this.validator.allValid()?this.props.onSubmit(e):this.validator.showMessages()}}},{key:"onCancelSubmit",value:function(){if(this.props.onSubmit){var e=this.state;e.cancelSubmit=!0,this.props.onSubmit(e)}}},{key:"onSubmitAndSave",value:function(){if(this.props.onSubmitAndSave){var e=this.state;e.submitOnly=!1,e.submitAndSave=!0,this.validator.allValid()?(this.state.is_active_draft||window.confirm("This email config is disabled are you sure to submit this change ?"))&&this.props.onSubmitAndSave(e):this.validator.showMessages()}}},{key:"onSubmitApprove",value:function(){if(this.props.onSubmitAndSave){var e=this.state;e.submitApprove=!0,this.handleCloseModal(),this.props.onSubmitAndSave(e)}}},{key:"onSubmitReject",value:function(){if(this.props.onSubmitAndSave){var e=this.state;e.submitReject=!0,this.validator.allValid()?(this.handleCloseModal(),this.props.onSubmitAndSave(e)):this.validator.showMessages()}}},{key:"onApproveDelete",value:function(){if(this.props.onSubmitAndSave){var e=this.state;e.approveDelete=!0,this.props.onSubmitAndSave(e)}}},{key:"onRejectDelete",value:function(){if(this.props.onSubmitAndSave){var e=this.state;e.rejectDelete=!0,this.validator.allValid()?this.props.onSubmitAndSave(e):this.validator.showMessages()}}},{key:"cancelDeleteSingleRecipient",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm('Are you sure to cancel delete "'+t.email_address+'"')){for(r in a=this.state.listRecipient,(n=t).is_deleted=!1,n.is_deleted_draft=!1,a)a[r].id===n.id&&(a[r]=n);this.setState({listRecipient:a})}case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteSingleRecipient",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r in a=this.state.listRecipient,n=[],a)!0!==a[r].is_deleted_draft&&!0!==a[r].is_deleted&&n.push(a[r]);if(l=n.length,this.setState({recipientsTotal:l}),l<=1)alert("Sorry you can't delete all recipient! Minimal should have 1 recipient.");else if(window.confirm("Are you sure to delete [ "+t.email_address+" ]?")){for(o in(i=t).is_deleted=!0,i.is_deleted_draft=!0,a)a[o].email_address===i.email_address&&(a[o]=i);this.setState({listRecipient:a}),setTimeout((function(){alert("Recipient [ "+t.email_address+" ] will delete when submit data!")}),400)}case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteSingleCc",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n,r,l,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r in a=this.state.listCc,n=[],a)!0!==a[r].is_deleted_draft&&!0!==a[r].is_deleted&&n.push(a[r]);if(l=n.length,this.setState({ccTotal:l}),l<=1)alert("Sorry you can't delete all recipient! Minimal should have 1 recipient.");else if(window.confirm("Are you sure to delete [ "+t.email_address+" ]?")){for(o in(i=t).is_deleted=!0,i.is_deleted_draft=!0,a)a[o].email_address===i.email_address&&(a[o]=i);this.setState({listCc:n}),setTimeout((function(){alert("Recipient [ "+t.email_address+" ] will delete when submit data!")}),400)}case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"isValid",value:function(e){var t=null;return this.isInList(e)&&(t="".concat(e," has already been added.")),this.isEmail(e)||(t="".concat(e," is not a valid email address.")),!t||(this.setState({errorInputEmail:t}),!1)}},{key:"isValidCc",value:function(e){var t=null;return this.isInListCc(e)&&(t="".concat(e," has already been added.")),this.isEmail(e)||(t="".concat(e," is not a valid email address.")),!t||(this.setState({errorInputEmailcc:t}),!1)}},{key:"isInList",value:function(e){for(var t=0;t<this.state.listRecipient.length;++t)if(this.state.listRecipient[t].email_address===e.toLowerCase())return!0;return!1}},{key:"isInListCc",value:function(e){for(var t=0;t<this.state.listCc.length;++t)if(this.state.listCc[t].email_address===e.toLowerCase())return!0;return!1}},{key:"isEmail",value:function(e){return/[\w\d.-]+@[\w\d.-]+\.[\w\d.-]+/.test(e)}},{key:"toggleEnable",value:function(){var e=Object(r.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:!1===t?window.confirm("Are you sure to Disabled this email config?")&&(this.setState({is_active_draft:t}),setTimeout((function(){alert("This Email config will disabled when submitted!")}),400)):this.setState({is_active_draft:!0});case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){for(var e=this,t=JSON.parse(this.state.userPrivilege)||[],a=!1,n=!1,s=!1,r=0;r<t.length;r++)"create_rmwb_emailConfig"===t[r].name+"_"+t[r].vgroup&&(a=!0),"update_rmwb_emailConfig"===t[r].name+"_"+t[r].vgroup&&(n=!0),"approval_rmwb_emailConfig"===t[r].name+"_"+t[r].vgroup&&(s=!0);var l=this.state.currentDataStatus?this.state.currentDataStatus:[],i=!1,o=!1,c=!1,u=this.state.isEdit;l&&("rmwbData_submitted"===l.type+"_"+l.code&&(i=!0),"rmwbData_rejected"===l.type+"_"+l.code&&(o=!0),"rmwbData_requestDelete"===l.type+"_"+l.code&&(c=!0));var m,p,f=this.state.isSadmin,g=!1;g=!s||!!f,this.state.listRecipient.length>0&&(m=(m=this.state.listRecipient).map((function(t){return t.is_deleted_draft?null:d.a.createElement("div",{className:"tag-item",key:t.email_address},t.email_address,d.a.createElement("button",{disabled:g?null:"disabled",type:"button",className:"button",onClick:function(){return e.deleteSingleRecipient(t)}},"\xd7"))}))),this.state.recipients_ori.length>0&&(p=(p=this.state.recipients_ori).map((function(e){return e.is_deleted?null:d.a.createElement("div",{className:"tag-item-ori",key:e.email_address},e.email_address)})));var v="";return void 0!==this.state.dataAllListTag&&(v=(v=this.state.dataAllListTag).map((function(e){var t=e.value,a=e.key;return d.a.createElement("li",{key:a},d.a.createElement("div",{className:"tag-key"},a)," :   ",t)}))),d.a.createElement("div",{id:"EmailConfigForm"},this.state.error?d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.errorMessage):null,d.a.createElement("div",{className:"form-box-area mb-4"},d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"row col-12 pr-0"},d.a.createElement("div",{className:"row mb-4 col-8"},d.a.createElement("h4",{className:"col-8"},"Form Data"),d.a.createElement("div",{className:"col-4 d-flex justify-content-end p-0"},d.a.createElement("label",{className:"switch"},d.a.createElement("input",{disabled:g?null:"disabled",type:"checkbox",checked:this.state.is_active_draft,onChange:function(t){return e.toggleEnable(t.target.checked)}}),d.a.createElement("span",{className:"slider round"},this.state.is_active_draft?"Enabled":"Disabled")))),u?d.a.createElement("div",{className:"mb-4 col-4 row ml-2 pr-0"},d.a.createElement("h4",{className:"col-8"},"Original Data"),d.a.createElement("div",{className:"col-4 d-flex justify-content-end p-0"},d.a.createElement("label",{className:"switch-2"},d.a.createElement("span",{className:"slider-2 round"},this.state.is_active?"Enabled":"Disabled")))):null),d.a.createElement("div",{id:"list-recipients",className:"row mb-3 col-12 pr-0"},d.a.createElement("div",{className:"col-8 row"},d.a.createElement("label",{className:"col-12 col-lg-12 col-xl-3"},"Recipients ",d.a.createElement("span",{className:"text-danger"},"*")),d.a.createElement("div",{className:"col-12 col-lg-12 col-xl-9 mx-3 mx-xl-0 px-0"},m?d.a.createElement("div",{className:"mb-3"},m):null,d.a.createElement("input",{disabled:g?null:"disabled",className:"input "+(this.state.error&&" has-error"),value:this.state.emailInputValue?this.state.emailInputValue:"",placeholder:"Type or paste email addresses and press `Enter`...",onKeyDown:this.handleKeyDown,onChange:this.handleChange,onPaste:this.handlePaste}),this.state.errorInputEmail&&d.a.createElement("p",{className:"error"},this.state.errorInputEmail)),this.validator.message("Recipients",this.state.listRecipient,"required|array")),u?d.a.createElement("div",{className:"row col-4 ml-1 pr-0"},d.a.createElement("label",{className:"col-4"},"Recipients"),p?d.a.createElement("div",{className:"mb-3 col-12"},p):null):null),d.a.createElement("div",{className:"row mb-3 col-12 pr-0 ".concat(this.state.subject_draft!==this.state.subject?"updated":null," ")},d.a.createElement("div",{className:"row col-8"},d.a.createElement("label",{className:"col-12 col-lg-12 col-xl-3"},"Subject ",d.a.createElement("span",{className:"text-danger"},"*")),d.a.createElement("input",{placeholder:"Please input subject",className:"col-12 col-lg-12 col-xl-9 mx-3 mx-xl-0 form-input",disabled:g?null:"disabled",type:"text",id:"name",value:this.state.subject_draft?this.state.subject_draft:"",onChange:function(t){return e.setState({subject_draft:t.target.value})},onBlur:function(){return e.validator.showMessageFor("subject")}}),this.validator.message("subject",this.state.subject_draft,"required")),u?d.a.createElement("div",{className:"row col-4 ml-2 pr-0"},d.a.createElement("label",{className:"col-12 col-lg-12 col-xl-4"},"Subject"),d.a.createElement("div",{className:"col-12 col-lg-12 col-xl-8 p-xl-0"},void 0!==this.state.subject?this.state.subject:null)):null),d.a.createElement("div",{className:"row mb-3 col-12 mb-5 pr-0"},d.a.createElement("div",{className:"row col-8 mb-3"},d.a.createElement("label",{className:"col-12 col-lg-12 col-xl-3"},"Content ",d.a.createElement("span",{className:"text-danger"},"*")),d.a.createElement("div",{className:"TextEditor border-editor col-12 col-lg-12 col-xl-9 mx-3 mx-xl-0 p-0"},d.a.createElement(E.a,{disabled:!g,editor:k.a,data:this.state.content_draft?this.state.content_draft:"",onInit:function(e){e.ui.getEditableElement().parentElement.insertBefore(e.ui.view.toolbar.element,e.ui.getEditableElement())},config:{toolbar:["heading","fontFamily","|","bold","italic","underline","|","alignment","|","fontSize","|","highlight","|","link","|","bulletedList","numberedList","|","undo","redo"]},onChange:function(t,a){var n=a.getData();e.setState({content_draft:n})},onBlur:function(t){e.validator.showMessageFor("content")},onFocus:function(e){}})),this.validator.message("content",this.state.content_draft,"required")),u?d.a.createElement("div",{className:"row col-4 ml-2 pr-0"},d.a.createElement("label",{className:"col-12 col-lg-12 col-xl-4"},"Content"),d.a.createElement("div",{id:"original-content",className:"col-12 col-lg-12 col-xl-8 p-xl-0",dangerouslySetInnerHTML:{__html:void 0!==this.state.content?this.state.content:null}})):null,d.a.createElement("div",{className:"row col-8"},d.a.createElement("div",{className:"col-12 col-lg-12 col-xl-3"}),d.a.createElement("div",{className:"col-12 col-lg-12 col-xl-9 mx-3 mx-xl-0 p-0 mt-3"},d.a.createElement("h5",null,"List Tag"),d.a.createElement("div",null,d.a.createElement("ul",{className:"list-tag"},v)))),d.a.createElement("div",{className:"row col-6"},d.a.createElement("div",{className:"col-12 col-lg-12 col-xl-4"}),d.a.createElement("div",{className:"col-12 col-lg-12 col-xl-8 p-xl-0"}))),u&&this.state.status?d.a.createElement("div",{className:"row mb-3 col-12 pr-0"},d.a.createElement("label",{className:"col-12 col-lg-12 col-xl-3"},"Current Data Status"),d.a.createElement("div",{className:"col-12 col-lg-12 col-xl-9 pl-xl-0"},this.state.status)):null,u&&this.state.updated_by?d.a.createElement("div",{className:"row mb-3 col-12 pr-0"},d.a.createElement("label",{className:"col-12 col-lg-12 col-xl-3"},"Last Updated By"),d.a.createElement("div",{className:"col-12 col-lg-12 col-xl-9 pl-xl-0"},this.state.updated_by)):null,u&&o?d.a.createElement("div",{className:"row mb-3 col-12 pr-0"},d.a.createElement("label",{className:"col-12 col-lg-12 col-xl-3"},"Remarks"),d.a.createElement("div",{className:"col-12 col-lg-12 col-xl-9 pl-xl-0"},this.state.remarks)):null),d.a.createElement("div",{className:"d-flex row justify-content-end mt-5 mb-2"},a&&n?d.a.createElement("div",{className:"row col-12 my-1 justify-content-end"},d.a.createElement("button",{className:"button-red mr-2",onClick:function(){return window.location.reload()}},"Cancel"),d.a.createElement("button",{className:"button-red mr-2",onClick:this.onSubmitAndSave.bind(this)},"Save And Submit Email Config")):null,s&&i?d.a.createElement("div",{className:"row col-12 my-1 justify-content-end"},d.a.createElement("button",{className:"button-red mr-2",onClick:function(){return e.handleOpenModal("reject-data")}},"Reject"),d.a.createElement("button",{className:"button-green mr-2",onClick:function(){return e.handleOpenModal("approve-data")}},"Approve")):null,s&&c?d.a.createElement("div",null,d.a.createElement("button",{className:"button-red mr-2",onClick:function(){return e.handleOpenModal("reject-delete")}},"Reject Delete"),d.a.createElement("button",{className:"button-green",onClick:function(){return e.handleOpenModal("approve-delete")}},"Approve Delete")):null)),d.a.createElement(h.a,{closeTimeoutMS:300,isOpen:this.state.showModal,contentLabel:"onRequestClose Example",onRequestClose:this.handleCloseModal,className:"Modal ".concat("pdfReader"===this.state.modalName?"pdf-reader-modal":null),overlayClassName:"Overlay"},"approve-delete"===this.state.modalName?d.a.createElement("div",null,d.a.createElement("div",{className:"row mx-0 justify-content-center"},d.a.createElement("h4",null,"Are You Sure To Approve Delete This Data ?")),d.a.createElement("div",{className:"d-flex justify-content-center mx-2 mt-5"},d.a.createElement("button",{className:"button-red mr-5",onClick:this.handleCloseModal},"Cancel"),d.a.createElement("button",{className:"button-red",onClick:this.onApproveDelete.bind(this)},"Approve"))):null,"reject-delete"===this.state.modalName?d.a.createElement("div",null,d.a.createElement("div",{className:"row mx-0 justify-content-center"},d.a.createElement("h4",{className:"mb-4"},"Please fill Remark to data Maker !"),d.a.createElement("textarea",{className:"col-10 form-input",type:"text",onChange:function(t){return e.setState({remarks:t.target.value})},value:this.state.remarks||"",onBlur:function(){return e.validator.showMessageFor("remarks")}}),this.validator.message("remarks",this.state.remarks,"required")),d.a.createElement("div",{className:"d-flex justify-content-center mx-2 mt-5"},d.a.createElement("button",{className:"button-red mr-5",onClick:this.handleCloseModal},"Close"),d.a.createElement("button",{className:"button-red",onClick:this.onRejectDelete.bind(this)},"Reject Delete"))):null,"approve-data"===this.state.modalName?d.a.createElement("div",null,d.a.createElement("div",{className:"row mx-0 justify-content-center"},d.a.createElement("h4",null,"Are You Sure To Approve This Data ?")),d.a.createElement("div",{className:"d-flex justify-content-center mx-2 mt-5"},d.a.createElement("button",{className:"button-red mr-5",onClick:this.handleCloseModal},"Cancel"),d.a.createElement("button",{className:"button-red",onClick:this.onSubmitApprove.bind(this)},"Approve"))):null,"reject-data"===this.state.modalName?d.a.createElement("div",null,d.a.createElement("div",{className:"row mx-0 justify-content-center"},d.a.createElement("h4",{className:"mb-4"},"Please fill Remark to data Maker !"),this.state.error?d.a.createElement("div",{className:"col-12 ".concat(this.state.alertState),role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.errorMessage):null,d.a.createElement("textarea",{className:"col-12 form-input",type:"text",onChange:function(t){return e.setState({remarks:t.target.value})},value:this.state.remarks||"",placeholder:"Remarks",onBlur:function(){return e.validator.showMessageFor("remarks")}}),this.validator.message("remarks",this.state.remarks,"required")),d.a.createElement("div",{className:"d-flex justify-content-center mx-2 mt-4"},d.a.createElement("button",{className:"button-red mr-5",onClick:this.handleCloseModal},"Cancel"),d.a.createElement("button",{className:"button-red",onClick:this.onSubmitReject.bind(this)},"Reject"))):null),this.state.loading?d.a.createElement("div",{className:"loading-overlay"},d.a.createElement("div",{className:"loader"})):null)}}]),a}(u.Component),C=(a(28),a(664),function(e){Object(o.a)(a,e);var t=Object(c.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={isSuccess:!1,message:"",token:localStorage.getItem("accessToken"),htmlContent:"",emailType:"",titleMailPage:"",loading:!1,roleName:localStorage.getItem("roleName"),isSadmin:!1},e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.setState({isSadmin:"SADMINOCTOBENCH"===this.state.roleName});var e=this.props.location.state.data;this.setState(e),e||this.props.history.push("rmwb-email-config")}},{key:"approve",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),a=[],n=new f.a,t.status="approved",e.next=6,n.approveEmailConfig(t);case 6:(a=e.sent)&&200===a.status?(this.setState({isSuccess:!0,message:"Data Saved",alertState:"alert alert-success"}),this.props.history.push("/rmwb-email-config",this.state),this.setState({loading:!1})):a&&a.data&&a.data.message?(this.setState({isSuccess:!1,message:a.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Save data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"submit",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({loading:!0}),a=[],n=new f.a,!t.submitOnly){e.next=10;break}return t.status="drafted",e.next=7,n.updateEmailConfig(t);case 7:a=e.sent,e.next=62;break;case 10:if(!t.submitAndSave){e.next=29;break}if(!this.state.isSadmin){e.next=23;break}if(!window.confirm("Are you sure to submit and approve this data ?")){e.next=19;break}return t.status="submitted",e.next=16,n.updateEmailConfig(t);case 16:a=e.sent,e.next=21;break;case 19:return this.setState({loading:!1}),e.abrupt("return",!1);case 21:e.next=27;break;case 23:return t.status="submitted",e.next=26,n.updateEmailConfig(t);case 26:a=e.sent;case 27:e.next=62;break;case 29:if(!t.submitApprove){e.next=36;break}return t.status="approved",e.next=33,n.approveEmailConfig(t);case 33:a=e.sent,e.next=62;break;case 36:if(!t.submitReject){e.next=43;break}return t.status="rejected",e.next=40,n.rejectEmailConfig(t);case 40:a=e.sent,e.next=62;break;case 43:if(!t.rejectDelete){e.next=50;break}return t.status="rejected",e.next=47,n.rejectEmailConfig(t);case 47:a=e.sent,e.next=62;break;case 50:if(!t.approveDelete){e.next=57;break}return t.status="deleted",e.next=54,n.approveEmailConfig(t);case 54:a=e.sent,e.next=62;break;case 57:if(!t.cancelSubmit){e.next=62;break}return t.status="drafted",e.next=61,n.rejectEmailConfig(t);case 61:a=e.sent;case 62:if(!a||200!==a.status){e.next=73;break}if(!this.state.isSadmin){e.next=68;break}return e.next=66,this.approve(t);case 66:e.next=71;break;case 68:this.setState({isSuccess:!0,message:"Data Saved",alertState:"alert alert-success"}),this.props.history.push("/rmwb-email-config",this.state),this.setState({loading:!1});case 71:e.next=74;break;case 73:a&&a.data&&a.data.message?(this.setState({isSuccess:!1,message:a.data.message,alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0)):(this.setState({isSuccess:!1,message:"Save data failed, Please try again!",alertState:"alert alert-danger"}),this.setState({loading:!1}),window.scrollTo(0,0));case 74:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.location.state.data;return d.a.createElement("div",{id:"EditConfigEmail",className:"default-rmwb-wrapper"},d.a.createElement("div",{className:this.state.alertState,role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message),d.a.createElement("div",{className:"row mb-3"},d.a.createElement("div",{className:"col-6"},d.a.createElement("h3",null,""===e.status?"Add Config":"Edit Config"," ",e.type_value))),d.a.createElement(N,{mode:"edit",data:e,history:this.props.history,onSubmit:this.submit.bind(this),onSubmitAndSave:this.submit.bind(this)}),this.state.loading?d.a.createElement("div",{className:"loading-overlay"},d.a.createElement("div",{className:"loader"})):null)}}]),a}(u.Component))},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return I}));var n=a(1),s=a.n(n),r=a(2),l=a(43),i=a(4),o=a(3),c=a(6),u=a(5),d=a(0),m=a.n(d),p=(a(237),a(8)),h=(a(1546),a(10)),f=a.n(h),g=a(61),v=a.n(g),b=a(93),y=a(100),S=a(99),E=a.n(S),w=(a(16),a(48)),k=function(e){var t=[],a=[],n=[],s=[];try{t=f()(e,"data.oldData.branchCode",""),(t=JSON.parse(t)).map((function(e){n.push(" || "+e.code+" - "+e.name)}))}catch(r){}try{a=f()(e,"data.newData.branchCode",""),(a=JSON.parse(a)).map((function(e){s.push(" || "+e.code+" - "+e.name)}))}catch(r){}return{oldData:{code:{label:"Company Code",value:f()(e,"data.oldData.code","")},name:{label:"Company Name",value:f()(e,"data.oldData.name","")},sectorCode:{label:"Industry Type",value:f()(e,"data.oldData.sectorCode","")},address:{label:"Address",value:f()(e,"data.oldData.address","")},provinceCode:{label:"Province Code",value:f()(e,"data.oldData.provinceCode","")},regencyCode:{label:"Regency Code",value:f()(e,"data.oldData.regencyCode","")},districtCode:{label:"District Code",value:f()(e,"data.oldData.districtCode","")},villageCode:{label:"Village Code",value:f()(e,"data.oldData.villageCode","")},rt:{label:"RT",value:f()(e,"data.oldData.rt","")},rw:{label:"RW",value:f()(e,"data.oldData.rw","")},postalCode:{label:"Postal Code",value:f()(e,"data.oldData.postalCode","")},branchCode:{label:"Branch Code",value:n},salesCode:{label:"Account Officer / Sales Code",value:f()(e,"data.oldData.salesCode","")},mrCode:{label:"Mr Code",value:f()(e,"data.oldData.mrCode","")},marketingProgramCode:{label:"Marketing Program Code",value:f()(e,"data.oldData.marketingProgramCode","")},eventId:{label:"Event Id",value:f()(e,"data.oldData.eventId","")},cardDelivery:{label:"Card Delivery",value:f()(e,"data.oldData.cardDelivery","")},statusCode:{label:"Status Code",value:f()(e,"data.oldData.statusCode","")},statusAkun:{label:"Status Akun",value:f()(e,"data.oldData.statusAkun","")}},newData:{code:{label:"Company Code",value:f()(e,"data.newData.code","")},name:{label:"Company Name",value:f()(e,"data.newData.name","")},sectorCode:{label:"Industry Type",value:f()(e,"data.newData.sectorCode","")},address:{label:"Address",value:f()(e,"data.newData.address","")},provinceCode:{label:"Province Code",value:f()(e,"data.newData.provinceCode","")},regencyCode:{label:"Regency Code",value:f()(e,"data.newData.regencyCode","")},districtCode:{label:"District Code",value:f()(e,"data.newData.districtCode","")},villageCode:{label:"Village Code",value:f()(e,"data.newData.villageCode","")},rt:{label:"RT",value:f()(e,"data.newData.rt","")},rw:{label:"RW",value:f()(e,"data.newData.rw","")},postalCode:{label:"Postal Code",value:f()(e,"data.newData.postalCode","")},branchCode:{label:"Branch Code",value:s},salesCode:{label:"Account Officer / Sales Code",value:f()(e,"data.newData.salesCode","")},mrCode:{label:"Mr Code",value:f()(e,"data.newData.mrCode","")},marketingProgramCode:{label:"Marketing Program Code",value:f()(e,"data.newData.marketingProgramCode","")},eventId:{label:"Event Id",value:f()(e,"data.newData.eventId","")},cardDelivery:{label:"Card Delivery",value:f()(e,"data.newData.cardDelivery","")},statusCode:{label:"Status Code",value:f()(e,"data.newData.statusCode","")},statusAkun:{label:"Status Akun",value:f()(e,"data.newData.statusAkun","")}}}},N=function(e){var t=f()(e,"data.oldData.nik",""),a=f()(e,"data.newData.nik",""),n=E()(t)?t:Object(y.a)(t),s=E()(a)?a:Object(y.a)(a),r=f()(e,"data.oldData.roleCode.0",""),l=f()(e,"data.oldData.roleCode.1",""),i=f()(e,"data.oldData.roleCode.2",""),o=f()(e,"data.newData.roleCode.0",""),c=f()(e,"data.newData.roleCode.1",""),u=f()(e,"data.newData.roleCode.2","");return{oldData:{companyCode:{label:"Company Code",value:e.data.oldData.companyCode},nik:{label:"NIK",value:n},email:{label:"Email",value:e.data.oldData.email},mobilePhone:{label:"No. Handphone",value:e.data.oldData.mobilePhone},dateOfBirth:{label:"Tanggal Lahir",value:e.data.oldData.dateOfBirth},fullName:{label:"Nama",value:e.data.oldData.fullName},statusEmployee:{label:"Status Karyawan",value:e.data.oldData.statusEmployee},statusAkun:{label:"Status Akun",value:e.data.oldData.statusAkun},roleCode:{label:"Role Code",value:r},roleCode2:{label:"",value:l},roleCode3:{label:"",value:i}},newData:{companyCode:{label:"Company Code",value:e.data.newData.companyCode},nik:{label:"NIK",value:s},email:{label:"Email",value:e.data.newData.email},mobilePhone:{label:"No. Handphone",value:e.data.newData.mobilePhone},dateOfBirth:{label:"Tanggal Lahir",value:e.data.newData.dateOfBirth},fullName:{label:"Nama",value:e.data.newData.fullName},statusEmployee:{label:"Status Karyawan",value:e.data.newData.statusEmployee},statusAkun:{label:"Status Akun",value:e.data.newData.statusAkun},roleCode:{label:"Role Code",value:o},roleCode2:{label:"",value:c},roleCode3:{label:"",value:u}}}},C=function(e){var t=f()(e,"data.oldData.nik",""),a=f()(e,"data.newData.nik",""),n=E()(t)?t:Object(y.a)(t),s=E()(a)?a:Object(y.a)(a);return{oldData:{companyCode:{label:"Company Code",value:e.data.oldData.companyCode},nik:{label:"NIK",value:n},email:{label:"Email",value:e.data.oldData.email},mobilePhone:{label:"No. Handphone",value:e.data.oldData.mobilePhone},dateOfBirth:{label:"Tanggal Lahir",value:e.data.oldData.dateOfBirth},fullName:{label:"Nama",value:e.data.oldData.fullName},statusEmployee:{label:"Status Karyawan",value:e.data.oldData.statusEmployee},statusAkun:{label:"Status Akun",value:e.data.oldData.statusAkun}},newData:{companyCode:{label:"Company Code",value:e.data.newData.companyCode},nik:{label:"NIK",value:s},email:{label:"Email",value:e.data.newData.email},mobilePhone:{label:"No. Handphone",value:e.data.newData.mobilePhone},dateOfBirth:{label:"Tanggal Lahir",value:e.data.newData.dateOfBirth},fullName:{label:"Nama",value:e.data.newData.fullName},statusEmployee:{label:"Status Karyawan",value:e.data.newData.statusEmployee},statusAkun:{label:"Status Akun",value:e.data.newData.statusAkun}}}},A=function(e,t,a,n){return t===w.a.SA?a.filter((function(t){return t.code===e})):t===w.a.PR?n.filter((function(t){return t.code===e})):void 0},x=function(e,t,a){var n=e.data.oldData.productVerifications,s=e.data.newData.productVerifications,r={},i={},o={},c={};v()(n,(function(e,t){o={};var a=e.applicationTypeCode;v()(e,(function(e,t){o=Object(b.a)({},"".concat(a),Object(l.a)(Object(l.a)({},o["".concat(a)]),{},Object(b.a)({},"".concat(t),e)))})),r=Object(l.a)(Object(l.a)({},r),o)})),v()(s,(function(e,t){c={};var a=e.applicationTypeCode;v()(e,(function(e,t){c=Object(b.a)({},"".concat(a),Object(l.a)(Object(l.a)({},c["".concat(a)]),{},Object(b.a)({},"".concat(t),e)))})),i=Object(l.a)(Object(l.a)({},i),c)}));var u="",d="",m="",p="",h=r.SA.productCodes,f=i.SA.productCodes,g=r.PR.productCodes,y=i.PR.productCodes;return v()(h,(function(e,n){var s=A(e,w.a.SA,t,a);s.length>0&&(u=u+s[0].name+", ")})),u=u.slice(0,u.length-2),v()(f,(function(e,n){var s=A(e,w.a.SA,t,a);s.length>0&&(d=d+s[0].name+", ")})),d=d.slice(0,d.length-2),v()(g,(function(e,n){var s=A(e,w.a.PR,t,a);s.length>0&&(m=m+s[0].name+", ")})),m=m.slice(0,m.length-2),v()(y,(function(e,n){var s=A(e,w.a.PR,t,a);s.length>0&&(p=p+s[0].name+", ")})),p=p.slice(0,p.length-2),{oldData:{companyId:{label:"Company",value:e.data.oldData.companyCode+" - "+e.data.oldData.companyName},enableInputEmployeeApprover:{label:"Employee Bulk Upload / Input",value:e.data.oldData.enableInputEmployeeApprover?"Yes":"No"},enableEmployeeDbApprover:{label:"Employee Status Update",value:e.data.oldData.enableEmployeeDbApprover?"Yes":"No"},divider1:{label:"",value:"_____________________________"},applicationTypeSA:{label:"Application Type",value:r.SA.applicationTypeCode},allowToApplySA:{label:"Able to Apply",value:r.SA.allowToApply?"Yes":"No"},ableToApplyNtbSA:{label:"Can Apply NTB",value:r.SA.ableToApplyNtb?"Yes":"No"},ableToApplyEtbSA:{label:"Can Apply ETB",value:r.SA.ableToApplyEtb?"Yes":"No"},enableHRReviewerNtbSA:{label:"Require Maker NTB",value:r.SA.enableHRReviewerNtb?"Yes":"No"},enableHRReviewerEtbSA:{label:"Require Maker ETB",value:r.SA.enableHRReviewerEtb?"Yes":"No"},enableHRApproverNtbSA:{label:"Require Checker NTB",value:r.SA.enableHRApproverNtb?"Yes":"No"},enableHRApproverEtbSA:{label:"Require Checker ETB",value:r.SA.enableHRApproverEtb?"Yes":"No"},productListSA:{label:"Product List",value:u},divider2:{label:"",value:"_____________________________"},applicationTypePR:{label:"Application Type",value:r.PR.applicationTypeCode},allowToApplyPR:{label:"Able to Apply",value:r.PR.allowToApply?"Yes":"No"},ableToApplyNtbPR:{label:"Can Apply NTB",value:r.PR.ableToApplyNtb?"Yes":"No"},ableToApplyEtbPR:{label:"Can Apply ETB",value:r.PR.ableToApplyEtb?"Yes":"No"},enableHRReviewerNtbPR:{label:"Require Maker NTB",value:r.PR.enableHRReviewerNtb?"Yes":"No"},enableHRReviewerEtbPR:{label:"Require Maker ETB",value:r.PR.enableHRReviewerEtb?"Yes":"No"},enableHRApproverNtbPR:{label:"Require Checker NTB",value:r.PR.enableHRApproverNtb?"Yes":"No"},enableHRApproverEtbPR:{label:"Require Checker ETB",value:r.PR.enableHRApproverEtb?"Yes":"No"},enableHRApproverPR:{label:"Checker",value:r.PR.enableHRApprover?"Yes":"No"},productListPR:{label:"Product List",value:m}},newData:{companyId:{label:"Company",value:e.data.newData.companyCode+" - "+e.data.newData.companyName},enableInputEmployeeApprover:{label:"Employee Bulk Upload / Input",value:e.data.newData.enableInputEmployeeApprover?"Yes":"No"},enableEmployeeDbApprover:{label:"Employee Status Update",value:e.data.newData.enableEmployeeDbApprover?"Yes":"No"},divider1:{label:"",value:"_____________________________"},applicationTypeSA:{label:"Application Type",value:i.SA.applicationTypeCode},allowToApplySA:{label:"Able to Apply",value:i.SA.allowToApply?"Yes":"No"},ableToApplyNtbSA:{label:"Can Apply NTB",value:i.SA.ableToApplyNtb?"Yes":"No"},ableToApplyEtbSA:{label:"Can Apply ETB",value:i.SA.ableToApplyEtb?"Yes":"No"},enableHRReviewerNtbSA:{label:"Require Maker NTB",value:i.SA.enableHRReviewerNtb?"Yes":"No"},enableHRReviewerEtbSA:{label:"Require Maker ETB",value:i.SA.enableHRReviewerEtb?"Yes":"No"},enableHRApproverNtbSA:{label:"Require Checker NTB",value:i.SA.enableHRApproverNtb?"Yes":"No"},enableHRApproverEtbSA:{label:"Require Checker ETB",value:i.SA.enableHRApproverEtb?"Yes":"No"},productListSA:{label:"Product List",value:d},divider2:{label:"",value:"_____________________________"},applicationTypePR:{label:"Application Type",value:i.PR.applicationTypeCode},allowToApplyPR:{label:"Able to Apply",value:i.PR.allowToApply?"Yes":"No"},ableToApplyNtbPR:{label:"Can Apply NTB",value:i.PR.ableToApplyNtb?"Yes":"No"},ableToApplyEtbPR:{label:"Can Apply ETB",value:i.PR.ableToApplyEtb?"Yes":"No"},enableHRReviewerNtbPR:{label:"Require Maker NTB",value:i.PR.enableHRReviewerNtb?"Yes":"No"},enableHRReviewerEtbPR:{label:"Require Maker ETB",value:i.PR.enableHRReviewerEtb?"Yes":"No"},enableHRApproverNtbPR:{label:"Require Checker NTB",value:i.PR.enableHRApproverNtb?"Yes":"No"},enableHRApproverEtbPR:{label:"Require Checker ETB",value:i.PR.enableHRApproverEtb?"Yes":"No"},productListPR:{label:"Product List",value:p}}}},O=function(e){var t=j(e.data.oldData.startDate),a=j(e.data.oldData.endDate),n=j(e.data.newData.startDate),s=j(e.data.newData.endDate),r="",l="",i=e.data.oldData.companies,o=e.data.newData.companies;return v()(i,(function(e,t){r=r+i[t].name+", "})),r=r.slice(0,r.length-2),v()(o,(function(e,t){l=l+o[t].name+", "})),l=l.slice(0,l.length-2),{oldData:{code:{label:"Promo Code",value:e.data.oldData.code},categoryId:{label:"Promo Category Id",value:e.data.oldData.categoryId},categoryName:{label:"Promo Category Name",value:e.data.oldData.categoryName},title:{label:"Title",value:e.data.oldData.title},description:{label:"Description",value:e.data.oldData.description},startDate:{label:"Start Date",value:t},endDate:{label:"End Date",value:a},image:{label:"Photo",value:e.data.oldData.image},content:{label:"Content",value:e.data.oldData.content},companies:{label:"Company",value:r}},newData:{code:{label:"Promo Code",value:e.data.newData.code},categoryId:{label:"Promo Category Id",value:e.data.newData.categoryId},categoryName:{label:"Promo Category Name",value:e.data.newData.categoryName},title:{label:"Title",value:e.data.newData.title},description:{label:"Description",value:e.data.newData.description},startDate:{label:"Start Date",value:n},endDate:{label:"End Date",value:s},image:{label:"Photo",value:e.data.newData.image},content:{label:"Content",value:e.data.newData.content},companies:{label:"Company",value:l}}}},j=function(e){return JSON.stringify(e).slice(1,11)},P=a(42),_=a(377),D=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.title,n=e.updatedData,s="EMPLOYER"===f()(t,"entity",""),r="PROMOTION"===f()(t,"entity",""),l="PROMOTION_CATEGORY"===f()(t,"entity",""),i="EMPLOYEE"===f()(t,"entity",""),o=f()(n,"oldData",{}),c=f()(n,"newData",{}),u=[],d=[],p=f()(n,"newData.companyCode.value","");return v()(o,(function(e,t){v()(c,(function(a,n){t===n&&(u.push(e),d.push(a))}))})),m.a.createElement("div",{style:{backgroundColor:"white",padding:30}},m.a.createElement("h4",null,a),m.a.createElement("hr",null),s||i?m.a.createElement("div",null,m.a.createElement("div",{style:{marginTop:30}},d.map((function(e){return m.a.createElement("div",{className:"py-1"},m.a.createElement("div",{style:{height:"auto"}},m.a.createElement("div",{style:{fontWeight:"bold"}},e.label),m.a.createElement("div",null,e.value)))})))):m.a.createElement("div",null,r||l||i?m.a.createElement("div",null):m.a.createElement("div",null,m.a.createElement("h5",null,"Company Identity"),m.a.createElement("div",{style:{fontWeight:"bold"}},"Company Code"),m.a.createElement("div",null,p)),m.a.createElement("div",{style:{marginTop:30}},r||l||i?m.a.createElement("div",null):m.a.createElement("h5",null,"Provide Access"),d.map((function(e){var t="Company Code"===e.label;return m.a.createElement("div",{className:"py-1"},t?null:m.a.createElement("div",{style:{height:"auto",wordWrap:"anywhere"}},m.a.createElement("div",{style:{fontWeight:"bold"}},e.label),m.a.createElement("div",null,e.value)))})))))}}]),a}(d.Component),T=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=(e.data,e.title),a=e.updatedData,n=f()(a,"oldData",{}),s=f()(a,"newData",{}),r=[],i=[];return v()(n,(function(e,t){v()(s,(function(a,n){t===n&&(e.value!==a.value?(r.push(Object(l.a)(Object(l.a)({},e),{},{color:"cyan"})),i.push(Object(l.a)(Object(l.a)({},a),{},{color:"cyan"}))):(r.push(Object(l.a)(Object(l.a)({},e),{},{color:""})),i.push(Object(l.a)(Object(l.a)({},a),{},{color:""}))))}))})),m.a.createElement("div",{style:{backgroundColor:"white",padding:30}},m.a.createElement("h4",null,t),m.a.createElement("hr",null),m.a.createElement("div",{className:"row"},m.a.createElement("div",{className:"col"},m.a.createElement("div",{style:{fontWeight:"bold"}},"Old Data"),r.map((function(e){return m.a.createElement("div",{className:"py-1"},m.a.createElement("div",{style:{height:"auto",wordWrap:"anywhere"}},m.a.createElement("div",{style:{fontWeight:"bold"}},e.label),m.a.createElement("div",{style:{backgroundColor:e.color}},e.value)))}))),m.a.createElement("div",{className:"col"},m.a.createElement("div",{style:{fontWeight:"bold"}},"New Data"),i.map((function(e){return m.a.createElement("div",{className:"py-1"},m.a.createElement("div",{style:{height:"auto",wordWrap:"anywhere"}},m.a.createElement("div",{style:{fontWeight:"bold"}},e.label),m.a.createElement("div",{style:{backgroundColor:e.color}},e.value)))})))))}}]),a}(d.Component),I=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).state={isSuccess:!1,message:"",token:localStorage.getItem("accessToken"),created:!1,updated:!1,deleted:!1,bulk:!1,updatedData:{},savingAccountProductList:[],payrollccountProductList:[]},e}return Object(o.a)(a,[{key:"componentWillMount",value:function(){this.getUpdatedData()}},{key:"getUpdatedData",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i,o,c,u,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.location.state.data,a="EMPLOYER"===f()(t,"entity",""),n="EMPLOYEE_HR"===f()(t,"entity",""),r="PROMOTION"===f()(t,"entity",""),l="PROMOTION_CATEGORY"===f()(t,"entity",""),i="EMPLOYEE"===f()(t,"entity",""),a||n||r||l||i||(this.getMasterProductType(w.a.SA),this.getMasterProductType(w.a.PR)),o=new P.a,e.next=10,o.getTaskDetail(t);case 10:c=e.sent,u=f()(c,"data",{}),d=a?k(u):n?N(u):r?O(u):l?{oldData:{code:{label:"Promo Category Code",value:(s=u).data.oldData.code},description:{label:"Description",value:s.data.oldData.description},name:{label:"Name",value:s.data.oldData.name},priority:{label:"Priority",value:s.data.oldData.priority},shortName:{label:"Short Name",value:s.data.oldData.shortName},statusCode:{label:"Status Code",value:s.data.oldData.statusCode},statusState:{label:"Status State",value:s.data.oldData.statusState}},newData:{code:{label:"Promo Category Code",value:s.data.newData.code},description:{label:"Description",value:s.data.newData.description},name:{label:"Name",value:s.data.newData.name},priority:{label:"Priority",value:s.data.newData.priority},shortName:{label:"Short Name",value:s.data.newData.shortName},statusCode:{label:"Status Code",value:s.data.newData.statusCode},statusState:{label:"Status State",value:s.data.newData.statusState}}}:i?C(u):x(u,this.state.savingAccountProductList,this.state.payrollccountProductList),this.setState({updatedData:d}),c&&c.data&&p.a===c.data.data&&alert("Fetch Data error, please relogin.");case 15:case"end":return e.stop()}var s}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getMasterProductType",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new _.a,e.next=3,a.getListProductTypes(t);case 3:(n=e.sent).data.success?t===w.a.SA?this.setState({savingAccountProductList:n.data.data}):t===w.a.PR&&this.setState({payrollccountProductList:n.data.data}):n&&n.data&&p.a===n.data.data?(alert("Failed Fetch Data, please relogin."),localStorage.clear(),this.props.history.push("login")):(this.setState({companyList:[]}),window.scrollTo(0,0));case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"approveData",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.location.state.data,a=new P.a,e.next=4,a.approveTask(t);case 4:(n=e.sent)&&(n.data.success?(this.setState({isSuccess:!0,message:n.data.message}),this.props.history.push("list-approval",this.state)):n&&n.data&&p.a===n.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0)));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"rejectData",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.location.state.data,a=new P.a,e.next=4,a.rejectTask(t);case 4:(n=e.sent)&&(n.data.success?(this.setState({isSuccess:!0,message:n.data.message}),this.props.history.push("list-approval",this.state)):n&&n.data&&p.a===n.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):(this.setState({isSuccess:!1,message:n.data.message,alertState:"alert alert-danger"}),window.scrollTo(0,0)));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cancel",value:function(){this.props.history.push("list-approval")}},{key:"render",value:function(){var e=this,t=this.props.location.state.data,a=this.state.updatedData,n="ADD_DATA"===f()(t,"activity","")||"BULK_DATA_EMPLOYEE_HR"===f()(t,"activity","")||"NONACTIVE_EMPLOYEE"===f()(t,"activity",""),s="EDIT_DATA"===f()(t,"activity","")||"EDIT_STATUS"===f()(t,"activity",""),r="REJECTED"===f()(t,"needAction","");return m.a.createElement("div",{id:"ListApprovalDetail"},this.state.message?m.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.state.message):null,m.a.createElement("h3",null,"Task Approval Detail"),r?m.a.createElement("div",{id:"buttonApproval"},m.a.createElement("button",{type:"Button",alt:"Cancel",value:"Cancel",onClick:function(){return e.cancel()}},"Cancel")):m.a.createElement("div",{id:"buttonApproval"},m.a.createElement("button",{type:"Button",alt:"Approve",value:"Approve",onClick:function(){return e.approveData()}},"Approve"),"\xa0\xa0",m.a.createElement("button",{type:"Button",alt:"Reject",value:"Reject",onClick:function(){return e.rejectData()}},"Reject"),"\xa0\xa0",m.a.createElement("button",{type:"Button",alt:"Cancel",value:"Cancel",onClick:function(){return e.cancel()}},"Cancel")),m.a.createElement("div",{style:{width:"100%"}},n?m.a.createElement(D,{title:r?"Data":"New Data",data:t,updatedData:a}):s?m.a.createElement(T,{title:"Updated Data",data:t,updatedData:a}):null))}}]),a}(d.Component)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return x}));var n=a(1),s=a.n(n),r=a(2),l=a(4),i=a(3),o=a(9),c=a(6),u=a(5),d=a(0),m=a.n(d),p=(a(15),a(27)),h=(a(73),a(19)),f=a.n(h),g=(a(18),a(23)),v=(a(191),a(21),a(7)),b=a.n(v),y=a(11),S=a(10),E=a.n(S),w=function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,[{key:"findErwlListByParam",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a,n){var r,l,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0!==a&&""!==a||(a=0),void 0!==n&&""!==n||(n=10),r={"Content-Type":"application/json",token:t.token},E()(t,"fromDateFind",""),E()(t,"toDateFind",""),l=JSON.stringify({dateFrom:t.fromDateFind,dateTo:t.toDateFind,masterForm:"ONBOARD_SME_LENDING_WATCHLIST-RMTOOLS-001",version:"ONBOARD_SME_LENDING_WATCHLIST-RMTOOLS-001"}),e.prev=6,e.next=9,b.a.post(y.b+"/report/erwl/consolidate",l,{headers:r});case 9:return i=e.sent,e.abrupt("return",i);case 13:return e.prev=13,e.t0=e.catch(6),e.abrupt("return",e.t0.response);case 16:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"getListReport",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={"Content-Type":"application/json",token:t.token},e.prev=1,e.next=4,b.a.get(y.b+"/restricted/admin/report/list?name="+t.nameFind,{headers:a},{params:{}});case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"downloadReport",value:function(){var e=Object(r.a)(s.a.mark((function e(t,a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={token:a},e.prev=1,e.next=4,b.a.get(y.b+"/report/erwl/download/consolidate?fileName="+t,{headers:n},{params:{fileName:t}});case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0.response);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"downloadReportConsolidate",value:function(e){return y.b+"/report/erwl/download/consolidate?fileName="+e}}]),e}(),k=(a(45),a(8)),N=a(16),C=a.n(N),A=a(145),x=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).state={userPrivilege:[],list:[],loading:!0,token:localStorage.getItem("accessToken"),nameFind:"",refNumFind:"",fromDateFind:"",toDateFind:"",fileName:"",dateCreated:""},e.reset=e.reset.bind(Object(o.a)(e)),window.scrollTo(0,0),e}return Object(i.a)(n,[{key:"componentWillMount",value:function(){this.setState({userPrivilege:localStorage.getItem("userPrivilege")});var e=f.a.parse(this.props.location.search);this.setPage(+e.page||0,e.filter)}},{key:"componentDidUpdate",value:function(e){if(this.props.location.search!==e.location.search){var t=f.a.parse(this.props.location.search);this.setPage(+t.page||0,t.filter||null)}}},{key:"downloadReport2",value:function(){var e=Object(r.a)(s.a.mark((function e(t){var n,r,l,i,o,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.state,r=n.fileName,n.dateCreated,l=r,i=new w,e.next=5,i.downloadReport(l,this.state.token);case 5:200===(o=e.sent).status&&(c=a(190),b.a.get(o.config.url,{headers:{token:this.state.token}}).then((function(e){c(e.data,l)})));case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"downloadReport",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.state,a=t.fileName,t.dateCreated,n=new Date,String(n.getMonth()+1).padStart(2,"0")+String(n.getDate()).padStart(2,"0")+n.getFullYear(),r=new w,fetch(r.downloadReportConsolidate(a),{headers:{token:this.state.token}}).then((function(e){e.blob().then((function(e){window.navigator&&window.navigator.msSaveOrOpenBlob&&window.navigator.msSaveOrOpenBlob(e,"employee_data.xlsx");var t=window.URL.createObjectURL(e),n=document.createElement("a");n.href=t,n.download=a,document.body.appendChild(n),n.click(),setTimeout((function(){document.body.removeChild(n),window.URL.revokeObjectURL(t)}),100)}))}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPage",value:function(){var e=Object(r.a)(s.a.mark((function e(){var t,a,n,r,l,i,o,c=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:0,c.length>1&&void 0!==c[1]?c[1]:this.state.filter,a=c.length>2&&void 0!==c[2]?c[2]:10,n=new w,e.next=6,n.findErwlListByParam(this.state,t,a);case 6:r=e.sent,l=E()(r,"data.data",{}),i=E()(l,"fileName",""),o=E()(l,"dateCreateReport",""),r&&200===r.status&&r.data?this.setState({fileName:i,dateCreated:o}):r&&r.data&&k.a===r.data.data?(alert("Your Session has expired, please login again."),localStorage.clear(),this.props.history.push("login")):this.setState({error:!0,errorMessage:r&&r.data?r.data.message:r,loading:!1});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"search",value:function(){this.setState({loading:!0,search:!0}),this.setPage(0,"")}},{key:"reset",value:function(){var e=this;this.setState({loading:!0}),this.setState({fromDateFind:"",toDateFind:""},(function(){setTimeout((function(){e.setPage(0,"")}),1)}))}},{key:"render",value:function(){for(var e=this,t=this.state,n=t.fileName,s=t.dateCreated,r=JSON.parse(this.state.userPrivilege)||[],l=this.state.fromDateFind?C()(this.state.fromDateFind,"YYYY-MM-DDTHH:mm:ss").toDate():null,i=this.state.toDateFind?C()(this.state.toDateFind,"YYYY-MM-DDTHH:mm:ss").toDate():null,o=!0,c=0;c<r.length;c++)"download_rpt"===r[c].name+"_"+r[c].vgroup&&(o=!0);return m.a.createElement("div",{id:"ListProduct"},this.props.location.state&&this.props.location.state.isSuccess&&!this.state.search?m.a.createElement("div",{className:"alert alert-primary",role:"alert",style:{display:"flex",justifyContent:"center",alignItems:"center"}},this.props.location.state.message):null,m.a.createElement("h3",null,"Report ERWL Consolidate"),m.a.createElement("div",{id:"search-menu"},m.a.createElement("table",{style:{width:"50%"}},m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",null,m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-5"},"Dari Tanggal"),m.a.createElement("div",{className:"col-4 p-0"},m.a.createElement(p.a,{selected:l,onChange:function(t){return e.setState({fromDateFind:C()(t,"YYYY-MM-DDTHH:mm:ss",!0).format("YYYY-MM-DD")})},dateFormat:"yyyy-MM-dd"}))),m.a.createElement("div",{className:"row mb-2"},m.a.createElement("label",{className:"col-5"},"Sampai Tanggal"),m.a.createElement("div",{className:"col-4 p-0"},m.a.createElement(p.a,{selected:i,onChange:function(t){return e.setState({toDateFind:C()(t,"YYYY-MM-DDTHH:mm:ss",!0).format("YYYY-MM-DD")})},minDate:l,maxDate:Object(A.a)(l,90),dateFormat:"yyyy-MM-dd"}))))))),m.a.createElement("div",null,m.a.createElement("button",{type:"button",className:"btn btn-secondary btn-sm",onClick:this.search.bind(this)},"Search"),m.a.createElement("button",{type:"button",className:"reset-btn btn btn-secondary btn-sm",onClick:this.reset},"Reset"))),""===n?m.a.createElement("div",null):m.a.createElement(g.a,null,m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,"Report Name"),m.a.createElement("th",null,"Date Created"),o?m.a.createElement("th",null,"Actions"):null)),m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",null,n),m.a.createElement("td",null,s),o?m.a.createElement("td",null,m.a.createElement("input",{type:"image",alt:"Download",height:20,src:a(169),onClick:function(){return e.downloadReport()}})):null))))}}]),n}(d.Component)}],[[718,1,2]]]);
//# sourceMappingURL=main.5380563e.chunk.js.map